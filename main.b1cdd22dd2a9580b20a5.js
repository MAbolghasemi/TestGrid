(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},WZ4y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o,r=n("f7ga"),s=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.watermarkMessage=void 0,t}var n;return s(t,e),n=t,t.prototype.validateLicense=function(){if(r._.missingOrEmpty(n.licenseKey))this.outputMissingLicenseKey();else if(n.licenseKey.length>32){var e=n.extractLicenseComponents(n.licenseKey),t=e.license,i=e.version,o=e.isTrial;e.md5===this.md5.md5(t)?r._.exists(i)&&i?this.validateLicenseKeyForVersion(i,!!o,t):this.validateLegacyKey(t):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(n.decode(t),10))},t.extractLicenseComponents=function(e){var t=e.replace(/[\u200B-\u200D\uFEFF]/g,""),i=(t=t.replace(/\r?\n|\r/g,"")).length-32,o=t.substring(i),r=t.substring(0,i),s=n.extractBracketedInformation(t);return{md5:o,license:r,version:s[0],isTrial:s[1]}},t.prototype.getLicenseDetails=function(e){var t=n.extractLicenseComponents(e),i=t.license,o=t.version,r=t.isTrial,s=t.md5===this.md5.md5(i),a=null;return s&&(a=n.extractExpiry(i),s=!isNaN(a.getTime())),{licenseKey:e,valid:s,expiry:s?n.formatDate(a):null,version:o||"legacy",isTrial:r}},t.prototype.isDisplayWatermark=function(){return!r._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage},t.formatDate=function(e){var t=e.getDate(),n=e.getMonth(),i=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+i},t.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},t.decode=function(e){for(var t,i,o,r,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,h=e.replace(/[^A-Za-z0-9+/=]/g,"");c<h.length;)o=l.indexOf(h.charAt(c++)),t=(15&(r=l.indexOf(h.charAt(c++))))<<4|(s=l.indexOf(h.charAt(c++)))>>2,i=(3&s)<<6|(a=l.indexOf(h.charAt(c++))),u+=String.fromCharCode(o<<2|r>>4),64!=s&&(u+=String.fromCharCode(t)),64!=a&&(u+=String.fromCharCode(i));return n.utf8_decode(u)},t.utf8_decode=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},t.setLicenseKey=function(e){n.licenseKey=e},t.extractBracketedInformation=function(e){var t=e.split("[").filter(function(e){return e.indexOf("]")>-1}).map(function(e){return e.split("]")[0]});if(!t||0===t.length)return[null,null];var n=1===t.filter(function(e){return"TRIAL"===e}).length;return[t.filter(function(e){return 0===e.indexOf("v")}).map(function(e){return e.replace(/^v/,"")})[0],n]},t.prototype.validateLicenseKeyForVersion=function(e,t,n){switch(e){case"2":t?this.validateForTrial(n):this.validateLegacyKey(n)}},t.prototype.validateLegacyKey=function(e){var t=n.getGridReleaseDate(),i=n.extractExpiry(e),o=!1,r=!1;if(isNaN(i.getTime())||(o=!0,r=t<i),o){if(!r){var s=n.formatDate(i),a=n.formatDate(t);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var t=n.extractExpiry(e),i=new Date,o=!1,r=!1;if(isNaN(t.getTime())||(o=!0,r=t>i),o){if(!r){var s=n.formatDate(t);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for ag-Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(e){console.error("****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for ag-Grid Enterprise expired on "+e+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All ag-Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             ag-Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of ag-Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your ag-Grid License entitles you to all versions of ag-Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of ag-Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of ag-Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+e+", however the version of ag-Grid you    *"),console.error("* are trying to use was released on "+t+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of ag-Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTYwMjA3NjI1MjU3OA==",a([r.Autowired("md5")],t.prototype,"md5",void 0),a([r.PreConstruct],t.prototype,"validateLicense",null),n=a([r.Bean("licenseManager")],t)}(r.BeanStub),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ieCompatibility=!1,t}return u(t,e),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,t){var n=e[0],i=e[1],o=e[2],r=e[3];n=this.ff(n,i,o,r,t[0],7,-680876936),r=this.ff(r,n,i,o,t[1],12,-389564586),o=this.ff(o,r,n,i,t[2],17,606105819),i=this.ff(i,o,r,n,t[3],22,-1044525330),n=this.ff(n,i,o,r,t[4],7,-176418897),r=this.ff(r,n,i,o,t[5],12,1200080426),o=this.ff(o,r,n,i,t[6],17,-1473231341),i=this.ff(i,o,r,n,t[7],22,-45705983),n=this.ff(n,i,o,r,t[8],7,1770035416),r=this.ff(r,n,i,o,t[9],12,-1958414417),o=this.ff(o,r,n,i,t[10],17,-42063),i=this.ff(i,o,r,n,t[11],22,-1990404162),n=this.ff(n,i,o,r,t[12],7,1804603682),r=this.ff(r,n,i,o,t[13],12,-40341101),o=this.ff(o,r,n,i,t[14],17,-1502002290),i=this.ff(i,o,r,n,t[15],22,1236535329),n=this.gg(n,i,o,r,t[1],5,-165796510),r=this.gg(r,n,i,o,t[6],9,-1069501632),o=this.gg(o,r,n,i,t[11],14,643717713),i=this.gg(i,o,r,n,t[0],20,-373897302),n=this.gg(n,i,o,r,t[5],5,-701558691),r=this.gg(r,n,i,o,t[10],9,38016083),o=this.gg(o,r,n,i,t[15],14,-660478335),i=this.gg(i,o,r,n,t[4],20,-405537848),n=this.gg(n,i,o,r,t[9],5,568446438),r=this.gg(r,n,i,o,t[14],9,-1019803690),o=this.gg(o,r,n,i,t[3],14,-187363961),i=this.gg(i,o,r,n,t[8],20,1163531501),n=this.gg(n,i,o,r,t[13],5,-1444681467),r=this.gg(r,n,i,o,t[2],9,-51403784),o=this.gg(o,r,n,i,t[7],14,1735328473),i=this.gg(i,o,r,n,t[12],20,-1926607734),n=this.hh(n,i,o,r,t[5],4,-378558),r=this.hh(r,n,i,o,t[8],11,-2022574463),o=this.hh(o,r,n,i,t[11],16,1839030562),i=this.hh(i,o,r,n,t[14],23,-35309556),n=this.hh(n,i,o,r,t[1],4,-1530992060),r=this.hh(r,n,i,o,t[4],11,1272893353),o=this.hh(o,r,n,i,t[7],16,-155497632),i=this.hh(i,o,r,n,t[10],23,-1094730640),n=this.hh(n,i,o,r,t[13],4,681279174),r=this.hh(r,n,i,o,t[0],11,-358537222),o=this.hh(o,r,n,i,t[3],16,-722521979),i=this.hh(i,o,r,n,t[6],23,76029189),n=this.hh(n,i,o,r,t[9],4,-640364487),r=this.hh(r,n,i,o,t[12],11,-421815835),o=this.hh(o,r,n,i,t[15],16,530742520),i=this.hh(i,o,r,n,t[2],23,-995338651),n=this.ii(n,i,o,r,t[0],6,-198630844),r=this.ii(r,n,i,o,t[7],10,1126891415),o=this.ii(o,r,n,i,t[14],15,-1416354905),i=this.ii(i,o,r,n,t[5],21,-57434055),n=this.ii(n,i,o,r,t[12],6,1700485571),r=this.ii(r,n,i,o,t[3],10,-1894986606),o=this.ii(o,r,n,i,t[10],15,-1051523),i=this.ii(i,o,r,n,t[1],21,-2054922799),n=this.ii(n,i,o,r,t[8],6,1873313359),r=this.ii(r,n,i,o,t[15],10,-30611744),o=this.ii(o,r,n,i,t[6],15,-1560198380),i=this.ii(i,o,r,n,t[13],21,1309151649),n=this.ii(n,i,o,r,t[4],6,-145523070),r=this.ii(r,n,i,o,t[11],10,-1120210379),o=this.ii(o,r,n,i,t[2],15,718787259),i=this.ii(i,o,r,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(i,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(r,e[3])},t.prototype.cmn=function(e,t,n,i,o,r){return t=this.add32(this.add32(t,e),this.add32(i,r)),this.add32(t<<o|t>>>32-o,n)},t.prototype.ff=function(e,t,n,i,o,r,s){return this.cmn(t&n|~t&i,e,t,o,r,s)},t.prototype.gg=function(e,t,n,i,o,r,s){return this.cmn(t&i|n&~i,e,t,o,r,s)},t.prototype.hh=function(e,t,n,i,o,r,s){return this.cmn(t^n^i,e,t,o,r,s)},t.prototype.ii=function(e,t,n,i,o,r,s){return this.cmn(n^(t|~i),e,t,o,r,s)},t.prototype.md51=function(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)this.md5cycle(i,this.md5blk(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(this.md5cycle(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,this.md5cycle(i,o),i},t.prototype.md5blk=function(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t},t.prototype.rhex=function(e){for(var t="0123456789abcdef".split(""),n="",i=0;i<4;i++)n+=t[e>>8*i+4&15]+t[e>>8*i&15];return n},t.prototype.hex=function(e){for(var t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)},t.prototype.add32Std=function(e,t){return e+t&4294967295},t.prototype.add32Compat=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},c([r.PostConstruct],t.prototype,"init",null),c([r.Bean("md5")],t)}(r.BeanStub),p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=function(e){function t(){return e.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return p(t,e),t.prototype.postConstruct=function(){var e=this,t=this.shouldDisplayWatermark();r._.addOrRemoveCssClass(this.getGui(),"ag-hidden",!t),t&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var e=this.licenseManager.isDisplayWatermark(),t=null!=location.hostname.match("^127.0.0.1|localhost|www.ag-grid.com$");return-1!==location.search.indexOf("forceWatermark")||e&&!t},d([r.Autowired("licenseManager")],t.prototype,"licenseManager",void 0),d([r.RefSelector("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),d([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),g={moduleName:r.ModuleNames.EnterpriseCoreModule,beans:[l,h],agStackComponents:[{componentName:"AgWatermark",componentClass:f}]},m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(o||(o={}));var v=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return m(t,e),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(t){t.keyCode===r.KeyCode.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this)),this.eSelect.setInputAriaLabel("Toggle Select All Columns"),this.eFilterTextField.setInputAriaLabel("Filter Columns Input")},t.prototype.init=function(e){this.params=e,this.columnController.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=r._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=r._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=r._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(o.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,i=this.columnController.isPrimaryColumnGroupsPresent(),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search...")),r._.setDisplayed(this.eFilterTextField.getGui(),e),r._.setDisplayed(this.eSelect.getGui(),t),r._.setDisplayed(this.eExpand,n&&i)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=r._.debounce(function(){var t=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:t})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var n=this;r._.isKeyPressed(e,r.KeyCode.ENTER)&&setTimeout(function(){return n.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===o.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,r._.setDisplayed(this.eExpandChecked,this.expandState===o.EXPANDED),r._.setDisplayed(this.eExpandUnchecked,this.expandState===o.COLLAPSED),r._.setDisplayed(this.eExpandIndeterminate,this.expandState===o.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',y([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),y([r.Autowired("columnController")],t.prototype,"columnController",void 0),y([r.RefSelector("eExpand")],t.prototype,"eExpand",void 0),y([r.RefSelector("eSelect")],t.prototype,"eSelect",void 0),y([r.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),y([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),C=function(){function e(e,t,n,i,o){void 0===i&&(i=!1),this.eventService=new r.EventService,this.displayName=e,this.dept=n,this.group=i,i?(this.columnGroup=t,this.expanded=o,this.children=[]):this.column=t}return e.prototype.isGroup=function(){return this.group},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.getColumn=function(){return this.column},e.prototype.getDept=function(){return this.dept},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getChildren=function(){return this.children},e.prototype.isPassesFilter=function(){return this.passesFilter},e.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED}))},e.prototype.setPassesFilter=function(e){this.passesFilter=e},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e}(),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.modelItem=t,r.allowDragging=n,r.eventType=i,r.focusWrapper=o,r.processingColumnStateChange=!1,r.modelItem=t,r.columnGroup=t.getColumnGroup(),r.columnDept=t.getDept(),r.allowDragging=n,r}return w(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=r._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),r._.addCssClass(this.eDragHandle,"ag-drag-handle"),r._.addCssClass(this.eDragHandle,"ag-column-select-column-group-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnController.getDisplayNameForOriginalColumnGroup(null,this.columnGroup,this.eventType),r._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,r.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,C.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),r.CssClassApplier.addToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case r.KeyCode.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case r.KeyCode.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case r.KeyCode.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(t){e.addManagedListener(t,r.Column.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,r.Column.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,r.Column.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,r.Column.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:r.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})}else r._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(t){e[t.getId()]=t.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(r._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(r._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new r.TouchListener(this.eColumnGroupIcons,!0);this.addManagedListener(e,r.TouchListener.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],t=function(n){n.forEach(function(n){n.isPassesFilter()&&(n.isGroup()?t(n.getChildren()):e.push(n.getColumn()))})};return t(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.cbSelect.getValue()?"visible":"hidden";r._.setAriaLabel(this.focusWrapper,this.displayName+" column group toggle visibility ("+e+")")},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),r._.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,t=this.columnController.isPivotMode(),n=this.getVisibleLeafColumns(),i=0,o=0;return n.forEach(function(n){!t&&n.getColDef().lockVisible||(e.isColumnChecked(n,t)?i++:o++)}),i>0&&o>0?void 0:i>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnController.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach(function(n){e?n.isAnyFunctionAllowed()&&t++:n.getColDef().lockVisible||t++}),0===t},t.prototype.isColumnChecked=function(e,t){if(t){var n=e.isPivotActive(),i=e.isRowGroupActive(),o=e.isValueActive();return n||i||o}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();r._.setDisplayed(this.eGroupClosedIcon,!e),r._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){r._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',b([r.Autowired("columnController")],t.prototype,"columnController",void 0),b([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),b([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),b([r.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),b([r.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),b([r.RefSelector("eLabel")],t.prototype,"eLabel",void 0),b([r.RefSelector("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),b([r.RefSelector("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),b([r.RefSelector("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),b([r.PostConstruct],t.prototype,"init",null),t}(r.Component),E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},O=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s.column=t,s.columnDept=n,s.allowDragging=i,s.groupsExist=o,s.focusWrapper=r,s.processingColumnStateChange=!1,s}return E(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=r._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),r._.addCssClass(this.eDragHandle,"ag-drag-handle"),r._.addCssClass(this.eDragHandle,"ag-column-select-column-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnController.getDisplayNameForColumn(this.column,"toolPanel");var e=r._.escapeString(this.displayName);this.eLabel.innerHTML=e;var n=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+n),this.setupDragging(),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,r.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,r.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,r.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,r.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,r.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),r.CssClassApplier.addToolPanelClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null)},t.prototype.handleKeyDown=function(e){e.keyCode===r.KeyCode.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.cbSelect.getValue()?"visible":"hidden";r._.setAriaLabel(this.focusWrapper,this.displayName+" column toggle visibility ("+e+")")},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:r.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})}else r._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e,t=this.columnController.isPivotMode();if(t){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());if(t){var i=this.gridOptionsWrapper.isFunctionsReadOnly(),o=!this.column.isAnyFunctionAllowed();e=i||o}else e=!!this.column.getColDef().lockVisible;this.cbSelect.setReadOnly(e),r._.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-readonly",e);var s=t&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(s),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("ag-grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',_([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_([r.Autowired("columnController")],t.prototype,"columnController",void 0),_([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_([r.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),_([r.RefSelector("eLabel")],t.prototype,"eLabel",void 0),_([r.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),_([r.PostConstruct],t.prototype,"init",null),t}(r.Component),x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},R=function(){function e(e){this.items=e}return e.prototype.getRowCount=function(){return this.items.length},e.prototype.getRow=function(e){return this.items[e]},e}(),P=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return x(t,e),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,t,n){var i=this;this.params=e,this.allowDragging=t,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnsChanged.bind(this)),[r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,r.Events.EVENT_COLUMN_PIVOT_CHANGED,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,r.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,r.Events.EVENT_COLUMN_VALUE_CHANGED,r.Events.EVENT_COLUMN_VISIBLE,r.Events.EVENT_NEW_COLUMNS_LOADED].forEach(function(e){i.addManagedListener(i.eventService,e,i.fireSelectionChangedEvent.bind(i))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new r.VirtualList("column-select","tree")),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(e,t){return i.createComponentFromItem(e,t)}),this.columnController.isReady()&&this.onColumnsChanged()},t.prototype.createComponentFromItem=function(e,t){if(e.isGroup()){var n=new S(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(n),n}var i=new O(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,t);return this.getContext().createBean(i),i},t.prototype.onColumnsChanged=function(){var e=this.columnController.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some(function(e){return e&&void 0!==e.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnController.getPrimaryColumnTree()),this.groupsExist=this.columnController.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var t=this,n=this.onColumnExpanded.bind(this),i=function(e,t,n){e.forEach(function(e){e instanceof r.OriginalColumnGroup?o(e,t,n):s(e,t,n)})},o=function(e,o,r){if(!e.getColGroupDef()||!e.getColGroupDef().suppressColumnsToolPanel)if(e.isPadding())i(e.getChildren(),o,r);else{var s=t.columnController.getDisplayNameForOriginalColumnGroup(null,e,t.eventType),a=new C(s,e,o,!0,t.expandGroupsByDefault);r.push(a),function(e){e.addEventListener(C.EVENT_EXPANDED_CHANGED,n);var i=e.removeEventListener.bind(e,C.EVENT_EXPANDED_CHANGED,n);t.destroyColumnItemFuncs.push(i)}(a),i(e.getChildren(),o+1,a.getChildren())}},s=function(e,n,i){if(!e.getColDef()||!e.getColDef().suppressColumnsToolPanel){var o=t.columnController.getDisplayNameForColumn(e,"toolPanel");i.push(new C(o,e,n))}};this.destroyColumnTree(),i(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var t=function(n){n.isPassesFilter()&&(e.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(t))};this.allColsTree.forEach(t),this.virtualList.setModel(new R(this.displayedColsList));var n=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var t=this;window.setTimeout(function(){t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var t=function(n){n.forEach(function(n){e(n),n.isGroup()&&t(n.getChildren())})};t(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(t){t.isGroup()&&t.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,t){if(t){var n=[];this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup().getId();t.indexOf(o)>=0&&(i.setExpanded(e),n.push(o))}});var i=t.filter(function(e){return!r._.includes(n,e)});i.length>0&&console.warn("ag-Grid: unable to find group(s) for supplied groupIds:",i)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,t=0;return this.forEachItem(function(n){n.isGroup()&&(n.isExpanded()?e++:t++)}),e>0&&t>0?o.INDETERMINATE:t>0?o.COLLAPSED:o.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,t=0,n=this.columnController.isPivotMode();if(this.forEachItem(function(i){if(!i.isGroup()&&i.isPassesFilter()){var o,r=i.getColumn(),s=r.getColDef();if(n){if(!r.isAllowPivot()&&!r.isAllowRowGroup()&&!r.isAllowValue())return;o=r.isValueActive()||r.isPivotActive()||r.isRowGroupActive()}else{if(s.lockVisible)return;o=r.isVisible()}o?e++:t++}}),!(e>0&&t>0))return!(0===e||t>0)},t.prototype.setFilterText=function(e){this.filterText=r._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,t=function(t){return!r._.exists(e.filterText)||null==t.getDisplayName()||t.getDisplayName().toLowerCase().indexOf(e.filterText)>=0},n=function(e,i){var o=!1;if(e.isGroup()){var r=t(e);e.getChildren().forEach(function(e){var t=n(e,r||i);t&&(o=t)})}var s=!(!i&&!o)||t(e);return e.setPassesFilter(s),s};this.allColsTree.forEach(function(e){return n(e,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="tree"></div>',T([r.Autowired("columnController")],t.prototype,"columnController",void 0),T([r.Autowired("toolPanelColDefService")],t.prototype,"colDefService",void 0),T([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),T([r.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),T([r.PreDestroy],t.prototype,"destroyColumnTree",null),t}(r.Component),D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),A=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnController.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,r.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=this.cbPivotMode.getValue();if(e!==this.columnController.isPivotMode()){this.columnController.setPivotMode(e,"toolPanelUi");var t=this.gridOptionsWrapper.getApi();t&&t.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();this.cbPivotMode.setValue(e)},A([r.Autowired("columnController")],t.prototype,"columnController",void 0),A([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),A([r.RefSelector("cbPivotMode")],t.prototype,"cbPivotMode",void 0),A([r.PreConstruct],t.prototype,"init",null),t}(r.Component),I=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.execute=function(e){var t=r._.missingOrEmpty(this.columnController.getValueColumns()),n=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),i=e.changedPath&&e.changedPath.isActive();if(!(t&&n&&i)){var o=this.createAggDetails(e);this.recursivelyCreateAggData(o)}},t.prototype.createAggDetails=function(e){var t=this.columnController.isPivotActive(),n=this.columnController.getValueColumns(),i=t?this.columnController.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:n,pivotColumns:i}},t.prototype.recursivelyCreateAggData=function(e){var t=this;e.changedPath.forEachChangedNodeDepthFirst(function(n){if(n.hasChildren()){if(-1===n.level){var i=!t.columnController.isPivotMode();if(t.gridOptionsWrapper.isSuppressAggAtRootLevel()&&i)return}t.aggregateRowNode(n,e)}else n.aggData&&n.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,t){var n,i=0===t.valueColumns.length,o=0===t.pivotColumns.length,r=this.gridOptionsWrapper.getGroupRowAggNodesFunc();n=r?r(e.childrenAfterFilter):i?null:o?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(n),e.sibling&&e.sibling.setAggData(n)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var t=this,n={},i=this.pivotStage.getPivotColumnDefs();return i.filter(function(e){return!r._.exists(e.pivotTotalColumnIds)}).forEach(function(i){var o,r=i.pivotValueColumn,s=i.colId;o=e.leafGroup?t.getValuesFromMappedSet(e.childrenMapped,i.pivotKeys||[],r):t.getValuesPivotNonLeaf(e,s),n[s]=t.aggregateValues(o,r.getAggFunc(),r,e)}),i.filter(function(e){return r._.exists(e.pivotTotalColumnIds)}).forEach(function(i){var o=[],r=i.pivotValueColumn,s=i.pivotTotalColumnIds,a=i.colId;s&&s.length&&(s.forEach(function(e){o.push(n[e])}),n[a]=t.aggregateValues(o,r.getAggFunc(),r,e))}),n},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,t){var n=this,i={},o=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,r=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,s=this.getValuesNormal(e,o),a=e.aggData;return o.forEach(function(t,o){i[t.getId()]=n.aggregateValues(s[o],t.getAggFunc(),t,e)}),r&&a&&r.forEach(function(e){i[e.getId()]=a[e.getId()]}),i},t.prototype.getValuesPivotNonLeaf=function(e,t){var n=[];return e.childrenAfterFilter.forEach(function(e){n.push(e.aggData[t])}),n},t.prototype.getValuesFromMappedSet=function(e,t,n){var i=this,o=e;if(t.forEach(function(e){return o=o?o[e]:null}),!o)return[];var r=[];return o.forEach(function(e){var t=i.valueService.getValue(n,e);r.push(t)}),r},t.prototype.getValuesNormal=function(e,t){var n=[];t.forEach(function(){return n.push([])});for(var i=t.length,o=e.childrenAfterFilter.length,r=0;r<o;r++)for(var s=e.childrenAfterFilter[r],a=0;a<i;a++){var l=this.valueService.getValue(t[a],s);n[a].push(l)}return n},t.prototype.aggregateValues=function(e,t,n,i){var o="string"==typeof t?this.aggFuncService.getAggFunc(t):t;if("function"!=typeof o)return console.error("ag-Grid: unrecognised aggregation function "+t),null;var s=function(){r._.doOnce(function(){console.warn("ag-Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return o({values:e,column:n,colDef:n?n.getColDef():void 0,rowNode:i,data:i?i.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(t,n){return s(),e.forEach(t,n)},get length(){return s(),e.length},set length(t){s(),e.length=t}})},F([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),F([r.Autowired("columnController")],t.prototype,"columnController",void 0),F([r.Autowired("valueService")],t.prototype,"valueService",void 0),F([r.Autowired("pivotStage")],t.prototype,"pivotStage",void 0),F([r.Autowired("aggFuncService")],t.prototype,"aggFuncService",void 0),F([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),F([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),F([r.Bean("aggregationStage")],t)}(r.BeanStub),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupIdSequence=new r.NumberSequence,t}return M(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var t=this.createGroupingDetails(e);t.transactions?this.handleTransaction(t):this.shotgunResetEverything(t,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(t.rootNode),this.selectableService.updateSelectableAfterGrouping(t.rootNode)},t.prototype.createGroupingDetails=function(e){var t=e.rowNode,n=e.changedPath,i=e.rowNodeTransactions,o=e.rowNodeOrder,r=this.usingTreeData?null:this.columnController.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:r,rootNode:t,pivotMode:this.columnController.isPivotMode(),groupedColCount:this.usingTreeData||!r?0:r.length,rowNodeOrder:o,transactions:i,changedPath:n}},t.prototype.handleTransaction=function(e){var t=this;e.transactions.forEach(function(n){r._.existsAndNotEmpty(n.add)&&t.insertNodes(n.add,e,!1),r._.existsAndNotEmpty(n.remove)&&t.removeNodes(n.remove,e),r._.existsAndNotEmpty(n.update)&&t.moveNodesInWrongPath(n.update,e)}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(t){r._.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var t=this.gridOptionsWrapper.getDefaultGroupSortComparator();r._.exists(t)&&function e(n){r._.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort(t),n.childrenAfterGroup.forEach(function(t){return e(t)}))}(e)}},t.prototype.getExistingPathForNode=function(e,t){for(var n=[],i=this.usingTreeData?e:e.parent;i&&i!==t.rootNode;)n.push({key:i.key,rowGroupColumn:i.rowGroupColumn,field:i.field}),i=i.parent;return n.reverse(),n},t.prototype.moveNodesInWrongPath=function(e,t){var n=this;e.forEach(function(e){t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent);var i=function(e){return e.key},o=n.getExistingPathForNode(e,t).map(i),s=n.getGroupInfo(e,t).map(i);r._.areEqual(o,s)||n.moveNode(e,t)})},t.prototype.moveNode=function(e,t){this.removeNodesInStages([e],t),this.insertOneNode(e,t,!0),e.setData(e.data),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,t){this.removeNodesInStages(e,t),t.changedPath.isActive()&&e.forEach(function(e){return t.changedPath.addParentNode(e.parent)})},t.prototype.removeNodesInStages=function(e,t){this.removeNodesFromParents(e,t),this.postRemoveCreateFillerNodes(e,t),this.postRemoveRemoveEmptyGroups(e,t)},t.prototype.forEachParentGroup=function(e,t,n){for(var i=t.parent;i&&i!==e.rootNode;)n(i),i=i.parent},t.prototype.removeNodesFromParents=function(e,t){var n=this,i=new G;e.forEach(function(e){n.removeFromParent(e,i),n.forEachParentGroup(t,e,function(t){i.removeFromAllLeafChildren(t,e)})}),i.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,t){var n=this;e.forEach(function(e){if(e.hasChildren()){var i=n.getExistingPathForNode(e,t),o=n.findParentForNode(e,i,t);o.expanded=e.expanded,o.allLeafChildren=e.allLeafChildren,o.childrenAfterGroup=e.childrenAfterGroup,o.childrenMapped=e.childrenMapped,o.updateHasChildren(),o.childrenAfterGroup.forEach(function(e){return e.parent=o})}})},t.prototype.postRemoveRemoveEmptyGroups=function(e,t){for(var n=this,i=!0,o=function(){i=!1;var o=new G;e.forEach(function(e){n.forEachParentGroup(t,e,function(e){(function(e){var t=n.getChildrenMappedKey(e.key,e.rowGroupColumn),i=e.parent;return!(!i||!i.childrenMapped||!i.childrenMapped[t])&&e.isEmptyRowGroupNode()})(e)&&(i=!0,n.removeFromParent(e,o),e.setSelected(!1))})}),o.flush()};i;)o()},t.prototype.removeFromParent=function(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(r._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[n]=void 0),e.setRowTop(null)},t.prototype.addToParent=function(e,t){var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(t.childrenMapped&&(t.childrenMapped[n]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&r._.areEqual(e.groupedCols,t.groupedCols)},t.prototype.shotgunResetEverything=function(e,t){var n=!!t&&(this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails));this.oldGroupingDetails=e,n||(e.rootNode.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,e.rootNode.childrenAfterGroup=[],e.rootNode.childrenMapped={},e.rootNode.updateHasChildren(),this.insertNodes(e.rootNode.allLeafChildren,e,!1))},t.prototype.insertNodes=function(e,t,n){var i=this;e.forEach(function(e){i.insertOneNode(e,t,n),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)})},t.prototype.insertOneNode=function(e,t,n){var i=this.getGroupInfo(e,t),o=this.findParentForNode(e,i,t);o.group||console.warn("ag-Grid: duplicate group keys for row data, keys should be unique",[o.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(o,e,n):(e.parent=o,e.level=i.length,o.childrenAfterGroup.push(e),o.updateHasChildren())},t.prototype.findParentForNode=function(e,t,n){var i=this,o=n.rootNode;return t.forEach(function(t,r){(o=i.getOrCreateNextNode(o,t,r,n)).allLeafChildren.push(e)}),o},t.prototype.swapGroupWithUserNode=function(e,t,n){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,n||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach(function(e){return e.parent=t}),this.addToParent(t,e.parent)},t.prototype.getOrCreateNextNode=function(e,t,n,i){var o=this.getChildrenMappedKey(t.key,t.rowGroupColumn),r=e.childrenMapped,s=r&&r.hasOwnProperty(o)?r[o]:void 0;return s||(s=this.createGroup(t,e,n,i),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,t,n,i){var o=this,s=new r.RowNode;return this.context.createBean(s),s.group=!0,s.field=e.field,s.rowGroupColumn=e.rowGroupColumn,s.groupData={},this.columnController.getGroupDisplayColumns().forEach(function(t){(o.usingTreeData||s.rowGroupColumn&&t.isRowGroupDisplayed(s.rowGroupColumn.getId()))&&(s.groupData[t.getColId()]=e.key)}),s.id=r.RowNode.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),s.key=e.key,s.level=n,s.leafGroup=!this.usingTreeData&&n===i.groupedColCount-1,s.expanded=(!i.pivotMode||!s.leafGroup)&&this.isExpanded(i.expandByDefault,n),s.allLeafChildren=[],s.setAllChildrenCount(0),s.rowGroupIndex=this.usingTreeData?null:n,s.childrenAfterGroup=[],s.childrenMapped={},s.updateHasChildren(),s.parent=i.includeParents?t:null,s},t.prototype.getChildrenMappedKey=function(e,t){return t?t.getId()+"-"+e:e},t.prototype.isExpanded=function(e,t){return-1===e||t<e},t.prototype.getGroupInfo=function(e,t){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,t)},t.prototype.getGroupInfoFromCallback=function(e){var t=this.getDataPath?this.getDataPath(e.data):null;return null!=t&&0!==t.length||r._.doOnce(function(){return console.warn("getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),t?t.map(function(e){return{key:e,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,t){var n=this,i=[];return t.groupedCols.forEach(function(o){var r=n.valueService.getKeyForNode(o,e),s=null!=r;if(t.pivotMode&&!s&&(r=" ",s=!0),s){var a={key:r,field:o.getColDef().field,rowGroupColumn:o};i.push(a)}}),i},L([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),L([r.Autowired("columnController")],t.prototype,"columnController",void 0),L([r.Autowired("selectableService")],t.prototype,"selectableService",void 0),L([r.Autowired("valueService")],t.prototype,"valueService",void 0),L([r.PostConstruct],t.prototype,"postConstruct",null),L([r.Bean("groupStage")],t)}(r.BeanStub),G=function(){function e(){this.allSets={},this.allParents=[]}return e.prototype.removeFromChildrenAfterGroup=function(e,t){this.getSet(e).removeFromChildrenAfterGroup[t.id]=!0},e.prototype.removeFromAllLeafChildren=function(e,t){this.getSet(e).removeFromAllLeafChildren[t.id]=!0},e.prototype.getSet=function(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]},e.prototype.flush=function(){var e=this;this.allParents.forEach(function(t){var n=e.allSets[t.id];t.childrenAfterGroup=t.childrenAfterGroup.filter(function(e){return!n.removeFromChildrenAfterGroup[e.id]}),t.allLeafChildren=t.allLeafChildren.filter(function(e){return!n.removeFromAllLeafChildren[e.id]}),t.updateHasChildren()}),this.allSets={},this.allParents.length=0},e}(),H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},B=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return H(t,e),n=t,t.prototype.createPivotColumnDefs=function(e){var t=[],n=[],i=this.columnController.getPivotColumns(),o=this.columnController.getValueColumns(),s=i.length,a=new r.NumberSequence;return this.recursivelyAddGroup(t,n,1,e,[],a,s,i),this.addRowGroupTotals(t,n,o,a),this.addExpandablePivotGroups(t,n,a),this.addPivotTotalsToGroups(t,n,a),{pivotColumnGroupDefs:t,pivotColumnDefs:n.map(function(e){return r._.cloneObject(e)})}},t.prototype.recursivelyAddGroup=function(e,t,n,i,o,s,a,l){var u=this;r._.iterateObject(i,function(i,r){var c=B(o,[i]);if(n!==a){var h={children:[],headerName:i,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+s.next()};e.push(h),u.recursivelyAddGroup(h.children,t,n+1,r,c,s,a,l)}else{var p=u.columnController.getValueColumns(),d={children:[],headerName:i,pivotKeys:c,columnGroupShow:"open",groupId:"pivot"+s.next()};if(0===p.length){var f=u.createColDef(null,"-",c,s);d.children.push(f),t.push(f)}else p.forEach(function(e){var n=u.columnController.getDisplayNameForColumn(e,"header"),i=u.createColDef(e,n,c,s);i.columnGroupShow="open",d.children.push(i),t.push(i)});e.push(d)}});var c=l[n-1].getColDef(),h=this.headerNameComparator.bind(this,c.pivotComparator);e.sort(h)},t.prototype.addExpandablePivotGroups=function(e,t,n){var i=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o=function(e,t,n,r){var s=e;if(s.children){var a=new Map;s.children.forEach(function(e){o(e,t,n,a)});var l=!s.children.some(function(e){return e.children});i.columnController.getValueColumns().forEach(function(o){var r=i.columnController.getDisplayNameForColumn(o,"header"),s=i.createColDef(o,r,e.pivotKeys,n);s.pivotTotalColumnIds=a.get(o.getColId()),s.columnGroupShow="closed",s.aggFunc=o.getAggFunc(),l||(e.children.push(s),t.push(s))}),i.merge(r,a)}else{var u=e;if(!u.pivotValueColumn)return;var c=u.pivotValueColumn.getColId(),h=r.has(c)?r.get(c):[];h.push(u.colId),r.set(c,h)}};e.forEach(function(e){o(e,t,n,new Map)})}},t.prototype.addPivotTotalsToGroups=function(e,t,n){var i=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),r=this.columnController.getValueColumns(),s=r.map(function(e){return e.getAggFunc()});if(s&&!(s.length<1)&&this.sameAggFuncs(s)){var a=r[0];e.forEach(function(e){i.recursivelyAddPivotTotal(e,t,n,a,o)})}}},t.prototype.recursivelyAddPivotTotal=function(e,t,n,i,o){var r=this,s=e;if(!s.children)return e.colId?[e.colId]:null;var a=[];if(s.children.forEach(function(e){var s=r.recursivelyAddPivotTotal(e,t,n,i,o);s&&(a=a.concat(s))}),s.children.length>1){var l=this.createColDef(i,"Total",e.pivotKeys,n);l.pivotTotalColumnIds=a,l.aggFunc=i.getAggFunc();var u=e.children;o?u.push(l):u.unshift(l),t.push(l)}return a},t.prototype.addRowGroupTotals=function(e,t,n,i){var o=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var r="after"===this.gridOptionsWrapper.getPivotRowTotals(),s=r?n.slice():n.slice().reverse(),a=function(n){var a=s[n],u=[];e.forEach(function(e){u=u.concat(o.extractColIdsForValueColumn(e,a))}),l.createRowGroupTotal(e,t,[],i,a,u,r)},l=this,u=0;u<s.length;u++)a(u)},t.prototype.extractColIdsForValueColumn=function(e,t){var n=this;if(!e.children)return e.pivotValueColumn===t&&e.colId?[e.colId]:[];var i=[];return e.children.forEach(function(e){n.extractColIdsForValueColumn(e,t);var o=n.extractColIdsForValueColumn(e,t);i=i.concat(o)}),i},t.prototype.createRowGroupTotal=function(e,t,i,o,r,s,a){var l=i.slice(0),u=this.columnController.getValueColumns(),c={children:[],pivotKeys:l,groupId:n.PIVOT_ROW_TOTAL_PREFIX+o.next()};if(0===u.length){var h=this.createColDef(null,"-",l,o);c.children.push(h),t.push(h)}else{var p=this.columnController.getDisplayNameForColumn(r,"header");(h=this.createColDef(r,p,l,o)).pivotTotalColumnIds=s,c.children.push(h),t.push(h)}a?e.push(c):e.unshift(c)},t.prototype.createColDef=function(e,t,n,i){var o={};if(e){var s=e.getColDef();r._.assign(o,s),o.hide=!1}return o.headerName=t,o.colId="pivot_"+i.next(),o.field=o.colId,o.pivotKeys=n,o.pivotValueColumn=e,o.filter=!1,o},t.prototype.sameAggFuncs=function(e){if(1==e.length)return!0;for(var t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0},t.prototype.headerNameComparator=function(e,t,n){return e?e(t.headerName,n.headerName):t.headerName&&!n.headerName?1:!t.headerName&&n.headerName?-1:t.headerName&&n.headerName?t.headerName<n.headerName?-1:t.headerName>n.headerName?1:0:0},t.prototype.merge=function(e,t){t.forEach(function(t,n,i){var o=e.has(n)?e.get(n):[],r=B(o,t);e.set(n,r)})},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",W([r.Autowired("columnController")],t.prototype,"columnController",void 0),W([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),n=W([r.Bean("pivotColDefService")],t)}(r.BeanStub),z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),U=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueValues={},t}return z(t,e),t.prototype.execute=function(e){var t=e.rowNode,n=e.changedPath;this.columnController.isPivotActive()?this.executePivotOn(t,n):this.executePivotOff(n)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnController.isSecondaryColumnsPresent()&&(this.columnController.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,t){var n=this.bucketUpRowNodes(e),i=this.setUniqueValues(n),o=this.columnController.getValueColumns(),r=o.map(function(e){return e.getId()}).join("#"),s=o.map(function(e){return e.getAggFunc().toString()}).join("#"),a=this.aggregationColumnsHashLastTime!==r,l=this.aggregationFuncsHashLastTime!==s;if(this.aggregationColumnsHashLastTime=r,this.aggregationFuncsHashLastTime=s,i||a||l){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),c=u.pivotColumnGroupDefs;this.pivotColumnDefs=u.pivotColumnDefs,this.columnController.setSecondaryColumns(c,"rowModelUpdated"),t&&t.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var t=this,n={},i=function(e){e.leafGroup?t.bucketRowNode(e,n):e.childrenAfterFilter.forEach(function(e){i(e)})};return i(e),n},t.prototype.bucketRowNode=function(e,t){var n=this.columnController.getPivotColumns();e.childrenMapped=0!==n.length?this.bucketChildren(e.childrenAfterFilter,n,0,t):null},t.prototype.bucketChildren=function(e,t,n,i){var o=this,s={},a=t[n];if(e.forEach(function(e){var t=o.valueService.getKeyForNode(a,e);r._.missing(t)&&(t=""),i[t]||(i[t]={}),s[t]||(s[t]=[]),s[t].push(e)}),n===t.length-1)return s;var l={};return r._.iterateObject(s,function(e,r){l[e]=o.bucketChildren(r,t,n+1,i[e])}),l},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},U([r.Autowired("valueService")],t.prototype,"valueService",void 0),U([r.Autowired("columnController")],t.prototype,"columnController",void 0),U([r.Autowired("pivotColDefService")],t.prototype,"pivotColDefService",void 0),U([r.Bean("pivotStage")],t)}(r.BeanStub),q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggFuncsMap={},t.initialised=!1,t}var n;return q(t,e),n=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=X,this.aggFuncsMap[n.AGG_FIRST]=Q,this.aggFuncsMap[n.AGG_LAST]=Z,this.aggFuncsMap[n.AGG_MIN]=J,this.aggFuncsMap[n.AGG_MAX]=ee,this.aggFuncsMap[n.AGG_COUNT]=te,this.aggFuncsMap[n.AGG_AVG]=ne,this.initialised=!0},t.prototype.getDefaultAggFunc=function(e){var t=this.getFuncNames(e),i=r._.includes(t,n.AGG_SUM),o=r._.exists(this.aggFuncsMap[n.AGG_SUM]);return i&&o?n.AGG_SUM:r._.existsAndNotEmpty(t)?t[0]:null},t.prototype.addAggFuncs=function(e){r._.iterateObject(e,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(e,t){this.init(),this.aggFuncsMap[e]=t},t.prototype.getAggFunc=function(e){return this.init(),this.aggFuncsMap[e]},t.prototype.getFuncNames=function(e){var t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",Y([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Y([r.PostConstruct],t.prototype,"init",null),n=Y([r.Bean("aggFuncService")],t)}(r.BeanStub);function X(e){for(var t=e.values,n=null,i=0;i<t.length;i++){var o=t[i];"number"==typeof o?null===n?n=o:n+="number"==typeof n?o:BigInt(o):"bigint"==typeof o&&(n=null===n?o:("bigint"==typeof n?n:BigInt(n))+o)}return n}function Q(e){return e.values.length>0?e.values[0]:null}function Z(e){return e.values.length>0?r._.last(e.values):null}function J(e){for(var t=e.values,n=null,i=0;i<t.length;i++){var o=t[i];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n>o)||(n=o)}return n}function ee(e){for(var t=e.values,n=null,i=0;i<t.length;i++){var o=t[i];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n<o)||(n=o)}return n}function te(e){for(var t=e.values,n=0,i=0;i<t.length;i++){var o=t[i];n+=null!=o&&"number"==typeof o.value?o.value:1}return{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function ne(e){for(var t=e.values,n=0,i=0,o=0;o<t.length;o++){var r=t[o],s=null;"number"==typeof r||"bigint"==typeof r?(s=r,i++):null==r||"number"!=typeof r.value&&"bigint"!=typeof r.value||"number"!=typeof r.count||(s=r.value*("number"==typeof r.value?r.count:BigInt(r.count)),i+=r.count),"number"==typeof s?n+="number"==typeof n?s:BigInt(s):"bigint"==typeof s&&(n=("bigint"==typeof n?n:BigInt(n))+s)}var a=null;return i>0&&(a=n/("number"==typeof n?i:BigInt(i))),{count:i,value:a,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var ie,oe,re,se,ae,le,ue,ce,he,pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),de=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},fe=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s.column=t,s.dragSourceDropTarget=n,s.ghost=i,s.valueColumn=o,s.horizontal=r,s.popupShowing=!1,s}return pe(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.addElementClasses(this.getGui()),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(r._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(r._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnController.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||this.gridOptionsWrapper.isFunctionsReadOnly()||this.addDragSource()},t.prototype.addDragSource=function(){var e=this,t={type:r.DragSourceType.ToolPanel,eElement:this.eDragHandle,defaultIconName:r.DragAndDropService.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(t)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&r._.addCssClass(this.getGui(),"ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;r._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly()),this.addManagedListener(this.eButton,"click",function(n){e.dispatchEvent({type:t.EVENT_COLUMN_REMOVE}),n.stopPropagation()});var n=new r.TouchListener(this.eButton);this.addManagedListener(n,r.TouchListener.EVENT_TAP,function(n){e.dispatchEvent({type:t.EVENT_COLUMN_REMOVE})}),this.addDestroyFunc(n.destroy.bind(n))},t.prototype.setTextValue=function(){var e;if(this.valueColumn){var t=this.column.getAggFunc(),n="string"==typeof t?t:"agg";e=this.gridOptionsWrapper.getLocaleTextFunc()(n,n)+"("+this.displayName+")"}else e=this.displayName;var i=r._.escapeString(e);this.eText.innerHTML=i},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var t=new r.VirtualList("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column);t.setModel({getRow:function(e){return n[e]},getRowCount:function(){return n.length}}),this.getContext().createBean(t);var i=r._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');i.style.top="0px",i.style.left="0px",i.appendChild(t.getGui()),i.style.width=this.getGui().clientWidth+"px";var o=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,closedCallback:function(){e.destroyBean(t),e.popupShowing=!1}});t.setComponentCreator(this.createAggSelect.bind(this,o)),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:this.getGui(),ePopup:i,keepWithinBounds:!0,column:this.column}),t.refresh()}},t.prototype.createAggSelect=function(e,t){var n=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.toString(),s=i(o,o);return new ge(function(){e(),n.gridOptionsWrapper.isFunctionsPassive()?n.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:t,api:n.gridApi,columnApi:n.columnApi}):n.columnController.setColumnAggFunc(n.column,t,"toolPanelDragAndDrop")},s)},t.prototype.addElementClasses=function(e,t){r._.addCssClass(e,"ag-column-drop-cell"+(t=t?"-"+t:"")),r._.addCssClass(e,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+t)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span>\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle"></span>\n          <span ref="eText" class="ag-column-drop-cell-text"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button"></span>\n        </span>',de([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),de([r.Autowired("columnController")],t.prototype,"columnController",void 0),de([r.Autowired("popupService")],t.prototype,"popupService",void 0),de([r.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),de([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),de([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),de([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),de([r.RefSelector("eText")],t.prototype,"eText",void 0),de([r.RefSelector("eDragHandle")],t.prototype,"eDragHandle",void 0),de([r.RefSelector("eButton")],t.prototype,"eButton",void 0),de([r.PostConstruct],t.prototype,"init",null),t}(r.Component),ge=function(e){function t(t,n){var i=e.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.getGui().innerText=n,i.value=n,i.addGuiEventListener("click",t),i}return pe(t,e),t}(r.Component),me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ye=function(e){function t(n,i){var o=e.call(this,'<div class="ag-unselectable"></div>')||this;return o.horizontal=n,o.valueColumn=i,o.state=t.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),o}return me(t,e),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),e.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,r._.clearElement(this.getGui()),r._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.addManagedListener(this.beans.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.refreshGui()},t.prototype.addElementClasses=function(e,t){r._.addCssClass(e,"ag-column-drop"+(t=t?"-"+t:"")),r._.addCssClass(e,"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+t)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===r.DragSourceType.HeaderCell||e===r.DragSourceType.ToolPanel},t.prototype.checkInsertIndex=function(e){var t=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(t<0)return!1;var n=t!==this.insertIndex;return n&&(this.insertIndex=t),n},t.prototype.getNewHorizontalInsertIndex=function(e){if(r._.missing(e.hDirection))return-1;var t=0,n=e.event,i=this.beans.gridOptionsWrapper.isEnableRtl(),o=e.hDirection===r.HorizontalDirection.Left,s=n.clientX;return this.childColumnComponents.forEach(function(e){var n=e.getGui().getBoundingClientRect(),r=o?n.right:n.left;(i?s<=r:s>=r)&&t++}),t},t.prototype.getNewVerticalInsertIndex=function(e){if(r._.missing(e.vDirection))return-1;var t=0,n=e.event;return this.childColumnComponents.forEach(function(i){var o=i.getGui().getBoundingClientRect();n.clientY>=(e.vDirection===r.VerticalDirection.Down?o.top:o.bottom)&&t++}),t},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var i=n.filter(this.isColumnDroppable.bind(this));i.length>0&&(this.potentialDndColumns=i,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return r._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var n=e.dragSource.getDragItem().columns||[];this.removeColumns(n)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&e||this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var t=this.getExistingColumns().filter(function(t){return!r._.includes(e,t)});this.updateColumns(t)},t.prototype.addColumns=function(e){if(e){var t=this.getExistingColumns().slice(),n=e.filter(function(e){return t.indexOf(e)<0});r._.insertArrayIntoArray(t,n,this.insertIndex),this.updateColumns(t)}},t.prototype.rearrangeColumns=function(e){var t=this.getNonGhostColumns().slice();return r._.insertArrayIntoArray(t,e,this.insertIndex),!r._.areEqual(t,this.getExistingColumns())&&(this.updateColumns(t),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop;this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e)},t.prototype.getNonGhostColumns=function(){var e=this,t=this.getExistingColumns();return this.isPotentialDndColumns()?t.filter(function(t){return!r._.includes(e.potentialDndColumns,t)}):t},t.prototype.addColumnsToGui=function(){var e=this,t=this.getNonGhostColumns(),n=this.isPotentialDndColumns(),i=[];t.forEach(function(t,o){if(!(n&&o>=e.insertIndex)){var r=e.createColumnComponent(t,!1);i.push(r)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(t){var n=e.createColumnComponent(t,!0);i.push(n)}),t.forEach(function(t,n){if(!(n<e.insertIndex)){var o=e.createColumnComponent(t,!1);i.push(o)}})),this.getGui().appendChild(this.eColumnDropList),i.forEach(function(t,n){n>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(t.getGui())})},t.prototype.createColumnComponent=function(e,t){var n=this,i=new fe(e,this.dropTarget,t,this.valueColumn,this.horizontal);return i.addEventListener(fe.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(i),this.guiDestroyFunctions.push(function(){return n.destroyBean(i)}),t||this.childColumnComponents.push(i),i},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,t=document.createElement("div");if(this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),r._.addOrRemoveCssClass(this.getGui(),"ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,t.appendChild(n)}this.getGui().appendChild(t)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var t=this.beans.gridOptionsWrapper.isEnableRtl(),n=r._.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",t}(r.Component),ve=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ce=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},we=function(e){function t(t){return e.call(this,t,!1)||this}return ve(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=t("groups","Row Groups");e.prototype.init.call(this,{dragAndDropIcon:r.DragAndDropService.ICON_GROUP,icon:r._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:i}),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnController.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?r.DragAndDropService.ICON_GROUP:r.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnController.getRowGroupColumns()},Ce([r.Autowired("columnController")],t.prototype,"columnController",void 0),Ce([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ce([r.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Ce([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ce([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ce([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ce([r.PostConstruct],t.prototype,"passBeansUp",null),t}(ye),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Se=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ee=function(e){function t(t){return e.call(this,t,!1)||this}return be(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("pivotColumnsEmptyMessage","Drag here to set column labels"),i=t("pivots","Column Labels");e.prototype.init.call(this,{dragAndDropIcon:r.DragAndDropService.ICON_GROUP,icon:r._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:i}),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnController.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var t=this.columnController.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnController.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?r.DragAndDropService.ICON_PIVOT:r.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnController.getPivotColumns()},Se([r.Autowired("columnController")],t.prototype,"columnController",void 0),Se([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Se([r.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Se([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Se([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Se([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Se([r.PostConstruct],t.prototype,"passBeansUp",null),t}(ye),_e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},xe=function(e){function t(){return e.call(this)||this}return _e(t,e),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,t=document.createElement("div"),n=this.onDropPanelVisible.bind(this);return r._.addCssClass(t,"ag-column-drop-wrapper"),this.rowGroupComp=new we(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new Ee(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.rowGroupComp.addEventListener(r.Component.EVENT_DISPLAYED_CHANGED,n),this.pivotComp.addEventListener(r.Component.EVENT_DISPLAYED_CHANGED,n),this.addDestroyFunc(function(){e.rowGroupComp.removeEventListener(r.Component.EVENT_DISPLAYED_CHANGED,n),e.pivotComp.removeEventListener(r.Component.EVENT_DISPLAYED_CHANGED,n)}),this.onDropPanelVisible(),t},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===r.Constants.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===r.Constants.ONLY_WHEN_GROUPING){var t=!this.columnController.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}},Oe([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Oe([r.Autowired("columnController")],t.prototype,"columnController",void 0),Oe([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),Te={moduleName:r.ModuleNames.RowGroupingModule,beans:[N,V,j,K,$],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:xe}],dependantModules:[g]},Re=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},De=function(e){function t(t){return e.call(this,t,!0)||this}return Re(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=t("valueColumnsEmptyMessage","Drag here to aggregate"),i=t("values","Values");e.prototype.init.call(this,{dragAndDropIcon:r.DragAndDropService.ICON_AGGREGATE,icon:r._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:i}),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?r.DragAndDropService.ICON_AGGREGATE:r.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnController.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnController.getValueColumns()},Pe([r.Autowired("columnController")],t.prototype,"columnController",void 0),Pe([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pe([r.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Pe([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pe([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Pe([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Pe([r.PostConstruct],t.prototype,"passBeansUp",null),t}(ye),Ae=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ke=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ie=function(e){function t(){return e.call(this,t.TEMPLATE,!0)||this}return Ae(t,e),t.prototype.init=function(e,t,n){this.allowDragging=e,this.params=t,this.eventType=n,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this))},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',ke([r.RefSelector("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),ke([r.RefSelector("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(r.ManagedFocusComponent),Fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ne=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Me=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return Fe(t,e),t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var t=this,n={suppressSideButtons:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(r._.mergeDeep(n,e),this.params=n,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new k),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new Ie),this.childDestroyFuncs.push(function(){return t.destroyBean(t.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),r._.addCssClass(this.primaryColsPanel.getGui(),"ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new we(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new De(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new Ee(!1)),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var i=this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.setLastVisible.bind(this));this.childDestroyFuncs.push(function(){return i()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var t=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new k),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return t.destroyBean(t.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new we(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new De(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new Ee(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(e){return r._.removeCssClass(e,"ag-last-column-drop")});var t=r._.last(e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"));t&&r._.addCssClass(t,"ag-last-column-drop")},t.prototype.isRowGroupingModuleLoaded=function(){return r.ModuleRegistry.assertRegistered(r.ModuleNames.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,r._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Ne([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ne([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(r.Component),Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ve=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ge=function(e){function t(){return e.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this}return Le(t,e),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var t=Math.max(100,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));this.elementToResize.style.width=t+"px"},t.prototype.setInverted=function(e){this.inverted=e},Ve([r.Autowired("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ve([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ve([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),We=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Be=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.buttonComps=[],n}return He(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.keyCode===r.KeyCode.TAB&&e.shiftKey&&!this.focusController.findNextFocusableElement(this.getFocusableElement(),null,!0)){var t=this.headerPositionUtils.findColAtEdgeForHeaderRow(0,"start");if(!t)return;e.preventDefault(),this.focusController.focusHeaderPosition(t)}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(t){t.setSelected(e===t.getToolPanelId())})},t.prototype.addButtonComp=function(e){var n=this,i=this.createBean(new je(e));this.buttonComps.push(i),this.appendChild(i),i.addEventListener(je.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),r._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons"></div>',We([r.Autowired("focusController")],t.prototype,"focusController",void 0),We([r.Autowired("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),We([r.PostConstruct],t.prototype,"postConstruct",null),We([r.PreDestroy],t.prototype,"clearButtons",null),t}(r.Component),je=function(e){function t(t){var n=e.call(this)||this;return n.toolPanelDef=t,n}return He(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",r._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.toolPanelDef;return'<div class="ag-side-button">\n                <button type="button" ref="eToggleButton" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper"></div>\n                    <span class="ag-side-button-label">'+e(t.labelKey,t.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",We([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),We([r.RefSelector("eToggleButton")],t.prototype,"eToggleButton",void 0),We([r.RefSelector("eIconWrapper")],t.prototype,"eIconWrapper",void 0),We([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ue=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ke=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ze(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){this.toolPanelId=e.id;var t={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},n=this.userComponentFactory.newToolPanelComponent(e,t);null!=n?n.then(this.setToolPanelComponent.bind(this)):console.warn("ag-grid: error processing tool panel component "+e.id+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setupResize=function(){var e=this.resizeBar=new Ge;this.getContext().createBean(e),e.setElementToResize(this.getGui()),this.appendChild(e)},t.prototype.setToolPanelComponent=function(e){var t=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){t.destroyBean(e)})},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var t=this.gridOptionsWrapper.isEnableRtl(),n="left"===e;this.resizeBar.setInverted(t?n:!n)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Ue([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ue([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ue([r.PostConstruct],t.prototype,"setupResize",null),t}(r.Component),qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ye=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$e=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return qe(t,e),t.prototype.postConstruct=function(){this.sideBarButtonsComp.addEventListener(Be.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef()},t.prototype.onToolPanelButtonClicked=function(e){var t=e.toolPanelId,n=this.openedItem();this.openToolPanel(n===t?void 0:t)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),t=!!e&&!!e.toolPanels;if(t){this.setDisplayed(t&&!e.hiddenByDefault);var n=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var t="left"===e,n=t?"right":"left",i=this.getGui();return r._.addOrRemoveCssClass(i,"ag-side-bar-left",t),r._.addOrRemoveCssClass(i,"ag-side-bar-right",!t),this.toolPanelWrappers.forEach(function(e){e.setResizerSizerSide(n)}),this},t.prototype.setupToolPanels=function(e){var t=this;e.forEach(function(e){if(null!=e.id){if("agColumnsToolPanel"===e.toolPanel&&!r.ModuleRegistry.assertRegistered(r.ModuleNames.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===e.toolPanel&&!r.ModuleRegistry.assertRegistered(r.ModuleNames.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new Ke;t.getContext().createBean(n),n.setToolPanelDef(e),n.setDisplayed(!1),t.getGui().appendChild(n.getGui()),t.toolPanelWrappers.push(n)}else console.warn("ag-grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var t=this.openedItem();t!==e&&(this.toolPanelWrappers.forEach(function(t){var n=e===t.getToolPanelId();t.setDisplayed(n)}),t!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var t=this.toolPanelWrappers.filter(function(t){return t.getToolPanelId()===e})[0];if(t)return t.getToolPanelInstance();console.warn("ag-grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var t={type:r.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(t){t.isDisplayed()&&(e=t.getToolPanelId())}),e},t.prototype.reset=function(){this.clearDownUi(),this.setSideBarDef()},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',Ye([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ye([r.RefSelector("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),Ye([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),Xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isColGroupDef=function(e){return e&&void 0!==e.children},t.getId=function(e){return t.isColGroupDef(e)?e.groupId:e.colId},t}return Xe(t,e),t.prototype.createColumnTree=function(e){var t=this,n=[],i=function(e,o){if(t.isColGroupDef(e)){var s=e,a=new r.OriginalColumnGroup(s,void 0!==s.groupId?s.groupId:s.headerName,!1,o),l=[];return s.children.forEach(function(e){var t=i(e,o+1);t&&l.push(t)}),a.setChildren(l),a}var u=e,c=t.columnController.getPrimaryColumn(u.colId?u.colId:u.field);return c||n.push(u),c},o=[];return e.forEach(function(e){var t=i(e,0);t&&o.push(t)}),n.length>0&&console.warn("ag-Grid: unable to find grid columns for the supplied colDef(s):",n),o},t.prototype.syncLayoutWithGrid=function(e){var t=this.getLeafPathTrees();e(this.mergeLeafPathTrees(t))},t.prototype.getLeafPathTrees=function(){var e=function(t,n){var i;if(t instanceof r.OriginalColumnGroup)if(t.isPadding())i=n;else{var o=r._.assign({},t.getColGroupDef());o.groupId=t.getGroupId(),o.children=[n],i=o}else{var s=r._.assign({},t.getColDef());s.colId=t.getColId(),i=s}var a=t.getOriginalParent();return a?e(a,i):i};return this.columnController.getAllGridColumns().filter(function(e){var t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}).map(function(t){return e(t,t.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var t,n,i=this,o=function(e,t){if(!i.isColGroupDef(t))return e;var n=e,r=t;return r.children&&r.groupId&&i.addChildrenToGroup(n,r.groupId,r.children[0])||r.children.forEach(function(e){return o(n,e)}),n},r=[],s=1;s<=e.length;s++){var a=e[s-1],l=e[s];n=l,i.isColGroupDef(t=a)&&i.isColGroupDef(n)&&i.getId(t)===i.getId(n)?e[s]=o(a,l):r.push(a)}return r},t.prototype.addChildrenToGroup=function(e,t,n){var i=this;if(!this.isColGroupDef(e))return!0;var o=e,s=n;if(function(e,t){var n=e.children.map(i.getId),o=r._.includes(n,i.getId(t)),s=r._.last(e.children),a=s&&i.getId(s)!==i.getId(t);return o&&a}(o,s))return o.children.push(s),!0;if(o.groupId===t){var a=o.children.map(this.getId);if(!r._.includes(a,this.getId(s)))return o.children.push(s),!0}return o.children.forEach(function(e){return i.addChildrenToGroup(e,t,n)}),!1},Qe([r.Autowired("columnController")],t.prototype,"columnController",void 0),Qe([r.Bean("toolPanelColDefService")],t)}(r.BeanStub),Je={moduleName:r.ModuleNames.SideBarModule,beans:[Ze],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:Ge},{componentName:"AgSideBar",componentClass:$e},{componentName:"AgSideBarButtons",componentClass:Be}],dependantModules:[g]},et=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},tt=function(){function e(){}return e.prototype.selectAllChildren=function(e,t,n){var i=this.extractAllLeafColumns(e);this.setAllColumns(i,t,n)},e.prototype.setColumn=function(e,t,n){this.setAllColumns([e],t,n)},e.prototype.setAllColumns=function(e,t,n){this.columnController.isPivotMode()?this.setAllPivot(e,t,n):this.setAllVisible(e,t,n)},e.prototype.extractAllLeafColumns=function(e){var t=[],n=function(e){e.forEach(function(e){e.isPassesFilter()&&(e.isGroup()?n(e.getChildren()):t.push(e.getColumn()))})};return n(e),t},e.prototype.setAllVisible=function(e,t,n){var i=[];e.forEach(function(e){e.getColDef().lockVisible||e.isVisible()!=t&&i.push({colId:e.getId(),hide:!t})}),i.length>0&&this.columnController.applyColumnState({state:i},n)},e.prototype.setAllPivot=function(e,t,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,n)},e.prototype.setAllPivotPassive=function(e,t){var n=this.columnController.getPivotColumns().slice(),i=this.columnController.getValueColumns().slice(),o=this.columnController.getRowGroupColumns().slice(),s=!1,a=!1,l=!1;e.forEach(t?function(e){e.isAnyFunctionActive()||(e.isAllowValue()?(i.push(e),a=!0):e.isAllowRowGroup()?(o.push(e),s=!0):e.isAllowPivot()&&(n.push(e),l=!0))}:function(e){e.isAnyFunctionActive()&&(n.indexOf(e)>=0&&(r._.removeFromArray(n,e),s=!0),i.indexOf(e)>=0&&(r._.removeFromArray(i,e),a=!0),o.indexOf(e)>=0&&(r._.removeFromArray(o,e),l=!0))}),s&&this.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),l&&this.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi}),a&&this.eventService.dispatchEvent({type:r.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setAllPivotActive=function(e,t,n){var i=this,o=[];e.forEach(t?function(e){if(!e.isAnyFunctionActive())if(e.isAllowValue()){var t="string"==typeof e.getAggFunc()?e.getAggFunc():i.aggFuncService.getDefaultAggFunc(e);o.push({colId:e.getId(),aggFunc:t})}else e.isAllowRowGroup()?o.push({colId:e.getId(),rowGroup:!0}):e.isAllowPivot()&&o.push({colId:e.getId(),pivot:!0})}:function(e){(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&o.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),o.length>0&&this.columnController.applyColumnState({state:o},n)},et([r.Autowired("aggFuncService")],e.prototype,"aggFuncService",void 0),et([r.Autowired("columnController")],e.prototype,"columnController",void 0),et([r.Autowired("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),et([r.Autowired("columnApi")],e.prototype,"columnApi",void 0),et([r.Autowired("gridApi")],e.prototype,"gridApi",void 0),et([r.Autowired("eventService")],e.prototype,"eventService",void 0),et([r.Bean("modelItemUtils")],e)}(),nt={moduleName:r.ModuleNames.ColumnToolPanelModule,beans:[tt],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:v},{componentName:"AgPrimaryColsList",componentClass:P},{componentName:"AgPrimaryCols",componentClass:Ie}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:Me}],dependantModules:[g,Te,Je]},it=function(e){return{name:e.name,properties:{rawMap:{Extension:e.Extension,PartName:e.PartName,ContentType:e.ContentType}}}},ot=function(e){return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},rt=function(e){return{name:"a:"+e[0],properties:{rawMap:{script:e[2],typeface:e[1],panose:e[3]}}}},st=function(e,t,n){return{name:"a:"+e,properties:{rawMap:{val:t}},children:n}},at=function(e){var t=e[0],n=e[1],i=e[3],o=e[4],r=e[5],s=[];return s.push(st("satMod",e[2])),i&&s.push(st("lumMod",i)),o&&s.push(st("tint",o)),r&&s.push(st("shade",r)),{name:"a:gs",properties:{rawMap:{pos:t}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:s}]}},lt=function(e,t){return{name:"a:solidFill",children:[st("schemeClr",e,t)]}},ut=function(e){var t=e[2],n=e[3],i=e[4],o=i[0],r=i[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e[0]}},children:[{name:"a:gsLst",children:[at(e[1]),at(t),at(n)]},{name:"a:lin",properties:{rawMap:{ang:o,scaled:r}}}]}},ct=function(e){return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[lt("phClr"),st("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},ht=function(e){var t=[];return e&&t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[st("srgbClr","000000",[st("alpha","63000")])]}),{name:"a:effectStyle",children:[r._.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},pt=function(e){e=e.toString();var t={name:"t",textNode:r._.utf8_encode(r._.escapeString(e))};return e.replace(/^\s*|\s*$/g,"").length!==e.length&&(t.properties={rawMap:{"xml:space":"preserve"}}),{name:"si",children:[t]}},dt=function(e){return{name:"numFmt",properties:{rawMap:{formatCode:e.formatCode,numFmtId:e.numFmtId}}}},ft={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},gt=function(e){var t=e.size,n=e.color,i=e.name,o=e.family,r=e.scheme,s=e.italic,a=e.bold,l=e.strike,u=e.outline,c=e.shadow,h=e.underline,p=[{name:"sz",properties:{rawMap:{val:void 0===t?14:t}}},{name:"color",properties:{rawMap:{theme:e.colorTheme,rgb:void 0===n?"00000000":n}}},{name:"name",properties:{rawMap:{val:void 0===i?"Calibri":i}}}];if(o&&p.push({name:"family",properties:{rawMap:{val:o}}}),r&&p.push({name:"scheme",properties:{rawMap:{val:r}}}),s&&p.push({name:"i"}),a&&p.push({name:"b"}),l&&p.push({name:"strike"}),u&&p.push({name:"outline"}),c&&p.push({name:"shadow"}),h){var d=h.toLocaleLowerCase();p.push({name:"u",properties:{rawMap:{val:"double"===d?"double":"single"}}})}return{name:"font",children:p}},mt=function(e){var t=e.fgTheme,n=e.fgTint,i=e.fgRgb,o=e.bgRgb,r=e.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:e.patternType}}};return(t||n||i)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:t,tint:n,rgb:i}}}]),r&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:r,rgb:o}}})),{name:"fill",children:[s]}},yt=function(e){return{name:"color",properties:{rawMap:{rgb:Rt(e||"#000000")}}}},vt=function(e){var t=e.left,n=e.right,i=e.top,o=e.bottom,r=e.diagonal,s=t?[yt(t.color)]:void 0,a=n?[yt(n.color)]:void 0,l=i?[yt(i.color)]:void 0,u=o?[yt(o.color)]:void 0,c=r?[yt(r.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:s},{name:"right",properties:{rawMap:{style:n&&n.style}},children:a},{name:"top",properties:{rawMap:{style:i&&i.style}},children:l},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:u},{name:"diagonal",properties:{rawMap:{style:r&&r.style}},children:c}]}},Ct={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},wt=["Dashed","DashDot","DashDotDot"],bt=function(e,t){var n,i=1===(n=t)?"thin":2===n?"medium":3===n?"thick":"hair",o=Ct[e];return e?"Continuous"===e?i:"medium"===i&&wt.indexOf(o)>0?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1):"thin"},St=function(e){return{Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"}[e]||"general"},Et=function(e){return{Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"}[e]||void 0},_t=function(e){var t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},Ot=function(e){var t=e.alignment,n=e.borderId,i=e.fillId,o=e.fontId,r=e.numFmtId,s=e.protection,a=e.xfId,l=[];return t&&l.push(function(e){var t=e.horizontal,n=e.indent,i=e.readingOrder,o=e.rotate,r=e.shrinkToFit,s=e.vertical,a=e.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&St(t),indent:n,readingOrder:i&&_t(i),textRotation:o,shrinkToFit:r,vertical:s&&Et(s),wrapText:a}}}}(t)),s&&l.push(function(e){return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:!1===e.protected?0:1}}}}(s)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:s?1:void 0,applyBorder:n?1:void 0,borderId:n,fillId:i,applyFont:o?1:void 0,fontId:o,applyNumberFormat:r?1:void 0,numFmtId:r,xfId:a}},children:l.length?l:void 0}},xt=function(e){return{name:"cellStyle",properties:{rawMap:{builtinId:e.builtinId,name:e.name,xfId:e.xfId}}}},Tt=function(){ie={base:0},oe=[],re=[{name:"Calibri",size:14,colorTheme:"1",family:2,scheme:"minor"}],se=[{patternType:"none"},{patternType:"gray125"}],ae=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],le=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],ue=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],ce=[{builtinId:0,name:"normal",xfId:0}]},Rt=function(e){return null==e?e:("#"===e.charAt(0)&&(e=e.substr(1)),6===e.length?"00"+e:e)},Pt=function(e){var t,n,i,o,s,a,l=e.id,u=e.alignment,c=e.borders,h=e.font,p=e.interior,d=e.numberFormat,f=e.protection,g=0,m=0,y=0,v=0;l&&null==ie[l]&&(p&&(i=(n=(t=p).pattern)?{None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"}[n]||n:"none",o=Rt(t.color),s=Rt(t.patternColor),-1===(a=r._.findIndex(se,function(e){return e.patternType==i&&e.fgRgb==o&&e.bgRgb==s}))&&(a=se.length,se.push({patternType:i,fgRgb:o,bgRgb:s})),g=a),c&&(m=function(e){var t,n,i,o,s,a,l,u,c=e.borderBottom,h=e.borderTop,p=e.borderLeft,d=e.borderRight;p&&(i=bt(p.lineStyle,p.weight),l=Rt(p.color)),d&&(o=bt(d.lineStyle,d.weight),u=Rt(d.color)),c&&(t=bt(c.lineStyle,c.weight),s=Rt(c.color)),h&&(n=bt(h.lineStyle,h.weight),a=Rt(h.color));var f=r._.findIndex(ae,function(e){var r=e.left,c=e.right,h=e.top,p=e.bottom;if(!r&&(i||l))return!1;if(!c&&(o||u))return!1;if(!h&&(n||a))return!1;if(!p&&(t||s))return!1;var d=r||{},f=c||{},g=h||{},m=p||{};return d.style==i&&d.color==l&&f.style==o&&f.color==u&&g.style==n&&g.color==a&&m.style==t&&m.color==s});return-1===f&&(f=ae.length,ae.push({left:{style:i,color:l},right:{style:o,color:u},top:{style:n,color:a},bottom:{style:t,color:s},diagonal:{style:void 0,color:void 0}})),f}(c)),h&&(y=function(e){var t=e.fontName,n=e.color,i=e.size,o=e.bold,s=e.italic,a=e.outline,l=e.shadow,u=e.strikeThrough,c=e.underline,h=e.family,p=t?r._.utf8_encode(t):t,d=Rt(n),f=function(e){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(e||"Automatic");return Math.max(t,0)}(h),g=r._.findIndex(re,function(e){return e.name==p&&e.color==d&&e.size==i&&e.bold==o&&e.italic==s&&e.outline==a&&e.shadow==l&&e.strike==u&&e.underline==c&&e.family==f});return-1===g&&(g=re.length,re.push({name:p,color:d,size:i,bold:o,italic:s,outline:a,shadow:l,strike:u,underline:c,family:f})),g}(h)),d&&(v=function(e){if(e=r._.utf8_encode(e),ft[e])return ft[e];var t=r._.findIndex(oe,function(t){return t.formatCode===e});return-1===t?oe.push({formatCode:e,numFmtId:t=oe.length+164}):t=oe[t].numFmtId,t}(d.format)),ie[l]=ue.length,ue.push({alignment:u,borderId:m||0,fillId:g||0,fontId:y||0,numFmtId:v||0,protection:f,xfId:0}))},Dt=function(e,t){var n=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:n,"r:id":"rId"+n}}}},At=function(e){var t=e.min,n=e.max,i=e.s,o=e.width,r=e.hidden,s=e.bestFit,a=1,l="0";return o>1&&(a=function(e){return Math.ceil((e-12)/7+1)}(o),l="1"),{name:"col",properties:{rawMap:{min:t,max:n,width:a,style:i,hidden:r?"1":"0",bestFit:s?"1":"0",customWidth:l}}}},kt=function(e){var t=e.ref,n=e.data,i=e.styleId,o=n.type,s=n.value,a=o;o.charAt(0)===o.charAt(0).toUpperCase()&&(a=function(e){var t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(o));var l,u,c={name:"c",properties:{rawMap:{r:t,t:"empty"===a?void 0:a,s:i?(l=i,ie[l]||0):void 0}}};return u="inlineStr"===a?[{name:"is",children:[{name:"t",textNode:r._.escapeString(r._.utf8_encode(s))}]}]:[{name:"v",textNode:s}],r._.assign({},c,{children:u})},It=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},Ft=function(e,t){var n=e.index,i=e.collapsed,o=e.hidden,r=e.height,s=e.s,a=e.cells,l=void 0===a?[]:a;return function(e,t){for(var n=[],i=0,o=0;o<e.length;o++)(s=e[o]).mergeAcross&&(n.push({pos:o,excelPos:i}),i+=e[o].mergeAcross),i++;if(n.length)for(o=n.length-1;o>=0;o--){for(var r=[],s=e[n[o].pos],a=1;a<=s.mergeAcross;a++)r.push({ref:""+Mt(n[o].excelPos+1+a)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});r.length&&e.splice.apply(e,It([n[o].pos+1,0],r))}}(l,t),{name:"row",properties:{rawMap:{r:n,collapsed:i,hidden:o?"1":"0",ht:r,customHeight:null!=r?"1":"0",s:s,customFormat:null!=s?"1":"0"}},children:l.map(kt)}},Nt=function(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}},Mt=function(e){var t=String.fromCharCode,n=Math.floor(e/26),i=e%26;return n&&26!==e?i?n<26?t(65+n-1)+t(65+i-1):Mt(n)+t(65+i-1):Mt(n-1)+"Z":t(65+e-1)},Lt=function(e){return{name:"Relationship",properties:{rawMap:{Id:e.Id,Type:e.Type,Target:e.Target}}}},Vt=function(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map(Lt)}},Gt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ht=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sharedStrings=[],t}return Gt(t,e),t.prototype.createSharedStrings=function(){return this.createXmlPart({name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:(e=this.sharedStrings).length,uniqueCount:e.length}},children:e.map(pt)});var e},t.prototype.createXmlPart=function(e){return""+this.xmlFactory.createHeader({encoding:"UTF-8",standalone:"yes"})+this.xmlFactory.createXml(e)},t.prototype.createExcel=function(e,t,n){return void 0===n&&(n=[]),this.sharedStrings=n,this.sheetNames=t.map(function(e){return e.name}),function(e){Tt(),e.forEach(Pt)}(e),this.createWorksheet(t)},t.prototype.createCore=function(){return this.createXmlPart({name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:"ag-Grid"},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e=(new Date).toJSON()},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]});var e},t.prototype.createContentTypes=function(){return this.createXmlPart({name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}].map(it)})},t.prototype.createRels=function(){var e=Vt([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return this.createXmlPart(e)},t.prototype.createStylesheet=function(){return this.createXmlPart(function(){var e,t=function(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map(dt)}}(oe),n=function(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map(gt)}}(re),i=function(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map(mt)}}(se),o=function(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map(vt)}}(ae),r={name:"cellStyleXfs",properties:{rawMap:{count:(e=le).length}},children:e.map(Ot)},s=function(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map(Ot)}}(ue),a=function(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map(xt)}}(ce);return Tt(),{name:"styleSheet",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[t,n,i,o,r,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}())},t.prototype.createTheme=function(){return this.createXmlPart({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[ot(["dk1","sysClr","windowText","000000"]),ot(["lt1","sysClr","window","FFFFFF"]),ot(["dk2","srgbClr","44546A"]),ot(["lt2","srgbClr","E7E6E6"]),ot(["accent1","srgbClr","4472C4"]),ot(["accent2","srgbClr","ED7D31"]),ot(["accent3","srgbClr","A5A5A5"]),ot(["accent4","srgbClr","FFC000"]),ot(["accent5","srgbClr","5B9BD5"]),ot(["accent6","srgbClr","70AD47"]),ot(["hlink","srgbClr","0563C1"]),ot(["folHlink","srgbClr","954F72"])]},(e=r._.utf8_encode,{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[rt(["latin","Calibri Light",void 0,"020F0302020204030204"]),rt(["ea",""]),rt(["cs",""]),rt(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),rt(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),rt(["font",e("\u7b49\u7ebf Light"),"Hans"]),rt(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),rt(["font","Times New Roman","Arab"]),rt(["font","Times New Roman","Hebr"]),rt(["font","Tahoma","Thai"]),rt(["font","Nyala","Ethi"]),rt(["font","Vrinda","Beng"]),rt(["font","Shruti","Gujr"]),rt(["font","MoolBoran","Khmr"]),rt(["font","Tunga","Knda"]),rt(["font","Raavi","Guru"]),rt(["font","Euphemia","Cans"]),rt(["font","Plantagenet Cherokee","Cher"]),rt(["font","Microsoft Yi Baiti","Yiii"]),rt(["font","Microsoft Himalaya","Tibt"]),rt(["font","MV Boli","Thaa"]),rt(["font","Mangal","Deva"]),rt(["font","Gautami","Telu"]),rt(["font","Latha","Taml"]),rt(["font","Estrangelo Edessa","Syrc"]),rt(["font","Kalinga","Orya"]),rt(["font","Kartika","Mlym"]),rt(["font","DokChampa","Laoo"]),rt(["font","Iskoola Pota","Sinh"]),rt(["font","Mongolian Baiti","Mong"]),rt(["font","Times New Roman","Viet"]),rt(["font","Microsoft Uighur","Uigh"]),rt(["font","Sylfaen","Geor"]),rt(["font","Arial","Armn"]),rt(["font","Leelawadee UI","Bugi"]),rt(["font","Microsoft JhengHei","Bopo"]),rt(["font","Javanese Text","Java"]),rt(["font","Segoe UI","Lisu"]),rt(["font","Myanmar Text","Mymr"]),rt(["font","Ebrima","Nkoo"]),rt(["font","Nirmala UI","Olck"]),rt(["font","Ebrima","Osma"]),rt(["font","Phagspa","Phag"]),rt(["font","Estrangelo Edessa","Syrn"]),rt(["font","Estrangelo Edessa","Syrj"]),rt(["font","Estrangelo Edessa","Syre"]),rt(["font","Nirmala UI","Sora"]),rt(["font","Microsoft Tai Le","Tale"]),rt(["font","Microsoft New Tai Lue","Talu"]),rt(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[rt(["latin","Calibri",void 0,"020F0502020204030204"]),rt(["ea",""]),rt(["cs",""]),rt(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),rt(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),rt(["font",e("\u7b49\u7ebf"),"Hans"]),rt(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),rt(["font","Arial","Arab"]),rt(["font","Arial","Hebr"]),rt(["font","Tahoma","Thai"]),rt(["font","Nyala","Ethi"]),rt(["font","Vrinda","Beng"]),rt(["font","Shruti","Gujr"]),rt(["font","DaunPenh","Khmr"]),rt(["font","Tunga","Knda"]),rt(["font","Raavi","Guru"]),rt(["font","Euphemia","Cans"]),rt(["font","Plantagenet Cherokee","Cher"]),rt(["font","Microsoft Yi Baiti","Yiii"]),rt(["font","Microsoft Himalaya","Tibt"]),rt(["font","MV Boli","Thaa"]),rt(["font","Mangal","Deva"]),rt(["font","Gautami","Telu"]),rt(["font","Latha","Taml"]),rt(["font","Estrangelo Edessa","Syrc"]),rt(["font","Kalinga","Orya"]),rt(["font","Kartika","Mlym"]),rt(["font","DokChampa","Laoo"]),rt(["font","Iskoola Pota","Sinh"]),rt(["font","Mongolian Baiti","Mong"]),rt(["font","Arial","Viet"]),rt(["font","Microsoft Uighur","Uigh"]),rt(["font","Sylfaen","Geor"]),rt(["font","Arial","Armn"]),rt(["font","Leelawadee UI","Bugi"]),rt(["font","Microsoft JhengHei","Bopo"]),rt(["font","Javanese Text","Java"]),rt(["font","Segoe UI","Lisu"]),rt(["font","Myanmar Text","Mymr"]),rt(["font","Ebrima","Nkoo"]),rt(["font","Nirmala UI","Olck"]),rt(["font","Ebrima","Osma"]),rt(["font","Phagspa","Phag"]),rt(["font","Estrangelo Edessa","Syrn"]),rt(["font","Estrangelo Edessa","Syrj"]),rt(["font","Estrangelo Edessa","Syre"]),rt(["font","Nirmala UI","Sora"]),rt(["font","Microsoft Tai Le","Tale"]),rt(["font","Microsoft New Tai Lue","Talu"]),rt(["font","Ebrima","Tfng"])]}]}),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[lt("phClr"),ut(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),ut(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[ct(["6350","flat","sng","ctr"]),ct(["12700","flat","sng","ctr"]),ct(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[ht(),ht(),ht(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[lt("phClr"),lt("phClr",[st("tint","95000"),st("satMod","170000")]),ut(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]});var e},t.prototype.createWorkbook=function(){return this.createXmlPart({name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[(e=this.sheetNames,{name:"sheets",children:e.map(Dt)})]});var e},t.prototype.createWorkbookRels=function(){var e=Vt([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet1.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId3",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId4",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]);return this.createXmlPart(e)},t.prototype.createWorksheet=function(e){return this.createXmlPart((n=(t=e[0].table).rows,o=(i=t.columns)&&i.length?function(e,t){var n=[];return e.forEach(function(e,i){var o,r=e.cells,s=0;e.index=i+1,r.forEach(function(e,r){var a=r+s+1,l=Mt(a),u=i+1;if(e.mergeAcross){var c=Mt(r+(s+=e.mergeAcross)+1);n.push(""+l+u+":"+c+u)}t[a-1]||(t[a-1]={}),function(e,t,n,i){if(!e.min)return e.min=t,void(e.max=t+n);var o=t;i&&(o=Math.max(o,i.min)),e.min=Math.max(e.min,o),e.max=Math.max(e.max,o+n)}(t[a-1],a,s,o),o=t[a-1],e.ref=""+l+u})}),n}(n,i):[],r=[],i.length&&r.push({name:"cols",children:i.map(At)}),n.length&&r.push({name:"sheetData",children:n.map(Ft)}),o.length&&r.push({name:"mergeCells",properties:{rawMap:{count:o.length}},children:o.map(Nt)}),{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:r}));var t,n,i,o,r},Ht([r.Autowired("xmlFactory")],t.prototype,"xmlFactory",void 0),Ht([r.Bean("excelXlsxFactory")],t)}(r.BeanStub),Bt={getTemplate:function(e){var t=e.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},jt={getTemplate:function(e){var t=e.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(e,t){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==t?"Bottom":1==t?"Left":2==t?"Right":"Top",LineStyle:e.lineStyle,Weight:e.weight,Color:e.color}}]}}})}}},zt={getTemplate:function(e){var t=e.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},Ut={getTemplate:function(e){var t=e.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},Kt={getTemplate:function(e){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:e.protection.protected,HideFormula:e.protection.hideFormula}}]}}}},qt={getTemplate:function(e){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:e.numberFormat.format}}]}}}},Yt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$t=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yt(t,e),t.prototype.createExcel=function(e,t,n){var i=this.excelXmlHeader(),o=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},e,t);return""+i+this.xmlFactory.createXml(o,function(e){return e?"1":"0"})},t.prototype.workbook=function(e,t,n,i){var o=[e,t,this.stylesXmlElement(n)].concat(i.map(function(e){return i=(t=e).name,o=(n=t.table).rows,r=n.columns.map(function(e){return function(e){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:e.width}}]}}}(e)}),s=o.map(function(e){return function(e){return{name:"Row",children:e.cells.map(function(e){return i=(t=e).styleId,o=t.data,r={},(n=t.mergeAcross)&&(r.MergeAcross=n),i&&(r.StyleID=i),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:r}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:o.type}}]},textNode:o.value}]};var t,n,i,o,r})}}(e)}),{name:"Worksheet",children:[{name:"Table",children:r.concat(s)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:i}}]}};var t,n,i,o,r,s}));return r._.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:o})},t.prototype.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},t.prototype.stylesXmlElement=function(e){var t=this;return{name:"Styles",children:e?e.map(function(e){return t.styleXmlElement(e)}):[]}},t.prototype.styleXmlElement=function(e){var t=r._.compose(this.addProperty("alignment",e),this.addProperty("borders",e),this.addProperty("font",e),this.addProperty("interior",e),this.addProperty("protection",e),this.addProperty("numberFormat",e))([]);return r._.assign({},function(e){var t=e.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:e.name||t}}]}}}(e),{children:t})},t.prototype.addProperty=function(e,t){return function(n){return t[e]?n.concat({alignment:Bt,borders:jt,font:zt,interior:Ut,numberFormat:qt,protection:Kt}[e].getTemplate(t)):n}},$t([r.Autowired("xmlFactory")],t.prototype,"xmlFactory",void 0),$t([r.Bean("excelXmlFactory")],t)}(r.BeanStub),Qt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Jt=function(){function e(e){this.groupColumns=[];var t=e.valueService,n=e.gridOptionsWrapper,i=e.processCellCallback,o=e.processHeaderCallback,r=e.processGroupHeaderCallback,s=e.processRowGroupCallback;this.columnController=e.columnController,this.valueService=t,this.gridOptionsWrapper=n,this.processCellCallback=i,this.processHeaderCallback=o,this.processGroupHeaderCallback=r,this.processRowGroupCallback=s}return e.prototype.prepare=function(e){this.groupColumns=r._.filter(e,function(e){return!!e.getColDef().showRowGroup})},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,n,i){var o,r=this.gridOptionsWrapper.isGroupMultiAutoColumn()?i.rowGroupIndex:0;o=i&&i.group&&(t===r&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(i):this.valueService.getValue(e,i);var s=this.processCell(i,e,o,this.processCellCallback,n);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,n,i,o){return i?i({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},e}(),en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qt(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var n=t.shouldRowBeSkipped||function(){return!1},i=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=this.gridOptionsWrapper.getContext(),u=this.columnController.isPivotMode(),c=this.rowModel.getType()===r.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,h=!c&&t.onlySelected,p=[];if(p=r._.existsAndNotEmpty(t.columnKeys)?this.columnController.getGridColumns(t.columnKeys):t.allColumns&&!u?(p=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([r.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),t.customHeader&&e.addCustomContent(t.customHeader),e.prepare(p),t.columnGroups){var d=new r.GroupInstanceIdCreator,f=this.displayedGroupCreator.createDisplayedGroups(p,this.columnController.getGridBalancedTree(),d,null);this.recursivelyAddHeaderGroups(f,e,t.processGroupHeaderCallback)}if(!t.skipHeader){var g=e.onNewHeaderRow();p.forEach(function(e,t){g.onColumn(e,t,void 0)})}function m(r){if((!r.group||!t.skipGroups&&(1!==r.allChildrenCount||!(s||a&&r.leafGroup)))&&(!t.skipFooters||!r.footer)&&(!t.onlySelected||r.isSelected())&&(!t.skipPinnedTop||"top"!==r.rowPinned)&&(!t.skipPinnedBottom||"bottom"!==r.rowPinned)&&(-1!==r.level||r.leafGroup)&&!n({node:r,api:i,context:l})){var u=e.onNewBodyRow();if(p.forEach(function(e,t){u.onColumn(e,t,r)}),t.getCustomContentBelowRow){var c=t.getCustomContentBelowRow({node:r,api:i,columnApi:o,context:l});c&&e.addCustomContent(c)}}}return this.pinnedRowModel.forEachPinnedTopRow(m),u?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(m):this.rowModel.forEachNode(m):t.onlySelectedAllPages||h?this.selectionController.getSelectedNodes().forEach(function(e){m(e)}):c?this.rowModel.forEachNodeAfterFilterAndSort(m):this.rowModel.forEachNode(m),this.pinnedRowModel.forEachPinnedBottomRow(m),t.customFooter&&e.addCustomContent(t.customFooter),e.parse()},t.prototype.recursivelyAddHeaderGroups=function(e,t,n){var i=[];e.forEach(function(e){e.getChildren&&e.getChildren().forEach(function(e){return i.push(e)})}),e.length>0&&e[0]instanceof r.ColumnGroup&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)},t.prototype.doAddHeaderHeader=function(e,t,n){var i=this,o=e.onNewHeaderGroupingRow(),r=0;t.forEach(function(e){var t,s=e;t=n?n({columnGroup:s,api:i.gridOptionsWrapper.getApi(),columnApi:i.gridOptionsWrapper.getColumnApi(),context:i.gridOptionsWrapper.getContext()}):i.columnController.getDisplayNameForColumnGroup(s,"header"),o.onColumn(t||"",r++,s.getLeafColumns().length-1)})},Zt([r.Autowired("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Zt([r.Autowired("columnController")],t.prototype,"columnController",void 0),Zt([r.Autowired("rowModel")],t.prototype,"rowModel",void 0),Zt([r.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Zt([r.Autowired("selectionController")],t.prototype,"selectionController",void 0),Zt([r.Autowired("columnFactory")],t.prototype,"columnFactory",void 0),Zt([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zt([r.Bean("gridSerializer")],t)}(r.BeanStub);!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(he||(he={}));var tn,nn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),on=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rn=function(e){function t(t){var n=e.call(this,t)||this;n.isFirstLine=!0,n.result="";var i=t.columnSeparator;return n.suppressQuotes=t.suppressQuotes,n.columnSeparator=i,n}return nn(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(e){t.beginNewLine(),e.forEach(function(e,n){0!==n&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,r.Constants.EXPORT_TYPE_CSV,n))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Jt),sn=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,i=t.data,o=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(i)),i},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return r._.assign(n,t),r._.assign(n,e),n},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}(),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nn(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this;return new rn({columnController:t.columnController,valueService:t.valueService,gridOptionsWrapper:t.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},on([r.Autowired("columnController")],t.prototype,"columnController",void 0),on([r.Autowired("valueService")],t.prototype,"valueService",void 0),on([r.Autowired("downloader")],t.prototype,"downloader",void 0),on([r.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),on([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),on([r.PostConstruct],t.prototype,"postConstruct",null),on([r.Bean("csvCreator")],t)}(sn),ln=function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var n=document.createElement("a"),i=window.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout(function(){window.URL.revokeObjectURL(i)},0)}},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([r.Bean("downloader")],e)}(),un=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cn="\r\n",hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return un(t,e),t.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map(function(t){return t+'="'+e[t]+'"'}).join(" ")+" ?>"},t.prototype.createXml=function(e,t){var n=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(e){Object.keys(e.map).forEach(function(o){i+=n.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(o){i+=n.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)}));var o="<"+e.name+i;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">"+cn:(o+=">\r\n",e.children&&e.children.forEach(function(e){o+=n.createXml(e,t)}),o+"</"+e.name+">"+cn):o+"/>"+cn},t.prototype.returnAttributeIfPopulated=function(e,t,n){if(!t&&""!==t&&0!==t)return"";var i=t;return"boolean"==typeof t&&n&&(i=n(t))," "+e+'="'+i+'"'},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([r.Bean("xmlFactory")],t)}(r.BeanStub),pn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.folders=[],t.files=[],t.addFolder=function(e){t.folders.push({path:e,created:new Date})},t}return pn(t,e),t.prototype.addFolders=function(e){e.forEach(this.addFolder)},t.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},t.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),n=t.length,i="",o=0,r=0,s=0,a=t;s<a.length;s++){var l=this.getHeader(a[s],o),u=l.fileHeader,c=l.folderHeader,h=l.content;o+=u.length+h.length,r+=c.length,e+=u+h,i+=c}return e+i+this.buildFolderEnd(n,r,o)},t.prototype.getHeader=function(e,t){var n=e.content,i=e.path,o=e.created,s=r._.decToHex,a=(0,r._.utf8_encode)(i),l=a!==i,u=this.convertTime(o),c=this.convertDate(o),h="";if(l){var p=s(1,1)+s(this.getFromCrc32Table(a),4)+a;h="up"+s(p.length,2)+p}var d="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+s(u,2)+s(c,2)+s(n?this.getFromCrc32Table(n):0,4)+s(n?n.length:0,4)+s(n?n.length:0,4)+s(a.length,2)+s(h.length,2);return{fileHeader:"PK\x03\x04"+d+a+h,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+s(t,4)+a+h,content:n||""}},t.prototype.buildFolderEnd=function(e,t,n){var i=r._.decToHex;return"PK\x05\x06\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+"\0\0"},t.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},t.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var n=0,i=0;i<e.length;i++)n=e.charCodeAt(i),t=t>>>8^dn[255&(t^n)];return-1^t},t.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},t.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([r.Bean("zipContainer")],t)}(r.BeanStub),gn={moduleName:r.ModuleNames.CsvExportModule,beans:[an,ln,hn,en,fn]},mn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yn=function(e){function t(t){var n=e.call(this,t)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=r._.assign({},t),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(e){n.stylesByIds[e.id]=e}),n.excelStyles=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(n.config.baseExcelStyles),n}return mn(t,e),t.prototype.addCustomContent=function(e){var t=this;e.forEach(function(e){return t.rows.push({cells:e})})},t.prototype.prepare=function(t){var n=this;e.prototype.prepare.call(this,t),this.cols=t.map(function(e,t){return n.convertColumnToExcel(e,t)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:this.config.headerRowHeight}),{onColumn:function(n,i,o){var r=e.config.styleLinker(he.HEADER_GROUPING,1,i,"grouping-"+n,void 0,void 0);t.push(e.createMergedCell(r&&r.length>0?r[0]:void 0,"String",n,o))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.onNewRow=function(e,t){var n=[];return this.rows.push({cells:n,height:t}),{onColumn:e.bind(this,this.rows.length,n)()}},t.prototype.onNewHeaderColumn=function(e,t){var n=this;return function(i,o){var r=n.extractHeaderValue(i),s=n.config.styleLinker(he.HEADER,e,o,r,i,void 0);t.push(n.createCell(s&&s.length>0?s[0]:void 0,"String",r))}},t.prototype.parse=function(){for(var e=this.rows.reduce(function(e,t){return Math.max(e,t.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel([{name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}}])},t.prototype.createExcel=function(e){return this.config.excelFactory.createExcel(this.excelStyles,e,[])},t.prototype.onNewBodyColumn=function(e,t){var n=this;return function(i,o,s){var a,l=n.extractRowCellValue(i,o,r.Constants.EXPORT_TYPE_EXCEL,s),u=n.config.styleLinker(he.BODY,e,o,l,i,s);if(u&&1==u.length)a=u[0];else if(u&&u.length>1){var c=u.join("-");n.mixedStyles[c]||n.addNewMixedStyle(u),a=n.mixedStyles[c].excelID}t.push(n.createCell(a,n.getDataTypeForValue(l),l))}},t.prototype.getDataTypeForValue=function(e){return r._.isNumeric(e)?"Number":"String"},t.prototype.addNewMixedStyle=function(e){var t=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,i={};e.forEach(function(e){t.excelStyles.forEach(function(t){t.id===e&&r._.mergeDeep(i,r._.deepCloneObject(t))})}),i.id=n,i.name=n;var o=e.join("-");this.mixedStyles[o]={excelID:n,key:o,result:i},this.excelStyles.push(i),this.stylesByIds[n]=i},t.prototype.styleExists=function(e){return null!=e&&this.stylesByIds[e]},t.prototype.createCell=function(e,t,n){var i,o=this,s=e&&this.stylesByIds[e],a=void 0!==s,l=function(){if(a&&s.dataType)switch(s.dataType){case"string":return"String";case"number":return"Number";case"dateTime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("ag-grid: Unrecognized data type for excel export ["+s.id+".dataType="+s.dataType+"]")}return t}();return{styleId:a?e:void 0,data:{type:l,value:"String"===l?function(e){if(o.config.suppressTextAsCDATA)return r._.escapeString(e);var t=new RegExp("]]>","g");return"<![CDATA["+String(e).replace(t,"]]]]><![CDATA[>")+"]]>"}(n):"Number"===l?Number(n).valueOf()+"":"Boolean"===l?(i=n,i&&"0"!==i&&"false"!==i?"1":"0"):n}}},t.prototype.createMergedCell=function(e,t,n,i){return{styleId:this.styleExists(e)?e:void 0,data:{type:t,value:n},mergeAcross:i}},t.prototype.convertColumnToExcel=function(e,t){var n=this.config.columnWidth;return n?"number"==typeof n?{width:n}:{width:n({column:e,index:t})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t}(Jt),vn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stringList=[],t.stringMap={},t}return vn(t,e),t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:this.config.headerRowHeight}),{onColumn:function(n,i,o){var r=e.config.styleLinker(he.HEADER_GROUPING,1,i,"grouping-"+n,void 0,void 0);t.push(e.createMergedCell(r&&r.length>0?r[0]:void 0,"s",n,o))}}},t.prototype.onNewHeaderColumn=function(e,t){var n=this;return function(i,o,r){var s=n.extractHeaderValue(i),a=n.config.styleLinker(he.HEADER,e,o,s,i,void 0);t.push(n.createCell(a&&a.length>0?a[0]:void 0,"s",s))}},t.prototype.createExcel=function(e){return this.config.excelFactory.createExcel(this.excelStyles,e,this.stringList)},t.prototype.getDataTypeForValue=function(e){return r._.isNumeric(e)?"n":"s"},t.prototype.getStringPosition=function(e){var t=this.stringMap[e];return void 0===t&&(t=this.stringMap[e]=this.stringList.length,this.stringList.push(e)),t},t.prototype.createCell=function(e,t,n){var i=e&&this.stylesByIds[e],o=void 0!==i,r=function(){if(o&&i.dataType)switch(i.dataType){case"string":return"s";case"number":return"n";case"dateTime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("ag-grid: Unrecognized data type for excel export ["+i.id+".dataType="+i.dataType+"]")}return t}();return{styleId:o?e:void 0,data:{type:r,value:"s"===r?this.getStringPosition(null==n?"":n).toString():"n"===r?Number(n).toString():n}}},t.prototype.createMergedCell=function(e,t,n,i){return{styleId:this.styleExists(e)?e:void 0,data:{type:t,value:"s"===t?this.getStringPosition(null==n?"":n).toString():n},mergeAcross:i}},t}(yn),wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bn=function(){return(bn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Sn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wn(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsExcel=function(e){return this.setExportMode(e?e.exportMode:void 0),this.export(e)},t.prototype.getDataAsExcelXml=function(e){return e&&e.exportMode&&delete e.exportMode,this.setExportMode("xml"),this.getData(e||{})},t.prototype.getMimeType=function(){return"xml"===this.getExportMode()?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var t=this,n=t.columnController,i=t.valueService,o=t.gridOptionsWrapper,s="xlsx"===this.getExportMode(),a=s?this.xlsxFactory:this.excelXmlFactory,l="ag-grid";r._.exists(e.sheetName)&&(l=r._.utf8_encode(e.sheetName.toString().substr(0,31)));var u=bn(bn({},e),{columnController:n,valueService:i,gridOptionsWrapper:o,headerRowHeight:e.headerRowHeight||e.rowHeight,sheetName:l,excelFactory:a,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(s?Cn:yn)(u)},t.prototype.styleLinker=function(e,t,n,i,o,r){if(e===he.HEADER||e===he.HEADER_GROUPING)return["header"];var s=this.gridOptions.excelStyles;if(!s||!s.length)return null;var a=s.map(function(e){return e.id}),l=[];return this.stylingService.processAllCellClasses(o.getColDef(),{value:i,data:r.data,node:r,colDef:o.getColDef(),rowIndex:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},function(e){a.indexOf(e)>-1&&l.push(e)}),l.sort(function(e,t){return a.indexOf(e)<a.indexOf(t)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode||"xlsx"},t.prototype.packageFile=function(t){if("xml"===this.getExportMode())return e.prototype.packageFile.call(this,t);var n=this.zipContainer,i=this.xlsxFactory;return n.addFolders(["xl/worksheets/","xl/","xl/theme/","xl/_rels/","docProps/","_rels/"]),n.addFile("xl/worksheets/sheet1.xml",t),n.addFile("xl/workbook.xml",i.createWorkbook()),n.addFile("xl/styles.xml",i.createStylesheet()),n.addFile("xl/sharedStrings.xml",i.createSharedStrings()),n.addFile("xl/theme/theme1.xml",i.createTheme()),n.addFile("xl/_rels/workbook.xml.rels",i.createWorkbookRels()),n.addFile("docProps/core.xml",i.createCore()),n.addFile("[Content_Types].xml",i.createContentTypes()),n.addFile("_rels/.rels",i.createRels()),n.getContent("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Sn([r.Autowired("excelXmlFactory")],t.prototype,"excelXmlFactory",void 0),Sn([r.Autowired("excelXlsxFactory")],t.prototype,"xlsxFactory",void 0),Sn([r.Autowired("columnController")],t.prototype,"columnController",void 0),Sn([r.Autowired("valueService")],t.prototype,"valueService",void 0),Sn([r.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Sn([r.Autowired("stylingService")],t.prototype,"stylingService",void 0),Sn([r.Autowired("downloader")],t.prototype,"downloader",void 0),Sn([r.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Sn([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sn([r.Autowired("zipContainer")],t.prototype,"zipContainer",void 0),Sn([r.PostConstruct],t.prototype,"postConstruct",null),Sn([r.Bean("excelCreator")],t)}(sn),_n={moduleName:r.ModuleNames.ExcelExportModule,beans:[En,Xt,Wt,en,fn,hn,ln,an],dependantModules:[gn,g]},On=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(tn||(tn={}));var Tn,Rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return On(t,e),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel("Search"),this.createExpandIcons(),this.setExpandState(tn.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnController.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=r._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=r._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=r._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,t=!this.params.suppressExpandAll,n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var i=this.columnController.getAllGridColumns().some(function(e){return e.getOriginalParent()&&e.isFilterAllowed()});r._.setDisplayed(this.eFilterTextField.getGui(),e),r._.setDisplayed(this.eExpand,t&&i)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=r._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===tn.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,r._.setDisplayed(this.eExpandChecked,this.currentExpandState===tn.EXPANDED),r._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===tn.COLLAPSED),r._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===tn.INDETERMINATE)},xn([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xn([r.Autowired("columnController")],t.prototype,"columnController",void 0),xn([r.RefSelector("eExpand")],t.prototype,"eExpand",void 0),xn([r.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),xn([r.PreConstruct],t.prototype,"preConstruct",null),xn([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),Pn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},An=function(e){function t(n){void 0===n&&(n=!1);var i=e.call(this,t.TEMPLATE)||this;return i.expanded=!1,i.hideHeader=n,i}return Pn(t,e),t.prototype.postConstruct=function(){this.eExpandChecked=r._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=r._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var t=this;this.column=e,this.eFilterName.innerText=this.columnController.getDisplayNameForColumn(this.column,"header",!1),this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(e){e.keyCode===r.KeyCode.ENTER&&t.toggleExpanded()}),this.addManagedListener(this.eventService,r.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),r._.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),r._.addCssClass(this.eExpandChecked,"ag-hidden"),this.hideHeader?(r._.addOrRemoveCssClass(this.eFilterToolPanelHeader,"ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,r.Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!1)},t.prototype.addCssClassToTitleBar=function(e){r._.addCssClass(this.eFilterToolPanelHeader,e)},t.prototype.addInIcon=function(e,t,n){if(null!=t){var i=r._.createIconNoSpan(e,this.gridOptionsWrapper,n);t.appendChild(i)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){r._.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:r.Column.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var e=this;if(!this.expanded){this.expanded=!0;var t=r._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR").filterPromise;n&&n.then(function(n){e.underlyingFilter=n,t.appendChild(n.getGui()),e.agFilterToolPanelBody.appendChild(t),n.afterGuiAttached&&n.afterGuiAttached({container:"toolPanel"})}),r._.setDisplayed(this.eExpandChecked,!0),r._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),r._.setDisplayed(this.eExpandChecked,!1),r._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;e&&"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',Dn([r.RefSelector("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Dn([r.RefSelector("eFilterName")],t.prototype,"eFilterName",void 0),Dn([r.RefSelector("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Dn([r.RefSelector("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Dn([r.RefSelector("eExpand")],t.prototype,"eExpand",void 0),Dn([r.Autowired("filterManager")],t.prototype,"filterManager",void 0),Dn([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Dn([r.Autowired("columnController")],t.prototype,"columnController",void 0),Dn([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),kn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),In=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Fn=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.columnGroup=t,r.childFilterComps=n,r.depth=o,r.expandedCallback=i,r}return kn(t,e),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),r._.addCssClass(this.filterGroupComp.getGui(),"ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(t){e.filterGroupComp.addItem(t),t.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.addExpandCollapseListeners(),this.addFilterChangedListeners()},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof r.OriginalColumnGroup},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,t){this.filterGroupComp.hideItem(e,t)},t.prototype.hideGroup=function(e){r._.addOrRemoveCssClass(this.getGui(),"ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){r._.forEach(this.childFilterComps,function(t){t instanceof An&&e(t)})},t.prototype.addExpandCollapseListeners=function(){var e=this,t=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(e){return e.expand()})},n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(e){return e.collapse()})};this.addManagedListener(this.filterGroupComp,r.AgGroupComponent.EVENT_EXPANDED,t),this.addManagedListener(this.filterGroupComp,r.AgGroupComponent.EVENT_COLLAPSED,n)},t.prototype.addFilterChangedListeners=function(){var e=this;if(this.columnGroup instanceof r.OriginalColumnGroup){var t=this.columnGroup;t.getLeafColumns().forEach(function(n){e.addManagedListener(n,r.Column.EVENT_FILTER_CHANGED,function(){r._.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",t.getLeafColumns().some(function(e){return e.isFilterActive()}))})})}else{var n=this.columnGroup;this.addManagedListener(this.eventService,r.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addManagedListener(n,r.Column.EVENT_FILTER_CHANGED,function(){r._.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",n.isFilterActive())})}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof r.OriginalColumnGroup?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName)},t.prototype.getColumnGroupName=function(e){return this.columnController.getDisplayNameForOriginalColumnGroup(null,e,"toolPanel")},t.prototype.getColumnName=function(e){return this.columnController.getDisplayNameForColumn(e,"header",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),r._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',In([r.RefSelector("filterGroupComp")],t.prototype,"filterGroupComp",void 0),In([r.Autowired("columnController")],t.prototype,"columnController",void 0),In([r.PreConstruct],t.prototype,"preConstruct",null),In([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Nn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ln=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return Nn(t,e),t.prototype.init=function(e){var t=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};r._.mergeDeep(n,e),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_MOVED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,r.Events.EVENT_NEW_COLUMNS_LOADED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,r.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(e){"filters"===e.source&&t.refreshFilters()}),this.columnController.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnController.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var t=this.columnController.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(t,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach(function(t){return e.appendChild(t)}),this.setFirstAndLastVisible(0,n-1)),r._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var t=this;this.destroyFilters();var n=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(n,0);var i=this.filterGroupComps.length;i&&(this.filterGroupComps.forEach(function(e){return t.appendChild(e)}),this.setFirstAndLastVisible(0,i-1)),r._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,t){var n=this;return r._.flatten(e.map(function(e){if(e instanceof r.OriginalColumnGroup)return r._.flatten(n.recursivelyAddFilterGroupComps(e,t));var i=e;if(!n.shouldDisplayFilter(i))return[];var o=new An(0===t);if(n.getContext().createBean(o),o.setColumn(i),t>0)return o;var s=n.createBean(new Fn(i,[o],n.onGroupExpanded.bind(n),t));return s.addCssClassToTitleBar("ag-filter-toolpanel-header"),s.collapse(),s}))},t.prototype.recursivelyAddFilterGroupComps=function(e,t){if(this.filtersExistInChildren(e.getChildren())){if(e.getColGroupDef()&&e.getColGroupDef().suppressFiltersToolPanel)return[];var n=e.isPadding()?t:t+1,i=r._.flatten(this.recursivelyAddComps(e.getChildren(),n));if(e.isPadding())return i;var o=new Fn(e,i,this.onGroupExpanded.bind(this),t);return this.getContext().createBean(o),o.addCssClassToTitleBar("ag-filter-toolpanel-header"),[o]}},t.prototype.filtersExistInChildren=function(e){var t=this;return e.some(function(e){return e instanceof r.OriginalColumnGroup?t.filtersExistInChildren(e.getChildren()):t.shouldDisplayFilter(e)})},t.prototype.shouldDisplayFilter=function(e){var t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t},t.prototype.refresh=function(){},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,t){var n=[],i=function(o){var s=o.getFilterGroupId();(!t||r._.includes(t,s))&&(e&&o.isColumnGroup()?o.expand():o.collapse(),n.push(s)),o.getChildren().forEach(function(e){e instanceof Fn&&i(e)})};if(this.filterGroupComps.forEach(i),this.onGroupExpanded(),t){var o=t.filter(function(e){return n.indexOf(e)<0});o.length>0&&console.warn("ag-Grid: unable to find groups for these supplied groupIds:",o)}},t.prototype.expandFilters=function(e,t){var n=[],i=function(o){if(o instanceof Fn){var s=!1;return o.getChildren().forEach(function(t){i(t)&&(e?(o.expand(),s=!0):o.isColumnGroup()||o.collapse())}),s}var a=o.getColumn().getColId(),l=!t||r._.includes(t,a);return l&&(e?o.expand():o.collapse(),n.push(a)),l};if(this.filterGroupComps.forEach(i),this.onGroupExpanded(),t){var o=t.filter(function(e){return n.indexOf(e)<0});o.length>0&&console.warn("ag-Grid: unable to find columns for these supplied colIds:",o)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,t=0,n=function(i){i.isColumnGroup()&&(i.isExpanded()?e++:t++,i.getChildren().forEach(function(e){e instanceof Fn&&n(e)}))};this.filterGroupComps.forEach(n),this.dispatchEvent({type:"groupExpanded",state:e>0&&t>0?tn.INDETERMINATE:t>0?tn.COLLAPSED:tn.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=r._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var t,n,i=function(t){return!r._.exists(e)||-1!==t.toLowerCase().indexOf(e)},o=function(e,t){if(!(e instanceof Fn))return i(e.getColumnFilterName());var n=e.getChildren(),r=i(e.getFilterGroupName()),s=t||r;if(s){e.hideGroup(!1);for(var a=0;a<n.length;a++)o(n[a],s),e.hideGroupItem(!1,a);return!0}var l=!1;return n.forEach(function(n,i){var r=o(n,t);e.hideGroupItem(!r,i),r&&(l=!0)}),e.hideGroup(!l),l};this.filterGroupComps.forEach(function(e,i){o(e,!1),void 0===t?r._.containsClass(e.getGui(),"ag-hidden")||(t=i,n=i):r._.containsClass(e.getGui(),"ag-hidden")||n===i||(n=i)}),this.setFirstAndLastVisible(t,n)},t.prototype.setFirstAndLastVisible=function(e,t){this.filterGroupComps.forEach(function(n,i){r._.removeCssClass(n.getGui(),"ag-first-group-visible"),r._.removeCssClass(n.getGui(),"ag-last-group-visible"),i===e&&r._.addCssClass(n.getGui(),"ag-first-group-visible"),i===t&&r._.addCssClass(n.getGui(),"ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),r._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',Mn([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Mn([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Mn([r.Autowired("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),Mn([r.Autowired("columnController")],t.prototype,"columnController",void 0),t}(r.Component),Vn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hn=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return Vn(t,e),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(e){return e()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var t={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};r._.mergeDeep(t,e),this.params=t,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list> \n         </div>',Gn([r.RefSelector("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),Gn([r.RefSelector("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),Gn([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Gn([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(r.Component),Wn={moduleName:r.ModuleNames.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:Rn},{componentName:"AgFiltersToolPanelList",componentClass:Ln}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:Hn}],dependantModules:[Je,g]},Bn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bn(t,e),t.prototype.getData=function(e){this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var t=this.extractRowsFromGridRowModel(e);return t.data=this.aggregateRowsByDimension(e,t.data),t},t.prototype.extractRowsFromGridRowModel=function(e){for(var n=this,i=[],o={},s={},a={},l=this.gridRowModel.getRowCount()-1,u=(e.endRow>=0?Math.min(e.endRow,l):l)-e.startRow+1,c=function(r){var l={},u=h.gridRowModel.getRow(r+e.startRow);e.dimensionCols.forEach(function(i){var o=i.colId,c=n.columnController.getGridColumn(o);if(c){var h=n.valueService.getValue(c,u);if(e.grouping){var p=h&&h.toString?String(h.toString()):"",d=t.getGroupLabels(u,p);l[o]={labels:d,toString:function(){return this.labels.filter(function(e){return!!e}).reverse().join(" - ")}},u.group&&(s[d.toString()]=r);var f=d.slice(1,d.length).toString();f&&(a[f]=s[f])}else l[o]=h}else l[Yn.DEFAULT_CATEGORY]=r+1}),e.valueCols.forEach(function(e){var t=[],i=e.getColDef().pivotKeys;i&&(t=i.slice());var r=e.getColDef().headerName;r&&t.push(r),t.length>0&&(o[e.getId()]=t);var s=n.valueService.getValue(e,u);l[e.getId()]=null!=s&&"function"==typeof s.toNumber?s.toNumber():s}),i.push(l)},h=this,p=0;p<u;p++)c(p);if(e.grouping){var d=r._.values(a);i=i.filter(function(e,t){return!r._.includes(d,t)})}return{data:i,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,t){var n=this,i=e.dimensionCols;if(!e.aggFunc||0===i.length)return t;var o=r._.last(i),s=o&&o.colId,a={},l=[];return t.forEach(function(e){var t=a;i.forEach(function(n){var o=n.colId,r=e[o];if(o===s){var a=t[r];a||(a={__children:[]},i.forEach(function(t){var n=t.colId;a[n]=e[n]}),t[r]=a,l.push(a)),a.__children.push(e)}else t[r]||(t[r]={}),t=t[r]})}),l.forEach(function(t){return e.valueCols.forEach(function(i){var o=t.__children.map(function(e){return e[i.getId()]}),s=0;r.ModuleRegistry.assertRegistered(r.ModuleNames.RowGroupingModule,"Charting Aggregation")&&(s=n.aggregationStage.aggregateValues(o,e.aggFunc)),t[i.getId()]=s&&void 0!==s.value?s.value:s})}),l},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnController.getSecondaryColumns();if(e){var t=this.extractPivotKeySeparator(e);e.forEach(function(e){var n=e.getColId().split(t);e.getColDef().pivotKeys=n.slice(0,n.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var t=function(e,n){var i=e.getGroupId();return e.getParent()?t(e.getParent(),i):n.split(i)[1][0]},n=e[0];return t(n.getParent(),n.getColId())},t.getGroupLabels=function(e,t){for(var n=[t];e&&0!==e.level;)(e=e.parent)&&n.push(e.key);return n},jn([r.Autowired("rowModel")],t.prototype,"gridRowModel",void 0),jn([r.Autowired("valueService")],t.prototype,"valueService",void 0),jn([r.Autowired("columnController")],t.prototype,"columnController",void 0),jn([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),jn([r.Optional("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(r.BeanStub),Un=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},qn=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},Yn=function(e){function t(t){var n=e.call(this)||this;return n.dimensionColState=[],n.valueColState=[],n.detached=!1,n.grouping=!1,n.columnNames={},n.pivotChart=t.pivotChart,n.chartType=t.chartType,n.chartThemeName=t.chartThemeName,n.aggFunc=t.aggFunc,n.referenceCellRange=t.cellRange,n.suppressChartRanges=t.suppressChartRanges,n.detached=!!t.unlinkChart,n.chartId=n.generateId(),n}return Un(t,e),t.prototype.init=function(){this.datasource=this.createManagedBean(new zn),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var t=this.getAllChartColumns(),n=t.dimensionCols,i=t.valueCols,o=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(n,o,e),this.setValueCellRange(i,o,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateData()},t.prototype.getData=function(){return this.chartData},t.prototype.isGroupActive=function(){var e=this.gridOptionsWrapper.isTreeData(),t=e?null:this.columnController.getRowGroupColumns();return e||t&&t.length>0},t.prototype.isGrouping=function(){var e=this.getSelectedDimension().colId,t=this.columnController.getGroupDisplayColumns().map(function(e){return e.getColId()}).some(function(t){return t===e});return this.isGroupActive()&&t},t.prototype.isPivotActive=function(){return this.columnController.isPivotActive()},t.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},t.prototype.isPivotChart=function(){return this.pivotChart},t.prototype.getChartId=function(){return this.chartId},t.prototype.getValueColState=function(){return this.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getDimensionColState=function(){return this.dimensionColState},t.prototype.getCellRanges=function(){return[this.dimensionCellRange,this.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),t=e[0],n=t&&t.startRow,i=t&&t.endRow;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:i&&i.rowIndex,rowEndPinned:i&&i.rowPinned,columns:e.reduce(function(e,t){return e.concat(t.columns.map(function(e){return e.getId()}))},[])}},t.prototype.setChartType=function(e){this.chartType=e},t.prototype.getChartType=function(){return this.chartType},t.prototype.setChartThemeName=function(e){this.chartThemeName=e},t.prototype.getChartThemeName=function(){return this.chartThemeName},t.prototype.isSuppressChartRanges=function(){return this.suppressChartRanges},t.prototype.isDetached=function(){return this.detached},t.prototype.toggleDetached=function(){this.detached=!this.detached},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.createCellRange=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:t,startColumn:e===r.CellRangeType.DIMENSION?t[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return r._.convertToSet(this.columnController.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,this.dimensionCellRange.columns),this.valueCellRange&&e.push.apply(e,this.valueCellRange.columns),r._.convertToSet(e)},t.prototype.getColDisplayName=function(e){return this.columnController.getDisplayNameForColumn(e,"chart")},t.prototype.getRowIndexes=function(){var e=0,t=0,n=this.rangeController,i=this.valueCellRange;return n&&i&&(e=n.getRangeStartRow(i).rowIndex,t=n.getRangeEndRow(i).rowIndex),{startRow:e,endRow:t}},t.prototype.getAllChartColumns=function(){var e=this,t=this.columnController.getAllDisplayedColumns(),n=new Set,i=new Set;return t.forEach(function(t){var o=t.getColDef(),r=o.chartDataType;if(r)switch(r){case"category":case"time":return void n.add(t);case"series":return void i.add(t);case"excluded":return;default:console.warn("ag-Grid: unexpected chartDataType value '"+r+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==o.colId?t.isPrimary()?(e.isNumberCol(t)?i:n).add(t):i.add(t):n.add(t)}),{dimensionCols:n,valueCols:i}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var t=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:void 0});if(!t)return!1;var n=this.valueService.getValue(e,t);return null==n&&(n=this.extractLeafData(t,e)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},t.prototype.extractLeafData=function(e,t){if(!e.allLeafChildren)return null;for(var n=0;n<e.allLeafChildren.length;n++){var i=this.valueService.getValue(t,e.allLeafChildren[n]);if(null!=i)return i}return null},t.prototype.displayNameMapper=function(e){var t=this.columnNames[e.colId];return e.displayName=t?t.join(" - "):this.getColDisplayName(e.column),e},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.updateData=function(){var e=this.getRowIndexes(),t=e.startRow,n=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var i={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),valueCols:this.getSelectedValueCols(),startRow:t,endRow:n},o=this.datasource.getData(i);this.chartData=o.data,this.columnNames=o.columnNames},t.prototype.resetColumnState=function(){var e=this,n=this.getAllChartColumns(),i=n.dimensionCols,o=n.valueCols,s=this.getAllColumnsFromRanges(),a=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=!1,u=1;i.forEach(function(t){var n=!("ag-Grid-AutoColumn"!==t.getColId())||!l&&s.has(t);e.dimensionColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:n,order:u++}),n&&(l=!0)});var c={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslator.translate("defaultCategory"),selected:!l,order:0};this.dimensionColState.unshift(c);var h=this.referenceCellRange.columns.filter(function(e){return o.has(e)});o.forEach(function(t){a&&r._.includes(e.referenceCellRange.columns,t)&&(t=h.shift()),e.valueColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:s.has(t),order:u++})})},t.prototype.updateColumnState=function(e){var t=function(t){return t.colId===e.colId},n=this.dimensionColState,i=this.valueColState;n.filter(t).length>0?n.forEach(function(e){return e.selected=t(e)}):i.filter(t).forEach(function(t){return t.selected=e.selected});var o=qn(n,i),r=[];o.forEach(function(t,n){n===e.order&&r.push(e.colId),t.colId!==e.colId&&r.push(t.colId)}),o.forEach(function(e){var t=r.indexOf(e.colId);e.order=t>=0?r.indexOf(e.colId):o.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=this.valueColState;this.dimensionColState.sort(function(e,t){return e.order-t.order}),e.sort(function(e,t){return e.order-t.order})},t.prototype.setDimensionCellRange=function(e,n,i){var o=this;if(this.dimensionCellRange=void 0,i||this.dimensionColState.length){var s=i;s&&e.has(s.column)||(s=this.dimensionColState.filter(function(e){return e.selected})[0]),s&&s.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(r.CellRangeType.DIMENSION,s.column))}else e.forEach(function(e){!o.dimensionCellRange&&n.has(e)&&(o.dimensionCellRange=o.createCellRange(r.CellRangeType.DIMENSION,e))})},t.prototype.setValueCellRange=function(e,t,n){this.valueCellRange=void 0;var i=[];if(e.forEach(function(e){n&&n.colId===e.getColId()?n.selected&&i.push(n.column):t.has(e)&&i.push(e)}),i.length>0){var o=[];this.valueColState.length>0?o=this.valueColState.map(function(e){return e.colId}):t.forEach(function(e){return o.push(e.getColId())}),i.sort(function(e,t){return o.indexOf(e.getColId())-o.indexOf(t.getColId())}),this.valueCellRange=this.createCellRange.apply(this,qn([r.CellRangeType.VALUE],i))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(r.CellRangeType.DIMENSION,e.column))},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",Kn([r.Autowired("columnController")],t.prototype,"columnController",void 0),Kn([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Kn([r.Autowired("valueService")],t.prototype,"valueService",void 0),Kn([r.Autowired("rangeController")],t.prototype,"rangeController",void 0),Kn([r.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Kn([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Kn([r.PostConstruct],t.prototype,"init",null),t}(r.BeanStub),$n=function(){function e(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=e),void 0===i&&(i=t),this.top=e,this.right=t,this.bottom=n,this.left=i}return e.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},e}(),Xn=function(){function e(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}return e.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.dilate=function(e){this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e},e.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.render=function(t,n){void 0===n&&(n=e.noParams),t.save(),n.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=n.strokeStyle||"cyan",t.lineWidth=n.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),n.label&&(t.fillStyle=n.fillStyle||"black",t.textBaseline="bottom",t.fillText(n.label,this.x,this.y)),t.restore()},e.noParams={},e}(),Qn=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.elements=e}return e.prototype.setElements=function(e){var t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},e.prototype.setIdentityElements=function(){var e=this.elements;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},Object.defineProperty(e.prototype,"identity",{get:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.elements[4]},set:function(e){this.elements[4]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.elements[5]},set:function(e){this.elements[5]=e},enumerable:!0,configurable:!0}),e.prototype.AxB=function(e,t,n){var i=e[0],o=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=t[0],c=t[1],h=t[2],p=t[3],d=t[4],f=t[5];(n=n||e)[0]=i*u+r*c,n[1]=o*u+s*c,n[2]=i*h+r*p,n[3]=o*h+s*p,n[4]=i*d+r*f+a,n[5]=o*d+s*f+l},e.prototype.multiplySelf=function(e){return this.AxB(this.elements,e.elements),this},e.prototype.multiply=function(t){var n=new Array(6);return this.AxB(this.elements,t.elements,n),new e(n)},e.prototype.preMultiplySelf=function(e){return this.AxB(e.elements,this.elements,this.elements),this},e.prototype.inverse=function(){var t=this.elements,n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],l=1/(n*r-i*o);return new e([r*=l,-(i*=l),-(o*=l),n*=l,o*a-r*s,i*s-n*a])},e.prototype.inverseTo=function(e){var t=this.elements,n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],l=1/(n*r-i*o);return e.setElements([r*=l,-(i*=l),-(o*=l),n*=l,o*a-r*s,i*s-n*a]),this},e.prototype.invertSelf=function(){var e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],r=e[4],s=e[5],a=1/(t*o-n*i);return t*=a,n*=a,i*=a,e[0]=o*=a,e[1]=-n,e[2]=-i,e[3]=t,e[4]=i*s-o*r,e[5]=n*r-t*s,this},e.prototype.clone=function(){return new e(this.elements.slice())},e.prototype.transformPoint=function(e,t){var n=this.elements;return{x:e*n[0]+t*n[2]+n[4],y:e*n[1]+t*n[3]+n[5]}},e.prototype.transformBBox=function(e,t,n){void 0===t&&(t=0);var i,o,r=this.elements,s=r[0],a=r[1],l=r[2],u=r[3],c=.5*e.width,h=.5*e.height,p=e.x+c,d=e.y+h;if(t){c-=t,h-=t;var f=Math.sqrt(s*s+l*l),g=Math.sqrt(a*a+u*u);i=Math.abs(c*s)+Math.abs(h*l)+Math.abs(f*t),o=Math.abs(c*a)+Math.abs(h*u)+Math.abs(g*t)}else i=Math.abs(c*s)+Math.abs(h*l),o=Math.abs(c*a)+Math.abs(h*u);return n||(n=new Xn(0,0,0,0)),n.x=p*s+d*l+r[4]-i,n.y=p*a+d*u+r[5]-o,n.width=i+i,n.height=o+o,n},e.prototype.toContext=function(e){if(!this.identity){var t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},e.flyweight=function(t){return t?e.matrix.setElements(t instanceof e?t.elements:t):e.matrix.setIdentityElements(),e.matrix},e.matrix=new e,e}();function Zn(e){var t=e.constructor,n=t.className;if(!n)throw new Error("The "+t+" is missing the 'className' property.");return n+"-"+(t.id=(t.id||0)+1)}!function(e){e[e.All=0]="All",e[e.None=1]="None"}(Tn||(Tn={}));var Jn=function(){function e(){this.id=Zn(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Qn,this.inverseMatrix=new Qn,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=Tn.All}return e.isNode=function(e){return!!e&&void 0!==e.matrix},e.prototype._setScene=function(e){this._scene=e;for(var t=this.children,n=t.length,i=0;i<n;i++)t[i]._setScene(e)},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype._setParent=function(e){this._parent=e},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var n=this.children,i=n.length,o=i,r=0;r<i;r++)o+=n[r].countChildren(t-1);return o},e.prototype.append=function(t){e.isNode(t)&&(t=[t]);for(var n=t.length,i=0;i<n;i++){var o=t[i];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},e.prototype.appendChild=function(e){if(e.parent)throw new Error(e+" already belongs to another parent: "+e.parent+".");if(e.scene)throw new Error(e+" already belongs a scene: "+e.scene+".");if(this.childSet[e.id])throw new Error("Duplicate "+e.constructor.name+" node: "+e);return this._children.push(e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0,e},e.prototype.removeChild=function(e){if(e.parent===this){var t=this.children.indexOf(e);if(t>=0)return this._children.splice(t,1),delete this.childSet[e.id],e._setParent(void 0),e._setScene(void 0),this.dirty=!0,e}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(e,t){var n=e.parent;if(e.parent&&e.parent.removeChild(e),t&&t.parent===this){var i=this.children.indexOf(t);if(!(i>=0))throw new Error(t+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(i,0,e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0}else this.append(e);return e},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var t=e.children,n=t.indexOf(this);if(n>=0&&n<=t.length-1)return t[n+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(e,t){for(var n=Qn.flyweight(this.matrix),i=this.parent;i;)n.preMultiplySelf(i.matrix),i=i.parent;return n.invertSelf().transformPoint(e,t)},e.prototype.inverseTransformPoint=function(e,t){for(var n=Qn.flyweight(this.matrix),i=this.parent;i;)n.preMultiplySelf(i.matrix),i=i.parent;return n.transformPoint(e,t)},Object.defineProperty(e.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(e){this._dirtyTransform=e,e&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this._scalingX},set:function(e){this._scalingX!==e&&(this._scalingX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this._scalingY},set:function(e){this._scalingY!==e&&(this._scalingY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(e){this._scalingCenterX!==e&&(this._scalingCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(e){this._scalingCenterY!==e&&(this._scalingCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(e){this._rotationCenterX!==e&&(this._rotationCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(e){this._rotationCenterY!==e&&(this._rotationCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationX",{get:function(){return this._translationX},set:function(e){this._translationX!==e&&(this._translationX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationY",{get:function(){return this._translationY},set:function(e){this._translationY!==e&&(this._translationY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(e,t){return!1},e.prototype.pickNode=function(e,t){if(this.visible&&this.pointerEvents!==Tn.None&&this.containsPoint(e,t)){var n=this.children;if(n.length)for(var i=n.length-1;i>=0;i--){var o=n[i].pickNode(e,t);if(o)return o}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},e.prototype.computeTransformMatrix=function(){var e,t,n=[0,0],i=n[0],o=n[1],r=this.scalingX,s=this.scalingY;1===r&&1===s?(e=0,t=0):(e=null===this.scalingCenterX?i:this.scalingCenterX,t=null===this.scalingCenterY?o:this.scalingCenterY);var a,l,u=this.rotation,c=Math.cos(u),h=Math.sin(u);0===u?(a=0,l=0):(a=null===this.rotationCenterX?i:this.rotationCenterX,l=null===this.rotationCenterY?o:this.rotationCenterY);var p=this.translationX,d=this.translationY,f=e*(1-r)-a,g=t*(1-s)-l;this.dirtyTransform=!1,this.matrix.setElements([c*r,h*r,-h*s,c*s,c*f-h*g+a+p,h*f+c*g+l+d]).inverseTo(this.inverseMatrix)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){this._dirty=e,e&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.dirty=!0)},enumerable:!0,configurable:!0}),e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e}();function ei(e,t){var n=Object.create(e);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function ti(e,t){var n=Array.isArray(t)?t:t.split("."),i=e;return n.forEach(function(e){i=i[e]}),i}function ni(e,t){return!1!==t.clone&&t.isMergeableObject(e)?ai(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function ii(e,t,n){return e.concat(t).map(function(e){return ni(e,n)})}function oi(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function ri(e,t){try{return t in e}catch(n){return!1}}function si(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function ai(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||ii,n.isMergeableObject=n.isMergeableObject||si,n.cloneUnlessOtherwiseSpecified=ni;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&oi(e).forEach(function(t){i[t]=ni(e[t],n)}),oi(t).forEach(function(o){(function(e,t){return ri(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(i[o]=ri(e,o)&&n.isMergeableObject(t[o])?function(e,t){if(!t.customMerge)return ai;var n=t.customMerge(e);return"function"==typeof n?n:ai}(o,n)(e[o],t[o],n):ni(t[o],n))}),i}(e,t,n):ni(t,n)}function li(e){return"object"==typeof e&&!Array.isArray(e)}var ui=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ci=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.lastInstanceId=0,n._fillOpacity=1,n._strokeOpacity=1,n._fill=t.defaultStyles.fill,n._stroke=t.defaultStyles.stroke,n._strokeWidth=t.defaultStyles.strokeWidth,n._lineDash=t.defaultStyles.lineDash,n._lineDashOffset=t.defaultStyles.lineDashOffset,n._lineCap=t.defaultStyles.lineCap,n._lineJoin=t.defaultStyles.lineJoin,n._opacity=t.defaultStyles.opacity,n.onShadowChange=function(){n.dirty=!0},n._fillShadow=t.defaultStyles.fillShadow,n._strokeShadow=t.defaultStyles.strokeShadow,n}return ui(t,e),t.createInstance=function(e){var t=Object.create(e);return t._setParent(void 0),t.id=e.id+"-Instance-"+String(++e.lastInstanceId),t},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,t=Object.getOwnPropertyNames(e),n=0,i=t.length;n<i;n++){var o=t[n];this[o]=e[o]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var t in e)this[t]=e[t]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,t=Object.getPrototypeOf(e);for(var n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(this[n]=e[n])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,t,n){return null!=n?Math.floor(n)+Math.floor(t%1+n%1):Math.floor(t)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var t=this._lineDash;if(t!==e){if(t&&e&&t.length===e.length){for(var n=!0,i=e.length,o=0;o<i;o++)if(t[o]!==e[o]){n=!1;break}if(n)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var t=this._fillShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var t=this._strokeShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var i=this.strokeShadow;i&&i.enabled&&(e.shadowColor=i.color,e.shadowOffsetX=i.xOffset*t,e.shadowOffsetY=i.yOffset*t,e.shadowBlur=i.blur*t),e.stroke()}}},t.prototype.containsPoint=function(e,t){return this.isPointInPath(e,t)},t.defaultStyles=ei({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Jn),hi=function(){function e(e,t,n){void 0===e&&(e=window.document),void 0===t&&(t=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this.document=e,this.element=e.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(t,n)}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this.element.parentNode;null!=e&&e.removeChild(this.element)},e.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},e.prototype.toImage=function(){var e=this.document.createElement("img");return e.src=this.getDataURL(),e},e.prototype.getDataURL=function(e){return this.element.toDataURL(e)},e.prototype.download=function(e){e=((e||"").trim()||"image")+".png";var t="image/png",n=this.getDataURL(t),i=this.document;if(navigator.msSaveOrOpenBlob){for(var o=atob(n.split(",")[1]),r=[],s=0,a=o.length;s<a;s++)r.push(o.charCodeAt(s));var l=new Blob([new Uint8Array(r)],{type:t});navigator.msSaveOrOpenBlob(l,e)}else{var u=i.createElement("a");u.href=n,u.download=e,u.style.display="none",i.body.appendChild(u),u.click(),i.body.removeChild(u)}},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),e.prototype.setPixelRatio=function(t){var n=t||window.devicePixelRatio;n!==this.pixelRatio&&(e.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(e.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(e){this.element.style.imageRendering=e?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){var n=this,i=n.element,o=n.context,r=n.pixelRatio;i.width=Math.round(e*r),i.height=Math.round(t*r),i.style.width=e+"px",i.style.height=t+"px",o.resetTransform(),this._width=e,this._height=t},Object.defineProperty(e,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"svgText",{get:function(){if(this._svgText)return this._svgText;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("width","100"),t.setAttribute("height","100"),t.classList?t.classList.add("text-measuring-svg"):t.setAttribute("class","text-measuring-svg"),t.style.position="absolute",t.style.top="-1000px",t.style.visibility="hidden";var n=document.createElementNS(e,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),t.appendChild(n),document.body.appendChild(t),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(e,"has",{get:function(){return this._has?this._has:this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!/Firefox\/\d+(.\d)+/.test(window.navigator.userAgent),getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),e.measureText=function(e,t,n,i){var o=this.textMeasuringContext;return o.font=t,o.textBaseline=n,o.textAlign=i,o.measureText(e)},e.getTextSize=function(e,t){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=t;var i=n.measureText(e);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}return this.measureSvgText(e,t)},e.measureSvgText=function(e,t){var n=this.textSizeCache,i=n[t];if(i){var o=i[e];if(o)return o}else n[t]={};var r=this.svgText;r.style.font=t,r.textContent=e;var s=r.getBBox(),a={width:s.width,height:s.height};return n[t][e]=a,a},e.overrideScale=function(e,t){var n=0,i={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(e,n,i,o,r,s){this.$setTransform(e*t,n*t,i*t,o*t,r*t,s*t)},resetTransform:function(){this.$setTransform(t,0,0,t,0,0),this.save(),n=0}};for(var o in i)i.hasOwnProperty(o)&&(e["$"+o]||(e["$"+o]=e[o]),e[o]=i[o])},e.textSizeCache={},e}(),pi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),di=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=t.defaultStyles.textAlign,n._textBaseline=t.defaultStyles.textBaseline,n._lineHeight=14,n}return pi(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=[this.fontStyle||"",this.fontWeight||"",this.fontSize+"px",this.fontFamily].join(" ").trim()),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return hi.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=hi.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Xn(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=hi.getTextSize(this.text,this.font),t=this.x,n=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*e.height;break;case"middle":n-=.45*e.height;break;case"ideographic":n-=e.height;break;case"hanging":n-=.2*e.height;break;case"bottom":n-=e.height}return new Xn(t,n,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t),i=this.computeBBox();return!!i&&i.containsPoint(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,n=t.fill,i=t.stroke,o=t.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var r=this.scene.canvas.pixelRatio||1;if(n){e.fillStyle=n,e.globalAlpha=this.opacity*this.fillOpacity;var s=this,a=s.fillShadow,l=s.text,u=s.x,c=s.y;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*r,e.shadowOffsetY=a.yOffset*r,e.shadowBlur=a.blur*r),e.fillText(l,u,c)}if(i&&o){e.strokeStyle=i,e.lineWidth=o,e.globalAlpha=this.opacity*this.strokeOpacity;var h=this,p=h.lineDash,d=h.lineDashOffset,f=h.lineCap,g=h.lineJoin,m=h.strokeShadow;l=h.text,u=h.x,c=h.y,p&&e.setLineDash(p),d&&(e.lineDashOffset=d),f&&(e.lineCap=f),g&&(e.lineJoin=g),m&&m.enabled&&(e.shadowColor=m.color,e.shadowOffsetX=m.xOffset*r,e.shadowOffsetY=m.yOffset*r,e.shadowBlur=m.blur*r),e.strokeText(l,u,c)}this.dirty=!1}},t.className="Text",t.defaultStyles=ei(ci.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(ci),fi=function(){return(fi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gi=function(){function e(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return e.prototype.addPropertyListener=function(e,t,n){void 0===n&&(n=this);var i=this.allPropertyListeners,o=i.get(e);if(o||(o=new Map,i.set(e,o)),!o.has(t)){var r=new Set;o.set(t,r)}var s=o.get(t);s&&s.add(n)},e.prototype.removePropertyListener=function(e,t,n){void 0===n&&(n=this);var i=this.allPropertyListeners.get(e);if(i)if(t){var o=i.get(t);o&&(o.delete(n),o.size||i.delete(t))}else i.clear()},e.prototype.notifyPropertyListeners=function(e,t,n){var i=this,o=this.allPropertyListeners.get(e);o&&o.forEach(function(o,r){o.forEach(function(o){return r.call(o,{type:e,source:i,value:n,oldValue:t})})})},e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=this);var i=this.allEventListeners,o=i.get(e);if(o||(o=new Map,i.set(e,o)),!o.has(t)){var r=new Set;o.set(t,r)}var s=o.get(t);s&&s.add(n)},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=this);var i=this.allEventListeners.get(e);if(i)if(t){var o=i.get(t);o&&(o.delete(n),o.size||i.delete(t))}else i.clear()},e.prototype.notifyEventListeners=function(e){var t=this,n=this.allEventListeners;e.forEach(function(e){var i=n.get(e);i&&i.forEach(function(n,i){n.forEach(function(n){return i.call(n,{type:e,source:t})})})})},e.prototype.fireEvent=function(e){var t=this,n=this.allEventListeners.get(e.type);n&&n.forEach(function(n,i){n.forEach(function(n){return i.call(n,fi(fi({},e),{source:t}))})})},e.privateKeyPrefix="_",e}();function mi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){var i=gi.privateKeyPrefix+n,o=i+"Events";t[n]||(e&&(t[o]=e),Object.defineProperty(t,n,{set:function(e){var t=this[i];if(e!==t||"object"==typeof e&&null!==e){this[i]=e,this.notifyPropertyListeners(n,t,e);var r=this[o];r&&this.notifyEventListeners(r)}},get:function(){return this[i]},enumerable:!0,configurable:!0}))}}var yi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vi=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ci=function(e){function t(){var t=e.call(this)||this;t.node=new di,t.enabled=!0,t.padding=new $n(10);var n=t.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=Tn.None,t}return yi(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),vi([mi("change")],t.prototype,"enabled",void 0),vi([mi("change")],t.prototype,"padding",void 0),t}(gi);function wi(e,t){return t-=e=+e,function(n){return e+t*n}}function bi(e,t){var n=new Date,i=+e,o=+t-i;return function(e){return n.setTime(i+o*e),n}}function Si(e,t){var n,i=t?t.length:0,o=e?Math.min(i,e.length):0,r=new Array(o),s=new Array(i);for(n=0;n<o;++n)r[n]=_i(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=r[n](e);return s}}function Ei(e,t){var n,i={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=_i(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}}function _i(e,t){var n,i=typeof t;return null==t||"boolean"===i?(n=t,function(){return n}):("number"===i?wi:t instanceof Date?bi:Array.isArray(t)?Si:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Ei:wi)(e,t)}var Oi=function(e){return e};function xi(e){var t,n=e[0],i=e[e.length-1];return n>i&&(n=(t=[i,n])[0],i=t[1]),function(e){return Math.max(n,Math.min(i,e))}}var Ti=function(){function e(){this.unknown=void 0,this._clamp=Oi,this._domain=[0,1],this._range=[0,1],this.transform=Oi,this.untransform=Oi,this._interpolate=_i,this.rescale()}return Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp!==Oi},set:function(e){this._clamp=e?xi(this.domain):Oi},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(e){this._domain=Array.prototype.map.call(e,function(e){return+e}),this._clamp!==Oi&&(this._clamp=xi(this.domain)),this.rescale()},e.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(e.prototype,"domain",{get:function(){return this.getDomain()},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range.slice()},set:function(e){this._range=Array.prototype.slice.call(e),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolate",{get:function(){return this._interpolate},set:function(e){this._interpolate=e,this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){Math.min(this.domain.length,this.range.length)>2||(this.piecewise=this.bimap),this.output=void 0,this.input=void 0},e.prototype.normalize=function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n},e.prototype.bimap=function(e,t,n){var i,o,r=e[0],s=e[1],a=t[0],l=t[1];return s<r?(i=this.normalize(s,r),o=n(l,a)):(i=this.normalize(r,s),o=n(a,l)),function(e){return o(i(e))}},e.prototype.convert=function(e){return e=+e,isNaN(e)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(e))))},e.prototype.invert=function(e){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),wi)),this._clamp(this.untransform(this.input(e)))},e}(),Ri=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Pi(e,t,n){var i=Ii(e,t,n);return function(e,t,n){void 0===n&&(n=1);for(var i=Math.abs(n),o=i>0&&i<1?Math.abs(Math.floor(Math.log(i)/Math.LN10)):0,r=Math.pow(10,o),s=Math.max(0,Math.ceil((t-e)/n))||0,a=new Ni(o,s),l=0;l<s;l++)a[l]=Math.round((e+n*l)*r)/r;return a}(e=Math.ceil(e/i)*i,t=Math.floor(t/i)*i+i/2,i)}var Di=Math.sqrt(50),Ai=Math.sqrt(10),ki=Math.sqrt(2);function Ii(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=Di?o*=10:r>=Ai?o*=5:r>=ki&&(o*=2),t<e?-o:o}function Fi(e,t,n){var i=(t-e)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return o>=0?(r>=Di?10:r>=Ai?5:r>=ki?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=Di?10:r>=Ai?5:r>=ki?2:1)}var Ni=function(e){function t(t,n){void 0===n&&(n=0);var i=e.call(this,n)||this;return i.fractionDigits=t,i}return Ri(t,e),t}(Array),Mi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mi(t,e),t.prototype.ticks=function(e){void 0===e&&(e=10);var t=this._domain;return Pi(t[0],t[t.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var t,n=this.domain,i=0,o=n.length-1,r=n[i],s=n[o];s<r&&(t=r,r=s,s=t,t=i,i=o,o=t),(t=Fi(r,s,e))>0?t=Fi(r=Math.floor(r/t)*t,s=Math.ceil(s/t)*t,e):t<0&&(t=Fi(r=Math.ceil(r*t)/t,s=Math.floor(s*t)/t,e)),t>0?(n[i]=Math.floor(r/t)*t,n[o]=Math.ceil(s/t)*t,this.domain=n):t<0&&(n[i]=Math.ceil(r*t)/t,n[o]=Math.floor(s*t)/t,this.domain=n)},t}(Ti),Vi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t}return Vi(t,e),t.prototype.containsPoint=function(e,t){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,i=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(r){if(r.visible){var s=r.computeBBox();if(s){if(!(r instanceof t)){r.dirtyTransform&&r.computeTransformMatrix();for(var a=Qn.flyweight(r.matrix),l=r.parent;l;)a.preMultiplySelf(l.matrix),l=l.parent;a.transformBBox(s,0,s)}var u=s.x,c=s.y;u<e&&(e=u),c<i&&(i=c),u+s.width>n&&(n=u+s.width),c+s.height>o&&(o=c+s.height)}}}),new Xn(e,i,n-e,o-i)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);for(var t=this.children,n=t.length,i=0;i<n;i++){e.save();var o=t[i];o.visible&&o.render(e),e.restore()}},t.className="Group",t}(Jn),Hi=function(){function e(e,t){this.next=null,this.scene=e.scene,this.parent=e,this.datum=t}return e.prototype.appendChild=function(e){if(null===this.next)return this.parent.insertBefore(e,null);if(!Jn.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(e,this.next)},e.prototype.insertBefore=function(e,t){return this.parent.insertBefore(e,t)},e}(),Wi=function(){function e(e,t){this.groups=e,this.parents=t}return e.select=function(t){return new e([["function"==typeof t?t():t]],[void 0])},e.selectAll=function(t){return new e([null==t?[]:t],[void 0])},e.prototype.append=function(e){return this.select(function(t){return t.appendChild(new e)})},e.prototype.appendFn=function(e){return this.select(function(t,n,i,o){return t.appendChild(e(t,n,i,o))})},e.prototype.select=function(t){for(var n=this.groups,i=n.length,o=[],r=0;r<i;r++)for(var s=n[r],a=s.length,l=o[r]=new Array(a),u=0;u<a;u++){var c=s[u];if(c){var h=t(c,c.datum,u,s);h&&(h.datum=c.datum),l[u]=h}}return new e(o,this.parents)},e.prototype.selectByClass=function(e){return this.select(function(t){if(Jn.isNode(t))for(var n=t.children,i=n.length,o=0;o<i;o++){var r=n[o];if(r instanceof e)return r}})},e.prototype.selectByTag=function(e){return this.select(function(t){if(Jn.isNode(t))for(var n=t.children,i=n.length,o=0;o<i;o++){var r=n[o];if(r.tag===e)return r}})},e.prototype.selectAllByClass=function(e){return this.selectAll(function(t){var n=[];if(Jn.isNode(t))for(var i=t.children,o=i.length,r=0;r<o;r++){var s=i[r];s instanceof e&&n.push(s)}return n})},e.prototype.selectAllByTag=function(e){return this.selectAll(function(t){var n=[];if(Jn.isNode(t))for(var i=t.children,o=i.length,r=0;r<o;r++){var s=i[r];s.tag===e&&n.push(s)}return n})},e.prototype.selectNone=function(){return[]},e.prototype.selectAll=function(t){t||(t=this.selectNone);for(var n=[],i=[],o=this.groups,r=o.length,s=0;s<r;s++)for(var a=o[s],l=a.length,u=0;u<l;u++){var c=a[u];c&&(n.push(t(c,c.datum,u,a)),i.push(c))}return new e(n,i)},e.prototype.each=function(e){for(var t=this.groups,n=t.length,i=0;i<n;i++)for(var o=t[i],r=o.length,s=0;s<r;s++){var a=o[s];a&&e(a,a.datum,s,o)}return this},e.prototype.remove=function(){return this.each(function(e){if(Jn.isNode(e)){var t=e.parent;t&&t.removeChild(e)}})},e.prototype.merge=function(t){for(var n=this.groups,i=t.groups,o=n.length,r=Math.min(o,i.length),s=new Array(o),a=0;a<r;a++)for(var l=n[a],u=i[a],c=l.length,h=s[a]=new Array(c),p=0;p<c;p++)h[p]=l[p]||u[p]||void 0;for(;a<o;a++)s[a]=n[a];return new e(s,this.parents)},e.prototype.node=function(){for(var e=this.groups,t=e.length,n=0;n<t;n++)for(var i=e[n],o=i.length,r=0;r<o;r++){var s=i[r];if(s)return s}return null},e.prototype.attr=function(e,t){return this.each(function(n){n[e]=t}),this},e.prototype.attrFn=function(e,t){return this.each(function(n,i,o,r){n[e]=t(n,i,o,r)}),this},e.prototype.call=function(e){return e(this),this},Object.defineProperty(e.prototype,"size",{get:function(){var e=0;return this.each(function(){return e++}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=[];return this.each(function(t,n){return e.push(n)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enter",{get:function(){return new e(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return new e(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),e.prototype.setDatum=function(e){return this.each(function(t){t.datum=e})},Object.defineProperty(e.prototype,"datum",{get:function(){var e=this.node();return e?e.datum:null},enumerable:!0,configurable:!0}),e.prototype.setData=function(t,n){if("function"!=typeof t){var i=t;t=function(){return i}}for(var o=this.groups,r=this.parents,s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;c++){var h=o[c],p=r[c];if(!p)throw new Error("Group #"+c+" has no parent: "+h);var d=h.length,f=t(p,p.datum,c,r),g=f.length,m=l[c]=new Array(g),y=a[c]=new Array(g),v=u[c]=new Array(d);n?this.bindKey(p,h,m,y,v,f,n):this.bindIndex(p,h,m,y,v,f);for(var C=0,w=0;C<g;C++){var b=m[C];if(b){C>=w&&(w=C+1);for(var S=void 0;!(S=y[w])&&w<g;)w++;b.next=S||null}}}var E=new e(a,r);return E.enterGroups=l,E.exitGroups=u,E},e.prototype.bindIndex=function(e,t,n,i,o,r){for(var s=t.length,a=r.length,l=0;l<a;l++)(u=t[l])?(u.datum=r[l],i[l]=u):n[l]=new Hi(e,r[l]);for(;l<s;l++){var u;(u=t[l])&&(o[l]=u)}},e.prototype.bindKey=function(t,n,i,o,r,s,a){for(var l=n.length,u=s.length,c=new Array(l),h={},p=0;p<l;p++)(f=n[p])&&((d=c[p]=e.keyPrefix+a(f,f.datum,p,n))in h?r[p]=f:h[d]=f);for(p=0;p<u;p++){var d;(f=h[d=e.keyPrefix+a(t,s[p],p,s)])?(o[p]=f,f.datum=s[p],h[d]=void 0):i[p]=new Hi(t,s[p])}for(p=0;p<l;p++){var f;(f=n[p])&&h[c[p]]===f&&(r[p]=f)}},e.keyPrefix="$",e}(),Bi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ji=function(e){function t(){var t=e.call(this)||this;return t._x1=0,t._y1=0,t._x2=0,t._y2=0,t.restoreOwnStyles(),t}return Bi(t,e),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Xn(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.x1,n=this.y1,i=this.x2,o=this.y2;if(t===i){var r=Math.round(t)+Math.floor(this.strokeWidth)%2/2;t=r,i=r}else if(n===o){var s=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=s,o=s}e.beginPath(),e.moveTo(t,n),e.lineTo(i,o),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=ei(ci.defaultStyles,{fill:void 0,strokeWidth:1}),t}(ci),zi=2*Math.PI;function Ui(e){return e%=zi,(e+=zi)%zi}function Ki(e){return e/180*Math.PI}var qi=Math.sign?Math.sign:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1};function Yi(e,t,n,i,o,r,s,a){var l=(n-e)*(a-r)-(i-t)*(s-o);if(0===l)return null;var u=((s-o)*(t-r)-(e-o)*(a-r))/l,c=((n-e)*(t-r)-(i-t)*(e-o))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:e+u*(n-e),y:t+u*(i-t)}:null}function $i(e,t,n,i,o,r,s,a,l,u,c,h){for(var p=[],d=u-h,f=c-l,g=l*(h-u)-u*(c-l),m=Xi(e,n,o,s),y=Xi(t,i,r,a),v=function(e,t,n,i){if(0===e)return function(e,t,n){if(0===e)return function(e,t){var n=-t/e;return 0!==e&&n>=0&&n<=1?[n]:[]}(t,n);var i=t*t-4*e*n,o=[];if(0===i){var r=-t/(2*e);r>=0&&r<=1&&o.push(r)}else if(i>0){var s=Math.sqrt(i),a=(-t-s)/(2*e),l=(-t+s)/(2*e);a>=0&&a<=1&&o.push(a),l>=0&&l<=1&&o.push(l)}return o}(t,n,i);var o=t/e,r=n/e,s=(3*r-o*o)/9,a=(9*o*r-i/e*27-2*o*o*o)/54,l=s*s*s+a*a,u=1/3,c=[];if(l>=0){var h=Math.sqrt(l),p=qi(a+h)*Math.pow(Math.abs(a+h),u),d=qi(a-h)*Math.pow(Math.abs(a-h),u),f=Math.abs(Math.sqrt(3)*(p-d)/2),g=-u*o+(p+d);if(g>=0&&g<=1&&c.push(g),0===f){var m=-u*o-(p+d)/2;m>=0&&m<=1&&c.push(m)}}else{var y=Math.acos(a/Math.sqrt(-s*s*s)),v=u*o,C=2*Math.sqrt(-s),w=C*Math.cos(u*y)-v,b=C*Math.cos(u*(y+2*Math.PI))-v,S=C*Math.cos(u*(y+4*Math.PI))-v;w>=0&&w<=1&&c.push(w),b>=0&&b<=1&&c.push(b),S>=0&&S<=1&&c.push(S)}return c}(d*m[0]+f*y[0],d*m[1]+f*y[1],d*m[2]+f*y[2],d*m[3]+f*y[3]+g),C=0;C<v.length;C++){var w,b=v[C],S=b*b,E=b*S,_=m[0]*E+m[1]*S+m[2]*b+m[3],O=y[0]*E+y[1]*S+y[2]*b+y[3];(w=l!==c?(_-l)/(c-l):(O-u)/(h-u))>=0&&w<=1&&p.push({x:_,y:O})}return p}function Xi(e,t,n,i){return[3*t-e-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}var Qi=function(){function e(){this.commands=[],this.params=[],this._closedPath=!1}return e.prototype.moveTo=function(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push("M"),this.params.push(e,t)},e.prototype.lineTo=function(e,t){this.xy?(this.commands.push("L"),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)},e.prototype.rect=function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},e.prototype.arcTo=function(e,t,n,i,o,r,s){var a=this.xy;if(a){e<0&&(e=-e),t<0&&(t=-t);var l=a[0],u=a[1],c=(l-r)/2,h=(u-s)/2,p=Math.sin(n),d=Math.cos(n),f=d*c+p*h,g=-p*c+d*h,m=f/e,y=g/t,v=m*m+y*y,C=(l+r)/2,w=(u+s)/2,b=0,S=0;v>=1?(e*=v=Math.sqrt(v),t*=v):(v=Math.sqrt(1/v-1),i===o&&(v=-v),C+=d*(b=v*e*y)-p*(S=-v*t*m),w+=p*b+d*S);var E=Math.atan2((g-S)/t,(f-b)/e),_=Math.atan2((-g-S)/t,(-f-b)/e)-E;this.cubicArc(C,w,e,t,n,E,E+_,1-o)}},e.prototype.arcToAlt=function(e,t,n,i,o,r,s){},e.cubicArc=function(e,t,n,i,o,r,s,a,l,u){if(u){var c=a;a=l,l=c}var h=t.length,p=.5522847498307935,d=Math.sin(a),f=Math.cos(a),g=Math.sin(s),m=Math.cos(s),y=Math.PI/2,v=m*f*o-g*d*r,C=g*f*o+m*d*r,w=-m*d*o-g*f*r,b=-g*d*o+m*f*r;for((l-=a)<0&&(l+=2*Math.PI),e.push("M"),t.push(v+n,C+i);l>=y;){l-=y,e.push("C");var S=w+n;t.push(v+w*p+n,C+b*p+i,v*p+w+n,C*p+b+i,Math.abs(S)<1e-8?0:S,b+i),c=v,v=w,w=-c,c=C,C=b,b=-c}if(l){var E=4/3*Math.tan(l/4),_=Math.sin(l),O=Math.cos(l),x=O+E*_,T=_-E*O;e.push("C"),S=v*O+w*_+n,t.push(v+w*E+n,C+b*E+i,v*x+w*T+n,C*x+b*T+i,Math.abs(S)<1e-8?0:S,C*O+b*_+i)}if(u)for(var R=h,P=t.length-2;R<P;R+=2,P-=2)c=t[R],t[R]=t[P],t[P]=c,c=t[R+1],t[R+1]=t[P+1],t[P+1]=c},e.prototype.cubicArc=function(t,n,i,o,r,s,a,l){var u=this.commands,c=this.params,h=u.length;e.cubicArc(u,c,t,n,i,o,r,s,a,l);var p=c[c.length-2],d=c[c.length-1];this.xy?(u[h]="L",this.xy[0]=p,this.xy[1]=d):this.xy=[p,d]},e.prototype.deCasteljau=function(e,t){var n=e.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===t)return e.slice(0,2);if(1===t)return e.slice(-2);for(var i=[],o=n-2,r=0;r<o;r+=2)i.push((1-t)*e[r]+t*e[r+2],(1-t)*e[r+1]+t*e[r+3]);return this.deCasteljau(i,t)},e.prototype.approximateCurve=function(e,t){var n=this.deCasteljau(e,0);this.moveTo(n[0],n[1]);for(var i=1/t,o=i;o<=1;o+=i){var r=this.deCasteljau(e,o);this.lineTo(r[0],r[1])}},e.prototype.quadraticCurveTo=function(e,t,n,i){this.xy||this.moveTo(e,t),this.cubicCurveTo((this.xy[0]+2*e)/3,(this.xy[1]+2*t)/3,(2*e+n)/3,(2*t+i)/3,n,i)},e.prototype.cubicCurveTo=function(e,t,n,i,o,r){this.xy||this.moveTo(e,t),this.commands.push("C"),this.params.push(e,t,n,i,o,r),this.xy[0]=o,this.xy[1]=r},Object.defineProperty(e.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),e.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},e.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},e.prototype.isPointInPath=function(e,t){for(var n=this.commands,i=this.params,o=n.length,r=-1e4,s=-1e4,a=NaN,l=NaN,u=0,c=0,h=0,p=0,d=0;p<o;p++)switch(n[p]){case"M":isNaN(a)||Yi(a,l,u,c,r,s,e,t)&&h++,a=u=i[d++],l=c=i[d++];break;case"L":Yi(u,c,u=i[d++],c=i[d++],r,s,e,t)&&h++;break;case"C":h+=$i(u,c,i[d++],i[d++],i[d++],i[d++],u=i[d++],c=i[d++],r,s,e,t).length;break;case"Z":isNaN(a)||Yi(a,l,u,c,r,s,e,t)&&h++}return h%2==1},e.fromString=function(t){var n=new e;return n.setFromString(t),n},e.parseSvgPath=function(t){return t.trim().split(e.splitCommandsRe).map(function(t){var n=t.match(e.matchParamsRe);return{command:t.substr(0,1),params:n?n.map(parseFloat):[]}})},e.prettifySvgPath=function(t){return e.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},e.prototype.setFromString=function(t){var n,i,o,r,s,a=this;function l(){s.match(e.quadraticCommandRe)||(o=n,r=i)}function u(){s.match(e.cubicCommandRe)||(o=n,r=i)}this.clear(),e.parseSvgPath(t).forEach(function(e){var t=e.params,c=t.length,h=0;switch(e.command){case"M":for(a.moveTo(n=t[h++],i=t[h++]);h<c;)a.lineTo(n=t[h++],i=t[h++]);break;case"m":for(a.moveTo(n+=t[h++],i+=t[h++]);h<c;)a.lineTo(n+=t[h++],i+=t[h++]);break;case"L":for(;h<c;)a.lineTo(n=t[h++],i=t[h++]);break;case"l":for(;h<c;)a.lineTo(n+=t[h++],i+=t[h++]);break;case"C":for(;h<c;)a.cubicCurveTo(t[h++],t[h++],o=t[h++],r=t[h++],n=t[h++],i=t[h++]);break;case"c":for(;h<c;)a.cubicCurveTo(n+t[h++],i+t[h++],o=n+t[h++],r=i+t[h++],n+=t[h++],i+=t[h++]);break;case"S":for(u();h<c;)a.cubicCurveTo(n+n-o,i+i-r,o=t[h++],r=t[h++],n=t[h++],i=t[h++]);break;case"s":for(u();h<c;)a.cubicCurveTo(n+n-o,i+i-r,o=n+t[h++],r=i+t[h++],n+=t[h++],i+=t[h++]);break;case"Q":for(;h<c;)a.quadraticCurveTo(o=t[h++],r=t[h++],n=t[h++],i=t[h++]);break;case"q":for(;h<c;)a.quadraticCurveTo(o=n+t[h++],r=i+t[h++],n+=t[h++],i+=t[h++]);break;case"T":for(l();h<c;)a.quadraticCurveTo(o=n+n-o,r=i+i-r,n=t[h++],i=t[h++]);break;case"t":for(l();h<c;)a.quadraticCurveTo(o=n+n-o,r=i+i-r,n+=t[h++],i+=t[h++]);break;case"A":for(;h<c;)a.arcTo(t[h++],t[h++],t[h++]*Math.PI/180,t[h++],t[h++],n=t[h++],i=t[h++]);break;case"a":for(;h<c;)a.arcTo(t[h++],t[h++],t[h++]*Math.PI/180,t[h++],t[h++],n+=t[h++],i+=t[h++]);break;case"Z":case"z":a.closePath();break;case"H":for(;h<c;)a.lineTo(n=t[h++],i);break;case"h":for(;h<c;)a.lineTo(n+=t[h++],i);break;case"V":for(;h<c;)a.lineTo(n,i=t[h++]);break;case"v":for(;h<c;)a.lineTo(n,i+=t[h++])}s=e.command})},e.prototype.toString=function(){for(var e=this.commands,t=this.params,n=e.length,i=[],o=0,r=0;o<n;o++)switch(e[o]){case"M":i.push("M"+t[r++]+","+t[r++]);break;case"L":i.push("L"+t[r++]+","+t[r++]);break;case"C":i.push("C"+t[r++]+","+t[r++]+" "+t[r++]+","+t[r++]+" "+t[r++]+","+t[r++]);break;case"Z":i.push("Z")}return i.join("")},e.prototype.toPrettyString=function(){return e.prettifySvgPath(this.toString())},e.prototype.toSvg=function(){return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toDebugSvg=function(){var t=e.prettifySvgPath(this.toString());return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toCubicPaths=function(){var e,t,n,i,o,r=[],s=this.params,a=0;return this.commands.forEach(function(l){switch(l){case"M":e=[t=i=s[a++],n=o=s[a++]],r.push(e);break;case"L":var u=s[a++],c=s[a++];e.push((i+i+u)/3,(o+o+c)/3,(i+u+u)/3,(o+c+c)/3,i=u,o=c);break;case"C":e.push(s[a++],s[a++],s[a++],s[a++],i=s[a++],o=s[a++]);break;case"Z":e.push((i+i+t)/3,(o+o+n)/3,(i+t+t)/3,(o+n+n)/3,i=t,o=n)}}),r},e.cubicPathToString=function(e){var t=e.length;if(!(t%2==0&&(t/2-1)/2>=1))throw new Error("Invalid path.");return"M"+e.slice(0,2).join(",")+"C"+e.slice(2).join(",")},e.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,e.matchParamsRe=/-?[0-9]*\.?\d+/g,e.quadraticCommandRe=/[QqTt]/,e.cubicCommandRe=/[CcSs]/,e.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',e.xmlns="http://www.w3.org/2000/svg",e}(),Zi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Qi,t._dirtyPath=!0,t._svgPath="",t}return Zi(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var t=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),t.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(ci);function eo(e,t,n){return void 0===n&&(n=1e-10),Math.abs(e-t)<n}function to(e,t){void 0===t&&(t=2);var n=Math.floor(Math.log(Math.abs(e))/Math.LN10);return n>=0||!isFinite(n)?e.toFixed(t):e.toFixed(Math.abs(n)-1+t)}var no,io=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){e[e.Open=0]="Open",e[e.Chord=1]="Chord",e[e.Round=2]="Round"}(no||(no={}));var oo,ro=function(e){function t(){var t=e.call(this)||this;return t._centerX=0,t._centerY=0,t._radiusX=10,t._radiusY=10,t._startAngle=0,t._endAngle=2*Math.PI,t._counterClockwise=!1,t._type=no.Open,t.restoreOwnStyles(),t}return io(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return eo(Ui(this.startAngle),Ui(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===no.Chord?e.closePath():this.type!==no.Round||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new Xn(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t),i=this.computeBBox();return this.type!==no.Open&&i.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},t.className="Arc",t.defaultStyles=ei(ci.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Ji);!function(e){e[e.Tick=0]="Tick",e[e.GridLine=1]="GridLine"}(oo||(oo={}));var so,ao,lo=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},uo=function(){function e(){this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){this._format!==e&&(this._format=e,this.onFormatChange&&this.onFormatChange(e))},enumerable:!0,configurable:!0}),e}(),co=function(){function e(e){this.lineNode=new ji,this.group=new Gi,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new lo,this.label=new uo,this.translation={x:0,y:0},this.rotation=0,this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.scale=e,this.requestedRange=e.range.slice(),this.groupSelection=Wi.select(this.group).selectAll(),this.label.onFormatChange=this.onTickFormatChange.bind(this),this.group.append(this.lineNode),this.onTickFormatChange()}return e.prototype.updateRange=function(){var e=this,t=e.requestedRange,n=e.visibleRange,i=(t[1]-t[0])/(n[1]-n[0]),o=t[0]-i*n[0];e.scale.range=[o,o+i]},e.prototype.inRange=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),0===this.inRangeEx(e,t,n)},e.prototype.inRangeEx=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=this.range;return e+t<i[0]-n?-1:e>i[1]+n?1:0},Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(e){if(e&&2===e.length){var t=e[0],n=e[1];t=Math.max(0,t),n=Math.min(1,n),t=Math.min(t,n),n=Math.max(t,n),this._visibleRange=[t,n],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.slice()},enumerable:!0,configurable:!0}),e.prototype.onTickFormatChange=function(e){e?this.scale.tickFormat&&(this.tickFormatter=this.scale.tickFormat(10,e)):this.tickFormatter=this.scale.tickFormat?this.scale.tickFormat(10,void 0):void 0},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&this.group.removeChild(t.node),e&&(e.node.rotation=-Math.PI/2,this.group.appendChild(e.node)),this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(e){this._radialGrid!==e&&(this._radialGrid=e,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),e.prototype.update=function(){var e=this,t=this,n=t.group,i=t.scale,o=t.tick,r=t.label,s=t.gridStyle,a=t.requestedRange,l=Math.min(a[0],a[1]),u=Math.max(a[0],a[1]),c=Ki(this.rotation),h=r.parallel,p=Ui(Ki(r.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=c;var d=(i.bandwidth||0)/2,f=r.mirrored?1:-1,g=Ui(c),m=!p&&g>=0&&g<=Math.PI?-1:1,y=Ui(c-Math.PI/2),v=!p&&y>=0&&y<=Math.PI?-1:1,C=p>=0&&p<=Math.PI?-1:1,w=i.ticks(this.tick.count),b=this.groupSelection.setData(w);b.exit.remove();var S=b.enter.append(Gi);S.append(ji).each(function(e){return e.tag=oo.Tick}),this.gridLength&&(this.radialGrid?S.append(ro).each(function(e){return e.tag=oo.GridLine}):S.append(ji).each(function(e){return e.tag=oo.GridLine})),S.append(di);var E,_=b.merge(S);if(_.attrFn("translationY",function(e,t){return Math.round(i.convert(t)+d)}).attrFn("visible",function(e){return e.translationY>=l&&e.translationY<=u}),_.selectByTag(oo.Tick).each(function(e){e.strokeWidth=o.width,e.stroke=o.color}).attr("x1",f*o.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&s.length){var O=s.length,x=void 0;if(this.radialGrid){var T=(E=Ki(this.gridLength),E%=zi,(E+=zi)!==zi&&(E%=zi),E);x=_.selectByTag(oo.GridLine).each(function(e,t){var n=Math.round(i.convert(t)+d);e.centerX=0,e.centerY=i.range[0]-n,e.endAngle=T,e.radiusX=n,e.radiusY=n})}else x=_.selectByTag(oo.GridLine).each(function(t){t.x1=0,t.x2=-f*e.gridLength,t.y1=0,t.y2=0,t.visible=Math.abs(t.parent.translationY-i.range[0])>1});x.each(function(e,t,n){var i=s[n%O];e.stroke=i.stroke,e.strokeWidth=o.width,e.lineDash=i.lineDash,e.fill=void 0})}var R=this.tickFormatter,P=w.fractionDigits>=0?w.fractionDigits:0,D=_.selectByClass(di).each(function(e,t,n){e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.fill=r.color,e.textBaseline=h&&!p?f*m==-1?"hanging":"bottom":"middle",e.text=r.formatter?r.formatter({value:P>=0?t:String(t),index:n,fractionDigits:P,formatter:R}):P?t.toFixed(P):R?R(t):String(t),e.textAlign=h?p?f*C==-1?"end":"start":"center":f*v==-1?"end":"start"}),A=f*(o.size+r.padding),k=h?m*Math.PI/2:-1===v?Math.PI:0;D.each(function(e){e.x=A,e.rotationCenterX=A,e.rotation=k+p}),this.groupSelection=_;var I=this.lineNode;I.x1=0,I.x2=0,I.y1=a[0],I.y2=a[1],I.strokeWidth=this.line.width,I.stroke=this.line.color,I.visible=w.length>0;var F=this.title,N=!1;if(F&&F.enabled){N=!0;var M=F.padding.bottom,L=F.node,V=this.computeBBox({excludeTitle:!0}),G=-1===f&&g>Math.PI&&g<2*Math.PI?-1:1;L.rotation=G*f*Math.PI/2,L.x=G*f*(I.y1+I.y2)/2,L.x=G*f*(a[0]+a[1])/2,L.y=-1===f?G*(-M-V.width+Math.max(V.x+V.width,0)):-M-V.width-Math.min(V.x,0),L.textBaseline=1===G?"bottom":"top"}F&&(F.node.visible=N)},e.prototype.computeBBox=function(e){var t=this.title,n=this.lineNode,i=this.groupSelection.selectByClass(di),o=1/0,r=-1/0,s=1/0,a=-1/0;if(i.each(function(e){e.computeTransformMatrix();var t=Qn.flyweight(e.matrix),n=e.parent;n.computeTransformMatrix(),t.preMultiplySelf(n.matrix);var i=e.computeBBox();if(i){var l=t.transformBBox(i);o=Math.min(o,l.x),r=Math.max(r,l.x+l.width),s=Math.min(s,l.y),a=Math.max(a,l.y+l.height)}}),t&&t.enabled&&(!e||!e.excludeTitle)){var l=t.node;l.computeTransformMatrix();var u=Qn.flyweight(l.matrix),c=l.computeBBox();if(c){var h=u.transformBBox(c);o=Math.min(o,h.x),r=Math.max(r,h.x+h.width),s=Math.min(s,h.y),a=Math.max(a,h.y+h.height)}}return o=Math.min(o,0),r=Math.max(r,0),s=Math.min(s,n.y1,n.y2),a=Math.max(a,n.y1,n.y2),new Xn(o,s,r-o,a-s)},e}(),ho=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function po(e){return e===so.X?so.Y:so.X}!function(e){e.X="x",e.Y="y"}(so||(so={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Angle="angle",e.Radius="radius"}(ao||(ao={}));var fo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keys=[],t.boundSeries=[],t}return ho(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case ao.Top:this.direction=so.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case ao.Right:this.direction=so.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case ao.Bottom:this.direction=so.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case ao.Left:this.direction=so.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(co),go=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mo=function(e){function t(){var t=e.call(this,new Li)||this;return t._nice=!0,t._min=NaN,t._max=NaN,t.scale.clamp=!0,t}return go(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var t=this.min,n=this.max;e=[isNaN(t)?e[0]:t,isNaN(n)?e[1]:n],this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.className="NumberAxis",t.type="number",t}(fo),yo=function(){function e(){this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},set:function(e){var t=this._domain;t.length=0,this.index=new Map;var n=this.index;e.forEach(function(e){void 0===n.get(e)&&n.set(e,t.push(e)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range[0]=e[0],this._range[1]=e[1],this.rescale()},enumerable:!0,configurable:!0}),e.prototype.ticks=function(){return this._domain},e.prototype.convert=function(e){var t=this.index.get(e);if(void 0===t)return NaN;var n=this.ordinalRange[t];return void 0===n?NaN:n},Object.defineProperty(e.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._paddingInner},set:function(e){e=Math.max(0,Math.min(1,e)),this._paddingInner=e,this._paddingOuter=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(e){this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(e){this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(e){this._round=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var e,t=this._domain.length;if(t){var n=this._range,i=n[0],o=n[1],r=o<i;r&&(i=(e=[o,i])[0],o=e[1]);var s=(o-i)/Math.max(1,t-this._paddingInner+2*this._paddingOuter);this._round&&(s=Math.floor(s)),i+=(o-i-s*(t-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(i=Math.round(i),this._bandwidth=Math.round(this._bandwidth));for(var a=[],l=0;l<t;l++)a.push(i+s*l);this.ordinalRange=r?a.reverse():a}},e}(),vo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Co=function(e){function t(){var t=new yo;return t.paddingInner=.2,t.paddingOuter=.3,e.call(this,t)||this}return vo(t,e),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(fo);function wo(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}}function bo(e){for(var t,n,i,o=e.length,r=-1;++r<o;)if(null!=(t=e[r])&&t>=t&&isFinite(t))for(n=i=t;++r<o;)null!=(t=e[r])&&isFinite(t)&&(n>t&&(n=t),i<t&&(i=t));return void 0===n||void 0===i?void 0:[n,i]}function So(e){var t=bo(e);if(void 0!==t){var n=t[0],i=t[1],o=n instanceof Date?n.getTime():n,r=i instanceof Date?i.getTime():i;return"number"==typeof o&&isFinite(o)&&"number"==typeof r&&isFinite(r)?[o,r]:void 0}}function Eo(e){for(var t=0,n=0,i=0,o=e;i<o.length;i++){var r=o[i];r<0?t+=r:n+=r}return{min:t,max:n}}function _o(e){for(var t=0,n=0,i=0,o=e;i<o.length;i++){var r=o[i];r.min<t&&(t=r.min),r.max>n&&(n=r.max)}return{min:t,max:n}}function Oo(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var i=[],o=e.length;if(o)for(var r=0;r<n;r++)i.push(e[(t+r)%o]);return i}var xo=function(){function e(e,t,n){void 0===e&&(e=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=n}return e.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},e.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},e.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},e.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},e.prototype.getSiblings=function(){var e=this;return this.parent?this.parent.children.filter(function(t,n){return n!==e.number}):[]},e}();function To(e,t,n){var i=n/(t.number-e.number);t.change-=i,t.shift+=n,e.change+=i,t.prelim+=n,t.mod+=n}function Ro(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function Po(e,t){var n=e.children;if(n.length){var i=n[0];n.forEach(function(e){Po(e,t),i=function(e,t,n){var i=e.getLeftSibling();if(i){for(var o=e,r=e,s=i,a=r.getLeftmostSibling(),l=r.mod,u=o.mod,c=s.mod,h=a.mod;s.nextRight()&&r.nextLeft();){s=s.nextRight(),r=r.nextLeft(),a=a.nextLeft(),(o=o.nextRight()).ancestor=e;var p=s.prelim+c-(r.prelim+l)+n;p>0&&(To(Ro(s,e,t),e,p),l+=p,u+=p),c+=s.mod,l+=r.mod,h+=a.mod,u+=o.mod}s.nextRight()&&!o.nextRight()?(o.thread=s.nextRight(),o.mod+=c-u):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-h),t=e)}return t}(e,i,t)}),function(e){var t=e.children;if(t)for(var n=0,i=0,o=t.length-1;o>=0;o--){var r=t[o];r.prelim+=n,r.mod+=n,n+=r.shift+(i+=r.change)}}(e);var o=(n[0].prelim+n[n.length-1].prelim)/2;(r=e.getLeftSibling())?(e.prelim=r.prelim+t,e.mod=e.prelim-o):e.prelim=o}else{var r=e.getLeftSibling();e.prelim=r?r.prelim+t:0}}var Do=function(){function e(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return e.prototype.update=function(e,t){var n=t(e),i=n.x,o=n.y;i>this.right&&(this.right=i),i<this.left&&(this.left=i),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},e}();function Ao(e,t,n){e.x=e.prelim+t,e.y=e.depth,n.update(e),e.children.forEach(function(i){return Ao(i,t+e.mod,n)})}function ko(e){var t=e.children,n=0;t.forEach(function(e){ko(e),e.children.length?n+=e.leafCount:n++}),e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function Io(e){var t=new Fo;return Po(e,1),Ao(e,-e.prelim,t),ko(e),t}var Fo=function(){function e(){this.dimensions=new Do,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return e.prototype.update=function(e){this.dimensions.update(e,function(e){return{x:e.x,y:e.y}}),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)},e.prototype.resize=function(e,t,n,i,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=!1);var r=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,u=1;e>0&&r&&(l=e/r/((a.right-a.left)/r),o&&(l=-l)),t>0&&s&&(u=t/s/((a.bottom-a.top)/s));var c=new Do;this.nodes.forEach(function(e){e.screenX=e.x*l,e.screenY=e.y*u,c.update(e,function(e){return{x:e.screenX,y:e.screenY}})});var h=-c.left,p=-c.top;this.nodes.forEach(function(e){e.screenX+=h+n,e.screenY+=p+i})},e}(),No=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.grid=!1,t}return No(t,e),t}(uo),Lo=function(e){function t(){var t=e.call(this,new yo)||this;t.id=Zn(t),t.tickScale=new yo,t.group=new Gi,t.longestSeparatorLength=0,t.translation={x:0,y:0},t.rotation=0,t.line={width:1,color:"rgba(195, 195, 195, 1)"},t.label=new Mo,t.labelColor="rgba(87, 87, 87, 1)";var n=t.group,i=t.scale,o=t.tickScale;return i.paddingOuter=.1,i.paddingInner=2*i.paddingOuter,t.requestedRange=i.range.slice(),o.paddingInner=1,o.paddingOuter=0,t.gridLineSelection=Wi.select(n).selectAll(),t.axisLineSelection=Wi.select(n).selectAll(),t.separatorSelection=Wi.select(n).selectAll(),t.labelSelection=Wi.select(n).selectAll(),t}return No(t,e),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.scale.domain=e;var t=function(e,t){void 0===t&&(t=!0);var n=new xo,i=0;return t&&e.forEach(function(e){return i=Math.max(i,e.labels.length)}),e.forEach(function(e){if(t)for(;e.labels.length<i;)e.labels.unshift("");!function(e,t){var n=t.labels.slice().reverse(),i=n.length-1;n.forEach(function(t,n){var o=e.children,r=wo(o,function(e){return e.label===t}),s=n!==i;if(r&&s)e=r;else{var a=new xo(t,e);a.number=o.length,o.push(a),s&&(e=a)}})}(n,e)}),n}(e);this.tickTreeLayout=Io(t);var n=e.slice();n.push(""),this.tickScale.domain=n,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,t=e.requestedRange,n=e.visibleRange,i=(t[1]-t[0])/(n[1]-n[0]),o=t[0]-i*n[0];this.tickScale.range=e.scale.range=[o,o+i],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,i=this.lineHeight;n&&n.resize(Math.abs(t[1]-t[0]),n.depth*i,(Math.min(t[0],t[1])||0)+(e.bandwidth||0)/2,-n.depth*i,t[1]-t[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,t=this,n=t.group,i=t.scale,o=t.label,r=t.tickScale,s=t.requestedRange,a=i.range[0],l=i.range[1],u=Math.abs(l-a)/i.domain.length||0,c=o.parallel,h=Ki(this.rotation),p=Math.abs(Math.cos(h))<1e-8,d=Ui(Ki(this.label.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=h;var f=this.title;f&&(f.node.visible=!1);var g=this.lineHeight,m=this.tickTreeLayout,y=i.ticks(),v=m?m.nodes:[],C=!!m&&m.depth>1,w=r.ticks(),b=o.mirrored?1:-1,S=Ui(h),E=!d&&S>=0&&S<=Math.PI?-1:1,_=Ui(h-Math.PI/2),O=!d&&_>=0&&_<=Math.PI?-1:1,x=this.gridLineSelection.setData(this.gridLength?w:[]);x.exit.remove();var T=x.enter.append(ji),R=x.merge(T),P=this.labelSelection.setData(v);P.exit.remove();var D=P.enter.append(di),A=P.merge(D),k=o.formatter,I=0;A.each(function(e,t,n){e.fontStyle=o.fontStyle,e.fontWeight=o.fontWeight,e.fontSize=o.fontSize,e.fontFamily=o.fontFamily,e.fill=o.color,e.textBaseline=-1===E?"bottom":"hanging",e.textAlign="center",e.translationX=t.screenY-.25*o.fontSize,e.translationY=t.screenX,0===n?f&&f.enabled&&y.length>0?(e.visible=!0,e.text=f.text,e.fontSize=f.fontSize,e.fontStyle=f.fontStyle,e.fontWeight=f.fontWeight,e.fontFamily=f.fontFamily,e.textBaseline="hanging"):e.visible=!1:(e.text=k?k({value:String(t.label),index:n}):String(t.label),e.visible=t.screenX>=s[0]&&t.screenX<=s[1]);var i=e.computeBBox();i&&i.width>I&&(I=i.width)});var F=b*o.padding,N=c?E*Math.PI/2:-1===O?Math.PI:0,M=this.label.grid,L=[];A.each(function(t,n,i){if(t.x=F,t.rotationCenterX=F,n.children.length?(t.translationX-=I-g+e.label.padding,t.rotation=p?N:-Math.PI/2):(t.rotation=d,t.textAlign="end",t.textBaseline="middle"),n.parent&&C){var o=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var r=-I-2*e.label.padding+n.screenY;L.push({y:o,x1:r+g,x2:r,toString:function(){return String(i)}})}else(n.number!==n.children.length-1||M)&&L.push({y:o,x1:0,x2:-I-2*e.label.padding,toString:function(){return String(i)}})}});var V=0;L.forEach(function(e){return V=Math.min(V,e.x2)}),this.longestSeparatorLength=Math.abs(V),L.push({y:Math.max(a,l),x1:0,x2:V,toString:function(){return String(L.length)}});var G=this.separatorSelection.setData(L);G.exit.remove();var H=G.enter.append(ji),W=G.merge(H);this.separatorSelection=W,W.each(function(t,n,i){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=s[0]-1e-7&&n.y<=s[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1}),this.gridLineSelection=R,this.labelSelection=A;for(var B=m?m.depth+1:1,j=[],z=0;z<B;z++)j.push(z);var U=this.axisLineSelection.setData(j);U.exit.remove();var K=U.enter.append(ji),q=U.merge(K);if(this.axisLineSelection=q,q.each(function(t,n,i){var o=i>0?-I-2*e.label.padding-(i-1)*g:0;t.x1=o,t.x2=o,t.y1=s[0],t.y2=s[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=y.length>0&&(0===i||M&&C)}),this.gridLength){var Y=this.gridStyle,$=Y.length;R.each(function(t,n,i){var o=Math.round(r.convert(n));t.x1=0,t.x2=-b*e.gridLength,t.y1=o,t.y2=o,t.visible=o>=s[0]&&o<=s[1]&&Math.abs(t.parent.translationY-a)>1;var l=Y[i%$];t.stroke=l.stroke,t.strokeWidth=e.tick.width,t.lineDash=l.lineDash,t.fill=void 0})}},t.prototype.computeBBox=function(e){var t=!e||!e.excludeTitle,n=1/0,i=-1/0,o=1/0,r=-1/0;return this.labelSelection.each(function(e,s,a){if(a>0||t){e.computeTransformMatrix();var l=Qn.flyweight(e.matrix),u=e.computeBBox();if(u){var c=l.transformBBox(u);n=Math.min(n,c.x),i=Math.max(i,c.x+c.width),o=Math.min(o,c.y),r=Math.max(r,c.y+c.height)}}}),new Xn(n,o,Math.max(i-n,this.longestSeparatorLength),r-o)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(fo),Vo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Go=new Date,Ho=new Date,Wo=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r._count=i,r._field=o,r}return Vo(t,e),t.prototype.count=function(e,t){return Go.setTime(+e),Ho.setTime(+t),this._floor(Go),this._floor(Ho),Math.floor(this._count(Go,Ho))},t.prototype.every=function(e){var t,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var i=this._field;t=this.filter(i?function(t){return i(t)%e==0}:function(t){return n.count(0,t)%e==0})}else t=this;return t},t}(function(){function e(e,t){this._floor=e,this._offset=t}return e.prototype.floor=function(e){return e=new Date(+e),this._floor(e),e},e.prototype.ceil=function(e){return e=new Date(+e-1),this._floor(e),this._offset(e,1),this._floor(e),e},e.prototype.round=function(e){var t=this.floor(e),n=this.ceil(e),i=+e;return i-t.getTime()<n.getTime()-i?t:n},e.prototype.offset=function(e,t){return void 0===t&&(t=1),e=new Date(+e),this._offset(e,Math.floor(t)),e},e.prototype.range=function(e,t,n){void 0===n&&(n=1);var i,o=[];if(e=this.ceil(e),n=Math.floor(n),e>t||n<=0)return o;do{i=new Date(+e),o.push(i),this._offset(e,n),this._floor(e)}while(i<e&&e<t);return o},e.prototype.filter=function(t){var n=this;return new e(function(e){if(e>=e)for(;n._floor(e),!t(e);)e.setTime(e.getTime()-1);return e},function(e,i){if(e>=e)if(i<0)for(;++i<=0;)do{n._offset(e,-1)}while(!t(e));else for(;--i>=0;)do{n._offset(e,1)}while(!t(e));return e})},e}()),Bo=new Wo(function(e){return e},function(e,t){e.setTime(e.getTime()+t)},function(e,t){return t.getTime()-e.getTime()}),jo=1e3,zo=6e4,Uo=36e5,Ko=864e5,qo=6048e5,Yo=2592e6,$o=31536e6,Xo=new Wo(function(e){e.setTime(e.getTime()-e.getMilliseconds())},function(e,t){e.setTime(e.getTime()+t*jo)},function(e,t){return(t.getTime()-e.getTime())/jo}),Qo=new Wo(function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*jo)},function(e,t){e.setTime(e.getTime()+t*zo)},function(e,t){return(t.getTime()-e.getTime())/zo},function(e){return e.getMinutes()}),Zo=new Wo(function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*jo-e.getMinutes()*zo)},function(e,t){e.setTime(e.getTime()+t*Uo)},function(e,t){return(t.getTime()-e.getTime())/Uo},function(e){return e.getHours()}),Jo=new Wo(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){var n=t.getTimezoneOffset()-e.getTimezoneOffset();return(t.getTime()-e.getTime()-n*zo)/Ko},function(e){return e.getDate()-1});function er(e){return new Wo(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t.getTime()-e.getTime()-(t.getTimezoneOffset()-e.getTimezoneOffset())*zo)/qo})}var tr=er(0),nr=er(1),ir=(er(2),er(3),er(4));er(5),er(6);var or=new Wo(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),rr=new Wo(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),sr=new Wo(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/Ko},function(e){return e.getUTCDate()-1}),ar=new Wo(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function lr(e){return new Wo(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t.getTime()-e.getTime())/qo})}var ur=lr(0),cr=lr(1),hr=(lr(2),lr(3),lr(4));function pr(e){if(e.y>=0&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dr(e){if(e.y>=0&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fr(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n].toLowerCase()]=n;return t}function gr(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}lr(5),lr(6);var mr,yr=/^\s*\d+/,vr=/^%/,Cr=/[\\^$*+?|[\]().{}]/g,wr=function(e){return e.replace(Cr,"\\$&")},br=function(e){return new RegExp("^(?:"+e.map(wr).join("|")+")","i")},Sr={"-":"",_:" ",0:"0"};function Er(e,t,n){var i=e<0?"-":"",o=String(i?-e:e),r=o.length;return i+(r<n?new Array(n-r+1).join(t)+o:o)}mr=function(e){var t=e.dateTime,n=e.date,i=e.time,o=e.periods,r=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=br(o),c=fr(o),h=br(r),p=fr(r),d=br(s),f=fr(s),g=br(a),m=fr(a),y=br(l),v=fr(l),C={a:function(e){return s[e.getDay()]},A:function(e){return r[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:void 0,d:x,e:x,f:function(e,t){return O(e,t)+"000"},H:function(e,t){return Er(e.getHours(),t,2)},I:function(e,t){return Er(e.getHours()%12||12,t,2)},j:function(e,t){return Er(1+Jo.count(rr.floor(e),e),t,3)},L:O,m:function(e,t){return Er(e.getMonth()+1,t,2)},M:function(e,t){return Er(e.getMinutes(),t,2)},p:function(e){return o[e.getHours()>=12?1:0]},Q:D,s:A,S:function(e,t){return Er(e.getSeconds(),t,2)},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e,t){return Er(tr.count(rr.floor(e),e),t,2)},V:function(e,t){var n=e.getDay();e=n>=4||0===n?ir.floor(e):ir.ceil(e);var i=rr.floor(e);return Er(ir.count(i,e)+(4===i.getDay()?1:0),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Er(nr.count(rr.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return Er(e.getFullYear()%100,t,2)},Y:function(e,t){return Er(e.getFullYear()%1e4,t,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Er(Math.floor(t/60),"0",2)+Er(t%60,"0",2)},"%":P},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return r[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:void 0,d:R,e:R,f:function(e,t){return T(e,t)+"000"},H:function(e,t){return Er(e.getUTCHours(),t,2)},I:function(e,t){return Er(e.getUTCHours()%12||12,t,2)},j:function(e,t){return Er(1+sr.count(ar.floor(e),e),t,3)},L:T,m:function(e,t){return Er(e.getUTCMonth()+1,t,2)},M:function(e,t){return Er(e.getUTCMinutes(),t,2)},p:function(e){return o[e.getUTCHours()>=12?1:0]},Q:D,s:A,S:function(e,t){return Er(e.getUTCSeconds(),t,2)},u:function(e){var t=e.getUTCDay();return 0===t?7:t},U:function(e,t){return Er(ur.count(ar.floor(e),e),t,2)},V:function(e,t){var n=e.getUTCDay();e=n>=4||0===n?hr.floor(e):hr.ceil(e);var i=ar.floor(e);return Er(hr.count(i,e)+(4===i.getUTCDay()?1:0),t,4)},w:function(e){return e.getUTCDay()},W:function(e,t){return Er(cr.count(ar.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return Er(e.getUTCFullYear()%100,t,2)},Y:function(e,t){return Er(e.getUTCFullYear()%1e4,t,4)},Z:function(){return"+0000"},"%":P},b={a:function(e,t,n){var i=d.exec(t.slice(n));return i?(e.w=f[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.w=p[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=y.exec(t.slice(n));return i?(e.m=v[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,n,i){return _(e,t,n,i)},d:I,e:I,f:function(e,t,n){var i=yr.exec(t.slice(n,n+6));return i?(e.L=Math.floor(parseFloat(i[0])/1e3),n+i[0].length):-1},H:k,I:k,j:function(e,t,n){var i=yr.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1},L:function(e,t,n){var i=yr.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1},m:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.m=parseFloat(i[0])-1,n+i[0].length):-1},M:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1},p:function(e,t,n){var i=u.exec(t.slice(n));return i?(e.p=c[i[0].toLowerCase()],n+i[0].length):-1},Q:function(e,t,n){var i=yr.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1},s:function(e,t,n){var i=yr.exec(t.slice(n));return i?(e.Q=1e3*+i[0],n+i[0].length):-1},S:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1},u:function(e,t,n){var i=yr.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1},U:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1},V:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1},w:function(e,t,n){var i=yr.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1},W:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1},x:function(e,t,i){return _(e,n,t,i)},X:function(e,t,n){return _(e,i,t,n)},y:function(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1},Y:function(e,t,n){var i=yr.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1},Z:function(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1},"%":function(e,t,n){var i=vr.exec(t.slice(n,n+1));return i?n+i[0].length:-1}};function S(e,t){return function(n){var i=gr(1900);if(_(i,e,n+="",0)==n.length){if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return;if("w"in i||(i.w=1),"Z"in i){var o=(r=dr(gr(i.y))).getUTCDay();r=o>4||0===o?cr.ceil(r):cr.floor(r),r=sr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7}else{var r;o=(r=t(gr(i.y))).getDay(),r=o>4||0===o?nr.ceil(r):nr.floor(r),r=Jo.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7}}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?dr(gr(i.y)).getUTCDay():t(gr(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,dr(i)):t(i)}}}function E(e,t){return function(n){var i=[],o=e.length,r=-1,s=0;for(n instanceof Date||(n=new Date(+n));++r<o;)if(37===e.charCodeAt(r)){i.push(e.slice(s,r));var a=e.charAt(++r),l=Sr[a];null!=l?a=e.charAt(++r):l="e"===a?" ":"0";var u=t[a];u&&(a=u(n,l)),i.push(a),s=r+1}return i.push(e.slice(s,r)),i.join("")}}function _(e,t,n,i){for(var o=0,r=t.length,s=n.length;o<r;){if(i>=s)return-1;var a=t.charCodeAt(o++);if(37===a){var l=t.charAt(o++),u=b[l in Sr?t.charAt(o++):l];if(!u||(i=u(e,n,i))<0)return-1}else if(a!=n.charCodeAt(i++))return-1}return i}function O(e,t){return Er(e.getMilliseconds(),t,3)}function x(e,t){return Er(e.getDate(),t,2)}function T(e,t){return Er(e.getUTCMilliseconds(),t,3)}function R(e,t){return Er(e.getUTCDate(),t,2)}function P(e){return"%"}function D(e){return e.getTime()}function A(e){return Math.floor(e.getTime()/1e3)}function k(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function I(e,t,n){var i=yr.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}return C.x=E(n,C),C.X=E(i,C),C.c=E(t,C),w.x=E(n,w),w.X=E(i,w),w.c=E(t,w),{format:function(e){var t=E(e,C);return t.toString=function(){return e},t},parse:function(e){var t=S(e,pr);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e,w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e,dr);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _r,Or=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.year=rr,t.month=or,t.week=tr,t.day=Jo,t.hour=Zo,t.minute=Qo,t.second=Xo,t.millisecond=Bo,t.format=mr.format,t.tickIntervals=[[t.second,1,jo],[t.second,5,5e3],[t.second,15,15e3],[t.second,30,3e4],[t.minute,1,zo],[t.minute,5,3e5],[t.minute,15,9e5],[t.minute,30,18e5],[t.hour,1,Uo],[t.hour,3,108e5],[t.hour,6,216e5],[t.hour,12,432e5],[t.day,1,Ko],[t.day,2,1728e5],[t.week,1,qo],[t.month,1,Yo],[t.month,3,7776e6],[t.year,1,$o]],t.formatMillisecond=t.format(".%L"),t.formatSecond=t.format(":%S"),t.formatMinute=t.format("%I:%M"),t.formatHour=t.format("%I %p"),t.formatDay=t.format("%a %d"),t.formatWeek=t.format("%b %d"),t.formatMonth=t.format("%B"),t.formatYear=t.format("%Y"),t._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],t}return Or(t,e),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,t,n,i){var o;if(void 0===e&&(e=10),"number"==typeof e){var r=e,s=this.tickIntervals,a=Math.abs(n-t)/r,l=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=function(e){return function(t,n){return(i=e(t))<(o=n)?-1:i>o?1:i>=o?0:NaN;var i,o}}(function(e){return e[2]});i<o;){var s=i+o>>>1;r(e[s],t)<0?i=s+1:o=s}return i}(s,a);l===s.length?(i=Ii(t/$o,n/$o,r),e=this.year):l?(e=(o=s[a/s[l-1][2]<s[l][2]/a?l-1:l])[0],i=o[1]):(i=Math.max(Ii(t,n,e),1),e=this.millisecond)}return null==i?e:e.every(i)},Object.defineProperty(t.prototype,"domain",{get:function(){return e.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(t){e.prototype.setDomain.call(this,Array.prototype.map.call(t,function(e){return e instanceof Date?+e:+new Date(+e)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(t){return new Date(e.prototype.invert.call(this,t))},t.prototype.ticks=function(t){void 0===t&&(t=10);var n=e.prototype.getDomain.call(this),i=n[0],o=n[n.length-1],r=o<i;if(r){var s=i;i=o,o=s}var a=this.tickInterval(t,i,o),l=a?a.range(i,o+1):[];return r?l.reverse():l},t.prototype.tickFormat=function(e,t){return null==t?this.defaultTickFormat.bind(this):this.format(t)},t.prototype.nice=function(t){void 0===t&&(t=10);var n=e.prototype.getDomain.call(this),i=this.tickInterval(t,n[0],n[n.length-1]);i&&(this.domain=this._nice(n,i))},t.prototype._nice=function(e,t){var n,i,o=0,r=(e=e.slice()).length-1,s=e[o],a=e[r];return a<s&&(o=(n=[r,o])[0],r=n[1],s=(i=[a,s])[0],a=i[1]),e[o]=t.floor(s),e[r]=t.ceil(a),e},t}(Ti),Tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rr=function(e){function t(){var t=e.call(this,new xr)||this;return t._nice=!0,t.scale.clamp=!0,t}return Tr(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.className="TimeAxis",t.type="time",t}(fo),Pr=function(){function e(e,t,n){var i=this;void 0===e&&(e=window.document),this.id=Zn(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var e,t=i.ctx,n=i.root,o=i.pendingSize;i.animationFrameId=0,o&&((e=i.canvas).resize.apply(e,o),i.pendingSize=void 0),!n||n.visible?(t.clearRect(0,0,i.width,i.height),n&&(t.save(),n.visible&&n.render(t),t.restore()),i._frameIndex++,i.debug.renderFrameIndex&&(t.fillStyle="white",t.fillRect(0,0,40,15),t.fillStyle="black",t.fillText(i.frameIndex.toString(),2,10)),i.dirty=!1):i.dirty=!1},this.canvas=new hi(e,t,n),this.ctx=this.canvas.context}return Object.defineProperty(e.prototype,"container",{get:function(){return this.canvas.container},set:function(e){this.canvas.container=e},enumerable:!0,configurable:!0}),e.prototype.download=function(e){this.canvas.download(e)},e.prototype.getDataURL=function(e){return this.canvas.getDataURL(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){e=Math.round(e),t=Math.round(t),e===this.width&&t===this.height||(this.pendingSize=[e,t],this.dirty=!0)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=e},enumerable:!0,configurable:!0}),e.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){e!==this._root&&(this._root&&this._root._setScene(void 0),this._root=e,e&&(null===e.parent&&e.scene&&e.scene!==this&&(e.scene.root=null),e._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.appendPath=function(e){var t=this.ctx,n=e.commands,i=e.params,o=n.length,r=0;t.beginPath();for(var s=0;s<o;s++)switch(n[s]){case"M":t.moveTo(i[r++],i[r++]);break;case"L":t.lineTo(i[r++],i[r++]);break;case"C":t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);break;case"Z":t.closePath()}},Object.defineProperty(e.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),e.className="Scene",e}(),Dr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){e[e.Content=0]="Content",e[e.Border=1]="Border"}(_r||(_r={}));var Ar=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._width=10,t._height=10,t._radius=0,t._crisp=!1,t.effectiveStrokeWidth=ci.defaultStyles.strokeWidth,t._sizing=_r.Content,t}return Dr(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===_r.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===_r.Border,t=this.path;t.clear();var n,i=this.x,o=this.y,r=this.width,s=this.height;if(e){var a=r/2,l=s/2;n=Math.min(this.strokeWidth,a,l),i=Math.min(i+n/2,i+a),o=Math.min(o+n/2,o+l),r=Math.max(r-n,0),s=Math.max(s-n,0)}else n=this.strokeWidth;if(this.effectiveStrokeWidth=n,this.crisp&&!e){var u=this.alignment,c=this.align;t.rect(c(u,i),c(u,o),c(u,i,r),c(u,o,s))}else t.rect(i,o,r,s)},t.prototype.computeBBox=function(){var e=this;return new Xn(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var i=this.strokeShadow;i&&i.enabled&&(e.shadowColor=i.color,e.shadowOffsetX=i.xOffset*t,e.shadowOffsetY=i.yOffset*t,e.shadowBlur=i.blur*t),e.stroke()}}},t.className="Rect",t}(Ji),kr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._size=12,t}return kr(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.size,n=t/2;return new Xn(e.x-n,e.y-n,t,t)},t}(Ji),Fr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fr(t,e),t.prototype.updatePath=function(){var e=this,t=e.path,n=e.x,i=e.y,o=this.size/2,r=this.alignment,s=this.align;t.clear(),t.moveTo(s(r,n-o),s(r,i-o)),t.lineTo(s(r,n+o),s(r,i-o)),t.lineTo(s(r,n+o),s(r,i+o)),t.lineTo(s(r,n-o),s(r,i+o)),t.closePath()},t.className="Square",t}(Ir),Mr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lr=function(e){function t(){var t=e.call(this)||this;t.label=new di,t._marker=new Nr,t._markerSize=15,t._spacing=8;var n=t.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=hi.has.textMetrics?1:0,t.append([t.marker,n]),t.update(),t}return Mr(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.markerSize;this.marker.size=e,this.label.x=e/2+this.spacing},t.className="MarkerLabel",t}(Gi),Vr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vr(t,e),t.prototype.updatePath=function(){var e=this,t=e.x,n=e.y,i=e.path,o=e.size/2;i.clear(),i.cubicArc(t,n,o,o,0,0,2*Math.PI,0),i.closePath()},t.className="Circle",t}(Ir),Hr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hr(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,i=this.size/4.2;n.clear(),n.moveTo(e-=i,t),n.lineTo(e-=i,t-=i),n.lineTo(e+=i,t-=i),n.lineTo(e+=i,t+=i),n.lineTo(e+=i,t-=i),n.lineTo(e+=i,t+=i),n.lineTo(e-=i,t+=i),n.lineTo(e+=i,t+=i),n.lineTo(e-=i,t+=i),n.lineTo(e-=i,t-=i),n.lineTo(e-=i,t+=i),n.lineTo(e-=i,t-=i),n.closePath()},t.className="Cross",t}(Ir),Br=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Br(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,i=this.size/2;n.clear(),n.moveTo(e,t-=i),n.lineTo(e+=i,t+=i),n.lineTo(e-=i,t+=i),n.lineTo(e-=i,t-=i),n.lineTo(e+=i,t-=i),n.closePath()},t.className="Diamond",t}(Ir),zr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zr(t,e),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,t=e.x,n=e.path,i=e.rad,o=e.size/4,r=this.y+o/2;n.clear(),n.cubicArc(t-o,r-o,o,o,0,i(130),i(330),0),n.cubicArc(t+o,r-o,o,o,0,i(220),i(50),0),n.lineTo(t,r+o),n.closePath()},t.className="Heart",t}(Ir),Kr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kr(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,i=this.size/3,o=i/2;n.clear(),n.moveTo(e-=o,t-=o),n.lineTo(e,t-=i),n.lineTo(e+=i,t),n.lineTo(e,t+=i),n.lineTo(e+=i,t),n.lineTo(e,t+=i),n.lineTo(e-=i,t),n.lineTo(e,t+=i),n.lineTo(e-=i,t),n.lineTo(e,t-=i),n.lineTo(e-=i,t),n.lineTo(e,t-=i),n.closePath()},t.className="Plus",t}(Ir),Yr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yr(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,n=this.path,i=1.1*this.size;n.clear(),n.moveTo(e,t-=.48*i),n.lineTo(e+=.5*i,t+=.87*i),n.lineTo(e-=i,t),n.closePath()},t.className="Triangle",t}(Ir);function Xr(e){if(void 0===e&&(e=Nr),"string"==typeof e)switch(e){case"circle":return Gr;case"cross":return Wr;case"diamond":return jr;case"heart":return Ur;case"plus":return qr;case"triangle":return $r;default:return Nr}return"function"==typeof e?e:Nr}var Qr,Zr,Jr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),es=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(Qr||(Qr={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(Zr||(Zr={}));var ts=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.color="black",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t}return Jr(t,e),es([mi("change")],t.prototype,"color",void 0),es([mi("layoutChange")],t.prototype,"fontStyle",void 0),es([mi("layoutChange")],t.prototype,"fontWeight",void 0),es([mi("layoutChange")],t.prototype,"fontSize",void 0),es([mi("layoutChange")],t.prototype,"fontFamily",void 0),t}(gi),ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.size=15,t.padding=8,t.strokeWidth=1,t}return Jr(t,e),es([mi("layoutChange")],t.prototype,"size",void 0),es([mi("layoutChange")],t.prototype,"shape",void 0),es([mi("layoutChange")],t.prototype,"padding",void 0),es([mi("change")],t.prototype,"strokeWidth",void 0),t}(gi),is=function(e){function t(){var t=e.call(this)||this;t.marker=new ns,t.label=new ts,t.paddingX=16,t.paddingY=8;var n=function(){return t.fireEvent({type:"change"})};t.marker.addEventListener("change",n),t.label.addEventListener("change",n);var i=function(){return t.fireEvent({type:"layoutChange"})};return t.marker.addEventListener("layoutChange",i),t.label.addEventListener("layoutChange",i),t}return Jr(t,e),es([mi("layoutChange")],t.prototype,"paddingX",void 0),es([mi("layoutChange")],t.prototype,"paddingY",void 0),t}(gi),os=function(e){function t(){var t=e.call(this)||this;return t.id=Zn(t),t.group=new Gi,t.itemSelection=Wi.select(t.group).selectAll(),t.oldSize=[0,0],t.item=new is,t.data=[],t.enabled=!0,t.orientation=Qr.Vertical,t.position=Zr.Right,t.spacing=20,t._size=[0,0],t.addPropertyListener("data",t.onDataChange),t.addPropertyListener("enabled",t.onEnabledChange),t.addPropertyListener("position",t.onPositionChange),t.item.marker.addPropertyListener("shape",t.onMarkerShapeChange,t),t.addEventListener("change",t.update),t.item.addEventListener("change",function(){return t.fireEvent({type:"change"})}),t.item.addEventListener("layoutChange",function(){return t.fireEvent({type:"layoutChange"})}),t}return Jr(t,e),Object.defineProperty(t.prototype,"layoutHorizontalSpacing",{get:function(){return this.item.paddingX},set:function(e){this.item.paddingX=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutVerticalSpacing",{get:function(){return this.item.paddingY},set:function(e){this.item.paddingY=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemSpacing",{get:function(){return this.item.marker.padding},set:function(e){this.item.marker.padding=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerShape",{get:function(){return this.item.marker.shape},set:function(e){this.item.marker.shape=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this.item.marker.size},set:function(e){this.item.marker.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.item.marker.strokeWidth},set:function(e){this.item.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.item.label.color},set:function(e){this.item.label.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.item.label.fontStyle},set:function(e){this.item.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.item.label.fontWeight},set:function(e){this.item.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.item.label.fontSize},set:function(e){this.item.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.item.label.fontFamily},set:function(e){this.item.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=Qr.Vertical;break;case"bottom":case"top":this.orientation=Qr.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove()},t.prototype.performLayout=function(e,t){var n=this.item,i=n.marker,o=n.paddingX,r=n.paddingY,s=this.itemSelection.setData(this.data,function(e,t){var n=Xr(i.shape||t.marker.shape);return t.id+"-"+t.itemId+"-"+n.name});s.exit.remove();var a=s.enter.append(Lr).each(function(e,t){var n=Xr(i.shape||t.marker.shape);e.marker=new n}),l=this.itemSelection=s.merge(a),u=l.size,c=[],h=this.item.marker,p=this.item.label;l.each(function(e,t){e.markerSize=h.size,e.spacing=h.padding,e.fontStyle=p.fontStyle,e.fontWeight=p.fontWeight,e.fontSize=p.fontSize,e.fontFamily=p.fontFamily,e.text=t.label.text,c.push(e.computeBBox())});var d=c.length&&c[0].height,f=0,g=0,m=0,y=0;switch(this.orientation){case Qr.Horizontal:if(!(isFinite(e)&&e>0))return!1;f=0;var v=0;do{var C=0;v=0,g=0,f++;for(var w=0;w<u;)(E=c[w]).width>g&&(g=E.width),++w%f==0&&(C+=g,g=0,v++);w%f!=0&&(C+=g,v++),m=C+(v-1)*o}while(m>e&&v>1);y=d*f+(f-1)*r;break;case Qr.Vertical:if(!(isFinite(t)&&t>0))return!1;f=2*u;do{f=(f>>1)+f%2,g=0,C=0;var b=0,S=0;for(w=0;w<u;){var E=c[w];S||(b+=E.height),E.width>g&&(g=E.width),++w%f==0&&(C+=g,g=0,S++)}w%f!=0&&(C+=g,S++),m=C+(S-1)*o,y=b+(f-1)*r}while(y>t&&f>1)}var _=(e-m)/2,O=(t-y)/2,x=0,T=0;g=0,l.each(function(e,t,n){e.translationX=Math.floor(_+x),e.translationY=Math.floor(O+T);var i=c[n];i.width>g&&(g=i.width),(n+1)%f==0?(x+=g+o,T=0,g=0):T+=i.height+r}),this.update();var R=this._size,P=this.oldSize;R[0]=m,R[1]=y,R[0]===P[0]&&R[1]===P[1]||(P[0]=R[0],P[1]=R[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(t,n){var i=n.marker;t.markerFill=i.fill,t.markerStroke=i.stroke,t.markerStrokeWidth=e.item.marker.strokeWidth,t.markerFillOpacity=i.fillOpacity,t.markerStrokeOpacity=i.strokeOpacity,t.opacity=n.enabled?1:.5,t.color=e.color})},t.prototype.getDatumForPoint=function(e,t){var n=this.group.pickNode(e,t);if(n&&n.parent)return n.parent.datum},t.className="Legend",es([mi("layoutChange")],t.prototype,"data",void 0),es([mi("layoutChange")],t.prototype,"enabled",void 0),es([mi("layoutChange")],t.prototype,"orientation",void 0),es([mi("layoutChange")],t.prototype,"position",void 0),es([mi("layoutChange")],t.prototype,"spacing",void 0),t}(gi),rs=function(){function e(){}return e.init=function(){var e=this,t=window.ResizeObserver;t?this.resizeObserver=new t(function(t){for(var n=0,i=t;n<i.length;n++){var o=i[n],r=o.contentRect,s=r.width,a=r.height;e.checkSize(e.elements.get(o.target),o.target,s,a)}}):window.setInterval(function(){e.elements.forEach(function(t,n){e.checkSize(t,n,n.clientWidth?n.clientWidth:0,n.clientHeight?n.clientHeight:0)})},100),this.ready=!0},e.checkSize=function(e,t,n,i){e&&(e.size&&n===e.size.width&&i===e.size.height||(e.size={width:n,height:i},e.cb(e.size,t)))},e.observe=function(e,t){this.ready||this.init(),this.unobserve(e),this.resizeObserver&&this.resizeObserver.observe(e),this.elements.set(e,{cb:t})},e.unobserve=function(e){this.resizeObserver&&this.resizeObserver.unobserve(e),this.elements.delete(e)},e.elements=new Map,e.requestAnimationFrameId=0,e.ready=!1,e}(),ss=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),as=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=Zn(t),t.group=new Gi,t.directions=[so.X,so.Y],t.tooltipEnabled=!0,t.data=void 0,t.visible=!0,t.showInLegend=!0,t.scheduleLayout=function(){t.fireEvent({type:"layoutChange"})},t.scheduleData=function(){t.fireEvent({type:"dataChange"})},t}return ss(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){},t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,i=n&&n[e],o=[];return i&&i.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}),o},t.prototype.getNodeData=function(){return[]},t.prototype.fireNodeClickEvent=function(e){},t.prototype.toggleSeriesItem=function(e,t){this.visible=t},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,t){if(!e)return[0,1];var n=e[0],i=e[1];if(n===i){var o=Math.abs(.01*n);n-=o,i+=o}return isFinite(n)&&isFinite(i)||(n=0,i=1),[n,i]},as([mi("dataChange")],t.prototype,"data",void 0),as([mi("dataChange")],t.prototype,"visible",void 0),as([mi("layoutChange")],t.prototype,"showInLegend",void 0),t}(gi),us=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cs=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.shape=Gr,t.size=6,t.maxSize=30,t.strokeWidth=1,t}return us(t,e),cs([mi("change")],t.prototype,"enabled",void 0),cs([mi("change")],t.prototype,"shape",void 0),cs([mi("change")],t.prototype,"size",void 0),cs([mi("change")],t.prototype,"maxSize",void 0),cs([mi("change")],t.prototype,"fill",void 0),cs([mi("change")],t.prototype,"stroke",void 0),cs([mi("change")],t.prototype,"strokeWidth",void 0),t}(gi),ps=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ds=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.directionKeys=((t={})[so.X]=["xKey"],t[so.Y]=["yKey"],t),n}return ps(t,e),t}(ls),fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps(t,e),t}(hs),gs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ms=function(){return(ms=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ys=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};function vs(e,t){if("string"==typeof e)return e;t=t||{};var n=e.content,i=e.title,o=void 0===i?t.title||void 0:i,r=e.titleColor,s=e.titleBackgroundColor;return(o?'<div class="'+ws.defaultTooltipClass+'-title"\n        style="color: '+(void 0===r?t.titleColor||"white":r)+"; background-color: "+(void 0===s?t.titleBackgroundColor||"#888":s)+'">'+o+"</div>":"")+'<div class="'+ws.defaultTooltipClass+'-content">'+(void 0===n?t.content||"":n)+"</div>"}var Cs,ws=function(e){function t(n){void 0===n&&(n=window.document);var i=e.call(this)||this;i.id=Zn(i),i.background=new Ar,i.legend=new os,i.legendAutoPadding=new $n,i.captionAutoPadding=0,i._container=void 0,i._data=[],i._autoSize=!1,i.padding=new $n(20),i._axes=[],i._series=[],i._axesChanged=!1,i._seriesChanged=!1,i.layoutCallbackId=0,i._performLayout=function(){i.layoutCallbackId=0,i.background.width=i.width,i.background.height=i.height,i.performLayout(),i.layoutPending||i.fireEvent({type:"layoutDone"})},i.dataCallbackId=0,i._onMouseDown=i.onMouseDown.bind(i),i._onMouseUp=i.onMouseUp.bind(i),i._onMouseMove=i.onMouseMove.bind(i),i._onMouseOut=i.onMouseOut.bind(i),i._onClick=i.onClick.bind(i),i._tooltipClass=t.defaultTooltipClass,i.tooltipTracking=!0;var o=new Gi,r=i.background;r.fill="white",o.appendChild(r);var s=i._element=n.createElement("div");s.setAttribute("class","ag-chart-wrapper");var a=new Pr(n);i.scene=a,a.root=o,a.container=s,i.autoSize=!0;var l=i.legend;if(l.addEventListener("layoutChange",i.onLayoutChange,i),l.addPropertyListener("position",i.onLegendPositionChange,i),i.tooltipElement=n.createElement("div"),i.tooltipClass="",n.body.appendChild(i.tooltipElement),t.tooltipDocuments.indexOf(n)<0){var u=n.createElement("style");u.innerHTML='\n.ag-chart-tooltip {\n    display: none;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-visible {\n    display: table;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',n.head.insertBefore(u,n.head.querySelector("style")),t.tooltipDocuments.push(n)}return i.setupDomListeners(a.canvas.element),i.addPropertyListener("title",i.onCaptionChange),i.addPropertyListener("subtitle",i.onCaptionChange),i.addEventListener("layoutChange",function(){return i.layoutPending=!0}),i}return gs(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var t=this.element.parentNode;null!=t&&t.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(t){return t.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var t=this.element.style;if(e){var n=this;rs.observe(this.element,function(e){e.width===n.width&&e.height===n.height||(n.scene.resize(e.width,e.height),n.fireEvent({type:"layoutChange"}))}),t.display="block",t.width="100%",t.height="100%"}else rs.unobserve(this.element),t.display="inline-block",t.width="auto",t.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){var e=this.tooltipElement.parentNode;e&&e.removeChild(this.tooltipElement),rs.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLayoutChange=function(){this.layoutPending=!0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var t=e.value,n=e.oldValue;n&&(n.removeEventListener("change",this.onLayoutChange,this),this.scene.root.removeChild(n.node)),t&&(t.addEventListener("change",this.onLayoutChange,this),this.scene.root.appendChild(t.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var t=this;this._axes.forEach(function(e){return t.detachAxis(e)}),this._axes=e.filter(function(e){return!e.linkedTo}).concat(e.filter(function(e){return e.linkedTo})),this._axes.forEach(function(e){return t.attachAxis(e)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this.removeAllSeries(),e.forEach(function(e){return t.addSeries(e)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,t){var n=this.series,i=this.seriesRoot;if(n.indexOf(e)<0){var o=t?n.indexOf(t):-1;return o>=0?(n.splice(o,0,e),i.insertBefore(e.group,t.group)):(n.push(e),i.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,t){var n=this.series,i=this.seriesRoot;if(n.indexOf(e)<0){var o=t?this.series.indexOf(t):-1;o>=0?(o+1<n.length?i.insertBefore(e.group,n[o+1].group):i.append(e.group),this.initSeries(e),n.splice(o+1,0,e)):(n.length>0?i.insertBefore(e.group,n[0].group):i.append(e.group),this.initSeries(e),n.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var t=this.series.indexOf(e);return t>=0&&(this.series.splice(t,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(t){e.freeSeries(t),e.seriesRoot.removeChild(t.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(t){var n=t.direction+"Axis",i=[];e.series.forEach(function(e){e[n]===t&&i.push(e)}),t.boundSeries=i}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var t=this;void 0===e&&(e=!1);var n={};this.axes.forEach(function(e){var t=e.direction;(n[t]||(n[t]=[])).push(e)}),this.series.forEach(function(i){if(i.directions.forEach(function(o){var r=o+"Axis";if(!i[r]||e){var s=n[o];if(s){var a=t.findMatchingAxis(s,i.getKeys(o));a&&(i[r]=a)}}}),i instanceof ds){if(!i.xAxis)return void console.warn("Could not find a matching xAxis for the "+i.id+" series.");if(!i.yAxis)return void console.warn("Could not find a matching yAxis for the "+i.id+" series.")}}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=i.keys;if(!o.length)return i;if(t)for(var r=0;r<t.length;r++)if(o.indexOf(t[r])>=0)return i}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout)):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var t=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){t.dataPending=!1,t.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.filter(function(e){return e.visible}).forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(e){return e.showInLegend}).forEach(function(t){return t.listSeriesItems(e)}),this.legend.data=e},t.prototype.positionCaptions=function(){var e=this.title,t=this.subtitle,n=!1,i=!1,o=10;if(e&&e.enabled){e.node.x=this.width/2,e.node.y=o,n=!0;var r=e.node.computeBBox();if(r&&(o=r.y+r.height),t&&t.enabled){t.node.x=this.width/2,t.node.y=o+10,i=!0;var s=t.node.computeBBox();s&&(o=s.y+s.height)}}e&&(e.node.visible=n),t&&(t.node.visible=i),this.captionAutoPadding=Math.floor(o)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var e,t=this,n=t.legend,i=t.captionAutoPadding,o=t.legendAutoPadding,r=this.width,s=this.height-i,a=n.group,l=n.spacing,u=0,c=0;switch(n.position){case"bottom":n.performLayout(r-2*l,0),u=(r-(e=a.computeBBox()).width)/2-e.x,c=i+s-e.height-e.y-l,o.bottom=e.height;break;case"top":n.performLayout(r-2*l,0),u=(r-(e=a.computeBBox()).width)/2-e.x,c=i+l-e.y,o.top=e.height;break;case"left":n.performLayout(0,s-2*l),u=l-(e=a.computeBBox()).x,c=i+(s-e.height)/2-e.y,o.left=e.width;break;default:n.performLayout(0,s-2*l),u=r-(e=a.computeBBox()).width-e.x-l,c=i+(s-e.height)/2-e.y,o.right=e.width}a.translationX=Math.floor(u+a.translationX),a.translationY=Math.floor(c+a.translationY)}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.pickSeriesNode=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t))for(var n=this.series,i=void 0,o=n.length-1;o>=0;o--){var r=n[o];if(i=r.group.pickNode(e,t))return{series:r,node:i}}},t.prototype.pickClosestSeriesNodeDatum=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t)){for(var n,i=this.series,o=1/0,r=function(r){var s=i[r];if(!s.visible)return"continue";var a=s.group.transformPoint(e,t);s.getNodeData().forEach(function(e){if(e.point){var t,i,r=(t=a,i=e.point,Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)));r<o&&(o=r,n=e)}})},s=i.length-1;s>=0;s--)r(s);return n||void 0}},t.prototype.onMouseMove=function(e){var t,n=this.lastPick,i=this.tooltipTracking,o=this.pickSeriesNode(e.offsetX,e.offsetY);if(o&&o.node instanceof ci){var r=o.node;if(t=r.datum,n&&n.datum===t&&(n.node=r),!r.datum.point||!i)return void(n&&n.node===r?o.series.tooltipEnabled&&this.showTooltip(e):this.onSeriesDatumPick(e,r.datum,r))}var s=!1;if(i){var a=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(a&&a.point){var l=a.point,u=this.scene.canvas,c=a.series.group.inverseTransformPoint(l.x,l.y),h=u.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(h.left+window.pageXOffset+c.x),pageY:Math.round(h.top+window.pageYOffset+c.y)},a,t===a&&o?o.node:void 0)}else s=!0}!n||!s&&i||(this.dehighlightDatum(),this.hideTooltip(),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.toggleTooltip(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick(),this.checkLegendClick(e)},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.node){var t=e.datum;t.series.fireNodeClickEvent(t)}},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(ms(ms({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var t=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(t){var n=t.id,i=t.itemId,o=t.enabled,r=wo(this.series,function(e){return e.id===n});r&&(r.toggleSeriesItem(i,!o),o&&this.hideTooltip())}},t.prototype.onSeriesDatumPick=function(e,t,n){this.lastPick&&this.dehighlightDatum(),this.lastPick={datum:t,node:n},this.highlightDatum(t);var i=t.series.tooltipEnabled&&t.series.getTooltipHtml(t);i&&this.showTooltip(e,i)},t.prototype.highlightDatum=function(e){this.highlightedDatum=e,this.series.forEach(function(e){return e.onHighlightChange()})},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(e){return e.onHighlightChange()}))},Object.defineProperty(t.prototype,"tooltipClass",{get:function(){return this._tooltipClass},set:function(e){this._tooltipClass!==e&&(this._tooltipClass=e,this.toggleTooltip())},enumerable:!0,configurable:!0}),t.prototype.toggleTooltip=function(e){!e&&this.lastPick&&(this.dehighlightDatum(),this.lastPick=void 0),this.updateTooltipClass(e)},t.prototype.updateTooltipClass=function(e,n){var i=[t.defaultTooltipClass,this.tooltipClass];!0===e&&i.push(t.defaultTooltipClass+"-visible"),!0!==n&&i.push(t.defaultTooltipClass+"-arrow"),this.tooltipElement.setAttribute("class",i.join(" "))},t.prototype.showTooltip=function(e,t){var n=this.tooltipElement,i=this.container;if(void 0!==t)n.innerHTML=t;else if(!n.innerHTML)return;t&&this.toggleTooltip(!0);var o=e.pageX-n.clientWidth/2,r=e.pageY-n.clientHeight-8;if(i){var s=n.getBoundingClientRect(),a=window.innerWidth-s.width;o<0?(o=0,this.updateTooltipClass(!0,!0)):o>a&&(o=a,this.updateTooltipClass(!0,!0))}n.style.left=o+"px",n.style.top=r+"px"},t.prototype.hideTooltip=function(){this.toggleTooltip(!1)},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],ys([mi("layoutChange")],t.prototype,"padding",void 0),ys([mi("layoutChange")],t.prototype,"title",void 0),ys([mi("layoutChange")],t.prototype,"subtitle",void 0),t}(gi),bs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t.path=new Qi,t._enabled=!0,t._dirtyPath=!0,t._x=0,t._y=0,t._width=10,t._height=10,t}return bs(t,e),t.prototype.containsPoint=function(e,t){var n=this.transformPoint(e,t);return n.x>=this.x&&n.x<=this.x+this.width&&n.y>=this.y&&n.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this;return new Xn(e.x,e.y,e.width,e.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.scene.appendPath(this.path),e.clip());for(var t=this.children,n=t.length,i=0;i<n;i++){e.save();var o=t[i];o.visible&&o.render(e),e.restore()}},t.className="ClipRect",t}(Jn),Es=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fill="#f2f2f2",t._stroke="#999999",t._strokeWidth=1,t._lineCap="square",t._centerX=0,t._centerY=0,t._width=8,t._gripLineGap=2,t._gripLineLength=8,t._height=16,t}return Es(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.width,n=e.height;return new Xn(e.centerX-t/2,e.centerY-n/2,t,n)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)},t.prototype.updatePath=function(){var e=this,t=e.path,n=e.centerX,i=e.centerY,o=e.width,r=e.height,s=this.alignment,a=this.align;t.clear();var l=n-o/2,u=i-r/2,c=a(s,l),h=a(s,u),p=c+a(s,l,o),d=h+a(s,u,r);t.moveTo(c,h),t.lineTo(p,h),t.lineTo(p,d),t.lineTo(c,d),t.lineTo(c,h);var f=this.gripLineGap/2,g=this.gripLineLength/2;t.moveTo(a(s,n-f),a(s,i-g)),t.lineTo(a(s,n-f),a(s,i+g)),t.moveTo(a(s,n+f),a(s,i-g)),t.lineTo(a(s,n+f),a(s,i+g))},t.className="RangeHandle",t}(Ji),Os=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stroke="#999999",t._strokeWidth=1,t._fill="#999999",t._fillOpacity=.2,t._lineCap="square",t._x=0,t._y=0,t._width=200,t._height=30,t.minRange=.05,t._min=0,t._max=1,t}return Os(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),isNaN(e)||this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),isNaN(e)||this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new Xn(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,t=e.x,n=e.width,i=t+n*e.min;return new Xn(i,e.y,t+n*e.max-i,e.height)},t.prototype.updatePath=function(){var e=this,t=e.path,n=e.x,i=e.y,o=e.width,r=e.height,s=e.min,a=e.max,l=this.alignment,u=this.align;t.clear();var c=u(l,n),h=u(l,i),p=c+u(l,n,o),d=h+u(l,i,r);t.moveTo(c,h),t.lineTo(p,h),t.lineTo(p,d),t.lineTo(c,d),t.lineTo(c,h);var f=u(l,n+o*s),g=u(l,n+o*a);t.moveTo(f,h),t.lineTo(f,d),t.lineTo(g,d),t.lineTo(g,h),t.lineTo(f,h)},t.className="RangeMask",t}(Ji),Ts=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rs=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isContainerNode=!0,n.minHandle=new _s,n.maxHandle=new _s,n.mask=function(){var e=t.defaults,i=e.x,o=e.y,r=e.width,s=e.height,a=e.min,l=e.max,u=new xs;u.x=i,u.y=o,u.width=r,u.height=s,u.min=a,u.max=l;var c=n.minHandle,h=n.maxHandle;return c.centerX=i,h.centerX=i+r,c.centerY=h.centerY=o+s/2,n.append([u,c,h]),u.onRangeChange=function(e,t){n.updateHandles(),n.onRangeChange&&n.onRangeChange(e,t)},u}(),n._x=t.defaults.x,n._y=t.defaults.y,n._width=t.defaults.width,n._height=t.defaults.height,n._min=t.defaults.min,n._max=t.defaults.max,n}return Ts(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,t=e.minHandle,n=e.maxHandle,i=e.x,o=e.y,r=e.width,s=e.height,a=e.mask;t.centerX=i+r*a.min,n.centerX=i+r*a.max,t.centerY=n.centerY=o+s/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this;[t.mask,t.minHandle,t.maxHandle].forEach(function(t){e.save(),t.visible&&t.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(Gi),Ps=function(){function e(e){this.rm=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rm.fill},set:function(e){this.rm.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(e){this.rm.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(e){this.rm.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(e){this.rm.fillOpacity=e},enumerable:!0,configurable:!0}),e}(),Ds=function(){function e(e){this.rh=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rh.fill},set:function(e){this.rh.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(e){this.rh.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(e){this.rh.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rh.width},set:function(e){this.rh.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rh.height},set:function(e){this.rh.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(e){this.rh.gripLineGap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(e){this.rh.gripLineLength=e},enumerable:!0,configurable:!0}),e}(),As=function(){function e(e){var t=this;this.rs=new Rs,this.mask=new Ps(this.rs.mask),this.minHandle=new Ds(this.rs.minHandle),this.maxHandle=new Ds(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=e,e.scene.root.append(this.rs),this.rs.onRangeChange=function(e,n){return t.updateAxes(e,n)}}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.rs.visible},set:function(e){this.rs.visible=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.rs.x},set:function(e){this.rs.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.rs.y},set:function(e){this.rs.y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(e){this._margin=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!0,configurable:!0}),e.prototype.updateAxes=function(e,t){var n=this.chart,i=!1;n.axes.forEach(function(n){n.direction===so.X&&(!i&&(e>0||t<1)&&(i=!0),n.visibleRange=[e,t],n.update())}),n.seriesRoot.enabled=i,n.series.forEach(function(e){return e.update()})},e.prototype.onMouseDown=function(e){if(this.enabled){var t=e.offsetX,n=e.offsetY,i=this.rs,o=i.minHandle,r=i.maxHandle,s=i.x,a=i.width,l=i.min,u=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(t,n)?this.minHandleDragging=!0:r.containsPoint(t,n)?this.maxHandleDragging=!0:u.containsPoint(t,n)&&(this.panHandleOffset=(t-s)/a-l))}},e.prototype.onMouseMove=function(e){if(this.enabled){var t=this.rs,n=this.panHandleOffset,i=t.x,o=t.width,r=t.minHandle,s=t.maxHandle,a=this.chart.element.style,l=e.offsetX,u=e.offsetY,c=i+o*t.min,h=new Xn(c,t.y,i+o*t.max-c,t.height);if(a.cursor=r.containsPoint(l,u)||s.containsPoint(l,u)?"ew-resize":h.containsPoint(l,u)?"grab":"default",this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(n)){var p=t.max-t.min,d=Math.min(f()-n,1-p);d<=t.min?(t.min=d,t.max=t.min+p):(t.max=d+p,t.min=t.max-p)}}function f(){return Math.min(Math.max((l-i)/o,0),1)}},e.prototype.onMouseOut=function(e){this.stopHandleDragging()},e.prototype.onMouseUp=function(e){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},e}(),ks=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Is=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;n._seriesRoot=new Ss,n.navigator=new As(n),n.scene.root.visible=!1;var i=n.scene.root;return i.append(n.seriesRoot),i.append(n.legend.group),n.navigator.enabled=!1,n}return ks(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,t=e.axes,n=e.legend,i=e.navigator,o=new Xn(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),n.enabled&&n.data.length){var r=this.legendAutoPadding,s=this.legend.spacing;switch(o.x+=r.left,o.y+=r.top,o.width-=r.left+r.right,o.height-=r.top+r.bottom,this.legend.position){case"right":o.width-=s;break;case"bottom":o.height-=s;break;case"left":o.x+=s,o.width-=s;break;case"top":o.y+=s,o.height-=s}}var a=this.captionAutoPadding,l=this.padding;this.updateAxes(),o.x+=l.left,o.width-=l.left+l.right,o.y+=l.top+a,o.height-=l.top+a+l.bottom,i.enabled&&(o.height-=i.height+i.margin);var u=0;t.forEach(function(e){e.group.visible=!0;var t=Math.floor(e.computeBBox().width);switch(e.position){case ao.Top:o.y+=t,o.height-=t,e.translation.y=Math.floor(o.y+1),e.label.mirrored=!0;break;case ao.Right:o.width-=t,e.translation.x=Math.floor(o.x+o.width),e.label.mirrored=!0;break;case ao.Bottom:o.height-=t,u+=t,e.translation.y=Math.floor(o.y+o.height+1);break;case ao.Left:o.x+=t,o.width-=t,e.translation.x=Math.floor(o.x)}}),t.forEach(function(e){switch(e.position){case ao.Top:e.translation.x=Math.floor(o.x),e.range=[0,o.width],e.gridLength=o.height;break;case ao.Right:e.translation.y=Math.floor(o.y),e.range=e instanceof Co||e instanceof Lo?[0,o.height]:[o.height,0],e.gridLength=o.width;break;case ao.Bottom:e.translation.x=Math.floor(o.x),e.range=[0,o.width],e.gridLength=o.height;break;case ao.Left:e.translation.y=Math.floor(o.y),e.range=e instanceof Co||e instanceof Lo?[0,o.height]:[o.height,0],e.gridLength=o.width}}),this.seriesRect=o,this.series.forEach(function(e){e.group.translationX=Math.floor(o.x),e.group.translationY=Math.floor(o.y),e.update()});var c=this.seriesRoot;c.x=o.x,c.y=o.y,c.width=o.width,c.height=o.height,i.enabled&&(i.x=o.x,i.y=o.y+o.height+u+i.margin,i.width=o.width),this.axes.forEach(function(e){return e.update()})}},t.prototype.initSeries=function(t){e.prototype.initSeries.call(this,t),t.addEventListener("dataProcessed",this.updateAxes,this)},t.prototype.freeSeries=function(t){e.prototype.freeSeries.call(this,t),t.removeEventListener("dataProcessed",this.updateAxes,this)},t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.navigator.onMouseDown(t)},t.prototype.onMouseMove=function(t){e.prototype.onMouseMove.call(this,t),this.navigator.onMouseMove(t)},t.prototype.onMouseUp=function(t){e.prototype.onMouseUp.call(this,t),this.navigator.onMouseUp(t)},t.prototype.onMouseOut=function(t){e.prototype.onMouseOut.call(this,t),this.navigator.onMouseUp(t)},t.prototype.updateAxes=function(){var e=this.navigator,t=!1;this.axes.forEach(function(n){var i,o=n.direction,r=n.boundSeries;if(n.linkedTo)n.domain=n.linkedTo.domain;else{var s=[];r.filter(function(e){return e.visible}).forEach(function(e){s.push(e.getDomain(o))});var a=(i=new Array).concat.apply(i,s);n.domain=So(a)||a}n.direction===so.X&&(n.visibleRange=[e.min,e.max]),!t&&(n.visibleRange[0]>0||n.visibleRange[1]<1)&&(t=!0),n.update()}),this.seriesRoot.enabled=t},t.className="CartesianChart",t.type="cartesian",t}(ws),Fs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs(t,e),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var t,n=e.direction,i=[],o=void 0;e.boundSeries.filter(function(e){return e.visible}).forEach(function(e){if(n===so.X)if(void 0===o){var t=e.getDomain(n);i.push(t),o="number"==typeof t[0]}else o&&i.push(e.getDomain(n));else i.push(e.getDomain(n))});var r=(t=new Array).concat.apply(t,i);e.domain=So(r)||r,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(Is),Ms=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ls=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.directionKeys=((t={})[so.X]=["angleKey"],t[so.Y]=["radiusKey"],t),n.centerX=0,n.centerY=0,n.radius=0,n}return Ms(t,e),t}(ls),Vs=(Ms(function(){return null!==Cs&&Cs.apply(this,arguments)||this},Cs=hs),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Gs=function(e){function t(t){void 0===t&&(t=window.document);var n=e.call(this,t)||this;return n.padding=new $n(40),n.scene.root.append(n.legend.group),n}return Vs(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new Xn(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var t=this.captionAutoPadding;if(e.y+=t,e.height-=t,this.legend.enabled&&this.legend.data.length){var n=this.legendAutoPadding;e.x+=n.left,e.y+=n.top,e.width-=n.left+n.right,e.height-=n.top+n.bottom;var i=this.legend.spacing;switch(this.legend.position){case"right":e.width-=i;break;case"bottom":e.height-=i;break;case"left":e.x+=i,e.width-=i;break;case"top":e.y+=i,e.height-=i}}var o=this.padding;e.x+=o.left,e.y+=o.top,e.width-=o.left+o.right,e.height-=o.top+o.bottom,this.seriesRect=e;var r=e.x+e.width/2,s=e.y+e.height/2,a=Math.min(e.width,e.height)/2;this.series.forEach(function(e){e instanceof Ls&&(e.centerX=r,e.centerY=s,e.radius=a,e.update())})},t.className="PolarChart",t.type="polar",function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([mi("layoutChange")],t.prototype,"padding",void 0),t}(ws);function Hs(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,i=void 0;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!Hs(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if((n=o.length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;0!=i--;){var r=o[i];if(!Hs(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}var Ws,Bs=/(#\{(.*?)\})/g,js=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zs=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Us=function(e){function t(){var t=e.call(this)||this;return t.areaGroup=t.group.appendChild(new Gi),t.strokeGroup=t.group.appendChild(new Gi),t.markerGroup=t.group.appendChild(new Gi),t.areaSelection=Wi.select(t.areaGroup).selectAll(),t.strokeSelection=Wi.select(t.strokeGroup).selectAll(),t.markerSelection=Wi.select(t.markerGroup).selectAll(),t.markerSelectionData=[],t.seriesItemEnabled=new Map,t.xData=[],t.yData=[],t.yDomain=[],t.directionKeys={x:["xKey"],y:["yKeys"]},t.marker=new fs,t.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],t.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.fillOpacity=1,t.strokeOpacity=1,t.lineDash=void 0,t.lineDashOffset=0,t._xKey="",t.xName="",t._yKeys=[],t.yNames=[],t.strokeWidth=2,t.highlightStyle={fill:"yellow"},t.addEventListener("update",t.update),t.marker.enabled=!1,t.marker.addPropertyListener("shape",t.onMarkerShapeChange,t),t.marker.addEventListener("change",t.update,t),t}return js(t,e),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Hs(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach(function(e){return t.set(e,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.processData=function(){var e=this,t=e.xKey,n=e.yKeys,i=e.seriesItemEnabled,o=t&&n.length&&this.data?this.data:[],r=!0;this.xData=o.map(function(e){return r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e)),e[t]}),this.yData=o.map(function(e){return n.map(function(t){r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var n=e[t];return isFinite(n)&&i.get(t)?n:0})});var s,a,l=this.yData,u=this.normalizedTo,c=l.map(function(e){return Eo(e)}),h=_o(c);return u&&isFinite(u)?(s=h.min<0?-u:0,a=u,l.forEach(function(e,t){return e.forEach(function(n,i){e[i]=n<0?-n/c[t].min*u:n/c[t].max*u})})):(s=h.min,a=h.max),0===s&&0===a&&(a=1),this.yDomain=this.fixNumericExtent([s,a],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===so.X?this.xData:this.yDomain},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,i=e.xAxis,o=e.yAxis,r=e.xData,s=e.yData;if(this.group.visible=t&&!(!r.length||!s.length),i&&o&&t&&n&&!n.layoutPending&&!n.dataPending&&r.length&&s.length){var a=this.generateSelectionData();if(a){var l=a.areaSelectionData,u=a.markerSelectionData;this.updateAreaSelection(l),this.updateStrokeSelection(l),this.updateMarkerSelection(u),this.updateMarkerNodes(),this.markerSelectionData=u}}},t.prototype.generateSelectionData=function(){var e=this;if(this.data){var t=this,n=t.yKeys,i=t.data,o=t.xData,r=t.yData,s=t.marker,a=t.fills,l=t.strokes,u=t.xAxis.scale,c=t.yAxis.scale,h=(u.bandwidth||0)/2,p=(c.bandwidth||0)/2,d=[],f=[],g=2*o.length-1;return o.forEach(function(t,o){var m=r[o],y=i[o],v=u.convert(t)+h,C=0,w=0;m.forEach(function(t,i){var r=t<0?C:w,u=c.convert(r+t)+p,h=n[i];s&&f.push({series:e,seriesDatum:y,yValue:y[h],yKey:h,point:{x:v,y:u},fill:a[i%a.length],stroke:l[i%l.length]});var m=(d[i]||(d[i]={yKey:h,points:[]})).points;m[o]={x:v,y:u},m[g-o]={x:v,y:c.convert(r)+p},t<0?C+=t:w+=t})}),{areaSelectionData:d,markerSelectionData:f}}},t.prototype.updateAreaSelection=function(e){var t=this,n=this,i=n.fills,o=n.fillOpacity,r=n.strokes,s=n.strokeOpacity,a=n.strokeWidth,l=n.seriesItemEnabled,u=n.shadow,c=this.areaSelection.setData(e);c.exit.remove();var h=c.enter.append(Ji).each(function(e){e.lineJoin="round",e.stroke=void 0,e.pointerEvents=Tn.None}),p=c.merge(h);p.each(function(e,n,c){var h=e.path;e.fill=i[c%i.length],e.fillOpacity=o,e.stroke=r[c%r.length],e.strokeOpacity=s,e.strokeWidth=a,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=u,e.visible=!!l.get(n.yKey),h.clear(),n.points.forEach(function(e,t){var n=e.x,i=e.y;t>0?h.lineTo(n,i):h.moveTo(n,i)}),h.closePath()}),this.areaSelection=p},t.prototype.updateStrokeSelection=function(e){var t=this;if(this.data){var n=this,i=n.strokes,o=n.strokeWidth,r=n.strokeOpacity,s=n.data,a=n.seriesItemEnabled,l=this.strokeSelection.setData(e);l.exit.remove();var u=l.enter.append(Ji).each(function(e){e.fill=void 0,e.lineJoin=e.lineCap="round",e.pointerEvents=Tn.None}),c=l.merge(u);c.each(function(e,n,l){var u=e.path;e.stroke=i[l%i.length],e.strokeWidth=o,e.visible=!!a.get(n.yKey),e.strokeOpacity=r,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,u.clear();for(var c=n.points,h=0;h<s.length;h++){var p=c[h],d=p.x,f=p.y;h>0?u.lineTo(d,f):u.moveTo(d,f)}}),this.strokeSelection=c}},t.prototype.updateMarkerSelection=function(e){var t=this.marker,n=t.shape?e:[],i=Xr(t.shape),o=this.markerSelection.setData(n);o.exit.remove();var r=o.enter.append(i);this.markerSelection=o.merge(r)},t.prototype.updateMarkerNodes=function(){if(this.chart){var e=this.marker,t=e.formatter,n=void 0!==e.strokeWidth?e.strokeWidth:this.strokeWidth,i=e.size,o=this.xKey,r=this.seriesItemEnabled,s=this.chart.highlightedDatum,a=this.highlightStyle,l=a.fill,u=a.stroke;this.markerSelection.each(function(a,c){var h=c===s,p=h&&void 0!==l?l:e.fill||c.fill,d=h&&void 0!==u?u:e.stroke||c.stroke,f=void 0;t&&(f=t({datum:c.seriesDatum,xKey:o,yKey:c.yKey,fill:p,stroke:d,strokeWidth:n,size:i,highlighted:h})),a.fill=f&&f.fill||p,a.stroke=f&&f.stroke||d,a.strokeWidth=f&&void 0!==f.strokeWidth?f.strokeWidth:n,a.size=f&&void 0!==f.size?f.size:i,a.translationX=c.point.x,a.translationY=c.point.y,a.visible=e.enabled&&a.size>0&&!!r.get(c.yKey)})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:e.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=e.yKey;if(!t||!n)return"";var i,o,r,s=this,a=s.xName,l=s.yNames,u=s.fills,c=s.tooltipFormat,h=s.tooltipRenderer,p=e.seriesDatum,d=p[t],f=p[n],g=s.yKeys.indexOf(n),m=l[g],y=u[g%u.length],v={title:m,titleBackgroundColor:y,content:("number"==typeof d?to(d):String(d))+": "+("number"==typeof f?to(f):String(f))};if(c||h){var C={datum:p,xKey:t,xName:a,xValue:d,yKey:n,yValue:f,yName:m,color:y};if(c)return vs({content:(i=c,o=C,i.replace(Bs,function(){var e=arguments[2],t=e.split(":"),n=t[0],i=t[1],s=o[n];if("number"==typeof s){if(c=i&&r){var a=c,l=a.locales,u=a.options;return s.toLocaleString(l,u)}return String(s)}if(s instanceof Date){var c;if("string"==typeof(c=i&&r)){var h=mr.format(c);return h(s)}return s.toDateString()}return"string"==typeof s||s&&s.toString?String(s):""}))},v);if(h)return vs(h(C),v)}return vs(v)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,i=t.id,o=t.yKeys,r=t.yNames,s=t.seriesItemEnabled,a=t.marker,l=t.fills,u=t.strokes,c=t.fillOpacity,h=t.strokeOpacity;n&&n.length&&t.xKey&&o.length&&o.forEach(function(t,n){e.push({id:i,itemId:t,enabled:s.get(t)||!1,label:{text:r[n]||o[n]},marker:{shape:a.shape,fill:a.fill||l[n%l.length],stroke:a.stroke||u[n%u.length],fillOpacity:c,strokeOpacity:h}})})},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled.set(e,t),this.scheduleData()},t.className="AreaSeries",t.type="area",zs([mi("dataChange")],t.prototype,"fills",void 0),zs([mi("dataChange")],t.prototype,"strokes",void 0),zs([mi("update")],t.prototype,"fillOpacity",void 0),zs([mi("update")],t.prototype,"strokeOpacity",void 0),zs([mi("update")],t.prototype,"lineDash",void 0),zs([mi("update")],t.prototype,"lineDashOffset",void 0),zs([mi("update")],t.prototype,"xName",void 0),zs([mi("update")],t.prototype,"yNames",void 0),zs([mi("update")],t.prototype,"strokeWidth",void 0),zs([mi("update")],t.prototype,"shadow",void 0),t}(ds),Ks=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qs=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ys=function(e){function t(){var t=e.call(this)||this;return t.enabled=!0,t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.color="rgba(70, 70, 70, 1)",t}return Ks(t,e),qs([mi("change","dataChange")],t.prototype,"enabled",void 0),qs([mi("change")],t.prototype,"fontStyle",void 0),qs([mi("change")],t.prototype,"fontWeight",void 0),qs([mi("change")],t.prototype,"fontSize",void 0),qs([mi("change")],t.prototype,"fontFamily",void 0),qs([mi("change")],t.prototype,"color",void 0),t}(gi),$s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xs=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Bar=0]="Bar",e[e.Label=1]="Label"}(Ws||(Ws={}));var Qs,Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $s(t,e),Xs([mi("change")],t.prototype,"formatter",void 0),t}(Ys),Js=function(e){function t(){var t,n=e.call(this)||this;return n.rectGroup=n.group.appendChild(new Gi),n.textGroup=n.group.appendChild(new Gi),n.rectSelection=Wi.select(n.rectGroup).selectAll(),n.textSelection=Wi.select(n.textGroup).selectAll(),n.xData=[],n.yData=[],n.yDomain=[],n.label=new Zs,n.seriesItemEnabled=new Map,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.groupScale=new yo,n.directionKeys=((t={})[so.X]=["xKey"],t[so.Y]=["yKeys"],t),n._xKey="",n._xName="",n._yKeys=[],n._yNames=[],n.grouped=!1,n._strokeWidth=1,n.highlightStyle={fill:"yellow"},n.addEventListener("update",n.update),n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return $s(t,e),t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,i=n&&n[this.flipXY?po(e):e],o=[];return i&&i.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}),o},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Hs(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach(function(e){return t.set(e,!0)});var n=this.groupScale;n.domain=e,n.padding=.1,n.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,t=e.xKey,n=e.yKeys,i=e.seriesItemEnabled,o=t&&n.length&&this.data?this.data:[],r=!0;this.xData=o.map(function(e){return r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e)),e[t]}),this.yData=o.map(function(e){return n.map(function(t){r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var n=e[t];return isFinite(n)&&i.get(t)?n:0})});var s=this.yData.map(function(e){return Eo(e)}),a=this.yData,l=this.normalizedTo,u=1/0,c=-1/0;if(this.grouped)u=Math.min.apply(Math,function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}([0],a.map(function(e){return Math.min.apply(Math,e)}))),c=Math.max.apply(Math,a.map(function(e){return Math.max.apply(Math,e)}));else{var h=_o(s);l&&isFinite(l)?(u=h.min<0?-l:0,c=l,a.forEach(function(e,t){return e.forEach(function(n,i){e[i]=n<0?-n/s[t].min*l:n/s[t].max*l})})):(u=h.min,c=h.max)}return this.yDomain=this.fixNumericExtent([u,c],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return this.flipXY&&(e=po(e)),e===so.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:e.yKey})},t.prototype.generateNodeData=function(){var e=this;if(!this.data)return[];var t=this.flipXY,n=t?this.yAxis:this.xAxis,i=n.scale,o=(t?this.xAxis:this.yAxis).scale,r=this,s=r.groupScale,a=r.yKeys,l=r.fills,u=r.strokes,c=r.grouped,h=r.strokeWidth,p=r.seriesItemEnabled,d=r.data,f=r.xData,g=r.yData,m=this.label,y=m.fontStyle,v=m.fontWeight,C=m.fontSize,w=m.fontFamily,b=m.color,S=m.formatter;s.range=[0,i.bandwidth];var E=c?s.bandwidth:i.bandwidth,_=[];return f.forEach(function(r,f){for(var m=g[f],O=d[f],x=i.convert(r),T=0,R=0,P=0;P<m.length;P++){var D=m[P],A=a[P],k=c?x+s.convert(A):x;if(n.inRange(k,E)){var I,F=D<0?T:R,N=o.convert(c?D:F+D),M=o.convert(c?0:F),L=O[A],V="number"==typeof L;I=S?S({value:V?L:void 0}):V&&isFinite(L)?L.toFixed(2):"",_.push({series:e,seriesDatum:O,yValue:L,yKey:A,x:t?Math.min(N,M):k,y:t?k:Math.min(N,M),width:t?Math.abs(M-N):E,height:t?E:Math.abs(M-N),fill:l[P%l.length],stroke:u[P%u.length],strokeWidth:h,label:p.get(A)&&I?{text:I,fontStyle:y,fontWeight:v,fontSize:C,fontFamily:w,fill:b,x:t?N+(L>=0?-1:1)*Math.abs(M-N)/2:k+E/2,y:t?k+E/2:N+(L>=0?1:-1)*Math.abs(M-N)/2}:void 0}),c||(D<0?T+=D:R+=D)}}}),_},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,i=e.xAxis,o=e.yAxis,r=e.xData,s=e.yData;if(this.group.visible=t,n&&!n.layoutPending&&!n.dataPending&&i&&o&&t&&r.length&&s.length){var a=this.generateNodeData();this.updateRectSelection(a),this.updateRectNodes(),this.updateTextSelection(a),this.updateTextNodes()}},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var n=t.enter.append(Ar).each(function(e){e.tag=Ws.Bar,e.crisp=!0});this.rectSelection=t.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this,n=t.fillOpacity,i=t.strokeOpacity,o=t.highlightStyle,r=o.fill,s=o.stroke,a=t.shadow,l=t.formatter,u=t.xKey,c=t.flipXY,h=this.chart.highlightedDatum;this.rectSelection.each(function(t,o){var p=o===h,d=p&&void 0!==r?r:o.fill,f=p&&void 0!==s?s:o.stroke,g=void 0;l&&(g=l({datum:o.seriesDatum,fill:d,stroke:f,strokeWidth:o.strokeWidth,highlighted:p,xKey:u,yKey:o.yKey})),t.x=o.x,t.y=o.y,t.width=o.width,t.height=o.height,t.fill=g&&g.fill||d,t.stroke=g&&g.stroke||f,t.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:o.strokeWidth,t.fillOpacity=n,t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=a,t.visible=c?o.width>0:o.height>0})}},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var n=t.enter.append(di).each(function(e){e.tag=Ws.Label,e.pointerEvents=Tn.None,e.textAlign="center",e.textBaseline="middle"});this.textSelection=t.merge(n)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(t,n){var i=n.label;i&&e?(t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.text=i.text,t.x=i.x,t.y=i.y,t.fill=i.fill,t.visible=!0):t.visible=!1})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=e.yKey;if(!t||!n)return"";var i=this,o=i.xName,r=i.yNames,s=i.fills,a=i.tooltipRenderer,l=e.seriesDatum,u=i.yKeys.indexOf(n),c=r[u],h=s[u%s.length],p=l[t],d=l[n],f={title:c,titleBackgroundColor:h,content:("number"==typeof p?to(p):String(p))+": "+("number"==typeof d?to(d):String(d))};return a?vs(a({datum:l,xKey:t,xValue:p,xName:o,yKey:n,yValue:d,yName:c,color:h}),f):vs(f)},t.prototype.listSeriesItems=function(e){var t=this,n=t.id,i=t.data,o=t.yKeys,r=t.yNames,s=t.seriesItemEnabled,a=t.fills,l=t.strokes,u=t.fillOpacity,c=t.strokeOpacity;i&&i.length&&t.xKey&&o.length&&o.forEach(function(t,i){e.push({id:n,itemId:t,enabled:s.get(t)||!1,label:{text:r[i]||o[i]},marker:{fill:a[i%a.length],stroke:l[i%l.length],fillOpacity:u,strokeOpacity:c}})})},t.prototype.toggleSeriesItem=function(e,t){var n=this.seriesItemEnabled,i=[];n.set(e,t),n.forEach(function(e,t){e&&i.push(t)}),this.groupScale.domain=i,this.scheduleData()},t.className="BarSeries",t.type="bar",Xs([mi("layoutChange")],t.prototype,"flipXY",void 0),Xs([mi("dataChange")],t.prototype,"fills",void 0),Xs([mi("dataChange")],t.prototype,"strokes",void 0),Xs([mi("layoutChange")],t.prototype,"fillOpacity",void 0),Xs([mi("layoutChange")],t.prototype,"strokeOpacity",void 0),Xs([mi("update")],t.prototype,"lineDash",void 0),Xs([mi("update")],t.prototype,"lineDashOffset",void 0),Xs([mi("update")],t.prototype,"formatter",void 0),Xs([mi("dataChange")],t.prototype,"grouped",void 0),t}(ds),ea=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ta=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},na=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.lineNode=new Ji,t.nodeSelection=Wi.select(t.group).selectAll(),t.nodeData=[],t.marker=new fs,t.stroke="#874349",t.lineDash=void 0,t.lineDashOffset=0,t.strokeWidth=2,t.strokeOpacity=1,t._xKey="",t.xName="",t._yKey="",t.yName="",t.highlightStyle={fill:"yellow"};var n=t.lineNode;n.fill=void 0,n.lineJoin="round",n.pointerEvents=Tn.None,t.group.append(n),t.addEventListener("update",t.update);var i=t.marker;return i.fill="#c16068",i.stroke="#874349",i.addPropertyListener("shape",t.onMarkerShapeChange,t),i.addPropertyListener("enabled",t.onMarkerEnabledChange,t),i.addEventListener("change",t.update,t),t}return ea(t,e),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.onMarkerEnabledChange=function(e){e.value||(this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove())},t.prototype.setColors=function(e,t){this.stroke=e[0],this.marker.stroke=t[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=e.xAxis,n=e.xKey,i=e.yKey,o=e.xData,r=e.yData,s=n&&i&&this.data?this.data:[];if(!t)return!1;var a=t.scale instanceof Ti,l=e.yAxis.scale instanceof Ti;o.length=0,r.length=0;for(var u=0,c=s.length;u<c;u++){var h=s[u],p=h[i];o.push(h[n]),r.push(p)}return this.xDomain=a?this.fixNumericExtent(So(o),"x"):o,this.yDomain=l?this.fixNumericExtent(So(r),"y"):r,!0},t.prototype.getDomain=function(e){return e===so.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.update=function(){this.group.visible=this.visible;var e=this,t=e.chart;t&&!t.layoutPending&&!t.dataPending&&e.xAxis&&e.yAxis&&(this.updateLinePath(),this.updateNodeSelection(),this.updateNodes())},t.prototype.getXYDatums=function(e,t,n,i,o){var r=i instanceof Ti,s=t[e],a=n[e];return null==a||o instanceof Ti&&(isNaN(a)||!isFinite(a))||null==s||r&&(isNaN(s)||!isFinite(s))?void 0:[s,a]},t.prototype.updateLinePath=function(){if(this.data){var e=this,t=e.xAxis,n=e.data,i=e.xData,o=e.yData,r=e.lineNode,s=t.scale,a=e.yAxis.scale,l=(s.bandwidth||0)/2,u=(a.bandwidth||0)/2,c=r.path,h=[];c.clear();for(var p=!0,d=void 0,f=void 0,g=0;g<i.length;g++){var m=f||this.getXYDatums(g,i,o,s,a);if(m){var y=m[1],v=s.convert(m[0])+l,C=(s.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;f=this.getXYDatums(g+1,i,o,s,a);var w=t.inRangeEx(v,0,C),b=f&&t.inRangeEx(s.convert(f[0])+l,0,C);if(-1===w&&-1===b){p=!0;continue}if(1===w&&1===d){p=!0;continue}d=w;var S=a.convert(y)+u;p?(c.moveTo(v,S),p=!1):c.lineTo(v,S),h.push({series:this,seriesDatum:n[g],point:{x:v,y:S}})}else d=void 0,p=!0}r.stroke=this.stroke,r.strokeWidth=this.strokeWidth,r.lineDash=this.lineDash,r.lineDashOffset=this.lineDashOffset,r.strokeOpacity=this.strokeOpacity,this.nodeData=h}},t.prototype.updateNodeSelection=function(){var e=this.marker,t=e.shape?this.nodeData:[],n=Xr(e.shape),i=this.nodeSelection.setData(t);i.exit.remove();var o=i.enter.append(Gi);o.append(n),this.nodeSelection=i.merge(o)},t.prototype.updateNodes=function(){if(this.chart){var e=this,t=e.marker,n=e.xKey,i=e.yKey,o=e.stroke,r=e.strokeWidth,s=Xr(t.shape),a=this.chart.highlightedDatum,l=this.highlightStyle,u=l.fill,c=l.stroke,h=t.formatter,p=t.size,d=void 0!==t.strokeWidth?t.strokeWidth:r;this.nodeSelection.selectByClass(s).each(function(e,r){var s=r===a,l=s&&void 0!==u?u:t.fill,f=s&&void 0!==c?c:t.stroke||o,g=void 0;h&&(g=h({datum:r.seriesDatum,xKey:n,yKey:i,fill:l,stroke:f,strokeWidth:d,size:p,highlighted:s})),e.fill=g&&g.fill||l,e.stroke=g&&g.stroke||f,e.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:d,e.size=g&&void 0!==g.size?g.size:p,e.translationX=r.point.x,e.translationY=r.point.y,e.visible=t.enabled&&e.size>0})}},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey;if(!t||!n)return"";var i=this,o=i.xName,r=i.yName,s=i.stroke,a=i.tooltipRenderer,l=e.seriesDatum,u=l[t],c=l[n],h="number"==typeof u?to(u):String(u),p="number"==typeof c?to(c):String(c),d=this.title||r,f={title:d,titleBackgroundColor:s,content:h+": "+p};return a?vs(a({datum:e.seriesDatum,xKey:t,xValue:u,xName:o,yKey:n,yValue:c,yName:r,title:d,color:s}),f):vs(f)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,i=t.yKey,o=t.marker;n&&n.length&&t.xKey&&i&&e.push({id:t.id,itemId:void 0,enabled:t.visible,label:{text:t.title||t.yName||i},marker:{shape:o.shape,fill:o.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:t.strokeOpacity}})},t.className="LineSeries",t.type="line",ta([mi("layoutChange")],t.prototype,"title",void 0),ta([mi("update")],t.prototype,"stroke",void 0),ta([mi("update")],t.prototype,"lineDash",void 0),ta([mi("update")],t.prototype,"lineDashOffset",void 0),ta([mi("update")],t.prototype,"strokeWidth",void 0),ta([mi("update")],t.prototype,"strokeOpacity",void 0),ta([mi("update")],t.prototype,"xName",void 0),ta([mi("update")],t.prototype,"yName",void 0),t}(ds),ia=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ra=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.sizeData=[],t.sizeScale=new Li,t.nodeSelection=Wi.select(t.group).selectAll(),t.nodeData=[],t.marker=new fs,t._fill="#c16068",t._stroke="#874349",t._strokeWidth=2,t._fillOpacity=1,t._strokeOpacity=1,t.highlightStyle={fill:"yellow"},t.xKey="",t.yKey="",t.xName="",t.yName="",t.sizeName="Size",t.labelName="Label";var n=t.marker;return n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.update,t),t.addPropertyListener("xKey",function(){return t.xData=[]}),t.addPropertyListener("yKey",function(){return t.yData=[]}),t.addPropertyListener("sizeKey",function(){return t.sizeData=[]}),t}return ia(t,e),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0],this.marker.fill=e[0],this.marker.stroke=t[0]},t.prototype.processData=function(){var e=this,t=e.xKey,n=e.yKey,i=e.sizeKey,o=e.xAxis,r=e.yAxis,s=t&&n&&this.data?this.data:[];return this.xData=s.map(function(e){return e[t]}),this.yData=s.map(function(e){return e[n]}),this.sizeData=i?s.map(function(e){return e[i]}):[],this.sizeScale.domain=bo(this.sizeData)||[1,1],this.xDomain=o.scale instanceof Ti?this.fixNumericExtent(bo(this.xData),"x"):this.xData,this.yDomain=r.scale instanceof Ti?this.fixNumericExtent(bo(this.yData),"y"):this.yData,!0},t.prototype.getDomain=function(e){return e===so.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.generateNodeData=function(){if(!this.data)return[];var e=this.xAxis,t=e.scale,n=this.yAxis.scale,i=(t.bandwidth||0)/2,o=(n.bandwidth||0)/2,r=this,s=r.data,a=r.xData,l=r.yData,u=r.sizeData,c=r.sizeScale,h=r.marker;c.range=[h.size,h.maxSize];for(var p=[],d=0;d<a.length;d++){var f=t.convert(a[d])+i;e.inRange(f)&&p.push({series:this,seriesDatum:s[d],point:{x:f,y:n.convert(l[d])+o},size:u.length?c.convert(u[d]):h.size})}return p},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,i=e.xAxis,o=e.yAxis;if(this.group.visible=t,t&&n&&!n.layoutPending&&!n.dataPending&&i&&o){var r=this.nodeData=this.generateNodeData();this.updateNodeSelection(r),this.updateNodes()}},t.prototype.updateNodeSelection=function(e){var t=Xr(this.marker.shape),n=this.nodeSelection.setData(e);n.exit.remove();var i=n.enter.append(Gi);i.append(t),this.nodeSelection=n.merge(i)},t.prototype.updateNodes=function(){if(this.chart){var e=this.chart.highlightedDatum,t=this,n=t.marker,i=t.xKey,o=t.yKey,r=t.fill,s=t.stroke,a=t.fillOpacity,l=t.strokeOpacity,u=this.highlightStyle,c=u.fill,h=u.stroke,p=void 0!==n.strokeWidth?n.strokeWidth:t.strokeWidth,d=Xr(n.shape),f=n.formatter;this.nodeSelection.selectByClass(d).each(function(t,u){var d=u===e,g=d&&void 0!==c?c:n.fill||r,m=d&&void 0!==h?h:n.stroke||s,y=void 0;f&&(y=f({datum:u.seriesDatum,xKey:i,yKey:o,fill:g,stroke:m,strokeWidth:p,size:u.size,highlighted:d})),t.fill=y&&y.fill||g,t.stroke=y&&y.stroke||m,t.strokeWidth=y&&void 0!==y.strokeWidth?y.strokeWidth:p,t.size=y&&void 0!==y.size?y.size:u.size,t.fillOpacity=a,t.strokeOpacity=l,t.translationX=u.point.x,t.translationY=u.point.y,t.visible=n.enabled&&t.size>0})}},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey;if(!t||!n)return"";var i=this,o=i.tooltipRenderer,r=i.xName,s=i.yName,a=i.sizeKey,l=i.sizeName,u=i.labelKey,c=i.labelName,h=i.fill||"gray",p=this.title||s,d=e.seriesDatum,f=d[t],g=d[n],m="<b>"+(r||t)+"</b>: "+("number"==typeof f?to(f):f)+"<br><b>"+(s||n)+"</b>: "+("number"==typeof g?to(g):g);a&&(m+="<br><b>"+l+"</b>: "+d[a]),u&&(m="<b>"+c+"</b>: "+d[u]+"<br>"+m);var y={title:p,titleBackgroundColor:h,content:m};return o?vs(o({datum:d,xKey:t,xValue:f,xName:r,yKey:n,yValue:g,yName:s,sizeKey:a,sizeName:l,labelKey:u,labelName:c,title:p,color:h}),y):vs(y)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,i=t.yKey,o=t.marker;n&&n.length&&t.xKey&&i&&e.push({id:t.id,itemId:void 0,enabled:t.visible,label:{text:t.title||t.yName||i},marker:{shape:o.shape,fill:o.fill||t.fill||"rgba(0, 0, 0, 0)",stroke:o.stroke||t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",oa([mi("layoutChange")],t.prototype,"title",void 0),oa([mi("dataChange")],t.prototype,"xKey",void 0),oa([mi("dataChange")],t.prototype,"yKey",void 0),oa([mi("dataChange")],t.prototype,"sizeKey",void 0),oa([mi("dataChange")],t.prototype,"labelKey",void 0),t}(ds),sa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),aa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Bin=0]="Bin",e[e.Label=1]="Label"}(Qs||(Qs={}));var la,ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sa(t,e),aa([mi("change")],t.prototype,"formatter",void 0),t}(Ys),ca={count:function(e){return e.data.length},sum:function(e,t){return e.data.reduce(function(e,n){return e+n[t]},0)},mean:function(e,t){return ca.sum(e,t)/ca.count(e,t)}},ha=function(){function e(e){var t=e[0],n=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[t,n]}return e.prototype.addDatum=function(e){this.data.push(e),this.frequency++},Object.defineProperty(e.prototype,"domainWidth",{get:function(){var e=this.domain;return e[1]-e[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),e.prototype.calculateAggregatedValue=function(e,t){t||(e="count"),this.aggregatedValue=(0,ca[e])(this,t)},e.prototype.getY=function(e){return e?this.relativeHeight:this.aggregatedValue},e}(),pa=function(e){function t(){var t,n=e.call(this)||this;return n.rectGroup=n.group.appendChild(new Gi),n.textGroup=n.group.appendChild(new Gi),n.rectSelection=Wi.select(n.rectGroup).selectAll(),n.textSelection=Wi.select(n.textGroup).selectAll(),n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new ua,n.seriesItemEnabled=!0,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.directionKeys=((t={})[so.X]=["xKey"],t[so.Y]=["yKey"],t),n._xKey="",n._areaPlot=!1,n._xName="",n._yKey="",n._yName="",n._strokeWidth=1,n.highlightStyle={fill:"yellow"},n.label.enabled=!1,n.label.addEventListener("change",n.update,n),n}return sa(t,e),t.prototype.getKeys=function(e){var t=this,n=this.directionKeys,i=n&&n[e],o=[];return i&&i.forEach(function(e){var n=t[e];n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}),o},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0]},t.prototype.deriveBins=function(){var e=this,t=this.bins;if(!this.data)return[];if(t&&this.binCount&&console.warn("bin domain and bin count both specified - these are mutually exclusive properties"),t)return t;var n=this.data.map(function(t){return t[e.xKey]}),i=this.fixNumericExtent(bo(n),"x"),o=Pi(i[0],i[1],this.binCount||10),r=Ii(i[0],i[1],this.binCount||10),s=o[0];return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}([[s-r,s]],o.map(function(e){return[e,e+r]}))},t.prototype.placeDataInBins=function(e){var t=this,n=this.xKey,i=this.deriveBins(),o=e.slice().sort(function(e,t){return e[n]<t[n]?-1:e[n]>t[n]?1:0}),r=0,s=[new ha(i[0])];return o.forEach(function(e){for(;e[n]>i[r][1];)r++,s.push(new ha(i[r]));s[r].addDatum(e)}),s.forEach(function(e){return e.calculateAggregatedValue(t._aggregation,t.yKey)}),s},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(t,n){return Math.max(t,n[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=this.data;this.binnedData=this.placeDataInBins(this.xKey&&t?t:[]);var n=So(this.binnedData.map(function(t){return t.getY(e.areaPlot)}));return this.yDomain=this.fixNumericExtent([0,n?n[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===so.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey})},t.prototype.update=function(){var e=this,t=e.visible,n=e.chart,i=e.xAxis,o=e.yAxis;if(this.group.visible=t,i&&o&&t&&n&&!n.layoutPending&&!n.dataPending){var r=this.generateNodeData();this.updateRectSelection(r),this.updateRectNodes(),this.updateTextSelection(r),this.updateTextNodes()}},t.prototype.generateNodeData=function(){var e=this;if(!this.seriesItemEnabled)return[];var t=this,n=t.xAxis.scale,i=t.yAxis.scale,o=t.fill,r=t.stroke,s=t.strokeWidth,a=[],l=this.label,u=l.formatter,c=void 0===u?function(e){return String(e.value)}:u,h=l.fontStyle,p=l.fontWeight,d=l.fontSize,f=l.fontFamily,g=l.color;return this.binnedData.forEach(function(t){var l=t.aggregatedValue,u=t.frequency,m=t.domain,y=m[1],v=t.relativeHeight,C=n.convert(m[0]),w=n.convert(y),b=e.areaPlot?v:e.yKey?l:u,S=i.convert(0),E=i.convert(b),_=w-C,O=Math.abs(E-S),x=0!==b?{text:c({value:t.aggregatedValue}),fontStyle:h,fontWeight:p,fontSize:d,fontFamily:f,fill:g,x:C+_/2,y:E+O/2}:void 0;a.push({series:e,seriesDatum:t,x:C,y:E,width:_,height:O,fill:o,stroke:r,strokeWidth:s,label:x})}),a},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var n=t.enter.append(Ar).each(function(e){e.tag=Qs.Bin,e.crisp=!0});this.rectSelection=t.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this.chart.highlightedDatum,n=this,i=n.fillOpacity,o=n.strokeOpacity,r=n.shadow,s=n.highlightStyle,a=s.fill,l=s.stroke;this.rectSelection.each(function(n,s){var u=s===t;n.x=s.x,n.y=s.y,n.width=s.width,n.height=s.height,n.fill=u&&void 0!==a?a:s.fill,n.stroke=u&&void 0!==l?l:s.stroke,n.fillOpacity=i,n.strokeOpacity=o,n.strokeWidth=s.strokeWidth,n.lineDash=e.lineDash,n.lineDashOffset=e.lineDashOffset,n.fillShadow=r,n.visible=s.height>0})}},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var n=t.enter.append(di).each(function(e){e.tag=Qs.Label,e.pointerEvents=Tn.None,e.textAlign="center",e.textBaseline="middle"});this.textSelection=t.merge(n)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(t,n){var i=n.label;i&&e?(t.text=i.text,t.x=i.x,t.y=i.y,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.fill,t.visible=!0):t.visible=!1})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,n=this.yKey;if(!t)return"";var i=this,o=i.xName,r=i.yName,s=i.fill,a=i.tooltipRenderer,l=i.aggregation,u=e.seriesDatum,c=u.aggregatedValue,h=u.frequency,p=u.domain,d=p[1],f=(o||t)+" "+to(p[0])+" - "+to(d),g=n?"<b>"+(r||n)+" ("+l+")</b>: "+to(c)+"<br>":"",m={title:f,titleBackgroundColor:s,content:g+="<b>Frequency</b>: "+h};return a?vs(a({datum:u,xKey:t,xValue:u.domain,xName:o,yKey:n,yValue:u.aggregatedValue,yName:r,color:s}),m):vs(m)},t.prototype.listSeriesItems=function(e){var t=this,n=t.data,i=t.yKey;n&&n.length&&e.push({id:t.id,itemId:i,enabled:t.seriesItemEnabled,label:{text:t.yName||i||"Frequency"},marker:{fill:t.fill||"rgba(0, 0, 0, 0)",stroke:t.stroke||"rgba(0, 0, 0, 0)",fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,t){e===this.yKey&&(this.seriesItemEnabled=t),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",aa([mi("dataChange")],t.prototype,"fill",void 0),aa([mi("dataChange")],t.prototype,"stroke",void 0),aa([mi("layoutChange")],t.prototype,"fillOpacity",void 0),aa([mi("layoutChange")],t.prototype,"strokeOpacity",void 0),aa([mi("update")],t.prototype,"lineDash",void 0),aa([mi("update")],t.prototype,"lineDashOffset",void 0),t}(ds),da=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Qi,t._dirtyPath=!0,t._centerX=0,t._centerY=0,t._centerOffset=0,t._innerRadius=10,t._outerRadius=20,t._startAngle=0,t._endAngle=2*Math.PI,t._angleOffset=0,t}return da(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new Xn(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isPointInPath=function(e,t){var n=this.transformPoint(e,t);return this.path.isPointInPath(n.x,n.y)},t.prototype.isPointInStroke=function(e,t){return!1},Object.defineProperty(t.prototype,"fullPie",{get:function(){return eo(Ui(this.startAngle),Ui(this.endAngle))},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){if(this.dirtyPath){var e=this.path,t=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+t,i=Math.max(this.startAngle,this.endAngle)+t,o=.5*(n+i),r=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.centerOffset,l=this.fullPie,u=this.centerX,c=this.centerY;if(e.clear(),a&&(u+=a*Math.cos(o),c+=a*Math.sin(o)),l||(e.moveTo(u+r*Math.cos(n),c+r*Math.sin(n)),e.lineTo(u+s*Math.cos(n),c+s*Math.sin(n))),e.cubicArc(u,c,s,s,0,n,i,0),l)e.moveTo(u+r*Math.cos(i),c+r*Math.sin(i));else{var h=u+r*Math.cos(i);e.lineTo(Math.abs(h)<1e-8?0:h,c+r*Math.sin(i))}e.cubicArc(u,c,r,r,0,i,n,1),e.closePath(),this.dirtyPath=!1}},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.updatePath(),this.scene.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Sector",t}(ci),ga=function(){function e(e,t,n,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,i||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var n=e.nameToHex[t];if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var n=t.match(e.hexRe);if(n)return new e((i=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(r=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=t.match(e.shortHexRe)){var i=parseInt(n[1],16),o=parseInt(n[2],16),r=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new e((i+=16*i)/255,(o+=16*o)/255,(r+=16*r)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var n=t.match(e.rgbRe);if(n)return new e(+n[1]/255,+n[2]/255,+n[3]/255);if(n=t.match(e.rgbaRe))return new e(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,n,i,o){void 0===o&&(o=1);var r=e.HSBtoRGB(t,n,i);return new e(r[0],r[1],r[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,n){var i=Math.min(e,t,n),o=Math.max(e,t,n),r=NaN;if(i!==o){var s=o-i,a=(o-e)/s,l=(o-t)/s,u=(o-n)/s;r=e===o?u-l:t===o?2+a-u:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==o?(o-i)/o:0,o]},e.HSBtoRGB=function(e,t,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var i=0,o=0,r=0;if(0===t)i=o=r=n;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=n*(1-t),u=n*(1-t*a),c=n*(1-t*(1-a));switch(s>>0){case 0:i=n,o=c,r=l;break;case 1:i=u,o=n,r=l;break;case 2:i=l,o=n,r=c;break;case 3:i=l,o=u,r=n;break;case 4:i=c,o=l,r=n;break;case 5:i=n,o=l,r=u}}return[i,o,r]},e.prototype.derive=function(t,n,i,o){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&i>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*n,1),0);s=Math.max(Math.min(s*i,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(a,l,s);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}(),ma=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ya=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Sector=0]="Sector",e[e.Callout=1]="Callout",e[e.Label=2]="Label"}(la||(la={}));var va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=3,t.minAngle=20,t}return ma(t,e),ya([mi("change")],t.prototype,"offset",void 0),ya([mi("dataChange")],t.prototype,"minAngle",void 0),t}(Ys),Ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colors=[],t.length=10,t.strokeWidth=1,t}return ma(t,e),ya([mi("change")],t.prototype,"colors",void 0),ya([mi("change")],t.prototype,"length",void 0),ya([mi("change")],t.prototype,"strokeWidth",void 0),t}(gi),wa=function(e){function t(){var t,n=e.call(this)||this;return n.radiusScale=new Li,n.groupSelection=Wi.select(n.group).selectAll(),n.groupSelectionData=[],n.angleScale=((t=new Li).domain=[0,1],t.range=[-Math.PI,Math.PI].map(function(e){return e+Math.PI/2}),t),n.seriesItemEnabled=[],n.label=new va,n.callout=new Ca,n.angleKey="",n.angleName="",n._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=void 0,n.lineDashOffset=0,n.rotation=0,n.outerRadiusOffset=0,n.innerRadiusOffset=0,n.strokeWidth=1,n.highlightStyle={fill:"yellow"},n.addEventListener("update",n.update,n),n.label.addEventListener("change",n.scheduleLayout,n),n.label.addEventListener("dataChange",n.scheduleData,n),n.callout.addEventListener("change",n.scheduleLayout,n),n.addPropertyListener("data",function(e){e.value&&(e.source.seriesItemEnabled=e.value.map(function(){return!0}))}),n}return ma(t,e),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&(t.removeEventListener("change",this.scheduleLayout),this.group.removeChild(t.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleLayout),this.group.appendChild(e.node)),this._title=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.strokes=e.map(function(e){return ga.fromString(e).darker().toHexString()}),this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.callout.colors=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t,this.callout.colors=t},t.prototype.getDomain=function(e){return e===so.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var e,t=this,n=this,i=n.angleKey,o=n.radiusKey,r=n.seriesItemEnabled,s=n.angleScale,a=n.groupSelectionData,l=i&&this.data?this.data:[],u=l.map(function(e,t){return r[t]&&Math.abs(+e[i])||0}),c=u.reduce(function(e,t){return e+t},0),h=(e=0,u.map(function(t){return e+=t/c})),p=this.label.enabled&&this.labelKey,d=p?l.map(function(e){return String(e[p])}):[],f=!!o&&!this.innerRadiusOffset,g=[];if(f){var m=l.map(function(e){return Math.abs(e[o])}),y=Math.max.apply(Math,m);g=m.map(function(e){return e/y})}a.length=0;var v=Ki(this.rotation),C=Math.PI/2,w=0;return h.reduce(function(e,n){var i,o,r,u=f?g[w]:1,c=s.convert(e)+v,h=s.convert(n)+v,m=(c+h)/2,y=Math.abs(h-c),b=Math.cos(m),S=Math.sin(m),E=Ki(t.label.minAngle),_=(i=m,(i%=zi)<-Math.PI?i+=zi:i>=Math.PI&&(i-=zi),i),O=-3*Math.PI/4;return _>=O&&_<(O+=C)?(o="center",r="bottom"):_>=O&&_<(O+=C)?(o="left",r="middle"):_>=O&&_<(O+=C)?(o="center",r="hanging"):(o="right",r="middle"),a.push({series:t,seriesDatum:l[w],index:w,radius:u,startAngle:c,endAngle:h,midAngle:m,midCos:b,midSin:S,label:p&&y>E?{text:d[w],textAlign:o,textBaseline:r}:void 0}),w++,n},0),!0},t.prototype.update=function(){var e=this.chart;if((this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0)&&e&&!e.dataPending&&!e.layoutPending){this.radiusScale.range=[0,this.radius],this.group.translationX=this.centerX,this.group.translationY=this.centerY;var t=this.title;t&&(t.node.translationY=-this.radius-this.outerRadiusOffset-2,t.node.visible=t.enabled),this.updateGroupSelection(),this.updateNodes()}},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var t=e.enter.append(Gi);t.append(fa).each(function(e){return e.tag=la.Sector}),t.append(ji).each(function(e){e.tag=la.Callout,e.pointerEvents=Tn.None}),t.append(di).each(function(e){e.tag=la.Label,e.pointerEvents=Tn.None}),this.groupSelection=e.merge(t)},t.prototype.updateNodes=function(){var e=this;if(this.chart){var t=this,n=t.fills,i=t.strokes,o=t.fillOpacity,r=t.strokeOpacity,s=t.strokeWidth,a=t.outerRadiusOffset,l=t.innerRadiusOffset,u=t.radiusScale,c=t.callout,h=t.shadow,p=t.highlightStyle,d=p.fill,f=p.stroke,g=p.centerOffset,m=t.angleKey,y=t.radiusKey,v=t.formatter,C=this.chart.highlightedDatum,w=[],b=[];this.groupSelection.selectByTag(la.Sector).each(function(t,c,p){var S=u.convert(c.radius),E=Math.max(0,S+a),_=c===C,O=_&&void 0!==d?d:n[p%n.length],x=_&&void 0!==f?f:i[p%i.length],T=void 0;v&&(T=v({datum:c.seriesDatum,fill:O,stroke:x,strokeWidth:s,highlighted:_,angleKey:m,radiusKey:y})),t.outerRadius=E,t.innerRadius=Math.max(0,l?S+l:0),t.startAngle=c.startAngle,t.endAngle=c.endAngle,t.fill=T&&T.fill||O,t.stroke=T&&T.stroke||x,t.strokeWidth=T&&void 0!==T.strokeWidth?T.strokeWidth:s,t.fillOpacity=o,t.strokeOpacity=r,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.centerOffset=_&&void 0!==g?g:0,t.fillShadow=h,t.lineJoin="round",w.push(E),b.push(t.centerOffset)});var S=c.colors,E=c.length,_=c.strokeWidth;this.groupSelection.selectByTag(la.Callout).each(function(e,t,n){if(t.label){var i=b[n]+w[n];e.strokeWidth=_,e.stroke=S[n%S.length],e.x1=t.midCos*i,e.y1=t.midSin*i,e.x2=t.midCos*(i+E),e.y2=t.midSin*(i+E)}else e.stroke=void 0});var O=this.label,x=O.offset,T=O.fontStyle,R=O.fontWeight,P=O.fontSize,D=O.fontFamily,A=O.color;this.groupSelection.selectByTag(la.Label).each(function(e,t,n){var i=t.label;if(i){var o=b[n]+w[n]+E+x;e.fontStyle=T,e.fontWeight=R,e.fontSize=P,e.fontFamily=D,e.text=i.text,e.x=t.midCos*o,e.y=t.midSin*o,e.fill=A,e.textAlign=i.textAlign,e.textBaseline=i.textBaseline}else e.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,angleKey:this.angleKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var t=this.angleKey;if(!t)return"";var n=this,i=n.fills,o=n.tooltipRenderer,r=n.angleName,s=n.radiusKey,a=n.radiusName,l=n.labelKey,u=n.labelName,c=i[e.index%i.length],h=e.seriesDatum,p=l?h[l]+": ":"",d=h[t],f="number"==typeof d?to(d):d.toString(),g=this.title?this.title.text:void 0,m={title:g,titleBackgroundColor:c,content:p+f};return o?vs(o({datum:h,angleKey:t,angleValue:d,angleName:r,radiusKey:s,radiusValue:s?h[s]:void 0,radiusName:a,labelKey:l,labelName:u,title:g,color:c}),m):vs(m)},t.prototype.listSeriesItems=function(e){var t=this,n=this.labelKey,i=this.data;if(i&&i.length&&n){var o=this,r=o.fills,s=o.strokes,a=o.id;i.forEach(function(i,o){e.push({id:a,itemId:o,enabled:t.seriesItemEnabled[o],label:{text:String(i[n])},marker:{fill:r[o%r.length],stroke:s[o%s.length],fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled[e]=t,this.scheduleData()},t.className="PieSeries",t.type="pie",ya([mi("dataChange")],t.prototype,"angleKey",void 0),ya([mi("update")],t.prototype,"angleName",void 0),ya([mi("dataChange")],t.prototype,"radiusKey",void 0),ya([mi("update")],t.prototype,"radiusName",void 0),ya([mi("dataChange")],t.prototype,"labelKey",void 0),ya([mi("update")],t.prototype,"labelName",void 0),ya([mi("layoutChange")],t.prototype,"fillOpacity",void 0),ya([mi("layoutChange")],t.prototype,"strokeOpacity",void 0),ya([mi("update")],t.prototype,"lineDash",void 0),ya([mi("update")],t.prototype,"lineDashOffset",void 0),ya([mi("update")],t.prototype,"formatter",void 0),ya([mi("dataChange")],t.prototype,"rotation",void 0),ya([mi("layoutChange")],t.prototype,"outerRadiusOffset",void 0),ya([mi("dataChange")],t.prototype,"innerRadiusOffset",void 0),ya([mi("layoutChange")],t.prototype,"strokeWidth",void 0),ya([mi("layoutChange")],t.prototype,"shadow",void 0),t}(Ls),ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.color="rgba(0, 0, 0, 0.5)",t.xOffset=0,t.yOffset=0,t.blur=5,t}return ba(t,e),Sa([mi("change")],t.prototype,"enabled",void 0),Sa([mi("change")],t.prototype,"color",void 0),Sa([mi("change")],t.prototype,"xOffset",void 0),Sa([mi("change")],t.prototype,"yOffset",void 0),Sa([mi("change")],t.prototype,"blur",void 0),t}(gi);new Wo(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(e.getTime()+t*zo)},function(e,t){return(t.getTime()-e.getTime())/zo},function(e){return e.getUTCMinutes()}),new Wo(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(e.getTime()+t*Uo)},function(e,t){return(t.getTime()-e.getTime())/Uo},function(e){return e.getUTCHours()}),new Wo(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});var _a=function(){return(_a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Oa={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},xa=function(){function e(t){var n=this.createChartConfigPerSeries(this.getDefaults());if(li(t)){var i={arrayMerge:Ta},o=(t=ai({},t,i)).overrides;o&&(li(o.common)&&e.seriesTypes.forEach(function(e){n[e]=ai(n[e],o.common,i)}),o.cartesian&&(n.cartesian=ai(n.cartesian,o.cartesian,i),e.cartesianSeriesTypes.forEach(function(e){n[e]=ai(n[e],o.cartesian,i)})),o.polar&&(n.polar=ai(n.polar,o.polar,i),e.polarSeriesTypes.forEach(function(e){n[e]=ai(n[e],o.polar,i)})),e.seriesTypes.forEach(function(e){var t,r=o[e];r&&(r.series&&(r.series=((t={})[e]=r.series,t)),n[e]=ai(n[e],r,i))}))}this.palette=t&&t.palette?t.palette:this.getPalette(),this.config=Object.freeze(n)}return e.prototype.getPalette=function(){return Oa},e.getAxisDefaults=function(){return{title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},e.getSeriesDefaults=function(){return{tooltipEnabled:!0,visible:!0,showInLegend:!0}},e.getBarSeriesDefaults=function(){return _a(_a({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},e.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},e.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily}}}}},e.prototype.createChartConfigPerSeries=function(t){var n={cartesian:e.cartesianSeriesTypes,polar:e.polarSeriesTypes},i=function(e){n[e].forEach(function(n){t[n]||(t[n]=ai({},t[e],{arrayMerge:Ta}))})};for(var o in n)i(o);return t},e.prototype.getConfig=function(e){return ti(this.config,e)},e.prototype.getDefaults=function(){return ai({},e.defaults,{arrayMerge:Ta})},e.prototype.mergeWithParentDefaults=function(t){var n={arrayMerge:Ta},i=Object.getPrototypeOf(Object.getPrototypeOf(this));if(i===Object.prototype){var o=ai({},e.defaults,n);return ai(o,t,n)}return ai(i.getDefaults(),t,n)},e.prototype.setSeriesColors=function(e,t,n){var i=this.palette,o=this.getSeriesColorCount(t);if(o===1/0)e.setColors(i.fills,i.strokes);else{var r=Oo(i.fills,n,o),s=Oo(i.strokes,n,o);e.setColors(r,s),n+=o}return n},e.prototype.getSeriesColorCount=function(e){switch(e.type){case"bar":case"column":case"area":return e.yKeys?e.yKeys.length:0;case"pie":return 1/0;default:return 1}},e.fontFamily="Verdana, sans-serif",e.cartesianDefaults=_a(_a({},e.getChartDefaults()),{axes:{number:_a({},e.getAxisDefaults()),category:_a({},e.getAxisDefaults()),groupedCategory:_a({},e.getAxisDefaults()),time:_a({},e.getAxisDefaults())},series:{column:_a(_a({},e.getBarSeriesDefaults()),{flipXY:!1}),bar:_a(_a({},e.getBarSeriesDefaults()),{flipXY:!0}),line:_a(_a({},e.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},marker:_a({},e.getCartesianSeriesMarkerDefaults())}),scatter:_a(_a({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},marker:_a({},e.getCartesianSeriesMarkerDefaults())}),area:_a(_a({},e.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},marker:_a(_a({},e.getCartesianSeriesMarkerDefaults()),{enabled:!1})}),histogram:_a(_a({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,aggregation:"sum",tooltipRenderer:void 0,highlightStyle:{fill:"yellow"},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,min:0,max:1,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),e.defaults={cartesian:e.cartesianDefaults,groupedCategory:e.cartesianDefaults,polar:_a(_a({},e.getChartDefaults()),{series:{pie:_a(_a({},e.getSeriesDefaults()),{title:{enabled:!0,padding:new $n(0),text:"",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:void 0,lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,highlightStyle:{fill:"yellow"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}})},e.seriesTypes=(e.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"]).concat(e.polarSeriesTypes=["pie"]),e}();function Ta(e,t,n){return t}var Ra,Pa,Da,Aa,ka=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ia=function(){return(Ia=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Fa=function(e){function t(t){return e.call(this,t)||this}return ka(t,e),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",t={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},n={label:{color:e}},i={background:{fill:"rgb(52, 52, 52)"},title:{color:e},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:Ia({},t),category:Ia({},t),time:Ia({},t)},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults({cartesian:Ia(Ia({},i),{series:{bar:Ia({},n),column:Ia({},n),histogram:Ia({},n)}}),polar:Ia(Ia({},i),{series:{pie:Ia(Ia({},n),{title:{color:e}})}})})},t}(xa),Na=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ma={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Na(t,e),t.prototype.getPalette=function(){return Ma},t}(xa),Va=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ga={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Va(t,e),t.prototype.getPalette=function(){return Ga},t}(Fa),Wa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ba={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wa(t,e),t.prototype.getPalette=function(){return Ba},t}(xa),za=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ua={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return za(t,e),t.prototype.getPalette=function(){return Ua},t}(Fa),qa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ya={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qa(t,e),t.prototype.getPalette=function(){return Ya},t}(xa),Xa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qa={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xa(t,e),t.prototype.getPalette=function(){return Qa},t}(Fa),Ja=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),el={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ja(t,e),t.prototype.getPalette=function(){return el},t}(xa),nl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),il={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},ol=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nl(t,e),t.prototype.getPalette=function(){return il},t}(Fa),rl=function(){return(rl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},sl={background:{meta:{defaults:{visible:!0,fill:"white"}}},padding:{meta:{constructor:$n,defaults:{top:20,right:20,bottom:20,left:20}}},title:{meta:{constructor:Ci,defaults:{enabled:!0,padding:{meta:{constructor:$n,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},subtitle:{meta:{constructor:Ci,defaults:{enabled:!0,padding:{meta:{constructor:$n,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"}}},legend:{meta:{constructor:os,defaults:{enabled:!0,position:Zr.Right,spacing:20}},item:{meta:{constructor:is,defaults:{paddingX:16,paddingY:8}},marker:{meta:{constructor:ns,defaults:{shape:void 0,size:15,strokeWidth:1,padding:8}}},label:{meta:{constructor:ts,defaults:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif"}}}}}},al={container:void 0,autoSize:!0,width:600,height:300,data:[],title:void 0,subtitle:void 0,padding:{},background:{},legend:{item:{marker:{},label:{}}},navigator:{mask:{},minHandle:{},maxHandle:{}},listeners:void 0},ll={constructorParams:["document"],setAsIs:["container","data","tooltipOffset"]},ul={defaults:{visibleRange:[0,1],label:{},tick:{},title:{},line:{},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},cl={visible:!0,showInLegend:!0,listeners:void 0},hl={fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0,highlightStyle:{fill:"yellow"}},pl={shadow:{meta:{constructor:Ea,defaults:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}}}},dl={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},fl={label:{meta:{defaults:rl(rl({},dl),{formatter:void 0})}}},gl={line:{meta:{defaults:{width:1,color:"rgb(195, 195, 195)"}}},title:{meta:{constructor:Ci,defaults:{enabled:!0,padding:{meta:{constructor:$n,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"}}},label:{meta:{constructor:uo,defaults:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}}},tick:{meta:{constructor:lo,defaults:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}}}},ml=((Ra={})[Is.type]=rl(rl({meta:rl(rl({constructor:Is},ll),{defaults:rl(rl({},al),{axes:[{type:mo.type,position:"left"},{type:Co.type,position:"bottom"}]})})},sl),{axes:(Pa={},Pa[mo.type]=rl({meta:rl({constructor:mo,setAsIs:["gridStyle","visibleRange"]},ul)},gl),Pa[Co.type]=rl({meta:rl({constructor:Co,setAsIs:["gridStyle","visibleRange"]},ul)},gl),Pa[Lo.type]=rl({meta:rl({constructor:Lo,setAsIs:["gridStyle","visibleRange"]},ul)},gl),Pa[Rr.type]=rl({meta:rl({constructor:Rr,setAsIs:["gridStyle","visibleRange"]},ul)},gl),Pa),series:(Da={column:rl(rl({meta:{constructor:Js,defaults:rl(rl({flipXY:!1},cl),hl)},highlightStyle:{}},fl),pl)},Da[Js.type]=rl(rl({meta:{constructor:Js,defaults:rl(rl({flipXY:!0},cl),hl)},highlightStyle:{}},fl),pl),Da[na.type]={meta:{constructor:na,defaults:rl(rl({},cl),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{},marker:{meta:{constructor:fs,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}},Da[ra.type]={meta:{constructor:ra,defaults:rl(rl({},cl),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{},marker:{meta:{constructor:fs,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}},Da[Us.type]=rl({meta:{constructor:Us,defaults:rl(rl({},cl),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,strokeOpacity:1,strokeWidth:2,lineDash:void 0,lineDashOffset:0,shadow:void 0,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{},marker:{meta:{constructor:fs,defaults:{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}}}},pl),Da[pa.type]=rl({meta:{constructor:pa,defaults:rl(rl({},cl),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,aggregation:"sum",tooltipRenderer:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{},label:{meta:{defaults:rl(rl({},dl),{formatter:void 0})}}},pl),Da),navigator:{meta:{constructor:As,defaults:{enabled:!1,height:30,min:0,max:1}},mask:{meta:{constructor:Ps,defaults:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2}}},minHandle:{meta:{constructor:Ds,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}},maxHandle:{meta:{constructor:Ds,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}),Ra[Gs.type]=rl(rl({meta:rl(rl({constructor:Gs},ll),{defaults:rl(rl({},al),{padding:{meta:{constructor:$n,defaults:{top:40,right:40,bottom:40,left:40}}}})})},sl),{series:(Aa={},Aa[wa.type]=rl({meta:{constructor:wa,defaults:rl(rl({},cl),{title:void 0,angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,callout:{},fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,shadow:void 0})},highlightStyle:{},title:{meta:{constructor:Ci,defaults:{enabled:!0,padding:{meta:{constructor:$n,defaults:{top:10,right:10,bottom:10,left:10}}},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"}}},label:{meta:{defaults:rl(rl({},dl),{offset:3,minAngle:20})}},callout:{meta:{defaults:{length:10,strokeWidth:1}}}},pl),Aa)}),Ra),yl={cartesian:["line","area","bar","column"],polar:["pie"]},vl=function(e){yl[e].forEach(function(t){ml[t]=ml[e]})};for(var Cl in yl)vl(Cl);ml.scatter=ml.histogram=rl(rl({},ml.cartesian),{meta:rl(rl({},ml.cartesian.meta),{defaults:rl(rl({},al),{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]})})});var wl=Object.create(ml[Is.type]),bl=Object.create(wl.meta);bl.constructor=Ns,wl.meta=bl,ml[Ns.type]=wl;var Sl=function(){return(Sl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},El=new xa,_l=new Fa,Ol={undefined:El,null:El,"ag-default":El,"ag-material":new La,"ag-pastel":new ja,"ag-solar":new $a,"ag-vivid":new tl},xl={undefined:_l,null:_l,"ag-default-dark":_l,"ag-material-dark":new Ha,"ag-pastel-dark":new Ka,"ag-solar-dark":new Za,"ag-vivid-dark":new ol},Tl=Sl(Sl({},xl),Ol);function Rl(e){return e instanceof xa?e:Tl[e]||((e=e).baseTheme||e.overrides||e.palette?new(Rl(e.baseTheme).constructor)(e):El)}var Pl,Dl=0,Al=function(){function e(){}return e.create=function(e,t,n){e=Object.create(e),t&&(e.container=t),n&&(e.data=n);var i=e&&!1!==e.autoSize,o=Rl(e.theme);Dl=0;var r=Fl(e,void 0,void 0,o);return r&&i&&(r.autoSize=!0),r},e.update=function(e,t,n,i){if(e&&t){t=Object.create(t),n&&(t.container=n),i&&(t.data=i);var o=t&&!1!==t.autoSize,r=Rl(t.theme);Dl=0,Nl(e,t,void 0,r),o&&(e.autoSize=!0)}},e.createComponent=Fl,e}(),kl={"cartesian.series":"line","line.series":"line","area.series":"area","bar.series":"bar","column.series":"column","histogram.series":"histogram","scatter.series":"scatter","polar.series":"pie","pie.series":"pie"},Il=(Pl={},["area","bar","histogram","line","pie","scatter"].forEach(function(e){return Pl[e]=e}),Pl.column="bar",Pl);function Fl(e,t,n,i){var o;if(e=Object.create(e),n instanceof ns?e.type&&(e.shape=e.type):(e=Vl(e,t),t?e.type&&(t=t+"."+e.type):t=e.type),t){var r=ti(ml,t);if(r){e=Wl(t,e,r,i);var s=r.meta||{},a=s.constructorParams||[],l=["type","listeners"].concat(a),u=a.map(function(t){return e[t]}).filter(function(e){return void 0!==e});n||(n=new((o=s.constructor).bind.apply(o,function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}([void 0],u))),i&&n instanceof ls&&(Dl=i.setSeriesColors(n,e,Dl)));var c=function(o){if(l.indexOf(o)<0){var a=e[o];if(!a||!(o in r)||s.setAsIs&&s.setAsIs.indexOf(o)>=0)n[o]=a;else if(Array.isArray(a)){var u=a.map(function(e){return Fl(e,t+"."+o,void 0,i)}).filter(function(e){return!!e});n[o]=u}else if(r[o]&&n[o])Fl(a,t+"."+o,n[o],i);else{var c=Fl(a,a.type?t:t+"."+o,void 0,i);c&&(n[o]=c)}}};for(var h in e)c(h);var p=e.listeners;if(n&&n.addEventListener&&p)for(var h in p)if(p.hasOwnProperty(h)){var d=p[h];"function"==typeof d&&n.addEventListener(h,d)}return n}}}function Nl(e,t,n,i){if(t&&li(t)&&(e instanceof ns?t.type&&(t.shape=t.type):(t=Vl(t,n),n?t.type&&(n=n+"."+t.type):n=t.type),n)){var o=n in ml?e:void 0,r=ti(ml,n);if(r){t=Wl(n,t,r,i);var s=r.meta||{},a=["type"].concat(s&&s.constructorParams||[]);for(var l in t)if(a.indexOf(l)<0){var u=t[l],c=n+"."+l;if(s.setAsIs&&s.setAsIs.indexOf(l)>=0)e[l]=u;else{var h=e[l];if(Array.isArray(h)&&Array.isArray(u))o?"series"===l?Ml(e,u,c,i):"axes"===l&&Ll(e,u,c,i):e[l]=u;else if(li(h))u?Nl(h,u,u.type?n:c,i):l in t&&(e[l]=u);else{var p=li(u)&&Fl(u,u.type?n:c,void 0,i);if(p)e[l]=p;else{if(o&&t.autoSize&&("width"===l||"height"===l))continue;e[l]=u}}}}}o&&(o.layoutPending=!0)}}function Ml(e,t,n,i){for(var o,r=e.series.slice(),s=0;s<t.length;s++){var a=t[s];if(u=r[s])if(a=Vl(a,n),u.type===Il[a.type])i&&(Dl=i.setSeriesColors(u,a,Dl)),Nl(u,a,n,i);else{var l=Fl(a,n,void 0,i);e.removeSeries(u),e.addSeriesAfter(l,o),u=l}else l=Fl(a,n,void 0,i),e.addSeries(l);o=u}for(;s<r.length;s++){var u;(u=r[s])&&e.removeSeries(u)}}function Ll(e,t,n,i){for(var o=e.axes,r=[],s=[],a=function(e){var t=wo(o,function(t){return t.type===e.type&&t.position===e.position});if(t)s.push(t),Nl(t,e,n,i);else{var a=Fl(e,n,void 0,i);a&&r.push(a)}},l=0,u=t;l<u.length;l++)a(u[l]);e.axes=s.concat(r)}function Vl(e,t){if(t||(t="",e=function(e){if(e.type)return e;var t=e.series&&e.series[0];if(t&&t.type)e:for(var n in ml)for(var i in ml[n].series)if(t.type===i){(e=Object.create(e)).type=n;break e}return e.type||((e=Object.create(e)).type="cartesian"),e}(e)),!e.type){var n=kl[t];n&&((e=Object.create(e)).type=n)}return e}function Gl(e){return["axes","series"].indexOf(e)>=0}var Hl="enabled";function Wl(e,t,n,i){var o=e.indexOf(".")<0,r=i&&i.getConfig(e),s=n&&n.meta&&n.meta.defaults,a=!1===t.enabled;for(var l in(s||r)&&(t=Object.create(t)),r)o&&Gl(l)||l in t||(t[l]=r[l]);for(var l in s)r&&l in r&&!Gl(l)||l in t||(t[l]=s[l]);return(r&&Hl in r||s&&Hl in s)&&!a&&(t.enabled=!0),t}var Bl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zl=function(e){function t(t){var n=e.call(this)||this;return n.model=t,n}return Bl(t,e),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,r.Events.EVENT_RANGE_SELECTION_CHANGED,function(t){t.id&&t.id===e.model.getChartId()&&e.updateForRangeChange()}),this.model.isDetached()&&this.rangeController&&this.rangeController.setCellRanges([]),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.isDetached()||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.isDetached()||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this;return{chartId:this.model.getChartId(),chartType:this.model.getChartType(),chartThemeName:this.getThemeName(),chartOptions:this.chartProxy.getChartOptions(),cellRange:this.model.getCellRangeParams(),chart:this.chartProxy.getChart(),getChartImageDataURL:function(t){return e.chartProxy.getChartImageDataURL(t.type)}}},t.prototype.getChartType=function(){return this.model.getChartType()},t.prototype.isPivotChart=function(){return this.model.isPivotChart()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemeName=function(){return this.model.getChartThemeName()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this,t=this.chartProxy.getCustomPalette();return t?[t]:this.gridOptionsWrapper.getChartThemes().map(function(t){return Rl(e.chartProxy.isStockTheme(t)?t:e.chartProxy.lookupCustomChartTheme(t)).palette})},t.prototype.setChartType=function(e){this.model.setChartType(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.setChartThemeName(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.getDimensionColState(),valueCols:this.model.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===Yn.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),!this.rangeController||this.model.isSuppressChartRanges()||this.model.isDetached()||this.rangeController.setCellRanges(this.model.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.toggleDetached(),this.model.isDetached()?this.rangeController&&this.rangeController.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return r._.includes([r.ChartType.Scatter,r.ChartType.Bubble],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.isDetached()},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){this.chartProxy.raiseChartOptionsChangedEvent()},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:r.Events.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.getChartId(),chartId:this.model.getChartId(),cellRange:this.model.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.rangeController&&this.rangeController.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",jl([r.Autowired("rangeController")],t.prototype,"rangeController",void 0),jl([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),jl([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),jl([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),jl([r.PostConstruct],t.prototype,"init",null),t}(r.BeanStub),Ul=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ql=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},Yl=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.columnComps=new Map,i.chartController=n,i}return Ul(t,e),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,zl.EVENT_CHART_UPDATED,this.updatePanels.bind(this))},t.prototype.destroy=function(){this.clearComponents(),e.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,t=this.chartType,n=this.chartController.getColStateForMenu(),i=n.dimensionCols,o=n.valueCols,s=i.map(function(e){return e.colId}).concat(o.map(function(e){return e.colId}));if(this.chartType=this.chartController.getChartType(),r._.areEqual(r._.keys(this.columnComps),s)&&this.chartType===t){if(ql(i,o).forEach(function(t){e.columnComps.get(t.colId).setValue(t.selected,!0)}),this.chartController.isActiveXYChart()){var a=this.generateGetSeriesLabel();o.forEach(function(t){e.columnComps.get(t.colId).setLabel(a(t))})}}else this.clearComponents(),this.createCategoriesGroupComponent(i),this.createSeriesGroupComponent(o)},t.prototype.addComponent=function(e,t){var n=document.createElement("div");n.className="ag-chart-data-section",n.appendChild(t.getGui()),e.appendChild(n)},t.prototype.addChangeListener=function(e,t){var n=this;this.addManagedListener(e,r.AgAbstractField.EVENT_CHANGED,function(){t.selected=e.getValue(),n.chartController.updateForPanelChange(t)})},t.prototype.createCategoriesGroupComponent=function(e){var t=this;this.categoriesGroupComp=this.createBean(new r.AgGroupComponent({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();e.forEach(function(e){var i=t.categoriesGroupComp.createManagedBean(new r.AgRadioButton);i.setLabel(r._.escapeString(e.displayName)),i.setValue(e.selected),i.setInputName(n),t.addChangeListener(i,e),t.categoriesGroupComp.addItem(i),t.columnComps.set(e.colId,i)}),this.addComponent(this.getGui(),this.categoriesGroupComp)},t.prototype.createSeriesGroupComponent=function(e){var t=this;if(this.seriesGroupComp=this.createManagedBean(new r.AgGroupComponent({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new r.AgToggleButton),i=this.chartController.getChartProxy();n.setLabel(this.chartTranslator.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(i.getSeriesOption("paired")||!1).onValueChange(function(e){i.setSeriesOption("paired",e),t.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(n)}var o=this.generateGetSeriesLabel();e.forEach(function(e){var n=t.seriesGroupComp.createManagedBean(new r.AgCheckbox);n.addCssClass("ag-data-select-checkbox");var i=o(e);n.setLabel(i),n.setValue(e.selected),t.addChangeListener(n,e),t.seriesGroupComp.addItem(n),t.columnComps.set(e.colId,n),t.addDragHandle(n,e)}),this.addComponent(this.getGui(),this.seriesGroupComp);var s={getContainer:this.getGui.bind(this),onDragging:this.onDragging.bind(this),isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(s)},t.prototype.addDragHandle=function(e,t){var n=this,i=r._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);r._.addCssClass(i,"ag-drag-handle"),r._.addCssClass(i,"ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",i);var o={type:r.DragSourceType.ChartPanel,eElement:i,dragItemName:t.displayName,defaultIconName:r.DragAndDropService.ICON_MOVE,getDragItem:function(){return{columns:[t.column]}},onDragStopped:function(){n.insertIndex=void 0}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(o)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(e){return r._.escapeString(e.displayName)};var e=this.chartType===r.ChartType.Bubble,t=this.isInPairedMode(),n=0,i=new Map;return i.set(0,"X"),i.set(1,"Y"),i.set(2,"size"),function(o){var s,a=r._.escapeString(o.displayName);return o.selected?(s=t?i.get(n%(e?3:2)):0===n?"X":e&&n%2==0?"size":"Y",n++,a+" ("+s+")"):a}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartController.getChartProxy().getSeriesOption("paired")},t.prototype.clearComponents=function(){r._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var t=this;if(this.checkInsertIndex(e)){var n=e.dragItem.columns[0],i=this.chartController.getColStateForMenu();ql(i.dimensionCols,i.valueCols).filter(function(e){return e.column===n}).forEach(function(e){e.order=t.insertIndex,t.chartController.updateForPanelChange(e)})}},t.prototype.checkInsertIndex=function(e){if(r._.missing(e.vDirection))return!1;var t=0,n=e.event;this.columnComps.forEach(function(i){var o=i.getGui().getBoundingClientRect();n.clientY>=(e.vDirection===r.VerticalDirection.Down?o.top:o.bottom)&&t++});var i=void 0!==this.insertIndex&&t!==this.insertIndex;return this.insertIndex=t,i},t.prototype.isInterestedIn=function(e){return e===r.DragSourceType.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper"></div>',Kl([r.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Kl([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Kl([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Kl([r.PostConstruct],t.prototype,"init",null),t}(r.Component),$l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ql=function(e){function t(t){var n=e.call(this)||this;return n.activeComps=[],n.params=t,n}return $l(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslator.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(t){e.params.setEnabled&&e.params.setEnabled(t)})},t.prototype.initFontFamilySelect=function(){var e=this,t=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,i=t[0];if(n){var o=t.map(function(e){return e.toLowerCase()}).indexOf(n.toLowerCase());if(o>=0)i=t[o];else{var s=r._.capitalise(n);t.push(s),i=s}}var a=t.sort().map(function(e){return{value:e,text:e}});this.familySelect.addOptions(a).setInputWidth("flex").setValue(""+i).onValueChange(function(t){return e.params.setFont({family:t})})},t.prototype.initFontSizeSelect=function(){var e=this,t=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;r._.includes(t,n)||t.push(n);var i=t.sort(function(e,t){return e-t}).map(function(e){return{value:""+e,text:""+e}});this.sizeSelect.addOptions(i).setInputWidth("flex").setValue(""+n).onValueChange(function(t){return e.params.setFont({size:parseInt(t,10)})}),this.sizeSelect.setLabel(this.chartTranslator.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,t=this.params.initialFont,n=t.weight,i=void 0===n?"normal":n,o=t.style,s=void 0===o?"normal":o,a=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],l=r._.find(a,function(e){return e.weight===i&&e.style===s});l||a.unshift(l={name:"predefined",weight:i,style:s});var u=a.map(function(t){return{value:t.name,text:e.chartTranslator.translate(t.name)}});this.weightStyleSelect.addOptions(u).setInputWidth("flex").setValue(l.name).onValueChange(function(t){var n=r._.find(a,function(e){return e.name===t});e.params.setFont({weight:n.weight,style:n.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(t){return e.params.setFont({color:t})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActiveComps(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Xl([r.RefSelector("fontGroup")],t.prototype,"fontGroup",void 0),Xl([r.RefSelector("familySelect")],t.prototype,"familySelect",void 0),Xl([r.RefSelector("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Xl([r.RefSelector("sizeSelect")],t.prototype,"sizeSelect",void 0),Xl([r.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Xl([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Xl([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Zl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},eu=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Zl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslator.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartController.getChartProxy().getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(t){e.chartController.getChartProxy().setChartOption("legend.enabled",t),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,t=[r.LegendPosition.Top,r.LegendPosition.Right,r.LegendPosition.Bottom,r.LegendPosition.Left];this.legendPositionSelect.setLabel(this.chartTranslator.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(t.map(function(t){return{value:t,text:e.chartTranslator.translate(t)}})).setValue(this.chartController.getChartProxy().getChartOption("legend.position")).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("legend.position",t)})},t.prototype.initLegendPadding=function(){var e=this;this.legendPaddingSlider.setLabel(this.chartTranslator.translate("spacing")).setValue(this.chartController.getChartProxy().getChartOption("legend.spacing")).setTextFieldWidth(45).setMaxValue(200).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("legend.spacing",t)})},t.prototype.initLegendItems=function(){var e=this,t=function(t,n,i,o){i.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getChartOption("legend."+t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setChartOption("legend."+t,n)})};t("item.marker.size","markerSize",this.markerSizeSlider,40),t("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),t("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),t("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),t("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,t=this.chartController.getChartProxy(),n={family:t.getChartOption("legend.item.label.fontFamily"),style:t.getChartOption("legend.item.label.fontStyle"),weight:t.getChartOption("legend.item.label.fontWeight"),size:t.getChartOption("legend.item.label.fontSize"),color:t.getChartOption("legend.item.label.color")},i=this.createBean(new Ql({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(t){var n=e.chartController.getChartProxy();t.family&&n.setChartOption("legend.item.label.fontFamily",t.family),t.weight&&n.setChartOption("legend.item.label.fontWeight",t.weight),t.style&&n.setChartOption("legend.item.label.fontStyle",t.style),t.size&&n.setChartOption("legend.item.label.fontSize",t.size),t.color&&n.setChartOption("legend.item.label.color",t.color)}}));this.legendGroup.addItem(i),this.activePanels.push(i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Jl([r.RefSelector("legendGroup")],t.prototype,"legendGroup",void 0),Jl([r.RefSelector("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Jl([r.RefSelector("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Jl([r.RefSelector("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Jl([r.RefSelector("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Jl([r.RefSelector("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Jl([r.RefSelector("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Jl([r.RefSelector("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Jl([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Jl([r.PostConstruct],t.prototype,"init",null),t}(r.Component),tu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},iu=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return tu(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslator.translate("shadow")).setEnabled(this.chartController.getChartProxy().getShadowEnabled()).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(t){return e.chartController.getChartProxy().setShadowProperty("enabled",t)}),this.shadowColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue("rgba(0,0,0,0.5)").onValueChange(function(t){return e.chartController.getChartProxy().setShadowProperty("color",t)});var t=function(t,n,i,o){t.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getShadowProperty(n)).setMinValue(i).setMaxValue(o).onValueChange(function(t){return e.chartController.getChartProxy().setShadowProperty(n,t)})};t(this.shadowBlurSlider,"blur",0,20),t(this.shadowXOffsetSlider,"xOffset",-10,10),t(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',nu([r.RefSelector("shadowGroup")],t.prototype,"shadowGroup",void 0),nu([r.RefSelector("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),nu([r.RefSelector("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),nu([r.RefSelector("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),nu([r.RefSelector("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),nu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),nu([r.PostConstruct],t.prototype,"init",null),t}(r.Component);function ou(e,t,n){e.setLabel(t.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("stroke.opacity")||"1").onValueChange(function(e){return n.setSeriesOption("stroke.opacity",e)})}function ru(e,t,n){e.setLabel(t.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(n.getSeriesOption("fill.opacity")||"1").onValueChange(function(e){return n.setSeriesOption("fill.opacity",e)})}function su(e,t){var n={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")};return{name:e.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(e){return t.setSeriesOption("label.enabled",e)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(e){e.family&&t.setSeriesOption("label.fontFamily",e.family),e.weight&&t.setSeriesOption("label.fontWeight",e.weight),e.style&&t.setSeriesOption("label.fontStyle",e.style),e.size&&t.setSeriesOption("label.fontSize",e.size),e.color&&t.setSeriesOption("label.color",e.color)}}}var au=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},uu=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return au(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initOpacity=function(){ou(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),ru(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initLabelPanel=function(){var e=su(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Ql(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initShadowPanel=function(){var e=this.createBean(new iu(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',lu([r.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),lu([r.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),lu([r.RefSelector("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),lu([r.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),lu([r.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),lu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),lu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),cu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pu=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return cu(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslator.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("tick.color")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("tick.color",t)});var t=function(t,n,i,o){n.setLabel(i).setValue(e.getChartProxy().getAxisProperty(t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.getChartProxy().setAxisProperty(t,n)})};t("tick.width",this.axisTicksWidthSlider,this.chartTranslator.translate("width"),10),t("tick.size",this.axisTicksSizeSlider,this.chartTranslator.translate("length"),30)},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',hu([r.RefSelector("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),hu([r.RefSelector("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),hu([r.RefSelector("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),hu([r.RefSelector("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),hu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),hu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),du=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},gu=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return du(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels()},t.prototype.initAxis=function(){var e=this,t=this.chartTranslator;if(this.axisGroup.setTitle(t.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(t.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("line.color")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("line.color",t)}),this.axisLineWidthSlider.setLabel(t.translate("thickness")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getAxisProperty("line.width")).onValueChange(function(t){return e.getChartProxy().setAxisProperty("line.width",t)}),r._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var n=[{value:"",text:t.translate("automatic")}];["category","time","number"].forEach(function(e){n.push({value:e,text:t.translate(e)})}),this.xAxisTypeSelect.setLabel(t.translate("xType")).setLabelWidth("flex").addOptions(n).setValue(this.getChartProxy().getChartOption("xAxis.type")||"").onValueChange(function(t){e.getChartProxy().setChartOption("xAxis.type",t.length&&t),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new pu(this.chartController));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,t=this.getChartProxy(),n={family:t.getAxisProperty("label.fontFamily"),style:t.getAxisProperty("label.fontStyle"),weight:t.getAxisProperty("label.fontWeight"),size:t.getAxisProperty("label.fontSize"),color:t.getAxisProperty("label.color")},i=this.createBean(new Ql({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(t){var n=e.getChartProxy();t.family&&n.setAxisProperty("label.fontFamily",t.family),t.weight&&n.setAxisProperty("label.fontWeight",t.weight),t.style&&n.setAxisProperty("label.fontStyle",t.style),t.size&&n.setAxisProperty("label.fontSize",t.size),t.color&&n.setAxisProperty("label.color",t.color),n.getChart().performLayout()}}));this.axisGroup.addItem(i),this.activePanels.push(i),this.addAdditionalLabelComps(i)},t.prototype.addAdditionalLabelComps=function(e){var t=this,n=function(n,i,o){var s=t.createBean((new r.AgAngleSelect).setLabel(n).setLabelWidth("flex").setValue(i||0).onValueChange(o));e.addCompToPanel(s)},i=String.fromCharCode(176),o=function(e){return function(n){var i=t.getChartProxy().getChart(),o=wo(i.axes,function(t){return t.position===e});o&&(o.label.rotation=n,i.performLayout())}},s=this.chartTranslator.translate("xRotation")+" "+i,a=this.chartTranslator.translate("yRotation")+" "+i;n(s,this.getChartProxy().getChartOption("xAxis.label.rotation"),o(ao.Bottom)),n(a,this.getChartProxy().getChartOption("yAxis.label.rotation"),o(ao.Left));var l=this.createBean(new r.AgSlider);l.setLabel(this.chartTranslator.translate("padding")).setValue(this.getChartProxy().getAxisProperty("label.padding")).setMaxValue(30).setTextFieldWidth(45).onValueChange(function(e){return t.getChartProxy().setAxisProperty("label.padding",e)}),e.addCompToPanel(l)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',fu([r.RefSelector("axisGroup")],t.prototype,"axisGroup",void 0),fu([r.RefSelector("axisColorInput")],t.prototype,"axisColorInput",void 0),fu([r.RefSelector("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),fu([r.RefSelector("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),fu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),fu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),mu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},vu=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return mu(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,t=this.chartTranslator;this.navigatorGroup.setTitle(t.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.getChartProxy().getChartOption("navigator.enabled")||!1).onEnableChange(function(t){e.getChartProxy().setChartOption("navigator.enabled",t),e.navigatorGroup.toggleGroupExpand(!0)}),this.navigatorHeightSlider.setLabel(t.translate("height")).setMinValue(10).setMaxValue(60).setTextFieldWidth(45).setValue(String(this.getChartProxy().getChartOption("navigator.height")||"30")).onValueChange(function(t){return e.getChartProxy().setChartOption("navigator.height",t)})},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',yu([r.RefSelector("navigatorGroup")],t.prototype,"navigatorGroup",void 0),yu([r.RefSelector("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),yu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),yu([r.PostConstruct],t.prototype,"init",null),t}(r.Component);function Cu(e,t){return!1!==t.clone&&t.isMergeableObject(e)?_u(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function wu(e,t,n){return e.concat(t).map(function(e){return Cu(e,n)})}function bu(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function Su(e,t){try{return t in e}catch(n){return!1}}function Eu(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function _u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||wu,n.isMergeableObject=n.isMergeableObject||Eu,n.cloneUnlessOtherwiseSpecified=Cu;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&bu(e).forEach(function(t){i[t]=Cu(e[t],n)}),bu(t).forEach(function(o){(function(e,t){return Su(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(i[o]=Su(e,o)&&n.isMergeableObject(t[o])?function(e,t){if(!t.customMerge)return _u;var n=t.customMerge(e);return"function"==typeof n?n:_u}(o,n)(e[o],t[o],n):Cu(t[o],n))}),i}(e,t,n):Cu(t,n)}var Ou,xu=function(){return(xu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tu=function(){function e(e){var t=this;this.chartProxyParams=e,this.isDarkTheme=function(){return t.chartProxyParams.isDarkTheme()},this.getFontColor=function(){return t.isDarkTheme()?"rgb(221, 221, 221)":"rgb(87, 87, 87)"},this.getAxisGridColor=function(){return t.isDarkTheme()?"rgb(100, 100, 100)":"rgb(219, 219, 219)"},this.getBackgroundColor=function(){return t.isDarkTheme()?"#2d3436":"white"},this.getChartPaddingOption=function(e){return t.chartOptions.padding?""+t.chartOptions.padding[e]:""},this.getShadowEnabled=function(){return!!t.getShadowProperty("enabled")},this.chartId=e.chartId,this.chartType=e.chartType,this.eventService=e.eventService,this.gridApi=e.gridApi,this.columnApi=e.columnApi}return e.prototype.recreateChart=function(e){this.chart&&this.destroyChart(),this.chart=this.createChart(e)},e.prototype.getChart=function(){return this.chart},e.prototype.downloadChart=function(){var e=this.chart;e.scene.download(e.title?e.title.text:"chart")},e.prototype.getChartImageDataURL=function(e){return this.chart.scene.getDataURL(e)},e.prototype.initChartOptions=function(){this.initChartTheme(),this.chartOptions=this.getDefaultOptionsFromTheme(this.chartTheme);var e=this.chartProxyParams.processChartOptions;if(e){var t=_u({},this.chartOptions),n=e({type:this.chartType,options:this.chartOptions}),i=this.getDefaultOptions();r._.mergeDeep(i,n,!1),this.overridePalette(t,i),this.chartOptions=i}},e.prototype.paletteOverridden=function(e,t){return!r._.areEqual(e.seriesDefaults.fill.colors,t.seriesDefaults.fill.colors)||!r._.areEqual(e.seriesDefaults.stroke.colors,t.seriesDefaults.stroke.colors)},e.prototype.initChartTheme=function(){var e=this.getSelectedTheme(),t=this.isStockTheme(e),n=this.chartProxyParams.getGridOptionsChartThemeOverrides(),i=this.chartProxyParams.apiChartThemeOverrides;if(n||i){var o={overrides:this.mergeThemeOverrides(n,i)},r=t?xu({baseTheme:e},o):_u(this.lookupCustomChartTheme(e),o);this.chartTheme=Rl(r)}else this.chartTheme=Rl(t?e:this.lookupCustomChartTheme(e))},e.prototype.lookupCustomChartTheme=function(e){var t=this.chartProxyParams.customChartThemes,n=t&&t[e];return n||console.warn("ag-Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},e.prototype.isStockTheme=function(e){return r._.includes(Object.keys(Tl),e)},e.prototype.mergeThemeOverrides=function(e,t){return e?t?_u(e,t):e:t},e.prototype.integratedToStandaloneChartType=function(e){switch(e){case r.ChartType.GroupedBar:case r.ChartType.StackedBar:case r.ChartType.NormalizedBar:return"bar";case r.ChartType.GroupedColumn:case r.ChartType.StackedColumn:case r.ChartType.NormalizedColumn:return"column";case r.ChartType.Line:return"line";case r.ChartType.Area:case r.ChartType.StackedArea:case r.ChartType.NormalizedArea:return"area";case r.ChartType.Scatter:case r.ChartType.Bubble:return"scatter";case r.ChartType.Histogram:return"histogram";case r.ChartType.Pie:case r.ChartType.Doughnut:return"pie";default:return"cartesian"}},e.prototype.overridePalette=function(e,t){if(this.chartProxyParams.allowPaletteOverride&&this.paletteOverridden(e,t)){var n=t.seriesDefaults,i=n.fill.colors,o=n.stroke.colors;if(i||o){var s=r._.includes(i,void 0),a=r._.includes(o,void 0);if(s||a)return;this.customPalette={fills:i,strokes:o}}}},e.prototype.getStandaloneChartType=function(){return this.integratedToStandaloneChartType(this.chartType)},e.prototype.getDefaultOptionsFromTheme=function(e){var t={},n=this.getStandaloneChartType();return t.title=e.getConfig(n+".title"),t.subtitle=e.getConfig(n+".subtitle"),t.background=e.getConfig(n+".background"),t.legend=e.getConfig(n+".legend"),t.navigator=e.getConfig(n+".navigator"),t.tooltipClass=e.getConfig(n+".tooltipClass"),t.tooltipTracking=e.getConfig(n+".tooltipTracking"),t.listeners=e.getConfig(n+".listeners"),t.padding=e.getConfig(n+".padding"),t},e.prototype.getSelectedTheme=function(){var e=this.chartProxyParams.getChartThemeName(),t=this.chartProxyParams.getChartThemes();return r._.includes(t,e)||(e=t[0]),e},e.prototype.getChartOptions=function(){return this.chartOptions},e.prototype.getCustomPalette=function(){return this.customPalette},e.prototype.getChartOption=function(e){return r._.get(this.chartOptions,e,void 0)},e.prototype.setChartOption=function(e,t){r._.get(this.chartOptions,e,void 0)!==t&&(r._.set(this.chartOptions,e,t),r._.set(this.chart,{"legend.item.marker.strokeWidth":"legend.strokeWidth","legend.item.marker.size":"legend.markerSize","legend.item.marker.padding":"legend.itemSpacing","legend.item.label.fontFamily":"legend.fontFamily","legend.item.label.fontStyle":"legend.fontStyle","legend.item.label.fontWeight":"legend.fontWeight","legend.item.label.fontSize":"legend.fontSize","legend.item.label.color":"legend.color","legend.item.paddingX":"legend.layoutHorizontalSpacing","legend.item.paddingY":"legend.layoutVerticalSpacing"}[e]||e,t),this.raiseChartOptionsChangedEvent())},e.prototype.getSeriesOption=function(e){return r._.get(this.chartOptions.seriesDefaults,e,void 0)},e.prototype.setSeriesOption=function(e,t){if(r._.get(this.chartOptions.seriesDefaults,e,void 0)!==t){r._.set(this.chartOptions.seriesDefaults,e,t);var n={"stroke.width":"strokeWidth","stroke.opacity":"strokeOpacity","fill.opacity":"fillOpacity","tooltip.enabled":"tooltipEnabled","callout.colors":"calloutColors"};this.chart.series.forEach(function(i){return r._.set(i,n[e]||e,t)}),this.raiseChartOptionsChangedEvent()}},e.prototype.setTitleOption=function(e,t){r._.get(this.chartOptions.title,e,void 0)!==t&&(this.chartOptions.title[e]=t,this.chart.title||(this.chart.title={}),this.chart.title[e]=t,"text"===e&&this.setTitleOption("enabled",r._.exists(t)),this.raiseChartOptionsChangedEvent())},e.prototype.getTitleOption=function(e){return this.chartOptions.title[e]},e.prototype.setChartPaddingOption=function(e,t){var n=this.chartOptions.padding;r._.get(n,e,void 0)!==t&&(n||(n=this.chartOptions.padding={top:0,right:0,bottom:0,left:0},this.chart.padding=new $n(0)),n[e]=t,this.chart.padding[e]=t,this.chart.performLayout(),this.raiseChartOptionsChangedEvent())},e.prototype.getShadowProperty=function(e){var t=this.chartOptions.seriesDefaults;return t.shadow?t.shadow[e]:""},e.prototype.setShadowProperty=function(e,t){var n=this.chartOptions.seriesDefaults;r._.get(n.shadow,e,void 0)!==t&&(n.shadow||(n.shadow={enabled:!1,blur:0,xOffset:0,yOffset:0,color:"rgba(0,0,0,0.5)"}),n.shadow[e]=t,this.getChart().series.forEach(function(n){if(!n.shadow){var i=new Ea;i.enabled=!1,i.blur=0,i.xOffset=0,i.yOffset=0,i.color="rgba(0,0,0,0.5)",n.shadow=i}n.shadow[e]=t}),this.raiseChartOptionsChangedEvent())},e.prototype.raiseChartOptionsChangedEvent=function(){var e=Object.freeze({type:r.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:this.chartId,chartType:this.chartType,chartThemeName:this.chartProxyParams.getChartThemeName(),chartOptions:this.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.prototype.getDefaultFontOptions=function(){return{fontStyle:"normal",fontWeight:"normal",fontSize:12,fontFamily:"Verdana, sans-serif",color:this.getFontColor()}},e.prototype.getDefaultDropShadowOptions=function(){return{enabled:!1,blur:5,xOffset:3,yOffset:3,color:"rgba(0, 0, 0, 0.5)"}},e.prototype.getPredefinedPalette=function(){return this.chartTheme.palette},e.prototype.getPalette=function(){return this.customPalette||this.chartTheme.palette},e.prototype.getDefaultChartOptions=function(){return{background:{},padding:{},title:{},subtitle:{},legend:{},navigator:{},seriesDefaults:{},listeners:{}}},e.prototype.transformData=function(e,t){return this.chart.axes.filter(function(e){return e instanceof Co}).length<1?e:e.map(function(e,n){var i=e[t],o=i&&i.toString?i.toString():"",r=xu({},e);return r[t]={id:n,value:i,toString:function(){return o}},r})},e.prototype.destroy=function(){this.destroyChart()},e.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},e}(),Ru=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pu=function(){return(Pu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Du=function(e){function t(t){var n=e.call(this,t)||this;return n.axisTypeToClassMap={number:mo,category:Co,groupedCategory:Lo,time:Rr},n}return Ru(t,e),t.prototype.getDefaultOptionsFromTheme=function(t){var n,i=e.prototype.getDefaultOptionsFromTheme.call(this,t),o=this.getStandaloneChartType(),r="category",s="number";return"bar"===o&&(r=(n=[s,r])[0],s=n[1]),i.xAxis=t.getConfig(o+".axes."+r),i.yAxis=t.getConfig(o+".axes."+s),i},t.prototype.getAxisProperty=function(e){return r._.get(this.chartOptions.xAxis,e,void 0)},t.prototype.setAxisProperty=function(e,t){r._.set(this.chartOptions.xAxis,e,t),r._.set(this.chartOptions.yAxis,e,t);var n=this.chart;this.chart.axes.forEach(function(n){return r._.set(n,e,t)}),n.performLayout(),this.raiseChartOptionsChangedEvent()},t.prototype.updateLabelRotation=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="category");var i=0,o=t?"yAxis":"xAxis",s=this.chartProxyParams.getGridOptionsChartThemeOverrides(),a=this.getStandaloneChartType(),l=void 0,u=r._.get(s,"common.axes."+n+".label.rotation",void 0),c=r._.get(s,"cartesian.axes."+n+".label.rotation",void 0),h=r._.get(s,a+".axes."+n+".label.rotation",void 0);if("number"==typeof h&&isFinite(h)?l=h:"number"==typeof c&&isFinite(c)?l=c:"number"==typeof u&&isFinite(u)&&(l=u),e!==Yn.DEFAULT_CATEGORY&&!this.chartProxyParams.grouping){var p=this.chartOptions[o].label;p&&(i=void 0!==l?l:p.rotation||335)}var d=t?ao.Left:ao.Bottom,f=wo(this.chart.axes,function(e){return e.position===d});f&&(f.label.rotation=i)},t.prototype.getDefaultAxisOptions=function(){var e=this.getDefaultFontOptions(),t=this.getAxisGridColor(),n="rgba(195, 195, 195, 1)";return{title:Pu(Pu({},e),{enabled:!1,fontSize:14}),line:{color:n,width:1},tick:{color:n,size:6,width:1},label:Pu(Pu({},e),{padding:5,rotation:0}),gridStyle:[{stroke:t,lineDash:[4,2]}]}},t.prototype.getDefaultCartesianChartOptions=function(){var e=this.getDefaultChartOptions();return e.xAxis=this.getDefaultAxisOptions(),e.yAxis=this.getDefaultAxisOptions(),e},t.prototype.getAxisClass=function(e){return this.axisTypeToClassMap[e]},t.prototype.updateAxes=function(e,t){void 0===e&&(e="category"),void 0===t&&(t=!1);var n=t?this.getYAxis():this.getXAxis();if(n)if(this.chartProxyParams.grouping)n instanceof Lo||this.recreateChart();else if(!(n instanceof this.axisTypeToClassMap[e])){var i=this.chartOptions;t&&!i.yAxis.type?i=Pu(Pu({},i),{yAxis:Pu({type:e},i.yAxis)}):t||i.xAxis.type||(i=Pu(Pu({},i),{xAxis:Pu({type:e},i.xAxis)})),this.recreateChart(i)}},t.prototype.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var t=e.data[0];return(t&&t[e.category.id])instanceof Date},t.prototype.getXAxisDefaults=function(e,t){return"time"===e?this.chartTheme.getConfig(this.getStandaloneChartType()+".axes.time"):t.xAxis},t.prototype.getXAxis=function(){return wo(this.chart.axes,function(e){return e.position===ao.Bottom})},t.prototype.getYAxis=function(){return wo(this.chart.axes,function(e){return e.position===ao.Left})},t}(Tu),Au=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ku=function(){return(ku=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Iu=function(e){function t(t){var n=e.call(this,t)||this;return n.getMarkersEnabled=function(){return!0},n.initChartOptions(),n.recreateChart(),n}return Au(t,e),t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=t.getConfig("scatter.series.scatter");return n.seriesDefaults={tooltip:{enabled:i.tooltipEnabled,renderer:i.tooltipRenderer},fill:{colors:t.palette.fills,opacity:i.fillOpacity},stroke:{colors:t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},marker:{enabled:i.marker.enabled,shape:i.marker.shape,size:i.marker.size,strokeWidth:i.marker.strokeWidth},highlightStyle:i.highlightStyle,paired:!0},n},t.prototype.createChart=function(e){var t=e=e||this.chartOptions;return t.autoSize=!0,t.axes=[ku({type:"number",position:"bottom"},e.xAxis),ku({type:"number",position:"left"},e.yAxis)],Al.create(t,this.chartProxyParams.parentElement)},t.prototype.update=function(e){if(e.fields.length<2)this.chart.removeAllSeries();else{var t=this.chartOptions.seriesDefaults,n=this.getSeriesDefinitions(e.fields,t.paired),i=this.chart,o=i.series.reduceRight(function(e,t,o){return r._.findIndex(n,function(e){return e.xField.colId===t.xKey&&e.yField.colId===t.yKey&&(!e.sizeField&&!t.sizeKey||e.sizeField&&e.sizeField.colId===t.sizeKey)})===o?e.set(t.yKey,t):i.removeSeries(t),e},new Map),s=this.getPalette(),a=s.fills,l=s.strokes,u=e.category.id===Yn.DEFAULT_CATEGORY?void 0:e.category,c=void 0;n.forEach(function(n,r){var s=o.get(n.yField.colId),h=ku({},t.marker);h.type&&(h.shape=h.type,delete h.type);var p=s||Al.createComponent(ku(ku({},t),{type:"scatter",fillOpacity:t.fill.opacity,strokeOpacity:t.stroke.opacity,strokeWidth:t.stroke.width,marker:h,tooltipRenderer:t.tooltip&&t.tooltip.enabled&&t.tooltip.renderer}),"scatter.series");if(p){var d=n.xField,f=n.yField,g=n.sizeField;p.title=f.displayName+" vs "+d.displayName,p.xKey=d.colId,p.xName=d.displayName,p.yKey=f.colId,p.yName=f.displayName,p.data=e.data,p.fill=a[r%a.length],p.stroke=l[r%l.length],g?(p.sizeKey=g.colId,p.sizeName=g.displayName):p.sizeKey=p.sizeName=void 0,u?(p.labelKey=u.id,p.labelName=u.name):p.labelKey=p.labelName=void 0,s||i.addSeriesAfter(p,c),c=p}})}},t.prototype.getTooltipsEnabled=function(){return null!=this.chartOptions.seriesDefaults.tooltip&&!!this.chartOptions.seriesDefaults.tooltip.enabled},t.prototype.getDefaultOptions=function(){var e=this.chartType===r.ChartType.Bubble,t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=ku(ku({},t.seriesDefaults),{fill:ku(ku({},t.seriesDefaults.fill),{opacity:e?.7:1}),stroke:ku(ku({},t.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,maxSize:30,strokeWidth:1},tooltip:{enabled:!0},paired:!0}),t},t.prototype.getSeriesDefinitions=function(e,t){if(e.length<2)return[];var n=this.chartType===r.ChartType.Bubble;if(t)return n?e.map(function(t,n){return n%3==0?{xField:t,yField:e[n+1],sizeField:e[n+2]}:null}).filter(function(e){return e&&e.yField&&e.sizeField}):e.map(function(t,n){return n%2==0?{xField:t,yField:e[n+1]}:null}).filter(function(e){return e&&e.yField});var i=e[0];return n?e.map(function(t,n){return n%2==1?{xField:i,yField:t,sizeField:e[n+1]}:null}).filter(function(e){return e&&e.sizeField}):e.filter(function(e,t){return t>0}).map(function(e){return{xField:i,yField:e}})},t}(Du),Fu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Mu=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Fu(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,t=this.chartController.getChartProxy()instanceof Iu;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslator.translate("shape")).setValue(this.chartController.getChartProxy().getSeriesOption("marker.shape")).onValueChange(function(t){return e.chartController.getChartProxy().setSeriesOption("marker.shape",t)}),this.seriesMarkersGroup.setTitle(this.chartTranslator.translate("markers")).hideEnabledCheckbox(t).setEnabled(this.chartController.getChartProxy().getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(t){return e.chartController.getChartProxy().setSeriesOption("marker.enabled",t)});var n=function(t,n,i,o){n.setLabel(e.chartTranslator.translate(i)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setSeriesOption(t,n)})};this.chartController.getChartType()===r.ChartType.Bubble?(n("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),n("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),n("marker.size",this.seriesMarkerSizeSlider,"size",60)),n("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Nu([r.RefSelector("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Nu([r.RefSelector("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Nu([r.RefSelector("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Nu([r.RefSelector("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Nu([r.RefSelector("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Nu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Nu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Lu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Gu=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return Lu(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initMarkersPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initMarkersPanel=function(){var e=this.createBean(new Mu(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Vu([r.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),Vu([r.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Vu([r.RefSelector("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),Vu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Vu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Hu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Bu=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Hu(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslator.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var t=function(t,n,i,o){n.setLabel(e.chartTranslator.translate(i)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(o).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setSeriesOption(t,n)})};t("callout.length",this.calloutLengthSlider,"length",40),t("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),t("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Wu([r.RefSelector("calloutGroup")],t.prototype,"calloutGroup",void 0),Wu([r.RefSelector("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),Wu([r.RefSelector("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),Wu([r.RefSelector("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),Wu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Wu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),ju=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Uu=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return ju(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)}),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fillOpacity")||"1").onValueChange(function(t){return e.getChartProxy().setSeriesOption("fillOpacity",t)})},t.prototype.initLabelPanel=function(){var e=this,t=this.getChartProxy(),n={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")},i={name:this.chartTranslator.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.getChartProxy().setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(t){var n=e.getChartProxy();t.family&&n.setSeriesOption("label.fontFamily",t.family),t.weight&&n.setSeriesOption("label.fontWeight",t.weight),t.style&&n.setSeriesOption("label.fontStyle",t.style),t.size&&n.setSeriesOption("label.fontSize",t.size),t.color&&n.setSeriesOption("label.color",t.color)}},o=this.createBean(new Ql(i));this.activePanels.push(o);var r=this.createBean(new Bu(this.chartController));o.addCompToPanel(r),this.activePanels.push(r),this.seriesGroup.addItem(o)},t.prototype.initShadowPanel=function(){var e=this.createBean(new iu(this.chartController));this.seriesGroup.getGui().appendChild(e.getGui()),this.seriesGroup.addItem(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',zu([r.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),zu([r.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),zu([r.RefSelector("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),zu([r.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),zu([r.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),zu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),zu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Ku=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Yu=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return Ku(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslator.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,t=function(t,n){n.setLabel(e.chartTranslator.translate(t)).setValue(e.chartController.getChartProxy().getChartPaddingOption(t)).setMaxValue(200).setTextFieldWidth(45).onValueChange(function(n){return e.chartController.getChartProxy().setChartPaddingOption(t,n)})};t("top",this.paddingTopSlider),t("right",this.paddingRightSlider),t("bottom",this.paddingBottomSlider),t("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',qu([r.RefSelector("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),qu([r.RefSelector("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),qu([r.RefSelector("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),qu([r.RefSelector("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),qu([r.RefSelector("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),qu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),qu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),$u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Qu=function(e){function t(t){var n=e.call(this)||this;return n.chartController=t,n}return $u(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslator.translate("background")).setEnabled(this.chartController.getChartProxy().getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(t){return e.chartController.getChartProxy().setChartOption("background.visible",t)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartController.getChartProxy().getChartOption("background.fill")).onValueChange(function(t){return e.chartController.getChartProxy().setChartOption("background.fill",t)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',Xu([r.RefSelector("chartBackgroundGroup")],t.prototype,"group",void 0),Xu([r.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Xu([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Xu([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Zu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ju=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ec=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.activePanels=[],i.chartController=n,i}return Zu(t,e),t.prototype.init=function(){this.initFontPanel()},t.prototype.hasTitle=function(){var e=this.chartController.getChartProxy().getChartOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,t=this.chartController.getChartProxy(),n=this.hasTitle,i=function(t){var n=e.chartController.getChartProxy();t.family&&n.setTitleOption("fontFamily",t.family),t.weight&&n.setTitleOption("fontWeight",t.weight),t.style&&n.setTitleOption("fontStyle",t.style),t.size&&n.setTitleOption("fontSize",t.size),t.color&&n.setTitleOption("color",t.color)},o={family:n?t.getChartOption("title.fontFamily"):"Verdana, sans-serif",style:n?t.getChartOption("title.fontStyle"):void 0,weight:n?t.getChartOption("title.fontWeight"):void 0,size:n?t.getChartOption("title.fontSize"):22,color:n?t.getChartOption("title.color"):"black"};n||i(o);var r={name:this.chartTranslator.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:o,setFont:i,setEnabled:function(t){var n=e.chartController.getChartProxy();if(t){var i=e.disabledTitle||e.chartTranslator.translate("titlePlaceholder");n.setTitleOption("text",i),e.disabledTitle=""}else e.disabledTitle=e.chartController.getChartProxy().getTitleOption("text"),n.setTitleOption("text","")}},s=this.createBean(new Ql(r));this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",Ju([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Ju([r.PostConstruct],t.prototype,"init",null),t}(r.Component),tc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ic=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return tc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslator.translate("chart")).toggleGroupExpand(!0).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new ec(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new Yu(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Qu(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',nc([r.RefSelector("chartGroup")],t.prototype,"chartGroup",void 0),nc([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),nc([r.PostConstruct],t.prototype,"init",null),t}(r.Component),oc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},sc=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return oc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initOpacity(),this.initMarkersPanel(),this.initShadowPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initOpacity=function(){ou(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),ru(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initMarkersPanel=function(){var e=this.createBean(new Mu(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initShadowPanel=function(){var e=this.createBean(new iu(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',rc([r.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),rc([r.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),rc([r.RefSelector("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),rc([r.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),rc([r.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),rc([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),rc([r.PostConstruct],t.prototype,"init",null),t}(r.Component),ac=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},uc=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return ac(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initMarkersPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initMarkersPanel=function(){var e=this.createBean(new Mu(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n            </ag-group-component>\n        </div>',lc([r.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),lc([r.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),lc([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),lc([r.PostConstruct],t.prototype,"init",null),t}(r.Component),cc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pc=function(e){function t(t){var n=e.call(this)||this;return n.activePanels=[],n.chartController=t,n}return cc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel(),this.initBins()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange(function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)})},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)})},t.prototype.initOpacity=function(){ou(this.seriesLineOpacitySlider,this.chartTranslator,this.getChartProxy()),ru(this.seriesFillOpacitySlider,this.chartTranslator,this.getChartProxy())},t.prototype.initBins=function(){var e=this;this.seriesBinCountSlider.setLabel(this.chartTranslator.translate("histogramBinCount")).setMinValue(4).setMaxValue(100).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("binCount")).onValueChange(function(t){return e.getChartProxy().setSeriesOption("binCount",t)})},t.prototype.initLabelPanel=function(){var e=su(this.chartTranslator,this.getChartProxy()),t=this.createBean(new Ql(e));this.activePanels.push(t),this.seriesGroup.addItem(t)},t.prototype.initShadowPanel=function(){var e=this.createBean(new iu(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="binCountSlider"></ag-slider>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',hc([r.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),hc([r.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),hc([r.RefSelector("binCountSlider")],t.prototype,"seriesBinCountSlider",void 0),hc([r.RefSelector("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),hc([r.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),hc([r.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),hc([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),hc([r.PostConstruct],t.prototype,"init",null),t}(r.Component),dc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fc=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.panels=[],i.chartController=n,i}return dc(t,e),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,zl.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),t=this.chartController.isGrouping();if(e!==this.chartType||t!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new ic(this.chartController)),this.addComponent(new eu(this.chartController)),e){case r.ChartType.GroupedColumn:case r.ChartType.StackedColumn:case r.ChartType.NormalizedColumn:case r.ChartType.GroupedBar:case r.ChartType.StackedBar:case r.ChartType.NormalizedBar:this.addComponent(new gu(this.chartController)),this.addComponent(new vu(this.chartController)),this.addComponent(new uu(this.chartController));break;case r.ChartType.Pie:case r.ChartType.Doughnut:this.addComponent(new Uu(this.chartController));break;case r.ChartType.Line:this.addComponent(new gu(this.chartController)),this.addComponent(new vu(this.chartController)),this.addComponent(new Gu(this.chartController));break;case r.ChartType.Scatter:case r.ChartType.Bubble:this.addComponent(new gu(this.chartController)),this.addComponent(new vu(this.chartController)),this.addComponent(new uc(this.chartController));break;case r.ChartType.Area:case r.ChartType.StackedArea:case r.ChartType.NormalizedArea:this.addComponent(new gu(this.chartController)),this.addComponent(new vu(this.chartController)),this.addComponent(new sc(this.chartController));break;case r.ChartType.Histogram:this.addComponent(new gu(this.chartController)),this.addComponent(new vu(this.chartController)),this.addComponent(new pc(this.chartController));break;default:console.warn("ag-Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=t}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),r._.addCssClass(e.getGui(),"ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(t){r._.removeFromParent(t.getGui()),e.destroyBean(t)})},t.prototype.destroy=function(){this.destroyPanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([r.PostConstruct],t.prototype,"init",null),t}(r.Component),gc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},yc=function(e){function t(t,n){var i=e.call(this)||this;i.size=58,i.padding=5,i.root=new Gi;var o=new Pr(window.document,i.size,i.size);return r._.addCssClass(o.canvas.element,"ag-chart-mini-thumbnail-canvas"),o.root=i.root,o.container=t,i.scene=o,i.tooltipName=n,i}return gc(t,e),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslator.translate(this.tooltipName)},mc([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),mc([r.PostConstruct],t.prototype,"init",null),t}(r.Component),vc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cc=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.stroke="gray",i.axisOvershoot=3,i}return vc(t,e),t.prototype.addAxes=function(){var e=this.size,t=this.padding,n=new ji;n.x1=t,n.y1=t,n.x2=t,n.y2=e-t+this.axisOvershoot,n.stroke=this.stroke;var i=new ji;i.x1=t-this.axisOvershoot+1,i.y1=e-t,i.x2=e-t+1,i.y2=e-t,i.stroke=this.stroke;var o=this.root;o.append(n),o.append(i)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([r.PostConstruct],t.prototype,"addAxes",null),t}(yc),wc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bc=function(e){function t(t,n,i){var o=e.call(this,t,"groupedColumnTooltip")||this,r=o.padding,s=o.size,a=new yo;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;var l=new Li;l.domain=[0,4],l.range=[s-r,r];var u=l.convert(0),c=a.bandwidth;return o.bars=[2,3,4].map(function(e,t){var n=l.convert(e),i=new Ar;return i.x=a.convert(t),i.y=n,i.width=c,i.height=u-n,i.strokeWidth=1,i.crisp=!0,i}),o.updateColors(n,i),o.root.append(o.bars),o}return wc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,i){n.fill=e[i],n.stroke=t[i]})},t.chartType=r.ChartType.GroupedColumn,t}(Cc),Sc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ec=function(e){function t(n,i,o,r,s,a){void 0===r&&(r=t.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=e.call(this,n,a)||this,u=l.padding,c=l.size,h=new yo;h.domain=[0,1,2],h.range=[u,c-u],h.paddingInner=.3,h.paddingOuter=.3;var p=new Li;p.domain=s,p.range=[c-u,u];var d=p.convert(0),f=h.bandwidth;return l.bars=r.map(function(e){return e.map(function(e,t){var n=p.convert(e),i=new Ar;return i.x=h.convert(t),i.y=n,i.width=f,i.height=d-n,i.strokeWidth=1,i.crisp=!0,i})}),l.updateColors(i,o),l.root.append([].concat.apply([],l.bars)),l}return Sc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,i){return n.forEach(function(n){n.fill=e[i],n.stroke=t[i]})})},t.chartType=r.ChartType.StackedColumn,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Cc),_c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oc=function(e){function t(n,i,o){return e.call(this,n,i,o,t.data,[0,10],"normalizedColumnTooltip")||this}return _c(t,e),t.chartType=r.ChartType.NormalizedColumn,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Ec),xc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tc=function(e){function t(t,n,i){var o=e.call(this,t,"groupedBarTooltip")||this,r=o.padding,s=o.size,a=new yo;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;var l=new Li;l.domain=[0,4],l.range=[s-r,r];var u=l.convert(0),c=a.bandwidth;return o.bars=[2,3,4].map(function(e,t){var n=new Ar;return n.x=r,n.y=a.convert(t),n.width=u-l.convert(e),n.height=c,n.strokeWidth=1,n.crisp=!0,n}),o.updateColors(n,i),o.root.append(o.bars),o}return xc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,i){n.fill=e[i],n.stroke=t[i]})},t.chartType=r.ChartType.GroupedBar,t}(Cc),Rc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pc=function(e){function t(n,i,o,r,s,a){void 0===r&&(r=t.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=e.call(this,n,a)||this,u=l.size,c=l.padding,h=new yo;h.domain=[0,1,2],h.range=[c,u-c],h.paddingInner=.3,h.paddingOuter=.3;var p=new Li;p.domain=s,p.range=[u-c,c];var d=p.convert(0),f=h.bandwidth;return l.bars=r.map(function(e){return e.map(function(e,t){var n=new Ar;return n.x=c,n.y=h.convert(t),n.width=d-p.convert(e),n.height=f,n.strokeWidth=1,n.crisp=!0,n})}),l.updateColors(i,o),l.root.append([].concat.apply([],l.bars)),l}return Rc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach(function(n,i){return n.forEach(function(n){n.fill=e[i],n.stroke=t[i]})})},t.chartType=r.ChartType.StackedBar,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Cc),Dc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ac=function(e){function t(n,i,o){return e.call(this,n,i,o,t.data,[0,10],"normalizedBarTooltip")||this}return Dc(t,e),t.chartType=r.ChartType.NormalizedBar,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Pc),kc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ic=function(e){function t(t,n,i,o,r){void 0===o&&(o=.6),void 0===r&&(r="doughnutTooltip");var s=e.call(this,t,r)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,u=[[Ki(-90),Ki(30)],[Ki(30),Ki(120)],[Ki(120),Ki(180)],[Ki(180),Ki(210)],[Ki(210),Ki(240)],[Ki(240),Ki(270)]];return s.sectors=u.map(function(e){var t=e[0],n=e[1],i=new fa;return i.centerX=l,i.centerY=l,i.innerRadius=a*o,i.outerRadius=a,i.startAngle=t,i.endAngle=n,i.stroke=void 0,i.strokeWidth=1,i}),s.updateColors(n,i),s.root.append(s.sectors),s}return kc(t,e),t.prototype.updateColors=function(e,t){this.sectors.forEach(function(n,i){n.fill=e[i%e.length],n.stroke=t[i%t.length]})},t.chartType=r.ChartType.Doughnut,t}(yc),Fc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nc=function(e){function t(t,n,i){return e.call(this,t,n,i,0,"pieTooltip")||this}return Fc(t,e),t.chartType=r.ChartType.Pie,t}(Ic),Mc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lc=function(e){function t(t,n,i){var o=e.call(this,t,"lineTooltip")||this,r=o.size,s=o.padding,a=new Li;a.domain=[0,4],a.range=[s,r-s];var l=new Li;l.domain=[0,10],l.range=[r-s,s],o.lines=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]].map(function(e){var t=new Ji;return t.strokeWidth=3,t.lineCap="round",t.fill=void 0,e.forEach(function(e,n){t.path[n>0?"lineTo":"moveTo"](a.convert(n),l.convert(e))}),t}),o.updateColors(n,i);var u=new Ss;return u.x=u.y=s,u.width=u.height=r-2*s,u.append(o.lines),o.root.append(u),o}return Mc(t,e),t.prototype.updateColors=function(e,t){this.lines.forEach(function(t,n){t.stroke=e[n]})},t.chartType=r.ChartType.Line,t}(Cc),Vc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gc=function(e){function t(t,n,i){var o=e.call(this,t,"scatterTooltip")||this,r=o.size,s=o.padding,a=new Li;a.domain=[-.5,4],a.range=[2*s,r-s];var l=new Li;l.domain=[-.5,3.5],l.range=[r-s,s];var u=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(e){e.forEach(function(e){var t=e[0],n=e[1],i=new ro;i.strokeWidth=1,i.centerX=a.convert(t),i.centerY=l.convert(n),i.radiusX=i.radiusY=2.5,u.push(i)})}),o.points=u,o.updateColors(n,i);var c=new Ss;return c.x=c.y=s,c.width=c.height=r-2*s,c.append(o.points),o.root.append(c),o}return Vc(t,e),t.prototype.updateColors=function(e,t){this.points.forEach(function(n,i){n.stroke=t[i%t.length],n.fill=e[i%e.length]})},t.chartType=r.ChartType.Scatter,t}(Cc),Hc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wc=function(e){function t(t,n,i){var o=e.call(this,t,"bubbleTooltip")||this,r=o.size,s=o.padding,a=new Li;a.domain=[0,1],a.range=[2*s,r-s];var l=new Li;l.domain=[0,1],l.range=[r-s,s];var u=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(e){e.forEach(function(e){var t=e[0],n=e[1],i=e[2],o=new ro;o.strokeWidth=1,o.centerX=a.convert(t),o.centerY=l.convert(n),o.radiusX=o.radiusY=i,o.fillOpacity=.7,u.push(o)})}),o.points=u,o.updateColors(n,i);var c=new Ss;return c.x=s,c.y=s,c.width=r-2*s,c.height=r-2*s,c.append(o.points),o.root.append(c),o}return Hc(t,e),t.prototype.updateColors=function(e,t){this.points.forEach(function(n,i){n.stroke=t[i%t.length],n.fill=e[i%e.length]})},t.chartType=r.ChartType.Bubble,t}(Cc),Bc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jc=function(e){function t(n,i,o,r){void 0===r&&(r=t.data);var s=e.call(this,n,"groupedAreaTooltip")||this,a=s.size,l=s.padding,u=new yo;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[l+.5,a-l-.5];var c=new Li;c.domain=[0,6],c.range=[a-l+.5,l];var h=2*r.length-1,p=[],d=c.convert(0);return r.forEach(function(e,t){var n=u.convert(t);e.forEach(function(e,i){var o=c.convert(e),r=p[i]||(p[i]=[]);r[t]={x:n,y:o},r[h-t]={x:n,y:d}})}),s.areas=p.reverse().map(function(e){var t=new Ji;t.strokeWidth=1,t.fillOpacity=.7;var n=t.path;return n.clear(),e.forEach(function(e,t){return n[t>0?"lineTo":"moveTo"](e.x,e.y)}),n.closePath(),t}),s.updateColors(i,o),s.root.append(s.areas),s}return Bc(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach(function(n,i){n.fill=e[i],n.stroke=t[i]})},t.chartType=r.ChartType.Area,t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(Cc),zc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uc=function(e){function t(n,i,o,r,s){void 0===r&&(r=t.data),void 0===s&&(s="stackedAreaTooltip");var a=e.call(this,n,s)||this,l=a.size,u=a.padding,c=new yo;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[u+.5,l-u-.5];var h=new Li;h.domain=[0,16],h.range=[l-u+.5,u+.5];var p=2*r.length-1,d=[];return r.forEach(function(e,t){var n=c.convert(t),i=0;e.forEach(function(e,o){var r=h.convert(i+e),s=d[o]||(d[o]=[]);s[t]={x:n,y:r},s[p-t]={x:n,y:h.convert(i)},i+=e})}),a.areas=d.map(function(e){var t=new Ji;t.strokeWidth=1;var n=t.path;return n.clear(),e.forEach(function(e,t){return n[t>0?"lineTo":"moveTo"](e.x,e.y)}),n.closePath(),t}),a.updateColors(i,o),a.root.append(a.areas),a}return zc(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach(function(n,i){n.fill=e[i],n.stroke=t[i]})},t.chartType=r.ChartType.StackedArea,t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(Cc),Kc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qc=function(e){function t(n,i,o,r){return void 0===r&&(r=t.data),e.call(this,n,i,o,r,"normalizedAreaTooltip")||this}return Kc(t,e),t.chartType=r.ChartType.NormalizedArea,t.data=Uc.data.map(function(e){var t=e.reduce(function(e,t){return e+t},0);return e.map(function(e){return e/t*16})}),t}(Uc),Yc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$c=function(e){function t(t,n,i){var o=e.call(this,t,"histogramTooltip")||this,r=o.padding,s=o.size,a=[2,5,11,13,10,6,1],l=new Li;l.domain=[0,a.length],l.range=[r,s-r];var u=new Li;u.domain=[0,a.reduce(function(e,t){return Math.max(e,t)},0)],u.range=[s-r,r];var c=u.convert(0);return o.bars=a.map(function(e,t){var n=u.convert(e),i=l.convert(t),o=l.convert(t+1),r=new Ar;return r.x=i,r.y=n,r.width=o-i,r.height=c-n,r.strokeWidth=1,r.crisp=!0,r}),o.updateColors(n,i),o.root.append(o.bars),o}return Yc(t,e),t.prototype.updateColors=function(e,t){var n=e[0],i=t[0];this.bars.forEach(function(e){e.fill=n,e.stroke=i})},t.chartType=r.ChartType.Histogram,t}(Cc),Xc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Zc=function(e){function t(n,i,o){var r=e.call(this,t.TEMPLATE)||this;return r.wrappers={},r.chartController=n,r.fills=i,r.strokes=o,r}return Xc(t,e),t.prototype.init=function(){var e=this,t={columnGroup:[bc,Ec,Oc],barGroup:[Tc,Pc,Ac],pieGroup:[Nc,Ic],lineGroup:[Lc],scatterGroup:[Gc,Wc],areaGroup:[jc,Uc,qc],histogramGroup:[$c]},n=this.getGui();Object.keys(t).forEach(function(i){var o=t[i],s=e.createBean(new r.AgGroupComponent({title:e.chartTranslator.translate(i),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach(function(t){var n=document.createElement("div");r._.addCssClass(n,"ag-chart-mini-thumbnail"),e.addManagedListener(n,"click",function(){e.chartController.setChartType(t.chartType),e.refreshSelected()}),e.wrappers[t.chartType]=n,e.createBean(new t(n,e.fills,e.strokes)),s.addItem(n)}),n.appendChild(s.getGui())}),this.refreshSelected()},t.prototype.refreshSelected=function(){var e=this.chartController.getChartType();for(var t in this.wrappers)r._.addOrRemoveCssClass(this.wrappers[t],"ag-selected",t===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',Qc([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Qc([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},th=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.miniCharts=[],i.cardItems=[],i.activePaletteIndex=0,i.palettes=[],i.themes=[],i.chartController=n,i}return Jc(t,e),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",r._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",r._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,zl.EVENT_CHART_UPDATED,this.resetPalettes.bind(this))},t.prototype.resetPalettes=function(){var e=this,t=this.chartController.getPalettes();r._.shallowCompare(t,this.palettes)||(this.palettes=t,this.themes=this.chartController.getThemes(),this.activePaletteIndex=r._.findIndex(this.themes,function(t){return t===e.chartController.getThemeName()}),this.cardItems=[],r._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(t,n){var i=e.activePaletteIndex===n,o=e.createBean(new Zc(e.chartController,t.fills,t.strokes));e.miniCharts.push(o),e.eMiniChartsContainer.appendChild(o.getGui()),e.addCardLink(n),i?o.refreshSelected():r._.addCssClass(o.getGui(),"ag-hidden")}),r._.addOrRemoveCssClass(this.eNavBar,"ag-hidden",this.palettes.length<=1),r._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var t=this,n=document.createElement("div");r._.addCssClass(n,"ag-chart-settings-card-item"),this.addManagedListener(n,"click",function(){t.setActivePalette(e,e<t.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(n),this.cardItems.push(n)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.prev=function(){},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,t){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==e){r._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var i=this.miniCharts[this.activePaletteIndex],o=i.getGui(),s=this.miniCharts[e],a=s.getGui();i.refreshSelected(),s.refreshSelected();var l="left"===t?-1:1,u=a.style.left=r._.getAbsoluteWidth(this.getGui())*l+"px",c="ag-animating";r._.removeCssClass(a,"ag-hidden"),r._.addCssClass(o,c),r._.addCssClass(a,c),this.activePaletteIndex=e,this.chartController.setChartThemeName(this.themes[e]),this.isAnimating=!0,window.setTimeout(function(){o.style.left=-parseFloat(u)+"px",a.style.left="0px"},0),window.setTimeout(function(){n.isAnimating=!1,r._.removeCssClass(o,c),r._.removeCssClass(a,c),r._.addCssClass(o,"ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){r._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',eh([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),eh([r.RefSelector("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),eh([r.RefSelector("eNavBar")],t.prototype,"eNavBar",void 0),eh([r.RefSelector("eCardSelector")],t.prototype,"eCardSelector",void 0),eh([r.RefSelector("ePrevBtn")],t.prototype,"ePrevBtn",void 0),eh([r.RefSelector("eNextBtn")],t.prototype,"eNextBtn",void 0),eh([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),nh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ih=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},oh=function(e){function t(t){var n=e.call(this)||this;n.tabs=[],n.chartIcons={};var i=t.type,o=t.panels;return n.chartController=t.controller,n.currentChartType=i,n.panels=o,n}return nh(t,e),t.prototype.init=function(){var e=this;this.panels.forEach(function(t){var n=t.replace("chart","").toLowerCase(),i=e.createTab(t,n,e.getPanelClass(n)),o=i.comp;e.tabs.push(i.tab),e.addDestroyFunc(function(){return e.destroyBean(o)})}),this.tabbedLayout=new r.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu"}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,t,n){var i=document.createElement("div");r._.addCssClass(i,"ag-chart-tab"),r._.addCssClass(i,"ag-chart-"+t);var o=new n(this.chartController);this.getContext().createBean(o),i.appendChild(o.getGui());var s=document.createElement("div"),a=this.chartTranslator.translate(t);return s.innerText=a,{comp:o,tab:{title:s,titleLabel:a,bodyPromise:r.Promise.resolve(i),name:e}}},t.prototype.getMinDimensions=function(){return this.tabbedLayout.getMinDimensions()},t.prototype.updateCurrentChartType=function(e){r._.removeCssClass(this.chartIcons[this.currentChartType],"ag-selected"),this.currentChartType=e,r._.addCssClass(this.chartIcons[e],"ag-selected")},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),e.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return Yl;case t.TAB_FORMAT:return fc;default:return th}},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_MAIN="settings",t.TAB_DATA="data",t.TAB_FORMAT="format",ih([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),ih([r.PostConstruct],t.prototype,"init",null),t}(r.Component),rh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ah=function(e){function t(n,i,o){var r=e.call(this,t.TEMPLATE)||this;return r.eChartContainer=n,r.eMenuPanelContainer=i,r.chartController=o,r.buttons={chartSettings:["menu",function(){return r.showMenu("chartSettings")}],chartData:["menu",function(){return r.showMenu("chartData")}],chartFormat:["menu",function(){return r.showMenu("chartFormat")}],chartLink:["linked",function(e){return r.toggleDetached(e)}],chartUnlink:["unlinked",function(e){return r.toggleDetached(e)}],chartDownload:["save",function(){return r.saveChart()}]},r.tabs=[],r.menuVisible=!1,r}return rh(t,e),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,t=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],n=this.gridOptionsWrapper.getChartToolbarItemsFunc();n&&(t=n({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:t}).filter(function(t){return!!e.buttons[t]||(console.warn("ag-Grid: '"+t+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(t=t.filter(function(e){return"chartData"!==e}));var i=["chartUnlink","chartLink","chartDownload"];return this.tabs=t.filter(function(e){return-1===i.indexOf(e)}),t.filter(function(t){return-1!==i.indexOf(t)||e.tabs.length&&t===e.tabs[0]})},t.prototype.toggleDetached=function(e){var t=e.target,n=r._.containsClass(t,"ag-icon-linked");r._.addOrRemoveCssClass(t,"ag-icon-linked",!n),r._.addOrRemoveCssClass(t,"ag-icon-unlinked",n),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,t=this.getToolbarOptions(),n=this.getGui();t.forEach(function(t){var i=e.buttons[t],o=i[1],s=r._.createIconNoSpan(i[0],e.gridOptionsWrapper,void 0,!0);r._.addCssClass(s,"ag-chart-menu-icon"),e.addManagedListener(s,"click",o),n.appendChild(s)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var t=this,n=this.gridOptionsWrapper.chartMenuPanelWidth(),i=this.menuPanel=this.createBean(new r.AgPanel({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return i.setParentComponent(this),this.eMenuPanelContainer.appendChild(i.getGui()),this.tabbedMenu=this.createBean(new oh({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs})),this.addManagedListener(i,r.Component.EVENT_DESTROYED,function(){return t.destroyBean(t.tabbedMenu)}),new r.Promise(function(n){window.setTimeout(function(){i.setBodyComponent(t.tabbedMenu),t.tabbedMenu.showTab(e),t.addManagedListener(t.eChartContainer,"click",function(e){t.getGui().contains(e.target)||t.menuVisible&&t.hideMenu()}),n(i)},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var t=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(t).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){r._.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-visible",this.menuVisible),r._.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',sh([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),sh([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),lh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uh=function(){return(uh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ch=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hh=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.chartMenu=n,i}return lh(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(t){"Enter"===t.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.setChartProxy=function(e){var t=this;if(this.chartProxy){for(var n=0;n++;n<this.destroyableChartListeners.length)this.destroyableChartListeners[n]();this.destroyableChartListeners=[]}this.chartProxy=e;var i=this.chartProxy.getChart(),o=i.scene.canvas.element,r=this.addManagedListener(o,"dblclick",function(e){var n=i.title;if(n&&n.node.containsPoint(e.offsetX,e.offsetY)){var o=n.node.computeBBox(),r=n.node.inverseTransformPoint(o.x,o.y);t.startEditing(uh(uh({},o),r))}}),s=this.addManagedListener(o,"mousemove",function(e){var t=i.title,n=t&&t.node.containsPoint(e.offsetX,e.offsetY);o.style.cursor=n?"pointer":""});this.destroyableChartListeners=[r,s]},t.prototype.startEditing=function(e){if(!this.chartMenu.isVisible()){var t=this.chartProxy.getChart().width,n=Math.max(Math.min(e.width+20,t),300),i=this.getGui();r._.addCssClass(i,"currently-editing");var o=i.style;o.fontFamily=this.chartProxy.getTitleOption("fontFamily"),o.fontWeight=this.chartProxy.getTitleOption("fontWeight"),o.fontStyle=this.chartProxy.getTitleOption("fontStyle"),o.fontSize=this.chartProxy.getTitleOption("fontSize")+"px",o.color=this.chartProxy.getTitleOption("color");var s=this.chartProxy.getTitleOption("text"),a=s===this.chartTranslator.translate("titlePlaceholder")?"":s;i.value=a;var l=i.getBoundingClientRect();o.left=Math.round(e.x+e.width/2-n/2)+"px",o.top=Math.round(e.y+e.height/2-l.height/2)+"px",o.width=Math.round(n)+"px",i.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartProxy.setTitleOption("text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),r._.removeCssClass(this.getGui(),"currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',ch([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),ch([r.PostConstruct],t.prototype,"init",null),t}(r.Component),ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dh=function(){return(dh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return ph(t,e),t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=this.chartType,o=this.getStandaloneChartType(),s=t.getConfig(o+".series."+(i===r.ChartType.GroupedBar||i===r.ChartType.StackedBar||i===r.ChartType.NormalizedBar?"bar":"column"));return n.seriesDefaults={shadow:s.shadow,label:s.label,tooltip:{enabled:s.tooltipEnabled,renderer:s.tooltipRenderer},fill:{colors:t.palette.fills,opacity:s.fillOpacity},stroke:{colors:t.palette.strokes,opacity:s.strokeOpacity,width:s.strokeWidth},highlightStyle:s.highlightStyle},n},t.prototype.createChart=function(e){var t=this.chartProxyParams,n=t.grouping,i=t.parentElement,o=this.isColumnChart(),r=(e=e||this.chartOptions).seriesDefaults,s=e;return n&&(s.type="groupedCategory"),s.autoSize=!0,s.axes=[dh(dh({},o?e.xAxis:e.yAxis),{position:o?"bottom":"left",type:n?"groupedCategory":"category"}),dh(dh({},o?e.yAxis:e.xAxis),{position:o?"left":"bottom",type:"number"})],s.series=[dh(dh({},this.getSeriesDefaults()),{fills:r.fill.colors,fillOpacity:r.fill.opacity,strokes:r.stroke.colors,strokeOpacity:r.stroke.opacity,strokeWidth:r.stroke.width,tooltipRenderer:r.tooltip&&r.tooltip.enabled&&r.tooltip.renderer})],s.container=i,Al.create(s)},t.prototype.update=function(e){this.chartProxyParams.grouping=e.grouping,this.updateAxes("category",!this.isColumnChart());var t=this.chart.series[0],n=this.getPalette();t.data=this.transformData(e.data,e.category.id),t.xKey=e.category.id,t.xName=e.category.name,t.yKeys=e.fields.map(function(e){return e.colId}),t.yNames=e.fields.map(function(e){return e.displayName}),t.fills=n.fills,t.strokes=n.strokes,this.updateLabelRotation(e.category.id,!this.isColumnChart())},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=dh(dh({},t.seriesDefaults),{tooltip:{enabled:!0},label:dh(dh({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions()}),t},t.prototype.isColumnChart=function(){return r._.includes([r.ChartType.GroupedColumn,r.ChartType.StackedColumn,r.ChartType.NormalizedColumn],this.chartType)},t.prototype.getSeriesDefaults=function(){var e=this.chartType,t=this.isColumnChart(),n=e===r.ChartType.GroupedColumn||e===r.ChartType.GroupedBar,i=e===r.ChartType.NormalizedColumn||e===r.ChartType.NormalizedBar;return dh(dh({},this.chartOptions.seriesDefaults),{type:t?"column":"bar",grouped:n,normalizedTo:i?100:void 0})},t}(Du),gh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mh=function(){return(mh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return gh(t,e),t.prototype.createChart=function(e){var t=this.chartProxyParams,n=t.grouping,i=t.parentElement,o=this.getSeriesDefaults(),r=mh({},o.marker);r.type&&(r.shape=r.type,delete r.type);var s=e=e||this.chartOptions,a=e.xAxis.type?e.xAxis.type:"category";return n&&(s.type="groupedCategory"),s.autoSize=!0,s.axes=[mh({type:n?"groupedCategory":a,position:"bottom",paddingInner:1,paddingOuter:0},this.getXAxisDefaults(a,e)),mh({type:"number",position:"left"},e.yAxis)],s.series=[mh(mh({},o),{type:"area",fills:o.fill.colors,fillOpacity:o.fill.opacity,strokes:o.stroke.colors,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,tooltipRenderer:o.tooltip&&o.tooltip.renderer,marker:r})],Al.create(s,i)},t.prototype.update=function(e){this.chartProxyParams.grouping=e.grouping;var t=this.isTimeAxis(e)?"time":"category";if(this.updateAxes(t),this.chartType===r.ChartType.Area)this.updateAreaChart(e);else{var n=this.chart.series[0];if(!n){var i=this.getSeriesDefaults(),o=mh({},i.marker);if(o.type&&(o.shape=o.type,delete o.type),!(n=Al.createComponent(mh(mh({},i),{fills:i.fill.colors,fillOpacity:i.fill.opacity,strokes:i.stroke.colors,strokeOpacity:i.stroke.opacity,strokeWidth:i.stroke.width,marker:o}),"area.series")))return;this.chart.addSeries(n)}var s=this.getPalette(),a=s.fills,l=s.strokes;n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(e){return e.colId}),n.yNames=e.fields.map(function(e){return e.displayName}),n.fills=a,n.strokes=l}this.updateLabelRotation(e.category.id,!1,t)},t.prototype.updateAreaChart=function(e){var t=this,n=this.chart;if(0!==e.fields.length){var i=e.fields.map(function(e){return e.colId}),o=this.getPalette(),r=o.fills,s=o.strokes,a=n.series.reduceRight(function(e,t,o){var r=t.yKeys[0];return i.indexOf(r)===o?e.set(r,t):n.removeSeries(t),e},new Map),l=this.transformData(e.data,e.category.id),u=void 0;e.fields.forEach(function(i,o){var c=a.get(i.colId),h=r[o%r.length],p=s[o%s.length];if(c)c.data=l,c.xKey=e.category.id,c.xName=e.category.name,c.yKeys=[i.colId],c.yNames=[i.displayName],c.fills=[h],c.strokes=[p];else{var d=t.getSeriesDefaults(),f=mh({},d.marker);f.type&&(f.shape=f.type,delete f.type);var g=mh(mh({},d),{data:l,xKey:e.category.id,xName:e.category.name,yKeys:[i.colId],yNames:[i.displayName],fills:[h],strokes:[p],fillOpacity:d.fill.opacity,strokeOpacity:d.stroke.opacity,strokeWidth:d.stroke.width,marker:f});c=Al.createComponent(g,"area.series"),n.addSeriesAfter(c,u)}u=c})}else n.removeAllSeries()},t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=t.getConfig("area.series.area");return n.seriesDefaults={shadow:i.shadow,tooltip:{enabled:i.tooltipEnabled,renderer:i.tooltipRenderer},fill:{colors:t.palette.fills,opacity:i.fillOpacity},stroke:{colors:t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},marker:{enabled:i.marker.enabled,shape:i.marker.shape,size:i.marker.size,strokeWidth:i.marker.strokeWidth},highlightStyle:i.highlightStyle},n},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=mh(mh({},e.seriesDefaults),{fill:mh(mh({},e.seriesDefaults.fill),{opacity:this.chartType===r.ChartType.Area?.7:1}),stroke:mh(mh({},e.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,strokeWidth:1},tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),e},t.prototype.getSeriesDefaults=function(){return mh(mh({},this.chartOptions.seriesDefaults),{type:"area",normalizedTo:this.chartType===r.ChartType.NormalizedArea?100:void 0})},t}(Du),vh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ch=function(){return(Ch=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return vh(t,e),t.prototype.createChart=function(e){var t=this.chartProxyParams,n=t.grouping,i=t.parentElement,o=e=e||this.chartOptions;o.autoSize=!0;var r=e.xAxis.type?e.xAxis.type:"category";return n&&(o.type="groupedCategory"),o.axes=[Ch({type:n?"groupedCategory":r,position:"bottom"},this.getXAxisDefaults(r,e)),Ch({type:"number",position:"left"},e.yAxis)],Al.create(o,i)},t.prototype.update=function(e){var t=this;if(this.chartProxyParams.grouping=e.grouping,0!==e.fields.length){var n=this.isTimeAxis(e)?"time":"category";this.updateAxes(n);var i=this.chart,o=e.fields.map(function(e){return e.colId}),r=this.getPalette(),s=r.fills,a=r.strokes,l=this.transformData(e.data,e.category.id),u=i.series.reduceRight(function(e,t,n){var r=t.yKey;return o.indexOf(r)===n?e.set(r,t):i.removeSeries(t),e},new Map),c=void 0;e.fields.forEach(function(n,o){var r=u.get(n.colId),h=s[o%s.length],p=a[o%a.length];if(r)r.title=n.displayName,r.data=l,r.xKey=e.category.id,r.xName=e.category.name,r.yKey=n.colId,r.yName=n.displayName,r.marker.fill=h,r.marker.stroke=p,r.stroke=h;else{var d=t.chartOptions.seriesDefaults,f=Ch(Ch({},d.marker),{fill:h,stroke:p});f.type&&(f.shape=f.type,delete f.type);var g=Ch(Ch({},d),{type:"line",title:n.displayName,data:l,xKey:e.category.id,xName:e.category.name,yKey:n.colId,yName:n.displayName,fill:h,stroke:h,fillOpacity:d.fill.opacity,strokeOpacity:d.stroke.opacity,strokeWidth:d.stroke.width,tooltipRenderer:d.tooltip&&d.tooltip.enabled&&d.tooltip.renderer,marker:f});r=Al.createComponent(g,"line.series"),i.addSeriesAfter(r,c)}c=r}),this.updateLabelRotation(e.category.id,!1,n)}else this.chart.removeAllSeries()},t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=t.getConfig("line.series.line");return n.seriesDefaults={tooltip:{enabled:i.tooltipEnabled,renderer:i.tooltipRenderer},fill:{colors:[],opacity:1},stroke:{colors:t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},marker:{enabled:i.marker.enabled,shape:i.marker.shape,size:i.marker.size,strokeWidth:i.marker.strokeWidth},highlightStyle:i.highlightStyle},n},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=Ch(Ch({},e.seriesDefaults),{stroke:Ch(Ch({},e.seriesDefaults.stroke),{width:3}),marker:{enabled:!0,shape:"circle",size:6,strokeWidth:1},tooltip:{enabled:!0}}),e},t}(Du),bh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sh=function(e){function t(t){return e.call(this,t)||this}return bh(t,e),t}(Tu),Eh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_h=function(){return(_h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Oh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return Eh(t,e),t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=t.getConfig("pie.series.pie");return n.seriesDefaults={title:i.title,label:_h(_h({},i.label),{minRequiredAngle:i.label.minAngle}),callout:i.callout,shadow:i.shadow,tooltip:{enabled:i.tooltipEnabled,renderer:i.tooltipRenderer},fill:{colors:t.palette.fills,opacity:i.fillOpacity},stroke:{colors:t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},highlightStyle:i.highlightStyle},n},t.prototype.createChart=function(e){var t=(e=e||this.chartOptions).seriesDefaults,n=e;return n.autoSize=!0,n.series=[_h(_h({},t),{fills:t.fill.colors,fillOpacity:t.fill.opacity,strokes:t.stroke.colors,strokeOpacity:t.stroke.opacity,strokeWidth:t.stroke.width,type:"pie"})],Al.create(n,this.chartProxyParams.parentElement)},t.prototype.update=function(e){var t=this.chart;if(0!==e.fields.length){var n=t.series[0],i=n&&n.angleKey,o=e.fields[0],r=this.getPalette(),s=r.fills,a=r.strokes,l=this.chartOptions.seriesDefaults,u=n,c=l.callout&&l.callout.colors;i!==o.colId&&(t.removeSeries(n),u=Al.createComponent(_h(_h({},l),{type:"pie",angleKey:o.colId,title:_h(_h({},l.title),{text:l.title.text||e.fields[0].displayName}),fills:l.fill.colors,fillOpacity:l.fill.opacity,strokes:l.stroke.colors,strokeOpacity:l.stroke.opacity,strokeWidth:l.stroke.width,tooltipRenderer:l.tooltip&&l.tooltip.enabled&&l.tooltip.renderer}),"pie.series")),u.angleName=o.displayName,u.labelKey=e.category.id,u.labelName=e.category.name,u.data=e.data,u.fills=s,u.strokes=a,c&&(u.callout.colors=a),t.addSeries(u)}else t.removeAllSeries()},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return t.seriesDefaults=_h(_h({},t.seriesDefaults),{title:_h(_h({},n),{enabled:!1,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:_h(_h({},n),{enabled:!1,offset:3,minRequiredAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}(Sh),xh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Th=function(){return(Th=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Rh=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return xh(t,e),t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=t.getConfig("pie.series.pie");return n.seriesDefaults={title:i.title,label:Th(Th({},i.label),{minRequiredAngle:i.label.minAngle}),callout:i.callout,shadow:i.shadow,tooltip:{enabled:i.tooltipEnabled,renderer:i.tooltipRenderer},fill:{colors:t.palette.fills,opacity:i.fillOpacity},stroke:{colors:t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},highlightStyle:i.highlightStyle},n},t.prototype.createChart=function(e){var t=e=e||this.chartOptions;return t.type="pie",t.autoSize=!0,t.series=[],Al.create(t,this.chartProxyParams.parentElement)},t.prototype.update=function(e){if(0!==e.fields.length){var t=this.chart,n=e.fields.map(function(e){return e.colId}),i={};t.series.forEach(function(e){var t=e,o=t.angleKey;r._.includes(n,o)&&(i[o]=t)});var o=this.chartOptions.seriesDefaults,s=this.getPalette(),a=s.fills,l=s.strokes,u=0;e.fields.forEach(function(n,r){var s=i[n.colId],c=Th(Th({},o),{type:"pie",angleKey:n.colId,showInLegend:0===r,title:Th(Th({},o.title),{text:o.title.text||n.displayName}),fills:o.fill.colors,fillOpacity:o.fill.opacity,strokes:o.stroke.colors,strokeOpacity:o.stroke.opacity,strokeWidth:o.stroke.width,tooltipRenderer:o.tooltip&&o.tooltip.enabled&&o.tooltip.renderer}),h=c.callout&&c.callout.colors,p=s||Al.createComponent(c,"pie.series");p.angleName=n.displayName,p.labelKey=e.category.id,p.labelName=e.category.name,p.data=e.data,p.fills=a,p.strokes=l,0===r&&(p.toggleSeriesItem=function(e,n){t&&t.series.forEach(function(t){t.seriesItemEnabled[e]=n}),p.scheduleData()}),p.outerRadiusOffset=u,p.innerRadiusOffset=u-=20,u-=20,h&&(p.callout.colors=l),s||(i[n.colId]=p)}),t.series=r._.values(i)}else this.chart.removeAllSeries()},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),n=this.getDefaultFontOptions();return t.seriesDefaults=Th(Th({},t.seriesDefaults),{title:Th(Th({},n),{enabled:!0,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:Th(Th({},n),{enabled:!1,offset:3,minRequiredAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}(Sh),Ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dh=function(){return(Dh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ah=function(e){function t(t){var n=e.call(this,t)||this;return n.initChartOptions(),n.recreateChart(),n}return Ph(t,e),t.prototype.getDefaultOptionsFromTheme=function(t){var n=e.prototype.getDefaultOptionsFromTheme.call(this,t),i=t.getConfig("histogram.series.histogram");return n.seriesDefaults={shadow:this.getDefaultDropShadowOptions(),label:i.label,tooltip:{enabled:i.tooltipEnabled,renderer:i.tooltipRenderer},fill:{colors:t.palette.fills,opacity:i.fillOpacity},stroke:{colors:t.palette.strokes,opacity:i.strokeOpacity,width:i.strokeWidth},highlightStyle:i.highlightStyle},n},t.prototype.createChart=function(e){var t=this.chartProxyParams.parentElement,n=this.getSeriesDefaults(),i=e=e||this.chartOptions;return i.autoSize=!0,i.axes=[Dh({type:"number",position:"bottom"},e.xAxis),Dh({type:"number",position:"left"},e.yAxis)],i.series=[Dh(Dh({},n),{fill:n.fill.colors[0],fillOpacity:n.fill.opacity,stroke:n.stroke.colors[0],strokeOpacity:n.stroke.opacity,strokeWidth:n.stroke.width,tooltipRenderer:n.tooltip&&n.tooltip.enabled&&n.tooltip.renderer,type:"histogram"})],Al.create(i,t)},t.prototype.update=function(e){var t=e.fields[0],n=this.chart.series[0];n.data=e.data,n.xKey=t.colId,n.xName=t.displayName,n.areaPlot=!1;var i=this.getPalette(),o=i.strokes;n.fill=i.fills[0],n.stroke=o[0]},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.xAxis.label.rotation=0,t.yAxis.label.rotation=0,t.seriesDefaults=Dh(Dh({},t.seriesDefaults),{tooltip:{enabled:!0},label:Dh(Dh({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions(),binCount:10}),t},t.prototype.getSeriesDefaults=function(){return Dh({},this.chartOptions.seriesDefaults)},t}(Du),kh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ih=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Fh=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.params=n,i}return kh(t,e),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var t=this.params.chartThemeName;r._.includes(e,t)||(t=e[0]);var n={pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:t,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart},i=this.gridOptionsWrapper.isEnableRtl();r._.addCssClass(this.getGui(),i?"ag-rtl":"ag-ltr"),this.model=this.createBean(new Yn(n)),this.chartController=this.createManagedBean(new zl(this.model)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,zl.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.addManagedListener(this.chartMenu,ah.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),t=this.gridOptionsWrapper.getCustomChartThemes();t&&r._.getAllKeysInObjects([t]).forEach(function(t){r._.includes(e,t)||console.warn("ag-Grid: a custom chart theme with the name '"+t+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e,n;if(this.chartProxy){var i=this.chartProxy.getChart();i&&(e=i.width,n=i.height),this.chartProxy.destroy()}var o=this.params.processChartOptions||this.gridOptionsWrapper.getProcessChartOptionsFunc(),s=this.gridOptionsWrapper.getCustomChartThemes(),a=this.model.getChartType(),l=this.model.isGrouping(),u={chartId:this.model.getChartId(),chartType:a,chartThemeName:this.model.getChartThemeName(),processChartOptions:o,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:s,getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,allowPaletteOverride:!this.params.chartThemeName,isDarkTheme:this.environment.isThemeDark.bind(this.environment),parentElement:this.eChart,width:e,height:n,grouping:l,document:this.gridOptionsWrapper.getDocument(),eventService:this.eventService,gridApi:this.gridApi,columnApi:this.columnApi};this.chartType=a,this.chartThemeName=this.model.getChartThemeName(),this.chartProxy=t.createChartProxy(u),this.titleEdit&&this.titleEdit.setChartProxy(this.chartProxy),r._.addCssClass(this.eChart.querySelector("canvas"),"ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy)},t.prototype.getChartThemeName=function(){return this.chartController.getThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case r.ChartType.GroupedColumn:case r.ChartType.StackedColumn:case r.ChartType.NormalizedColumn:case r.ChartType.GroupedBar:case r.ChartType.StackedBar:case r.ChartType.NormalizedBar:return new fh(e);case r.ChartType.Pie:return new Oh(e);case r.ChartType.Doughnut:return new Rh(e);case r.ChartType.Area:case r.ChartType.StackedArea:case r.ChartType.NormalizedArea:return new yh(e);case r.ChartType.Line:return new wh(e);case r.ChartType.Scatter:case r.ChartType.Bubble:return new Iu(e);case r.ChartType.Histogram:return new Ah(e)}},t.prototype.addDialog=function(){var e=this,t=this.chartTranslator.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize();this.chartDialog=new r.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:t,width:n.width,height:n.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(r.AgDialog.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),t=.75*r._.getAbsoluteWidth(e),n=.75*r._.getAbsoluteHeight(e),i=this.chartProxy.getChartOptions(),o=i.width,s=i.height;if(o&&s)return{width:o,height:s};var a=this.chartProxy.getChart(),l=this.params.insideDialog?850:a.width,u=this.params.insideDialog?470:a.height;return(l>t||u>n)&&(l=Math.min(l,t),(u=Math.round(.553*l))>n&&(u=n,l=Math.min(l,Math.round(u/.553)))),{width:l,height:u}},t.prototype.addMenu=function(){this.chartMenu=this.createBean(new ah(this.eChartContainer,this.eMenuContainer,this.chartController)),this.eChartContainer.appendChild(this.chartMenu.getGui())},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new hh(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.setChartProxy(this.chartProxy)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.model.getChartType()||this.chartThemeName!==this.model.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.updateChart=function(){var e=this.model,t=this.chartProxy,n=e.getSelectedValueColState().map(function(e){return{colId:e.colId,displayName:e.displayName}}),i=e.getData();if(!this.handleEmptyChart(i,n)){var o=e.getSelectedDimension(),r={data:i,grouping:e.isGrouping(),category:{id:o.colId,name:o.displayName,chartDataType:this.getChartDataType(o.colId)},fields:n};t.update(r),this.titleEdit.setChartProxy(this.chartProxy)}},t.prototype.getChartDataType=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,t){var n=this.chartProxy.getChart().container,i=this.model.isPivotChart()&&!this.model.isPivotMode(),o=1;this.chartController.isActiveXYChart()&&(o=this.model.getChartType()===r.ChartType.Bubble?3:2);var s=t.length<o||0===e.length;if(n){var a=i||s;r._.setDisplayed(this.eChart,!a),r._.setDisplayed(this.eEmpty,a)}return i?(this.eEmpty.innerText=this.chartTranslator.translate("pivotChartRequiresPivotMode"),!0):!!s&&(this.eEmpty.innerText=this.chartTranslator.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.chartProxy,t=this.eChart;if(this.chartMenu.isVisible()){var n=this.chartProxy.getChart();n.height=r._.getInnerHeight(t),n.width=r._.getInnerWidth(t)}else e.setChartOption("width",r._.getInnerWidth(t)),e.setChartOption("height",r._.getInnerHeight(t))}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusController.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=this.chartController.getChartModel(),t=Object.freeze({type:r.Events.EVENT_CHART_CREATED,chartId:e.chartId,chartModel:e,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:r.Events.EVENT_CHART_DESTROYED,chartId:this.model.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var t=this.getGui();r._.clearElement(t),r._.removeFromParent(t),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Ih([r.RefSelector("eChart")],t.prototype,"eChart",void 0),Ih([r.RefSelector("eChartContainer")],t.prototype,"eChartContainer",void 0),Ih([r.RefSelector("eMenuContainer")],t.prototype,"eMenuContainer",void 0),Ih([r.RefSelector("eEmpty")],t.prototype,"eEmpty",void 0),Ih([r.RefSelector("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),Ih([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ih([r.Autowired("environment")],t.prototype,"environment",void 0),Ih([r.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Ih([r.Autowired("columnController")],t.prototype,"columnController",void 0),Ih([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ih([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ih([r.Autowired("popupService")],t.prototype,"popupService",void 0),Ih([r.PostConstruct],t.prototype,"init",null),t}(r.Component),Nh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Lh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeCharts=new Set,t.activeChartComps=new Set,t}return Nh(t,e),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(t){return e.push(t.getChartModel())}),e},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e=r.ChartType.GroupedColumn);var t=this.getSelectedRange();return this.createChart(t,e)},t.prototype.createRangeChart=function(e){var t=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,e.processChartOptions);console.warn("ag-Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnController.isPivotMode()||this.columnController.setPivotMode(!0,"pivotChart");var t={columns:this.columnController.getAllDisplayedColumns().map(function(e){return e.getColId()})},n=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(t):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart,e.processChartOptions);console.warn("ag-Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createChart=function(e,t,n,i,o,s,a,l,u,c){var h=this;void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===u&&(u=!1);var p=this.gridOptionsWrapper.getCreateChartContainerFunc(),d=new Fh({pivotChart:i,cellRange:e,chartType:t,chartThemeName:n,insideDialog:!(s||p),suppressChartRanges:o,aggFunc:a,chartThemeOverrides:l,processChartOptions:c,unlinkChart:u});this.context.createBean(d);var f=this.createChartRef(d);if(s){s.appendChild(d.getGui());var g=this.environment.getTheme();g.el&&!g.el.contains(s)&&r._.addCssClass(s,g.theme)}else p?p(f):d.addEventListener(Fh.EVENT_DESTROYED,function(){h.activeChartComps.delete(d),h.activeCharts.delete(f)});return f},t.prototype.createChartRef=function(e){var t=this,n={destroyChart:function(){t.activeCharts.has(n)&&(t.context.destroyBean(e),t.activeChartComps.delete(e),t.activeCharts.delete(n))},chartElement:e.getGui(),chart:e.getUnderlyingChart()};return this.activeCharts.add(n),this.activeChartComps.add(e),n},t.prototype.getSelectedRange=function(){var e=this.rangeController.getCellRanges();return e.length>0?e[0]:{}},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},Mh([r.Optional("rangeController")],t.prototype,"rangeController",void 0),Mh([r.Autowired("columnController")],t.prototype,"columnController",void 0),Mh([r.Autowired("environment")],t.prototype,"environment",void 0),Mh([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Mh([r.PreDestroy],t.prototype,"destroyAllActiveCharts",null),Mh([r.Bean("chartService")],t)}(r.BeanStub),Vh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Vh(t,e),n=t,t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,n.DEFAULT_TRANSLATIONS[e])},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled."},Gh([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),n=Gh([r.Bean("chartTranslator")],t)}(r.BeanStub),Wh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jh=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},zh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellRanges=[],t.bodyScrollListener=t.onBodyScroll.bind(t),t.dragging=!1,t}return Wh(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.autoScrollService=new Uh(this.gridPanel,this.gridOptionsWrapper)},t.prototype.init=function(){this.logger=this.loggerFactory.create("RangeController"),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this))},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(t){var n=t.columns;t.columns=t.columns.filter(function(e){return e.isVisible()}),!r._.areEqual(n,t.columns)&&e.dispatchChangedEvent(!1,!0,t.id)})},t.prototype.refreshLastRangeStart=function(){var e=r._.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var t=e.columns;if(!t.length)return!1;var n=this.columnController.getAllDisplayedColumns(),i=t.map(function(e){return n.indexOf(e)}).sort(function(e,t){return e-t});return r._.last(i)-i[0]+1===t.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?r.Constants.PINNED_TOP:void 0}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var t=this.pinnedRowModel.getPinnedBottomRowCount();return t>0?{rowIndex:t-1,rowPinned:r.Constants.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:void 0}},t.prototype.setRangeToCell=function(e,t){if(void 0===t&&(t=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.calculateColumnsBetween(e.column,e.column);if(n){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!t||r._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var i,o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},s=0;s<this.cellRanges.length;s++){var a=this.cellRanges[s];if(a.columns&&1===a.columns.length&&a.columns[0]===e.column&&this.rowPositionUtils.sameRow(o,a.startRow)&&this.rowPositionUtils.sameRow(o,a.endRow)){i=a;break}}i?r._.last(this.cellRanges)!==i&&(r._.removeFromArray(this.cellRanges,i),this.cellRanges.push(i)):this.cellRanges.push(i={startRow:o,endRow:o,columns:n,startColumn:e.column}),this.newestRangeStartCell=e,this.onDragStop(),this.dispatchChangedEvent(!0,!0,i.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=r._.last(this.cellRanges);this.updateRangeEnd(t,e)}},t.prototype.updateRangeEnd=function(e,t,n){void 0===n&&(n=!1);var i=this.calculateColumnsBetween(e.startColumn,t.column);i&&!this.isLastCellOfRange(e,t)&&(e.columns=i,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},n||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var t=e.startColumn,n=e.columns,i=function(t,n){var i=e.columns.filter(function(e){return e!==t});t?(e.startColumn=t,e.columns=n?jh([t],i):jh(i,[t])):e.columns=i},o=this.getRangeEdgeColumns(e),s=o.left,a=o.right;t===n[0]&&t!==s?i(s,!0):t===r._.last(n)&&t===a&&i(a,!1)},t.prototype.getRangeEdgeColumns=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.columns.map(function(e){return t.indexOf(e)}).filter(function(e){return e>-1}).sort(function(e,t){return e-t});return{left:t[n[0]],right:t[r._.last(n)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=r._.last(this.cellRanges),n=this.newestRangeStartCell,i=t.columns[0],o=r._.last(t.columns),s=this.cellNavigationService.getNextCellToFocus(e,{column:n.column===i?o:i,rowIndex:t.endRow.rowIndex,rowPinned:t.endRow.rowPinned});if(s)return this.setCellRange({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.column,columnEnd:s.column}),s}},t.prototype.setCellRange=function(e){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var t=this;r._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(e){e.columns&&e.startRow&&(t.newestRangeStartCell={rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.columns[0]}),t.cellRanges.push(e)}),this.dispatchChangedEvent(!1,!0))},t.prototype.createCellRangeFromCellRangeParams=function(e){var t,n=this;if(e.columns)t=e.columns.map(function(e){return n.columnController.getColumnWithValidation(e)}).filter(function(e){return e});else{var i=this.columnController.getColumnWithValidation(e.columnStart),o=this.columnController.getColumnWithValidation(e.columnEnd);if(!i||!o)return;t=this.calculateColumnsBetween(i,o)}if(t)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned}:void 0,columns:t,startColumn:t[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=this.createCellRangeFromCellRangeParams(e);t&&(this.cellRanges.push(t),this.dispatchChangedEvent(!1,!0,t.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){if(0===this.cellRanges.length)return!1;if(this.cellRanges.length>1)return!0;var e=this.cellRanges[0],t=this.getRangeStartRow(e),n=this.getRangeEndRow(e);return t.rowPinned!==n.rowPinned||t.rowIndex!==n.rowIndex||1!==e.columns.length},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,t){var n=null!==t.columns&&r._.includes(t.columns,e.column),i=this.isRowInRange(e.rowIndex,e.rowPinned,t);return n&&i},t.prototype.isLastCellOfRange=function(e,t){var n=e.startRow,i=e.endRow,o=this.rowPositionUtils.before(n,i)?i:n,s=t.rowIndex===o.rowIndex&&t.rowPinned===o.rowPinned,a=e.columns[0],l=r._.last(e.columns);return t.column===(e.startColumn===a?l:a)&&s},t.prototype.isBottomRightCell=function(e,t){var n=this.columnController.getAllDisplayedColumns(),i=e.columns.map(function(e){return n.indexOf(e)}).sort(function(e,t){return e-t}),o=e.startRow,s=e.endRow,a=this.rowPositionUtils.before(o,s)?s:o,l=n.indexOf(t.column)===r._.last(i),u=t.rowIndex===a.rowIndex&&r._.makeNull(t.rowPinned)===r._.makeNull(a.rowPinned);return l&&u},t.prototype.getCellRangeCount=function(e){var t=this;return this.isEmpty()?0:this.cellRanges.filter(function(n){return t.isCellInSpecificRange(e,n)}).length},t.prototype.isRowInRange=function(e,t,n){var i=this.getRangeStartRow(n),o=this.getRangeEndRow(n),r={rowIndex:e,rowPinned:t};if(r.rowIndex===i.rowIndex&&r.rowPinned==i.rowPinned||r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned)return!0;var s=!this.rowPositionUtils.before(r,i),a=this.rowPositionUtils.before(r,o);return s&&a},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=e.shiftKey,n=e.ctrlKey||e.metaKey,i=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&n,o=this.mouseEventService.getCellPositionForEvent(e),s=t&&r._.existsAndNotEmpty(this.cellRanges);if(!r._.missing(o)){if(i||s&&!r._.exists(r._.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.dragging=!0,this.draggingCell=o,this.lastMouseEvent=e,s||(this.newestRangeStartCell=o),this.cellRanges.length>0)this.draggingRange=r._.last(this.cellRanges);else{var a={rowIndex:o.rowIndex,rowPinned:o.rowPinned};this.draggingRange={startRow:a,endRow:a,columns:[o.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.gridPanel.addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.onDragging=function(e){var t=this;if(this.dragging&&e){this.lastMouseEvent=e;var n=this.mouseEventService.getCellPositionForEvent(e),i=function(e){return n&&n.rowPinned===e&&t.newestRangeStartCell.rowPinned===e},o=i("top")||i("bottom");if(this.autoScrollService.check(e,o),n&&this.draggingCell&&!this.cellPositionUtils.equals(this.draggingCell,n)){var r=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);r&&(this.draggingCell=n,this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=r,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.gridPanel.removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.draggingCell=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,t,n){var i=Object.freeze({type:r.Events.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:t,id:n});this.eventService.dispatchEvent(i)},t.prototype.calculateColumnsBetween=function(e,t){var n=this.columnController.getAllDisplayedColumns(),i=e===t,o=n.indexOf(e);if(o<0)console.warn("ag-Grid: column "+e.getId()+" is not visible");else{var r=i?o:n.indexOf(t);if(!(r<0)){if(i)return[e];for(var s=Math.min(o,r),a=s===o?r:o,l=[],u=s;u<=a;u++)l.push(n[u]);return l}console.warn("ag-Grid: column "+t.getId()+" is not visible")}},Bh([r.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Bh([r.Autowired("rowModel")],t.prototype,"rowModel",void 0),Bh([r.Autowired("columnController")],t.prototype,"columnController",void 0),Bh([r.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),Bh([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Bh([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Bh([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Bh([r.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Bh([r.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Bh([r.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Bh([r.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Bh([r.PostConstruct],t.prototype,"init",null),Bh([r.Bean("rangeController")],t)}(r.BeanStub),Uh=function(){function e(e,t){this.tickingInterval=null,this.gridPanel=e,this.gridOptionsWrapper=t}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var n=this.gridPanel.getBodyClientRect();(t=t||this.gridOptionsWrapper.getDomLayout()!==r.Constants.DOM_LAYOUT_NORMAL)&&!this.gridPanel.isHorizontalScrollShowing()||(this.tickLeft=e.clientX<n.left+20,this.tickRight=e.clientX>n.right-20,this.tickUp=e.clientY<n.top+20&&!t,this.tickDown=e.clientY>n.bottom-20&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared())},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){this.tickCount++;var e,t=this.gridPanel.getVScrollPosition(),n=this.gridPanel.getHScrollPosition();e=this.tickCount>20?200:this.tickCount>10?80:40,this.tickUp&&this.gridPanel.setVerticalScrollPosition(t.top-e),this.tickDown&&this.gridPanel.setVerticalScrollPosition(t.top+e),this.tickLeft&&this.gridPanel.setHorizontalScrollPosition(n.left-e),this.tickRight&&this.gridPanel.setHorizontalScrollPosition(n.left+e)},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),Kh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Yh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changedCalculatedValues=!1,t.dragging=!1,t.shouldDestroyOnEndDragging=!1,t}return Kh(t,e),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(t){e.dragging=!0,e.rangeController.autoScrollService.check(t),e.changedCalculatedValues&&(e.onDrag(t),e.changedCalculatedValues=!1)},onDragStop:function(t){e.dragging=!1,e.onDragEnd(t),e.clearValues(),e.rangeController.autoScrollService.ensureCleared(),r._.removeCssClass(document.body,e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellComp=function(){return this.cellComp},t.prototype.setCellComp=function(e){this.cellComp=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.rowRenderer.getGridCore().getRootGui(),"mousemove",this.updateValuesOnMove.bind(this)),r._.addCssClass(document.body,this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===r.SelectionHandleType.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var t=this.mouseEventService.getCellPositionForEvent(e);t!==this.lastCellHovered&&(this.lastCellHovered=t,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var t=this,n=this.getCellComp(),i=this.getGui(),o=r._.last(this.rangeController.getCellRanges()),s=o.startRow,a=o.endRow;s&&a&&(this.rowPositionUtils.before(a,s)?(this.setRangeStartRow(a),this.setRangeEndRow(s)):(this.setRangeStartRow(s),this.setRangeEndRow(a))),n===e&&r._.isVisible(i)||(this.setCellComp(e),window.setTimeout(function(){t.isAlive()&&e.appendChild(i)},1)),this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return r._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,e.prototype.destroy.call(this),this.removeListeners();var t=this.getGui();t.parentElement&&t.parentElement.removeChild(t)},qh([r.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),qh([r.Autowired("dragService")],t.prototype,"dragService",void 0),qh([r.Autowired("rangeController")],t.prototype,"rangeController",void 0),qh([r.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),qh([r.Autowired("columnController")],t.prototype,"columnController",void 0),qh([r.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),qh([r.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),qh([r.PostConstruct],t.prototype,"init",null),t}(r.Component),$h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xh=function(){return(Xh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Zh=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.markedCellComps=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=r.SelectionHandleType.FILL,n}return $h(t,e),t.prototype.updateValuesOnMove=function(t){e.prototype.updateValuesOnMove.call(this,t),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(t));var n,i=this.initialXY,o=i.x,r=i.y,s=this.mouseEventService.getNormalisedPosition(t),a=s.y,l=Math.abs(o-s.x),u=Math.abs(r-a),c=this.gridOptionsWrapper.getFillHandleDirection();(n="xy"===c?l>u?"x":"y":c)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var t=this.getCellComp();if(!t)return;this.initialPosition=t.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCellComps.length){var t,n="x"===this.dragAxis,i=this.getCellRange(),o=i.columns.length,r=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=n?r:this.lastCellMarked;t=this.rangeController.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:n?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}else t=this.rangeController.createCellRangeFromCellRangeParams({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,columnStart:i.columns[0],rowEndIndex:n?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:i.columns[o-1]});t&&(this.raiseFillStartEvent(),this.handleValueChanged(i,t,e),this.rangeController.setCellRanges([t]),this.raiseFillEndEvent(i,t))}},t.prototype.raiseFillStartEvent=function(){var e={type:r.Events.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,t){var n={type:r.Events.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:t};this.eventService.dispatchEvent(n)},t.prototype.handleValueChanged=function(e,t,n){var i=this,o=this.rangeController.getRangeEndRow(e),s=this.rangeController.getRangeStartRow(e),a=this.rangeController.getRangeEndRow(t),l=this.rangeController.getRangeStartRow(t),u="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var c=!0,h=[],p=[],d=0,f=function(){h.length=0,p.length=0,d=0},g=function(t,n){var p=i.isUp?o:s,d=!1;u&&(c=!0,f());for(var g=function(){var g=i.rowPositionUtils.getRowNode(p);if(!g)return"break";u&&t?m(h,t,g,function(){return!i.rowPositionUtils.sameRow(p,i.isUp?s:o)}):n&&(c=!0,f(),n.forEach(function(t){return m(h,t,g,function(){return t!==(i.isLeft?e.columns[0]:r._.last(e.columns))})})),d=i.rowPositionUtils.sameRow(p,i.isUp?l:a),p=i.isUp?i.cellNavigationService.getRowAbove(p):i.cellNavigationService.getRowBelow(p)};!d&&p&&"break"!==g(););},m=function(e,t,o,r){var s;c?(s=i.valueService.getValue(t,o),p.push(s),c=r()):(s=i.processValues(n,e,p,t,o,d++),t.isCellEditable(o)&&o.setDataValue(t,s)),e.push(s)};u?e.columns.forEach(function(e){g(e)}):(y=this.isLeft?function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(t.columns).reverse():t.columns,g(void 0,y))}else{var y=u?e.columns:e.columns.filter(function(e){return t.columns.indexOf(e)<0}),v=u?this.cellNavigationService.getRowBelow(a):l;v&&this.clearCellsInRange(v,o,y)}},t.prototype.clearCellsInRange=function(e,t,n){for(var i=this,o=e,r=!1,s=function(){var e=a.rowPositionUtils.getRowNode(o);if(!e)return"break";n.forEach(function(t){t.isCellEditable(e)&&i.valueService.setValue(e,t,null)}),r=a.rowPositionUtils.sameRow(o,t),o=a.cellNavigationService.getRowBelow(o)},a=this;!r&&o&&"break"!==s(););},t.prototype.processValues=function(e,t,n,i,o,s){var a,l=this.gridOptionsWrapper.getFillOperation(),u="y"===this.dragAxis;if(a=u?this.isUp?"up":"down":this.isLeft?"left":"right",l){var c=l({event:e,values:t,initialValues:n,currentIndex:s,currentCellValue:this.valueService.getValue(i,o),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:a,column:u?i:void 0,rowNode:u?void 0:o});if(!1!==c)return c}var h=!t.some(function(e){var t=parseFloat(e);return isNaN(t)||t.toString()!==e.toString()});if(e.altKey||!h){if(h&&1===n.length){var p=this.isUp||this.isLeft?-1:1;return parseFloat(r._.last(t))+1*p}return t[s%t.length]}return r._.last(r._.findLineByLeastSquares(t.map(Number)))},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,e.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCellComps.forEach(function(e){var t=e.getGui();r._.removeCssClass(t,"ag-selection-fill-top"),r._.removeCssClass(t,"ag-selection-fill-right"),r._.removeCssClass(t,"ag-selection-fill-bottom"),r._.removeCssClass(t,"ag-selection-fill-left")}),this.markedCellComps.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(t,e))return;var n=this.rowPositionUtils.before(t,e),i=this.getRangeStartRow(),o=this.getRangeEndRow();n&&(t.rowPinned==i.rowPinned&&t.rowIndex>=i.rowIndex||i.rowPinned!=o.rowPinned&&t.rowPinned==o.rowPinned&&t.rowIndex<=o.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,n),this.isReduce=!1)}else{var r=e.column,s=t.column;if(r===s)return;var a=this.columnController.getAllDisplayedColumns(),l=a.indexOf(r),u=a.indexOf(s);u<=l&&u>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,u<l),this.isReduce=!1)}this.lastCellMarked=t},t.prototype.extendVertical=function(e,t,n){var i=this.rowRenderer,o=this.rangeController,s=e;do{for(var a=this.getCellRange(),l=a.columns.length,u=0;u<l;u++){var c=a.columns[u],h=Xh(Xh({},{rowIndex:s.rowIndex,rowPinned:s.rowPinned}),{column:c}),p=o.isCellInSpecificRange(h,a),d=this.rowPositionUtils.sameRow(s,e);if(n&&(this.isUp=!0),!d){var f=i.getComponentForCell(h);if(f){this.markedCellComps.push(f);var g=f.getGui();p||(r._.addOrRemoveCssClass(g,"ag-selection-fill-left",0===u),r._.addOrRemoveCssClass(g,"ag-selection-fill-right",u===l-1)),r._.addOrRemoveCssClass(g,n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(s,t))}}}if(this.rowPositionUtils.sameRow(s,t))break}while(s=n?this.cellNavigationService.getRowAbove(s):this.cellNavigationService.getRowBelow(s))},t.prototype.reduceVertical=function(e,t){var n=e;do{for(var i=this.getCellRange(),o=i.columns.length,s=this.rowPositionUtils.sameRow(n,t),a=0;a<o;a++){var l=Xh(Xh({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{column:i.columns[a]}),u=this.rowRenderer.getComponentForCell(l);if(u){this.markedCellComps.push(u);var c=u.getGui();r._.addOrRemoveCssClass(c,"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,t))}}if(s)break}while(n=this.cellNavigationService.getRowAbove(n))},t.prototype.extendHorizontal=function(e,t,n){var i=this,o=this.columnController.getAllDisplayedColumns(),s=o.indexOf(n?t.column:e.column),a=o.indexOf(n?this.getCellRange().columns[0]:t.column),l=n?0:1,u=o.slice(s+l,a+l),c=this.getRangeStartRow(),h=this.getRangeEndRow();u.forEach(function(e){var t=c,o=!1;do{o=i.rowPositionUtils.sameRow(t,h);var s=i.rowRenderer.getComponentForCell({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(s){i.markedCellComps.push(s);var a=s.getGui();r._.addOrRemoveCssClass(a,"ag-selection-fill-top",i.rowPositionUtils.sameRow(t,c)),r._.addOrRemoveCssClass(a,"ag-selection-fill-bottom",i.rowPositionUtils.sameRow(t,h)),n?(i.isLeft=!0,r._.addOrRemoveCssClass(a,"ag-selection-fill-left",e===u[0])):r._.addOrRemoveCssClass(a,"ag-selection-fill-right",e===r._.last(u))}t=i.cellNavigationService.getRowBelow(t)}while(!o)})},t.prototype.reduceHorizontal=function(e,t){var n=this,i=this.columnController.getAllDisplayedColumns(),o=i.indexOf(t.column),s=i.indexOf(e.column),a=i.slice(o,s),l=this.getRangeStartRow(),u=this.getRangeEndRow();a.forEach(function(e){var t=l,i=!1;do{i=n.rowPositionUtils.sameRow(t,u);var o=n.rowRenderer.getComponentForCell({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(o){n.markedCellComps.push(o);var s=o.getGui();r._.addOrRemoveCssClass(s,"ag-selection-fill-right",e===a[0])}t=n.cellNavigationService.getRowBelow(t)}while(!i)})},t.prototype.refresh=function(t){var n=this.rangeController.getCellRanges()[0];n.startRow&&n.endRow?e.prototype.refresh.call(this,t):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',Qh([r.Autowired("valueService")],t.prototype,"valueService",void 0),Qh([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Yh),Jh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ep=function(){return(ep=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tp=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.type=r.SelectionHandleType.RANGE,n.rangeFixed=!1,n}return Jh(t,e),t.prototype.onDrag=function(e){var t=this.getLastCellHovered();if(t){var n=this.rangeController.getCellRanges(),i=r._.last(n);this.rangeFixed||(this.fixRangeStartEnd(i),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===n.length&&n[0].type===r.CellRangeType.DIMENSION&&i.type===r.CellRangeType.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeController.getRangeEndRow(i))&&this.rangeController.updateRangeEnd(n[0],ep(ep({},this.endPosition),{column:n[0].columns[0]}),!0),this.rangeController.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var t=r._.last(this.rangeController.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var t=this.rangeController.getRangeStartRow(e),n=this.rangeController.getRangeEndRow(e),i=e.columns[0];e.startRow=t,e.endRow=n,e.startColumn=i},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(Yh),np=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return np(t,e),t.prototype.createSelectionHandle=function(e){return this.createBean(e===r.SelectionHandleType.RANGE?new tp:new Zh)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([r.Bean("selectionHandleFactory")],t)}(r.BeanStub),op={moduleName:r.ModuleNames.RangeSelectionModule,beans:[zh,ip],agStackComponents:[{componentName:"AgFillHandle",componentClass:Zh},{componentName:"AgRangeHandle",componentClass:tp}],dependantModules:[g]},rp={moduleName:r.ModuleNames.GridChartsModule,beans:[Lh,Hh],dependantModules:[op,g]},sp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ap=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},lp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.needRefresh=!1,t.loadRowDataVersion=0,t}return sp(t,e),t.prototype.init=function(e){var t=this;if(e.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{this.params=e;var n=this.gridOptionsWrapper.isDetailRowAutoHeight();this.checkForDeprecations(),this.ensureValidRefreshStrategy(),this.selectAndSetTemplate(n),r._.exists(this.eDetailGrid)?(this.addThemeToDetailGrid(),this.createDetailsGrid(n),this.registerDetailWithMaster(),this.loadRowData(),window.setTimeout(function(){t.detailGridOptions.api&&t.detailGridOptions.api.doLayout()},0)):console.warn('ag-Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.'),this.addManagedListener(e.node.parent,r.RowNode.EVENT_DATA_CHANGED,function(){t.needRefresh=!0})}},t.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.params.refreshStrategy||(this.needRefresh=!1,"everything"!==this.params.refreshStrategy&&(this.loadRowData(),!0))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.checkForDeprecations=function(){this.params.suppressRefresh&&(console.warn("ag-Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.params.refreshStrategy="nothing")},t.prototype.ensureValidRefreshStrategy=function(){switch(this.params.refreshStrategy){case"rows":case"nothing":case"everything":return}this.params.refreshStrategy&&console.warn("ag-Grid: invalid cellRendererParams.refreshStrategy = '"+this.params.refreshStrategy+"' supplied, defaulting to refreshStrategy = 'rows'."),this.params.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&r._.addCssClass(this.eDetailGrid,e)},t.prototype.registerDetailWithMaster=function(){var e=this.params.node.id,t=this.params.api,n={id:e,api:this.detailGridOptions.api,columnApi:this.detailGridOptions.columnApi},i=this.params.node;t.addDetailGridInfo(e,n),i.detailGridInfo=n,this.addDestroyFunc(function(){t.removeDetailGridInfo(e),i.detailGridInfo=null})},t.prototype.selectAndSetTemplate=function(e){var n=this,i=function(){n.setTemplate(t.TEMPLATE),n.addCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height"),r._.addCssClass(n.eDetailGrid,e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height")};if(r._.missing(this.params.template))i();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("ag-Grid: detailCellRendererParams.template should be function or string"),i()},t.prototype.createDetailsGrid=function(e){var t=this,n=this.params.detailGridOptions;r._.missing(n)&&console.warn("ag-Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions"),this.detailGridOptions=r._.cloneObject(n),e&&(this.detailGridOptions.domLayout="autoHeight"),new r.Grid(this.eDetailGrid,this.detailGridOptions,{$scope:this.params.$scope,$compile:this.params.$compile,providedBeanInstances:{agGridReact:this.params.agGridReact,frameworkComponentWrapper:this.params.frameworkComponentWrapper}}),this.addDestroyFunc(function(){t.detailGridOptions.api&&t.detailGridOptions.api.destroy()})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var t=this.loadRowDataVersion,n=this.params.getDetailRowData;n?n({node:this.params.node,data:this.params.node.data,successCallback:function(n){e.loadRowDataVersion===t&&e.setRowData(n)},context:this.gridOptionsWrapper.getContext()}):console.warn("ag-Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.setRowData=function(e){this.detailGridOptions.api&&this.detailGridOptions.api.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"/>\n        </div>',ap([r.Autowired("environment")],t.prototype,"environment",void 0),ap([r.RefSelector("eDetailGrid")],t.prototype,"eDetailGrid",void 0),ap([r.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ap([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(r.Component),up={moduleName:r.ModuleNames.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:lp}],dependantModules:[g]},cp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hp=function(e){function t(t){var n=e.call(this,void 0,!0)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return cp(t,e),t.prototype.handleKeyDown=function(e){switch(e.keyCode){case r.KeyCode.ESCAPE:this.closePanel()}},t.prototype.onTabKeyDown=function(t){e.prototype.onTabKeyDown.call(this,t),t.defaultPrevented||(this.closePanel(),t.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},t}(r.ManagedFocusComponent),pp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},fp=function(e){function t(t){var n=e.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return pp(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),r._.setAriaDisabled(t,!0)):(this.addGuiEventListener("click",function(t){return e.onItemSelected(t)}),this.addGuiEventListener("keydown",function(t){t.keyCode!==r.KeyCode.ENTER&&t.keyCode!==r.KeyCode.SPACE||e.onItemSelected(t)}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(e){return r._.addCssClass(t,e)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var i,o=r._.loadTemplate('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var s=r._.getAriaLevel(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new yp(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),o.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(e){return n.dispatchEvent(e)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),i=function(){return n.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new hp(u));c.setParentComponent(this);var h=c.getGui(),p="mouseenter",d=function(){return n.cancelDeactivate()};h.addEventListener(p,d),i=function(){return h.removeEventListener(p,d)},o.appendChild(h),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var f=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:f,ePopup:o}),m=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:g,anchorToElement:f});this.subMenuIsOpen=!0,r._.setAriaExpanded(f,!0),this.hideSubMenu=function(){m(),n.subMenuIsOpen=!1,r._.setAriaExpanded(f,!1),i()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,r._.setAriaExpanded(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){t.isAlive()&&t.isActive&&t.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=r._.loadTemplate('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(r._.createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon&&(r._.isNodeOrElement(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("ag-Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=r._.loadTemplate('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new r.TooltipFeature(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=r._.loadTemplate('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=r._.loadTemplate('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";r._.setAriaExpanded(t,!1),e.appendChild(r._.createIconNoSpan(n,this.gridOptionsWrapper))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,dp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),dp([r.Autowired("popupService")],t.prototype,"popupService",void 0),dp([r.PostConstruct],t.prototype,"init",null),t}(r.Component),gp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mp=function(){return(mp=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yp=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,'<div class="ag-menu-list" role="tree"></div>',!0)||this;return n.level=t,n.menuItems=[],n}return gp(t,e),t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent();t&&t instanceof r.ManagedFocusComponent||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case r.KeyCode.UP:case r.KeyCode.RIGHT:case r.KeyCode.DOWN:case r.KeyCode.LEFT:e.preventDefault(),this.handleNavKey(e.keyCode);break;case r.KeyCode.ESCAPE:var t=this.findTopMenu();t&&this.focusController.focusInto(t.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach(function(e){"separator"===e?t.addSeparator():"string"==typeof e?console.warn("ag-Grid: unrecognised menu item "+e):t.addItem(e)})},t.prototype.addItem=function(e){var t=this,n=this.createManagedBean(new fp(mp(mp({},e),{isAnotherSubMenuOpen:function(){return r._.some(t.menuItems,function(e){return e.isSubMenuOpen()})}})));n.setParentComponent(this),r._.setAriaLevel(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,fp.EVENT_MENU_ITEM_SELECTED,function(e){t.dispatchEvent(e)}),this.addManagedListener(n,fp.EVENT_MENU_ITEM_ACTIVATED,function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(e){return!e.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(r._.loadTemplate('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof fp))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case r.KeyCode.UP:case r.KeyCode.DOWN:var t=this.findNextItem(e===r.KeyCode.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?r.KeyCode.RIGHT:r.KeyCode.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof fp&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter(function(e){return!e.isDisabled()});if(t.length){if(!this.activeMenuItem)return e?r._.last(t):t[0];var n;e&&t.reverse();for(var i=!1,o=0;o<t.length;o++){var s=t[o];if(i){n=s;break}s===this.activeMenuItem&&(i=!0)}return n||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(r.ManagedFocusComponent),vp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vp(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,t,n){var i=this;this.showMenu(e,function(o){var r=o.getGui();i.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:r}),n&&o.showTab(n)},n,void 0,t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,n,i){var o=this,r=-1,s="left";this.gridOptionsWrapper.isEnableRtl()&&(r=1,s="right"),this.showMenu(e,function(i){var a=i.getMinDimensions(),l=a.width,u=a.height,c=i.getGui();o.popupService.positionPopupUnderComponent({type:"columnMenu",column:e,eventSource:t,ePopup:c,minWidth:l,minHeight:u,alignSide:s,nudgeX:9*r,nudgeY:-23,keepWithinBounds:!0}),n&&i.showTab(n)},n,i,t)},t.prototype.showMenu=function(e,t,n,i,o){var s=this,a=this.createBean(new bp(e,this.lastSelectedTab,i)),l=a.getGui(),u=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(t){if(s.destroyBean(a),e.setMenuVisible(!1,"contextMenu"),t instanceof KeyboardEvent&&o&&r._.isVisible(o)){var n=s.focusController.findTabbableParent(o);n&&n.focus()}},positionCallback:function(){t(a)},anchorToElement:this.gridPanel.getGui()});a.afterGuiAttached({hidePopup:u}),n||a.showTabBasedOnPreviousSelection(),a.addEventListener(bp.EVENT_TAB_SELECTED,function(e){s.lastSelectedTab=e.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=a,a.addEventListener(r.BeanStub.EVENT_DESTROYED,function(){s.activeMenu===a&&(s.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(bp.TABS_DEFAULT).length>0},Cp([r.Autowired("popupService")],t.prototype,"popupService",void 0),Cp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Cp([r.Autowired("focusController")],t.prototype,"focusController",void 0),Cp([r.Bean("menuFactory")],t)}(r.BeanStub),bp=function(e){function t(n,i,o){var r=e.call(this)||this;return r.tabFactories={},r.includeChecks={},r.timeOfLastColumnChange=Date.now(),r.column=n,r.initialSelection=i,r.tabFactories[t.TAB_GENERAL]=r.createMainPanel.bind(r),r.tabFactories[t.TAB_FILTER]=r.createFilterPanel.bind(r),r.tabFactories[t.TAB_COLUMNS]=r.createColumnsPanel.bind(r),r.includeChecks[t.TAB_GENERAL]=function(){return!0},r.includeChecks[t.TAB_FILTER]=function(){return n.isFilterAllowed()},r.includeChecks[t.TAB_COLUMNS]=function(){return!0},r.restrictTo=o,r}return vp(t,e),t.prototype.getMinDimensions=function(){return this.tabbedLayout.getMinDimensions()},t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map(function(t){return e.createTab(t)});this.tabbedLayout=new r.TabbedLayout({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addManagedListener(this.eventService,r.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(t){return e.isValidMenuTabItem(t)}).filter(function(t){return e.isNotSuppressed(t)}).filter(function(t){return e.isModuleLoaded(t)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||r.ModuleRegistry.isRegistered(r.ModuleNames.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var n=!0,i=t.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),(n=n&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+i+"]"),n},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var n=null;switch(e.item){case this.tabItemColumns:n=t.TAB_COLUMNS;break;case this.tabItemFilter:n=t.TAB_FILTER;break;case this.tabItemGeneral:n=t.TAB_GENERAL}n&&this.activateTab(n)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var e,n=this.getDefaultMenuOptions(),i=this.gridOptionsWrapper.getMainMenuItemsFunc();return e=i?i({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:n}):n,r._.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],n=!this.column.getColDef().lockPinned,i=this.columnController.getRowGroupColumns().length,o=i>0,s=this.columnController.getRowGroupColumns().indexOf(this.column)>=0,a=this.column.isAllowValue(),l=this.column.isAllowRowGroup(),u=this.column.isPrimary(),c=this.columnController.isPivotMode(),h=this.rowModel.getType()===r.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,p=this.gridOptionsWrapper.isTreeData(),d=u&&o&&a||!u;return n&&e.push("pinSubMenu"),d&&e.push("valueAggSubMenu"),(n||d)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),l&&this.column.isPrimary()&&e.push(s?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),h&&(p||i>(c?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new yp);var e=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(fp.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:r._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:r.Promise.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(){this.hidePopupFunc();var e=this.focusController.getFocusedCell();e&&this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");return this.tabItemFilter={title:r._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e.guiPromise,afterAttachedCallback:function(t){e.filterPromise&&e.filterPromise.then(function(e){e.afterGuiAttached&&e.afterGuiAttached(t)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");r._.addCssClass(e,"ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new Ie);var n=this.column.getColDef().columnsMenuParams;return n||(n={}),this.columnSelectPanel.init(!1,{suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSideButtons:!1,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu"),r._.addCssClass(this.columnSelectPanel.getGui(),"ag-menu-column-select"),e.appendChild(this.columnSelectPanel.getGui()),this.tabItemColumns={title:r._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:r.Promise.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=this;this.tabbedLayout.setAfterAttachedParams({container:"columnMenu",hidePopup:e.hidePopup}),this.hidePopupFunc=e.hidePopup;var n=this.gridApi.getHorizontalPixelRange().left;this.addDestroyFunc(e.hidePopup),this.addManagedListener(this.eventService,"bodyScroll",function(i){if(!(Date.now()-t.timeOfLastColumnChange<500)&&"horizontal"===i.direction){var o=t.gridApi.getHorizontalPixelRange().left;Math.abs(o-n)>t.gridOptionsWrapper.getScrollbarWidth()&&e.hidePopup()}})},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.prototype.onDisplayedColumnsChanged=function(){this.timeOfLastColumnChange=Date.now()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",Cp([r.Autowired("columnController")],t.prototype,"columnController",void 0),Cp([r.Autowired("filterManager")],t.prototype,"filterManager",void 0),Cp([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Cp([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Cp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Cp([r.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Cp([r.Autowired("rowModel")],t.prototype,"rowModel",void 0),Cp([r.Autowired("focusController")],t.prototype,"focusController",void 0),Cp([r.PostConstruct],t.prototype,"init",null),t}(r.BeanStub),Sp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ep=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sp(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,t,n){var i=[];if(r._.exists(e)&&r.ModuleRegistry.isRegistered(r.ModuleNames.ClipboardModule)&&t&&i.push("copy","copyWithHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&r.ModuleRegistry.isRegistered(r.ModuleNames.RangeSelectionModule)&&r.ModuleRegistry.isRegistered(r.ModuleNames.GridChartsModule)&&(this.columnController.isPivotMode()&&i.push("pivotChart"),this.rangeController&&!this.rangeController.isEmpty()&&i.push("chartRange")),r._.exists(e)){var o=!r.ModuleRegistry.isRegistered(r.ModuleNames.CsvExportModule),s=!r.ModuleRegistry.isRegistered(r.ModuleNames.ExcelExportModule),a=this.gridOptionsWrapper.isSuppressExcelExport()||s,l=this.gridOptionsWrapper.isSuppressCsvExport()||o;!(r._.isIOSUserAgent()||a&&l)&&i.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var u=this.gridOptionsWrapper.getContextMenuItemsFunc(),c={node:e,column:t,value:n,defaultItems:i.length?i:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return u?u(c):void 0}return i},t.prototype.showMenu=function(e,t,n,i){var o=this,s=this.getMenuItems(e,t,n);if(void 0===s||r._.missingOrEmpty(s))return!1;var a=new Op(s);this.createBean(a);var l=a.getGui(),u=this.popupService.positionPopupUnderMouseEvent.bind(this.popupService,{column:t,rowNode:e,type:"contextMenu",mouseEvent:i,ePopup:l,nudgeX:1,nudgeY:1}),c=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(){o.destroyBean(a)},click:i,positionCallback:u,anchorToElement:this.gridPanel.getGui()});return a.afterGuiAttached({container:"contextMenu",hidePopup:c}),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=a,a.addEventListener(r.BeanStub.EVENT_DESTROYED,function(){o.activeMenu===a&&(o.activeMenu=null)}),!0},Ep([r.Autowired("popupService")],t.prototype,"popupService",void 0),Ep([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ep([r.Optional("rangeController")],t.prototype,"rangeController",void 0),Ep([r.Autowired("columnController")],t.prototype,"columnController",void 0),Ep([r.Bean("contextMenuFactory")],t)}(r.BeanStub),Op=function(e){function t(t){var n=e.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=t,n}return Sp(t,e),t.prototype.addMenuItems=function(){var e=this.createBean(new yp),t=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener(fp.EVENT_MENU_ITEM_SELECTED,this.destroy.bind(this))},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusController.getFocusedCell(),this.menuList&&this.focusController.focusInto(this.menuList.getGui()),this.addManagedListener(this.eventService,"bodyScroll",this.destroy.bind(this))},t.prototype.destroy=function(){var t=this.focusController.getFocusedCell();if(t&&this.focusedCell&&this.cellPositionUtils.equals(t,this.focusedCell)){var n=this.focusedCell;this.focusController.setFocusedCell(n.rowIndex,n.column,n.rowPinned,!0)}e.prototype.destroy.call(this)},Ep([r.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Ep([r.Autowired("focusController")],t.prototype,"focusController",void 0),Ep([r.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ep([r.PostConstruct],t.prototype,"addMenuItems",null),t}(r.Component),xp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xp(t,e),t.prototype.mapWithStockItems=function(e,t){var n=this;if(!e)return[];var i=[];return e.forEach(function(e){var o;if(o="string"==typeof e?n.getStockMenuItem(e,t):e){var r=o.subMenu;r&&r instanceof Array&&(o.subMenu=n.mapWithStockItems(o.subMenu,t)),null!=o&&i.push(o)}}),i},t.prototype.getStockMenuItem=function(e,t){var n=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:i("pinColumn","Pin Column"),icon:r._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:i("pinLeft","Pin Left"),action:function(){return n.columnController.setColumnPinned(t,r.Constants.PINNED_LEFT,"contextMenu")},checked:t.isPinnedLeft()};case"pinRight":return{name:i("pinRight","Pin Right"),action:function(){return n.columnController.setColumnPinned(t,r.Constants.PINNED_RIGHT,"contextMenu")},checked:t.isPinnedRight()};case"clearPinned":return{name:i("noPin","No Pin"),action:function(){return n.columnController.setColumnPinned(t,null,"contextMenu")},checked:!t.isPinned()};case"valueAggSubMenu":return r.ModuleRegistry.assertRegistered(r.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:i("valueAggregation","Value Aggregation"),icon:r._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:i("autosizeThiscolumn","Autosize This Column"),action:function(){return n.columnController.autoSizeColumn(t,o,"contextMenu")}};case"autoSizeAll":return{name:i("autosizeAllColumns","Autosize All Columns"),action:function(){return n.columnController.autoSizeAllColumns(o,"contextMenu")}};case"rowGroup":return{name:i("groupBy","Group by")+" "+r._.escapeString(this.columnController.getDisplayNameForColumn(t,"header")),action:function(){return n.columnController.addRowGroupColumn(t,"contextMenu")},icon:r._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:i("ungroupBy","Un-Group by")+" "+r._.escapeString(this.columnController.getDisplayNameForColumn(t,"header")),action:function(){return n.columnController.removeRowGroupColumn(t,"contextMenu")},icon:r._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:i("resetColumns","Reset Columns"),action:function(){return n.columnController.resetColumnState(!1,"contextMenu")}};case"expandAll":return{name:i("expandAll","Expand All"),action:function(){return n.gridApi.expandAll()}};case"contractAll":return{name:i("collapseAll","Collapse All"),action:function(){return n.gridApi.collapseAll()}};case"copy":return r.ModuleRegistry.assertRegistered(r.ModuleNames.ClipboardModule,"Copy from Menu")?{name:i("copy","Copy"),shortcut:i("ctrlC","Ctrl+C"),icon:r._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!1)}}:null;case"copyWithHeaders":return r.ModuleRegistry.assertRegistered(r.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:i("copyWithHeaders","Copy with Headers"),icon:r._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard(!0)}}:null;case"paste":return r.ModuleRegistry.assertRegistered(r.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:i("paste","Paste"),shortcut:i("ctrlV","Ctrl+V"),disabled:!0,icon:r._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.pasteFromClipboard()}}:null;case"export":var s=[],a=r.ModuleRegistry.isRegistered(r.ModuleNames.CsvExportModule),l=r.ModuleRegistry.isRegistered(r.ModuleNames.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&a&&s.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&l&&(s.push("excelExport"),s.push("excelXmlExport")),{name:i("export","Export"),subMenu:s,icon:r._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:i("csvExport","CSV Export"),action:function(){return n.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:i("excelExport","Excel Export (.xlsx)&lrm;"),action:function(){return n.gridApi.exportDataAsExcel({exportMode:"xlsx"})}};case"excelXmlExport":return{name:i("excelXmlExport","Excel Export (.xml)&lrm;"),action:function(){return n.gridApi.exportDataAsExcel({exportMode:"xml"})}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("ag-Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=function(e,i,o){return{name:n(e,i),action:function(){return t.chartService.createPivotChart({chartType:o})}}},o=function(e,i,o){return{name:n(e,i),action:function(){return t.chartService.createChartFromCurrentRange(o)}}};switch(e){case"pivotChart":return{name:n("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:r._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:n("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart"],icon:r._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:n("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return i("groupedColumn","Grouped&lrm;",r.ChartType.GroupedColumn);case"pivotStackedColumn":return i("stackedColumn","Stacked&lrm;",r.ChartType.StackedColumn);case"pivotNormalizedColumn":return i("normalizedColumn","100% Stacked&lrm;",r.ChartType.NormalizedColumn);case"rangeColumnChart":return{name:n("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return o("groupedColumn","Grouped&lrm;",r.ChartType.GroupedColumn);case"rangeStackedColumn":return o("stackedColumn","Stacked&lrm;",r.ChartType.StackedColumn);case"rangeNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;",r.ChartType.NormalizedColumn);case"pivotBarChart":return{name:n("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return i("groupedBar","Grouped&lrm;",r.ChartType.GroupedBar);case"pivotStackedBar":return i("stackedBar","Stacked&lrm;",r.ChartType.StackedBar);case"pivotNormalizedBar":return i("normalizedBar","100% Stacked&lrm;",r.ChartType.NormalizedBar);case"rangeBarChart":return{name:n("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return o("groupedBar","Grouped&lrm;",r.ChartType.GroupedBar);case"rangeStackedBar":return o("stackedBar","Stacked&lrm;",r.ChartType.StackedBar);case"rangeNormalizedBar":return o("normalizedBar","100% Stacked&lrm;",r.ChartType.NormalizedBar);case"pivotPieChart":return{name:n("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return i("pie","Pie&lrm;",r.ChartType.Pie);case"pivotDoughnut":return i("doughnut","Doughnut&lrm;",r.ChartType.Doughnut);case"rangePieChart":return{name:n("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return o("pie","Pie&lrm;",r.ChartType.Pie);case"rangeDoughnut":return o("doughnut","Doughnut&lrm;",r.ChartType.Doughnut);case"pivotLineChart":return i("line","Line&lrm;",r.ChartType.Line);case"rangeLineChart":return o("line","Line&lrm;",r.ChartType.Line);case"pivotXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return i("scatter","Scatter&lrm;",r.ChartType.Scatter);case"pivotBubble":return i("bubble","Bubble&lrm;",r.ChartType.Bubble);case"rangeXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return o("scatter","Scatter&lrm;",r.ChartType.Scatter);case"rangeBubble":return o("bubble","Bubble&lrm;",r.ChartType.Bubble);case"pivotAreaChart":return{name:n("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return i("area","Area&lrm;",r.ChartType.Area);case"pivotStackedArea":return i("stackedArea","Stacked&lrm;",r.ChartType.StackedArea);case"pivotNormalizedArea":return i("normalizedArea","100% Stacked&lrm;",r.ChartType.NormalizedArea);case"rangeAreaChart":return{name:n("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return o("area","Area&lrm;",r.ChartType.Area);case"rangeStackedArea":return o("stackedArea","Stacked&lrm;",r.ChartType.StackedArea);case"rangeNormalizedArea":return o("normalizedArea","100% Stacked&lrm;",r.ChartType.NormalizedArea);case"rangeHistogramChart":return o("histogramChart","Histogram&lrm;",r.ChartType.Histogram);default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,n=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=e.isValueActive(),s=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var a=e.getColDef().pivotValueColumn;t=r._.exists(a)?a:void 0}var l=[];return s.forEach(function(e){l.push({name:i(e,e),action:function(){n.columnController.setColumnAggFunc(t,e,"contextMenu"),n.columnController.addValueColumn(t,"contextMenu")},checked:o&&t.getAggFunc()===e})}),l},Tp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Tp([r.Autowired("columnController")],t.prototype,"columnController",void 0),Tp([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Tp([r.Optional("clipboardService")],t.prototype,"clipboardService",void 0),Tp([r.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),Tp([r.Optional("chartService")],t.prototype,"chartService",void 0),Tp([r.Bean("menuItemMapper")],t)}(r.BeanStub),Pp={moduleName:r.ModuleNames.MenuModule,beans:[wp,_p,Rp],dependantModules:[g]},Dp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ap=function(){return(Ap=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},kp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ip=function(e){function t(){var t=e.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>',!0)||this;return t.filterDefs=[],t.filters=[],t.guiDestroyFuncs=[],t.activeFilterIndices=[],t.lastActivatedMenuItem=null,t}return Dp(t,e),t.getFilterDefs=function(e){var t=e.filters;return t&&t.length>0?t:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var n=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var i=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=i;var o=[];return r._.forEach(this.filterDefs,function(e,t){var i=n.createFilter(e,t);null!=i&&o.push(i)}),r.Promise.all(o).then(function(e){n.filters=e,n.refreshGui("columnMenu")})},t.prototype.refreshGui=function(e){var t=this;e!==this.lastOpenedInContainer&&(this.clearGui(),this.destroyChildren(),r._.forEach(this.filters,function(n,i){i>0&&t.appendChild(r._.loadTemplate('<div class="ag-filter-separator"></div>'));var o,s=t.filterDefs[i],a=t.getFilterTitle(n,s);o="subMenu"===s.display&&"toolPanel"!==e?t.insertFilterMenu(n,a).getGui():"subMenu"===s.display||"accordion"===s.display?t.insertFilterGroup(n,a).getGui():n.getGui(),t.appendChild(o)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,t){return null!=t.title?t.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){r._.forEach(this.guiDestroyFuncs,function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,t){var n=this,i=this.createBean(new fp({name:t,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return i.setParentComponent(this),this.guiDestroyFuncs.push(function(){return n.destroyBean(i)}),this.addManagedListener(i,fp.EVENT_MENU_ITEM_ACTIVATED,function(e){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==e.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=e.menuItem}),i.addGuiEventListener("focusin",function(){return i.activate()}),i.addGuiEventListener("focusout",function(){i.isSubMenuOpen()||i.deactivate()}),i},t.prototype.insertFilterGroup=function(e,t){var n=this,i=this.createBean(new r.AgGroupComponent({title:t,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return n.destroyBean(i)}),i.addItem(e.getGui()),i.toggleGroupExpand(!1),e.afterGuiAttached){var o={container:this.lastOpenedInContainer,suppressFocus:!0};i.addManagedListener(i,r.AgGroupComponent.EVENT_EXPANDED,function(){return e.afterGuiAttached(o)})}return i},t.prototype.isFilterActive=function(){return r._.some(this.filters,function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,t){var n=!0;return this.filters.forEach(function(i){n&&i!==t&&i.isFilterActive()&&(n=i.doesFilterPass(e))}),n},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:r._.map(this.filters,function(e){var t=e;return e.isFilterActive()&&"function"==typeof t.getModelFromUi?t.getModelFromUi():null})}:null},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:r._.map(this.filters,function(e){return e.isFilterActive()?e.getModel():null})}:null},t.prototype.setModel=function(e){var t=function(e,t){return new r.Promise(function(n){var i=e.setModel(t);null==i?n():i.then(function(){return n()})})},n=[];return null==e?n=r._.map(this.filters,function(e){return t(e,null)}):r._.forEach(this.filters,function(i,o){n.push(t(i,e.filterModels.length>o?e.filterModels[o]:null))}),r.Promise.all(n).then(function(){})},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var t=this.params.filters,n=t&&r._.some(t,function(e){return e.display&&"inline"!==e.display});this.executeFunctionIfExists("afterGuiAttached",Ap(Ap({},e||{}),{suppressFocus:n})),n&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var t=this;r._.forEach(this.filters,function(e){e.setModel(null),t.destroyBean(e)}),this.filters.length=0,this.destroyChildren(),e.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r._.forEachReverse(this.filters,function(n){var i=n[e];"function"==typeof i&&i.apply(n,t)})},t.prototype.createFilter=function(e,t){var n,i=this,o=this.params,r=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,a=Ap(Ap({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:r,filterChangedCallback:function(){return i.filterChanged(t)},doesRowPassOtherFilter:function(e){return s(e)&&i.doesFilterPass({node:e,data:e.data},n)}}),l=this.userComponentFactory.newFilterComponent(e,a,"agTextColumnFilter");return null!=l?l.then(function(e){return n=e}):l},t.prototype.filterChanged=function(e){var t=this.filters[e];r._.removeFromArray(this.activeFilterIndices,e),t.isFilterActive()&&this.activeFilterIndices.push(e),this.filterChangedCallback(),r._.forEach(this.filters,function(e){e!==t&&"function"==typeof e.onAnyFilterChanged&&e.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(e.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},kp([r.Autowired("filterManager")],t.prototype,"filterManager",void 0),kp([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(r.ManagedFocusComponent),Fp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Np=function(){return(Np=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Mp=function(e){function t(){var t=e.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return t.floatingFilters=[],t}return Fp(t,e),t.prototype.init=function(e){var t=this;this.params=e;var n=[];return r._.forEach(Ip.getFilterDefs(e.filterParams),function(i,o){var r=Np(Np({},e),{parentFilterInstance:function(t){e.parentFilterInstance(function(e){var n=e.getChildFilterInstance(o);t(n)})}}),s=t.createFloatingFilter(i,r);null!=s&&n.push(s)}),r.Promise.all(n).then(function(e){r._.forEach(e,function(e,n){t.floatingFilters.push(e);var i=e.getGui();t.appendChild(i),n>0&&r._.setDisplayed(i,!1)})})},t.prototype.onParentModelChanged=function(e,t){var n=this;t&&t.afterFloatingFilter||this.params.parentFilterInstance(function(i){if(null==e)r._.forEach(n.floatingFilters,function(e,n){e.onParentModelChanged(null,t),r._.setDisplayed(e.getGui(),0===n)});else{var o=i.getLastActiveFilterIndex();r._.forEach(n.floatingFilters,function(n,i){n.onParentModelChanged(e.filterModels.length>i?e.filterModels[i]:null,t);var s=null==o?0===i:i===o;r._.setDisplayed(n.getGui(),s)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,e.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,t){var n=r.FloatingFilterWrapper.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter";return this.userComponentFactory.newFloatingFilterComponent(e,t,n)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(r.Component),Lp={moduleName:r.ModuleNames.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:Ip},{componentName:"agMultiColumnFloatingFilter",componentClass:Mp}],dependantModules:[g]},Vp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hp=function(e){function t(t){var n=e.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=t,n}return Vp(t,e),t.prototype.setState=function(e,t,n){this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),r._.addOrRemoveCssClass(this.getGui(),"ag-rich-select-row-selected",n)},t.prototype.populateWithoutRenderer=function(e,t){var n=null!=t?t:e;r._.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,t){var n=this,i={value:e,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},o=this.userComponentFactory.newCellRenderer(this.params,i);return null!=o?r._.bindCellRendererToHtmlElement(o,this.getGui()):this.getGui().innerText=null!=i.valueFormatted?i.valueFormatted:i.value,!!o&&(o.then(function(e){n.addDestroyFunc(function(){n.getContext().destroyBean(e)})}),!0)},Gp([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Gp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(r.Component),Wp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jp=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return Wp(t,e),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var t=r._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(r._.addCssClass(t,"ag-rich-select-value-icon"),this.eValue.appendChild(t),this.virtualList=this.getContext().createBean(new r.VirtualList("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),r._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),r._.missing(e.values))console.warn("ag-Grid: richSelectCellEditor requires values for it to work");else{var n=e.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(e){return n[e]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var i=this.virtualList.getGui();this.addManagedListener(i,"click",this.onClick.bind(this)),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this));var o=r._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=r._.debounce(this.clearSearchString,o),r._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var t=e.key;switch(t){case r.KeyName.ENTER:this.onEnterKeyDown();break;case r.KeyName.DOWN:case r.KeyName.UP:this.onNavigationKeyPressed(e,t);break;default:this.searchText(e)}},t.prototype.onEnterKeyDown=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,t){e.preventDefault();var n=this.params.values.indexOf(this.selectedValue),i=t===r.KeyName.UP?n-1:n+1;i>=0&&i<this.params.values.length&&this.setSelectedValue(this.params.values[i])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var t=e.key;if(t===r.KeyName.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!r._.isEventFromPrintableCharacter(e))return;this.searchText(t)}},t.prototype.runSearch=function(){var e,t=this.params.values;if("number"!=typeof t[0]&&"string"!=typeof t[0]||(e=t.map(String)),"object"==typeof t[0]&&this.params.colDef.keyCreator&&(e=t.map(this.params.colDef.keyCreator)),e){var n=r._.fuzzySuggestions(this.searchString,e,!0,!0)[0];if(n){var i=e.indexOf(n);this.setSelectedValue(t[i])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,t=this.params.formatValue(this.selectedValue),n=this.eValue,i={value:this.selectedValue,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},o=this.userComponentFactory.newCellRenderer(this.params,i);r._.exists(o)?(r._.bindCellRendererToHtmlElement(o,n),o.then(function(t){e.addDestroyFunc(function(){return e.getContext().destroyBean(t)})})):r._.exists(this.selectedValue)?n.innerHTML=t:r._.clearElement(n)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var t=this.params.values.indexOf(e);-1!==t&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(t),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var t=this.params.formatValue(e),n=new Hp(this.params);return this.getContext().createBean(n),n.setState(e,t,e===this.selectedValue),n},t.prototype.onMouseMove=function(e){var t=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),i=Math.floor((e.clientY-t.top+n)/this.virtualList.getRowHeight()),o=this.params.values[i];void 0!==o&&this.setSelectedValue(o)},t.prototype.onClick=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',Bp([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Bp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Bp([r.RefSelector("eValue")],t.prototype,"eValue",void 0),Bp([r.RefSelector("eList")],t.prototype,"eList",void 0),t}(r.PopupComponent),zp={moduleName:r.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:jp},{componentName:"agRichSelectCellEditor",componentClass:jp}],dependantModules:[g]},Up=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},qp=function(e){function t(t,n,i,o){var r=e.call(this,t,i)||this;return r.params=i,r.parentRowNode=n,r.parentCache=o,r.level=n.level+1,r.groupLevel=i.rowGroupCols?r.level<i.rowGroupCols.length:void 0,r.leafGroup=!!i.rowGroupCols&&r.level===i.rowGroupCols.length-1,r}return Up(t,e),t.prototype.init=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.params.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnController.getRowGroupColumns()[this.level]),this.createNodeIdPrefix(),e.prototype.init.call(this)},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.createNodeIdPrefix=function(){for(var e=[],t=this.parentRowNode;t&&t.level>=0;)e.push(t.key),t=t.parent;e.length>0&&(this.nodeIdPrefix=e.reverse().join("-")+"-")},t.prototype.createIdForIndex=function(e){return r._.exists(this.nodeIdPrefix)?this.nodeIdPrefix+e.toString():e.toString()},t.prototype.getNodeIdPrefix=function(){return this.nodeIdPrefix},t.prototype.getRow=function(t){var n=this.getStartRow(),i=this.parentCache.getVirtualRowCount(),o=this.getEndRow(),s=(i<o?i:o)-1;if(r._.missing(s)||r._.missing(n))return console.warn("ag-grid: error: topPointer = "+s+", bottomPointer = "+n),null;for(;;){var a=Math.floor((n+s)/2),l=e.prototype.getRowUsingLocalIndex.call(this,a);if(l.rowIndex===t)return l;if(l.master&&l.expanded&&l.detailNode.rowIndex===t)return l.detailNode;var u=l.childrenCache;if(l.expanded&&u&&u.isDisplayIndexInCache(t))return u.getRow(t);if(l.rowIndex<t)n=a+1;else{if(!(l.rowIndex>t))return console.warn("ag-Grid: error: unable to locate rowIndex = "+t+" in cache"),null;s=a-1}}},t.prototype.setDataAndId=function(e,t,n){var i=this;if(e.stub=!1,r._.exists(t)){var o=this.createIdForIndex(n);if(e.setDataAndId(t,o),this.usingTreeData){var s=this.gridOptionsWrapper.getServerSideGroupKeyFunc();r._.exists(s)&&s&&(e.key=s(e.data));var a=this.gridOptionsWrapper.getIsServerSideGroupFunc();r._.exists(a)&&a&&(e.group=a(e.data))}else if(e.group)e.key=this.valueService.getValue(this.rowGroupColumn,e),null==e.key&&r._.doOnce(function(){console.warn("null and undefined values are not allowed for server side row model keys"),i.rowGroupColumn&&console.warn("column = "+i.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey");else if(this.usingMasterDetail){var l=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=!r._.exists(l)||!l||l(e.data)}}else e.setDataAndId(void 0,void 0),e.key=null;(this.usingTreeData||this.groupLevel)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),r._.exists(t)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e).height)},t.prototype.setChildCountIntoRowNode=function(e){var t=this.gridOptionsWrapper.getChildCountFunc();t&&(e.allChildrenCount=t(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var t=this,n=this.columnController.getGroupDisplayColumns(),i=this.gridOptionsWrapper.isTreeData();n.forEach(function(n){if(i)r._.missing(e.groupData)&&(e.groupData={}),e.groupData[n.getColId()]=e.key;else if(n.isRowGroupDisplayed(t.rowGroupColumn.getId())){var o=t.valueService.getValue(t.rowGroupColumn,e);r._.missing(e.groupData)&&(e.groupData={}),e.groupData[n.getColId()]=o}})},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();window.setTimeout(function(){e.params.datasource&&e.params.datasource.getRows(t)},0)},t.prototype.createBlankRowNode=function(t){var n=e.prototype.createBlankRowNode.call(this,t);return n.group=this.groupLevel,n.leafGroup=this.leafGroup,n.level=this.level,n.uiLevel=this.level,n.parent=this.parentRowNode,n.stub=!0,n.group&&(n.expanded=!1,n.field=this.groupField,n.rowGroupColumn=this.rowGroupColumn),n},t.prototype.createGroupKeys=function(e){for(var t=[],n=e;n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},t.prototype.isPixelInRange=function(e){return e>=this.blockTop&&e<this.blockTop+this.blockHeight},t.prototype.getRowBounds=function(e,t){for(var n=this.getStartRow(),i=this.getEndRow(),o=function(e){return{rowHeight:e.rowHeight,rowTop:e.rowTop}},s=n;s<=i;s++)if(!(s>=t)){var a=this.getRowUsingLocalIndex(s);if(a){if(a.rowIndex===e)return o(a);if(a.group&&a.expanded&&r._.exists(a.childrenCache)){var l=a.childrenCache;if(l.isDisplayIndexInCache(e))return l.getRowBounds(e)}else if(a.master&&a.expanded&&r._.exists(a.detailNode)&&a.detailNode.rowIndex===e)return o(a.detailNode)}}return console.error(" ag-Grid: looking for invalid row index in Server Side Row Model, index="+e),null},t.prototype.getRowIndexAtPixel=function(e,t){for(var n=this.getStartRow(),i=this.getEndRow(),o=n;o<=i;o++)if(!(o>=t)){var s=this.getRowUsingLocalIndex(o);if(s){if(s.isPixelInRange(e))return s.rowIndex;if(s.master&&s.expanded&&s.detailNode.isPixelInRange(e))return s.detailNode.rowIndex;if(s.group&&s.expanded&&r._.exists(s.childrenCache)){var a=s.childrenCache;if(a.isPixelInRange(e))return a.getRowIndexAtPixel(e)}}}return console.warn("ag-Grid: invalid pixel range for server side block "+e),0},t.prototype.clearDisplayIndexes=function(e){this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.forEachRowNode(e,function(e){e.clearRowTop(),e.setRowIndex(void 0),e.group&&r._.exists(e.childrenCache)&&e.childrenCache.clearDisplayIndexes(),e.master&&e.detailNode&&(e.detailNode.clearRowTop(),e.detailNode.setRowIndex(void 0))})},t.prototype.setDisplayIndexes=function(e,t,n){this.displayIndexStart=e.peek(),this.blockTop=n.value,this.forEachRowNode(t,function(t){if(t.setRowIndex(e.next()),t.setRowTop(n.value),n.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(n.value),n.value+=t.detailNode.rowHeight):t.detailNode&&(t.detailNode.clearRowTop(),t.detailNode.setRowIndex(void 0))),t.group&&r._.exists(t.childrenCache)){var i=t.childrenCache;t.expanded?i.setDisplayIndexes(e,n):i.clearDisplayIndexes()}}),this.displayIndexEnd=e.peek(),this.blockHeight=n.value-this.blockTop},t.prototype.forEachRowNode=function(e,t){for(var n=this.getStartRow(),i=this.getEndRow(),o=n;o<=i;o++)if(!(o>=e)){var r=this.getRowUsingLocalIndex(o);r&&t(r)}},t.prototype.createLoadParams=function(){var e=this.createGroupKeys(this.parentRowNode),t={startRow:this.getStartRow(),endRow:this.getEndRow(),rowGroupCols:this.params.rowGroupCols,valueCols:this.params.valueCols,pivotCols:this.params.pivotCols,pivotMode:this.params.pivotMode,groupKeys:e,filterModel:this.params.filterModel,sortModel:this.params.sortModel};return{successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),request:t,parentNode:this.parentRowNode,api:this.gridApi,columnApi:this.columnApi}},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeight=function(){return this.blockHeight},t.prototype.getBlockTop=function(){return this.blockTop},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.DefaultBlockSize=100,Kp([r.Autowired("columnController")],t.prototype,"columnController",void 0),Kp([r.Autowired("valueService")],t.prototype,"valueService",void 0),Kp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Kp([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Kp([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Kp([(0,n=r.Qualifier("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(r.RowNodeBlock),Yp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Xp=function(e){function t(t,n){var i=e.call(this,t)||this;return i.displayIndexStart=0,i.displayIndexEnd=0,i.cacheTop=0,i.blockHeights={},i.parentRowNode=n,i}return Yp(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowBounds=function(e){var t,n=this,i=!1,o=null;if(this.forEachBlockInOrder(function(r){i||(r.isDisplayIndexInBlock(e)?(t=r.getRowBounds(e,n.getVirtualRowCount()),i=!0):r.isBlockBefore(e)&&(o=r))}),!i){var r=void 0,s=void 0;null!==o?(r=o.getBlockTop()+o.getBlockHeight(),s=o.getDisplayIndexEnd()):(r=this.cacheTop,s=this.displayIndexStart),t={rowHeight:this.cacheParams.rowHeight,rowTop:r+(e-s)*this.cacheParams.rowHeight}}return t},t.prototype.destroyBlock=function(t){e.prototype.destroyBlock.call(this,t)},t.prototype.getRowIndexAtPixel=function(e){var t,n,i=this,o=!1;if(this.forEachBlockInOrder(function(r){o||(r.isPixelInRange(e)?(t=r.getRowIndexAtPixel(e,i.getVirtualRowCount()),o=!0):r.getBlockTop()<e&&(n=r))}),!o){var r=void 0,s=void 0;n?(r=n.getBlockTop()+n.getBlockHeight(),s=n.getDisplayIndexEnd()):(r=this.cacheTop,s=this.displayIndexStart),t=s+((e-r)/this.cacheParams.rowHeight|0)}var a=this.getDisplayIndexEnd()-1;return t>a&&(t=a),t},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.forEachBlockInOrder(function(t){return t.clearDisplayIndexes(e.getVirtualRowCount())})},t.prototype.setDisplayIndexes=function(e,t){var n=this;this.displayIndexStart=e.peek(),this.cacheTop=t.value;var i=-1,o=this.getBlockSize();this.forEachBlockInOrder(function(s,a){var l=a-i-1,u=l*o;u>0&&e.skip(u);for(var c=1;c<=l;c++){var h=a-c;r._.exists(n.blockHeights[h])?t.value+=n.blockHeights[h]:t.value+=o*n.cacheParams.rowHeight}i=a,s.setDisplayIndexes(e,n.getVirtualRowCount(),t),n.blockHeights[a]=s.getBlockHeight()});var s=(i+1)*o-1,a=this.getVirtualRowCount()-s-1;a>0&&(e.skip(a),t.value+=a*this.cacheParams.rowHeight),this.displayIndexEnd=e.peek(),this.cacheHeight=t.value-this.cacheTop},t.prototype.getRow=function(e,t){if(void 0===t&&(t=!1),!this.isDisplayIndexInCache(e))return null;var n=null,i=null;if(this.forEachBlockInOrder(function(t){t.isDisplayIndexInBlock(e)?n=t:t.isBlockBefore(e)&&(i=t)}),r._.missing(n)&&t)return null;var o=this.getBlockSize();if(r._.missing(n)){var s,a=void 0,l=void 0;if(i)for(a=i.getBlockNumber()+1,s=i.getDisplayIndexEnd(),l=i.getBlockHeight()+i.getBlockTop();!(e>=s&&e<s+o);){s+=o;var u=this.blockHeights[a];r._.exists(u)?l+=u:l+=this.cacheParams.rowHeight*o,a++}else a=Math.floor((e-this.displayIndexStart)/o),s=this.displayIndexStart+a*o,l=this.cacheTop+a*o*this.cacheParams.rowHeight;n=this.createBlock(a,s,{value:l}),this.logger.log("block missing, rowIndex = "+e+", creating #"+a+", displayIndexStart = "+s)}return n?n.getRow(e):null},t.prototype.getBlockSize=function(){return this.cacheParams.blockSize?this.cacheParams.blockSize:qp.DefaultBlockSize},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t,n=this.getBlockSize(),i=Math.floor(e/n),o=this.getBlock(i);if(o)return o.getRowUsingLocalIndex(e,!0).rowIndex;if(this.forEachBlockInOrder(function(e,n){i>n&&(t=e)}),t){var r=n*(t.getBlockNumber()+1)-1,s=t.getRowUsingLocalIndex(r,!0);return(s.expanded&&s.childrenCache?s.childrenCache.getDisplayIndexEnd()-1:s.expanded&&s.detailNode?s.detailNode.rowIndex:s.rowIndex)+(e-r)}return e},t.prototype.createBlock=function(e,t,n){var i=new qp(e,this.parentRowNode,this.cacheParams,this);this.createBean(i);var o=new r.NumberSequence(t);return i.setDisplayIndexes(o,this.getVirtualRowCount(),n),this.postCreateBlock(i),i},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInCache=function(e){return 0!==this.getVirtualRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return e.add&&e.add.forEach(function(e){}),{add:[],remove:[],update:[]}},t.prototype.getChildCache=function(e){var t=this;if(r._.missingOrEmpty(e))return this;var n=e[0],i=null;if(this.forEachBlockInOrder(function(e){e.forEachNodeShallow(function(e){e.key===n&&(i=e.childrenCache)},new r.NumberSequence,t.getVirtualRowCount())}),i){var o=e.slice(1,e.length);return i?i.getChildCache(o):null}return null},t.prototype.isPixelInRange=function(e){return 0!==this.getVirtualRowCount()&&e>=this.cacheTop&&e<this.cacheTop+this.cacheHeight},t.prototype.refreshCacheAfterSort=function(e,t){var n,i=this,o=this.parentRowNode.level+1;if(o<this.cacheParams.rowGroupCols.length){var s=this.cacheParams.rowGroupCols[o],a=t.indexOf(s.id)>-1,l=e.indexOf(s.id)>-1;n=a&&l}else n=!0;n?this.purgeCache():this.forEachBlockInOrder(function(n){n.isGroupLevel()&&n.forEachNodeShallow(function(n){var i=n.childrenCache;i&&i.refreshCacheAfterSort(e,t)},new r.NumberSequence,i.getVirtualRowCount())})},$p([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$p([(0,n=r.Qualifier("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(r.RowNodeCache),Qp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qp(t,e),t.prototype.ensureRowHeightsValid=function(e,t,n,i){return!1},t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners()},t.prototype.start=function(){var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideRowModel")},t.prototype.applyTransaction=function(e,t){this.executeOnCache(t,function(t){t.applyTransaction(e)})},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,this.reset()},t.prototype.isLastRowFound=function(){return!!this.cacheExists()&&this.rootNode.childrenCache.isMaxRowFound()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){var e;if(this.cacheParams){var t=this.toValueObjects(this.columnController.getRowGroupColumns()),n=this.toValueObjects(this.columnController.getValueColumns()),i=this.toValueObjects(this.columnController.getPivotColumns()),o=!r._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel()),s=!r._.jsonEquals(this.cacheParams.rowGroupCols,t),a=!r._.jsonEquals(this.cacheParams.pivotCols,i),l=!r._.jsonEquals(this.cacheParams.valueCols,n);e=o||s||a||l}else e=!0;e&&this.reset()}},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.findChangedColumnsInSort=function(e,t){var n=[];return[e,t].forEach(function(e){if(e){var t=e.map(function(e){return e.colId});n=n.concat(t)}}),n.filter(function(n){var i=r._.find(t,function(e){return e.colId===n}),o=r._.find(e,function(e){return e.colId===n});return function(e,t){return(e?e.sort:null)!==(t?t.sort:null)}(i,o)||function(n,i){return t.indexOf(n)!==e.indexOf(i)}(i,o)})},t.prototype.onSortChanged=function(){if(this.cacheExists()){var e=this.extractSortModel(),t=this.findChangedColumnsInSort(e,this.cacheParams.sortModel);this.cacheParams.sortModel=e;var n=this.columnController.getRowGroupColumns().map(function(e){return e.getId()}),i=this.rootNode.childrenCache,o=this.isSortingWithValueColumn(t),r=this.isSortingWithSecondaryColumn(t);this.gridOptionsWrapper.isServerSideSortingAlwaysResets()||o||r?this.reset():i.refreshCacheAfterSort(t,n)}},t.prototype.onValueChanged=function(){this.reset()},t.prototype.onColumnRowGroupChanged=function(){this.reset()},t.prototype.onColumnPivotChanged=function(){this.reset()},t.prototype.onPivotModeChanged=function(){this.reset()},t.prototype.onRowGroupOpened=function(e){var t=e.node;t.expanded?t.master?this.createDetailNode(t):r._.missing(t.childrenCache)&&this.createNodeCache(t):this.gridOptionsWrapper.isPurgeClosedRowNodes()&&r._.exists(t.childrenCache)&&(t.childrenCache=this.destroyBean(t.childrenCache)),this.updateRowIndexesAndBounds();var n,i={type:r.Events.EVENT_MODEL_UPDATED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),newPage:!1,newData:!1,animate:(n=this.gridOptionsWrapper.isAnimateRows(),t.master?n&&t.expanded:n),keepRenderedRows:!0};this.eventService.dispatchEvent(i)},t.prototype.reset=function(){this.rootNode=new r.RowNode,this.rootNode.group=!0,this.rootNode.level=-1,this.createBean(this.rootNode),this.datasource&&(this.createNewRowNodeBlockLoader(),this.cacheParams=this.createCacheParams(),this.createNodeCache(this.rootNode),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:r.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.eventService.dispatchEvent({type:r.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1})},t.prototype.createNewRowNodeBlockLoader=function(){this.destroyRowNodeBlockLoader();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=new r.RowNodeBlockLoader(e,t),this.createBean(this.rowNodeBlockLoader)},t.prototype.destroyRowNodeBlockLoader=function(){this.rowNodeBlockLoader&&(this.destroyBean(this.rowNodeBlockLoader),this.rowNodeBlockLoader=void 0)},t.prototype.toValueObjects=function(e){var t=this;return e.map(function(e){return{id:e.getId(),aggFunc:e.getAggFunc(),displayName:t.columnController.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}})},t.prototype.createCacheParams=function(){var e=this.toValueObjects(this.columnController.getRowGroupColumns()),t=this.toValueObjects(this.columnController.getValueColumns()),n=this.toValueObjects(this.columnController.getPivotColumns()),i=this.gridOptionsWrapper.isDynamicRowHeight(),o=this.gridOptionsWrapper.getMaxBlocksInCache();i&&o>=0&&(console.warn("ag-Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled."),o=void 0),o>=0&&this.columnController.isAutoRowHeightActive()&&(console.warn("ag-Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled."),o=void 0);var s,a=this.gridOptionsWrapper.getCacheBlockSize();return s="number"==typeof a&&a>0?a:qp.DefaultBlockSize,{valueCols:t,rowGroupCols:e,pivotCols:n,pivotMode:this.columnController.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.extractSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,datasource:this.datasource,lastAccessedSequence:new r.NumberSequence,overflowSize:1,initialRowCount:1,maxBlocksInCache:o,blockSize:s,rowHeight:this.rowHeight,dynamicRowHeight:i}},t.prototype.createNodeCache=function(e){var t=new Xp(this.cacheParams,e);this.getContext().createBean(t),t.addEventListener(r.RowNodeCache.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this)),e.childrenCache=t},t.prototype.onCacheUpdated=function(){this.updateRowIndexesAndBounds();var e={type:r.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:this.gridOptionsWrapper.isAnimateRows(),keepRenderedRows:!0,newPage:!1,newData:!1};this.eventService.dispatchEvent(e)},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds();var e={type:r.Events.EVENT_MODEL_UPDATED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),newPage:!1,newData:!1,animate:!0,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.updateRowIndexesAndBounds=function(){if(this.cacheExists()){var e=this.rootNode.childrenCache;this.resetRowTops(e),this.setDisplayIndexes(e)}},t.prototype.setDisplayIndexes=function(e){var t=new r.NumberSequence;e.setDisplayIndexes(t,{value:0})},t.prototype.resetRowTops=function(e){var t=new r.NumberSequence;e.forEachNodeDeep(function(e){return e.clearRowTop()},t)},t.prototype.getRow=function(e){return this.cacheExists()?this.rootNode.childrenCache.getRow(e):null},t.prototype.getRowCount=function(){return this.cacheExists()?this.rootNode.childrenCache.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){return this.cacheExists()?this.rootNode.childrenCache.getVirtualRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.cacheExists()?this.rootNode.childrenCache.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){return this.cacheExists()?this.rootNode.childrenCache.getRowBounds(e):{rowTop:0,rowHeight:this.rowHeight}},t.prototype.getRowIndexAtPixel=function(e){return 0===e?0:this.cacheExists()?this.rootNode.childrenCache.getRowIndexAtPixel(e):0},t.prototype.getCurrentPageHeight=function(){return this.rowHeight*this.getRowCount()},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return this.cacheExists()&&this.getRowCount()>0},t.prototype.getType=function(){return r.Constants.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){this.cacheExists()&&this.rootNode.childrenCache.forEachNodeDeep(e)},t.prototype.executeOnCache=function(e,t){if(this.cacheExists()){var n=this.rootNode.childrenCache.getChildCache(e);n&&t(n)}},t.prototype.purgeCache=function(e){void 0===e&&(e=[]),this.executeOnCache(e,function(e){return e.purgeCache()})},t.prototype.getNodesInRangeForSelection=function(e,t){return r._.exists(t)&&e.parent!==t.parent?[]:e.parent.childrenCache.getRowNodesInRange(t,e)},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode(function(n){n.id===e&&(t=n),n.detailNode&&n.detailNode.id===e&&(t=n.detailNode)}),t},t.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();if(this.gridOptionsWrapper.isTreeData())return e;for(var t=this.toValueObjects(this.columnController.getRowGroupColumns()),n=-1,i=0;i<e.length;++i)if(e[i].colId===r.Constants.GROUP_AUTO_COLUMN_ID){n=i;break}if(n>-1){var o=t.map(function(t){return{colId:t.id,sort:e[n].sort}});e.splice(n,1);var s=function(t){var i=o[t];if(e.some(function(e){return e.colId===i.colId}))return"continue";e.splice(n++,0,i)};for(i=0;i<o.length;i++)s(i)}if(this.gridOptionsWrapper.isGroupMultiAutoColumn()){var a=r.Constants.GROUP_AUTO_COLUMN_ID+"-";for(i=0;i<e.length;++i)e[i].colId.indexOf(a)>-1&&(e[i].colId=e[i].colId.substr(a.length))}return e},t.prototype.isSortingWithValueColumn=function(e){for(var t=this.columnController.getValueColumns().map(function(e){return e.getColId()}),n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(e){if(!this.columnController.getSecondaryColumns())return!1;for(var t=this.columnController.getSecondaryColumns().map(function(e){return e.getColId()}),n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},t.prototype.cacheExists=function(){return r._.exists(this.rootNode)&&r._.exists(this.rootNode.childrenCache)},t.prototype.createDetailNode=function(e){if(r._.exists(e.detailNode))return e.detailNode;var t=new r.RowNode;this.getContext().createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,r._.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;var n=this.gridOptionsWrapper.getRowHeightForNode(t).height;return t.rowHeight=n||200,e.detailNode=t,t},t.prototype.isLoading=function(){return!!this.rowNodeBlockLoader&&this.rowNodeBlockLoader.isLoading()},Zp([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zp([r.Autowired("columnController")],t.prototype,"columnController",void 0),Zp([r.Autowired("filterManager")],t.prototype,"filterManager",void 0),Zp([r.Autowired("sortController")],t.prototype,"sortController",void 0),Zp([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Zp([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Zp([r.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Zp([r.PostConstruct],t.prototype,"postConstruct",null),Zp([r.PreDestroy],t.prototype,"destroyDatasource",null),Zp([(0,n=r.Qualifier("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),Zp([r.PreDestroy],t.prototype,"destroyRowNodeBlockLoader",null),Zp([r.Bean("rowModel")],t);var n}(r.BeanStub),ed={moduleName:r.ModuleNames.ServerSideRowModelModule,rowModels:{serverSide:Jp},dependantModules:[g]},td=function(){function e(e,t,n){this.rowModel=e,this.colDef=t,this.valueGetter=n}return e.prototype.extractUniqueValues=function(e){var t=this,n=new Set,i=this.colDef.keyCreator;return this.rowModel.forEachLeafNode(function(o){if(o.data&&e(o)){var s=t.valueGetter(o);i&&(s=i({value:s})),null!=(s=r._.makeNull(s))&&Array.isArray(s)?r._.forEach(s,function(e){var t=r._.toStringOrNull(r._.makeNull(e));n.add(t)}):n.add(r._.toStringOrNull(s))}}),r._.values(n)},e}();!function(e){e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(Ou||(Ou={}));var nd=function(){function e(e,t,n,i,o,s,a,l,u,c){var h=this;this.filterParams=n,this.colDef=i,this.column=o,this.doesRowPassOtherFilters=s,this.suppressSorting=a,this.setIsLoading=l,this.valueFormatterService=u,this.translate=c,this.localEventService=new r.EventService,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,e.getType()===r.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new td(e,i,t)),this.formatter=this.filterParams.textFormatter||r.TextFilter.DEFAULT_FORMATTER;var p=this.filterParams.values;null==p?this.valuesType=Ou.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(p)?Ou.PROVIDED_LIST:Ou.PROVIDED_CALLBACK,this.providedValues=p),this.updateAllValues().then(function(e){return h.resetSelectionState(e)})}return e.prototype.addEventListener=function(e,t,n){this.localEventService.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){this.localEventService.removeEventListener(e,t,n)},e.prototype.refreshValues=function(e){void 0===e&&(e=!0);var t=this.getModel();return this.updateAllValues(),this.setModel(e?t:null)},e.prototype.overrideValues=function(e,t){var n=this;return void 0===t&&(t=!0),new r.Promise(function(i){n.allValuesPromise.then(function(){n.valuesType=Ou.PROVIDED_LIST,n.providedValues=e,n.refreshValues(t).then(function(){return i()})})})},e.prototype.refreshAfterAnyFilterChanged=function(){var e=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(t){return e.updateAvailableValues(t)}):r.Promise.resolve()},e.prototype.updateAllValues=function(){var e=this;return this.allValuesPromise=new r.Promise(function(t){switch(e.valuesType){case Ou.TAKEN_FROM_GRID_VALUES:case Ou.PROVIDED_LIST:var n=e.valuesType===Ou.TAKEN_FROM_GRID_VALUES?e.getValuesFromRows(!1):r._.toStrings(e.providedValues),i=e.sortValues(n);e.allValues=i,t(i);break;case Ou.PROVIDED_CALLBACK:e.setIsLoading(!0);var o=e.providedValues,s={success:function(n){var i=r._.toStrings(n);e.setIsLoading(!1);var o=e.sortValues(i);e.allValues=o,t(o)},colDef:e.colDef};window.setTimeout(function(){return o(s)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(t){return e.updateAvailableValues(t)}),this.allValuesPromise},e.prototype.setValuesType=function(e){this.valuesType=e},e.prototype.getValuesType=function(){return this.valuesType},e.prototype.isValueAvailable=function(e){return this.availableValues.has(e)},e.prototype.showAvailableOnly=function(){return this.valuesType===Ou.TAKEN_FROM_GRID_VALUES&&!this.filterParams.suppressRemoveEntries},e.prototype.updateAvailableValues=function(t){var n=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=r._.convertToSet(n),this.localEventService.dispatchEvent({type:e.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},e.prototype.sortValues=function(e){if(this.suppressSorting)return e;var t=this.filterParams.comparator||this.colDef.comparator||r._.defaultComparator;return!this.filterParams.excelMode||e.indexOf(null)<0?e.sort(t):r._.filter(e,function(e){return null!=e}).sort(t).concat(null)},e.prototype.getValuesFromRows=function(e){var t=this;return void 0===e&&(e=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(n){return!e||t.doesRowPassOtherFilters(n)}):(console.error("ag-Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},e.prototype.setMiniFilter=function(e){return e=r._.makeNull(e),this.miniFilterText!==e&&(this.miniFilterText=e,this.updateDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilterText},e.prototype.updateDisplayedValues=function(){var e=this;if(null!=this.miniFilterText){this.displayedValues=[];var t=this.formatter(this.miniFilterText).toUpperCase(),n=function(e){return null!=e&&e.toUpperCase().indexOf(t)>=0};this.availableValues.forEach(function(t){if(null==t)e.filterParams.excelMode&&n(e.translate("blanks"))&&e.displayedValues.push(t);else{var i=e.formatter(t),o=e.valueFormatterService.formatValue(e.column,null,null,i,e.filterParams.valueFormatter,!1);(n(i)||n(o))&&e.displayedValues.push(t)}})}else this.displayedValues=r._.values(this.availableValues)},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},e.prototype.getUniqueValueCount=function(){return this.allValues.length},e.prototype.getUniqueValue=function(e){return this.allValues[e]},e.prototype.getValues=function(){return this.allValues.slice()},e.prototype.selectAllMatchingMiniFilter=function(e){var t=this;void 0===e&&(e=!1),null==this.miniFilterText?this.selectedValues=r._.convertToSet(this.allValues):(e&&this.selectedValues.clear(),r._.forEach(this.displayedValues,function(e){return t.selectedValues.add(e)}))},e.prototype.deselectAllMatchingMiniFilter=function(){var e=this;null==this.miniFilterText?this.selectedValues.clear():r._.forEach(this.displayedValues,function(t){return e.selectedValues.delete(t)})},e.prototype.selectValue=function(e){this.selectedValues.add(e)},e.prototype.deselectValue=function(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(e)},e.prototype.isValueSelected=function(e){return this.selectedValues.has(e)},e.prototype.isEverythingVisibleSelected=function(){var e=this;return r._.filter(this.displayedValues,function(t){return e.isValueSelected(t)}).length===this.displayedValues.length},e.prototype.isNothingVisibleSelected=function(){var e=this;return 0===r._.filter(this.displayedValues,function(t){return e.isValueSelected(t)}).length},e.prototype.getModel=function(){return this.hasSelections()?r._.values(this.selectedValues):null},e.prototype.setModel=function(e){var t=this;return this.allValuesPromise.then(function(n){if(null==e)t.resetSelectionState(n);else{t.selectedValues.clear();var i=r._.convertToSet(n);r._.forEach(e,function(e){i.has(e)&&t.selectedValues.add(e)})}})},e.prototype.resetSelectionState=function(e){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=r._.convertToSet(e)},e.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",e}(),id=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),od=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rd=function(e){function t(n,i,o,r){var s=e.call(this,t.TEMPLATE)||this;return s.value=n,s.params=i,s.translate=o,s.isSelected=r,s}return id(t,e),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.onValueChange(function(n){e.isSelected=n,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:n})})},t.prototype.toggleSelected=function(){this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected)},t.prototype.render=function(){var e=this.params,t=e.column,n=e.colDef,i=this.value,o=null;"function"==typeof i?i=i():o=this.getFormattedValue(this.params,t,i),this.params.showTooltips&&(this.tooltipText=r._.escapeString(null!=o?o:i),r._.exists(this.tooltipText)&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltipText):this.createManagedBean(new r.TooltipFeature(this))));var s={value:i,valueFormatted:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};this.renderCell(n,s)},t.prototype.getTooltipParams=function(){return{location:"setFilterValue",colDef:this.getComponentHolder(),value:this.tooltipText}},t.prototype.getFormattedValue=function(e,t,n){return this.valueFormatterService.formatValue(t,null,null,n,null==e?null:e.valueFormatter,!1)},t.prototype.renderCell=function(e,t){var n=this,i=this.userComponentFactory.newSetFilterCellRenderer(e.filterParams,t);if(null!=i)i.then(function(e){n.eCheckbox.setLabel(e.getGui()),n.addDestroyFunc(function(){return n.destroyBean(e)})});else{var o=null==t.valueFormatted?t.value:t.valueFormatted;this.eCheckbox.setLabel(null==o?this.translate("blanks"):o)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',od([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),od([r.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),od([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),od([r.RefSelector("eCheckbox")],t.prototype,"eCheckbox",void 0),od([r.PostConstruct],t.prototype,"init",null),t}(r.Component),sd={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},ad=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ld=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ud=function(e){function t(){var t=e.call(this,"setFilter")||this;return t.appliedModelValues=null,t}return ad(t,e),t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(!e.defaultPrevented)switch(e.which||e.keyCode){case r.KeyCode.SPACE:this.handleKeySpace(e);break;case r.KeyCode.ENTER:this.handleKeyEnter(e)}},t.prototype.handleKeySpace=function(e){if(this.eSetFilterList.contains(document.activeElement)){var t=this.virtualList.getLastFocusedRow();if(null!=t){var n=this.virtualList.getComponentAt(t);n&&(e.preventDefault(),n.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){this.setFilterParams.excelMode&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.resetUiToDefaults=function(){var e=this;return this.setMiniFilter(null),this.valueModel.setModel(null).then(function(){return e.refresh()})},t.prototype.setModelIntoUi=function(e){var t=this;return this.setMiniFilter(null),e instanceof Array&&r._.doOnce(function(){return console.warn("ag-Grid: The Set Filter Model is no longer an array and models as arrays are deprecated. Please check the docs on what the set filter model looks like. Future versions of ag-Grid will have the array version of the model removed.")},"setFilter.modelAsArray"),this.valueModel.setModel(null==e?null:e instanceof Array?e:e.values).then(function(){return t.refresh()})},t.prototype.getModelFromUi=function(){var e=this.valueModel.getModel();return e?this.gridOptionsWrapper.isEnableOldSetFilterModel()?e:{values:e,filterType:this.getFilterType()}:null},t.prototype.getModel=function(){return e.prototype.getModel.call(this)},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&r._.areEqual(e.values,t.values)},t.prototype.setParams=function(t){var n=this;this.applyExcelModeOptions(t),e.prototype.setParams.call(this,t),this.checkSetFilterDeprecatedParams(t),this.setFilterParams=t,this.valueModel=new nd(t.rowModel,t.valueGetter,t,t.colDef,t.column,t.doesRowPassOtherFilter,t.suppressSorting,function(e){return n.showOrHideLoadingScreen(e)},this.valueFormatterService,function(e){return n.translateForSetFilter(e)}),this.initialiseFilterBodyUi(),t.rowModel.getType()!==r.Constants.ROW_MODEL_TYPE_CLIENT_SIDE||t.values||t.suppressSyncValuesAfterDataChange||this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.checkSetFilterDeprecatedParams=function(e){e.syncValuesLikeExcel&&r._.doOnce(function(){return console.warn("ag-Grid: since version 22.x, the Set Filter param syncValuesLikeExcel is no longer used as this is the default behaviour. To turn this default behaviour off, use the param suppressSyncValuesAfterDataChange")},"syncValuesLikeExcel deprecated"),e.selectAllOnMiniFilter&&r._.doOnce(function(){return console.warn("ag-Grid: since version 22.x, the Set Filter param selectAllOnMiniFilter is no longer used as this is the default behaviour.")},"selectAllOnMiniFilter deprecated"),e.suppressSyncValuesAfterDataChange&&r._.doOnce(function(){return console.warn("ag-Grid: since version 23.1, the Set Filter param suppressSyncValuesAfterDataChange has been deprecated and will be removed in a future major release.")},"suppressSyncValuesAfterDataChange deprecated"),e.suppressRemoveEntries&&r._.doOnce(function(){return console.warn("ag-Grid: since version 23.1, the Set Filter param suppressRemoveEntries has been deprecated and will be removed in a future major release.")},"suppressRemoveEntries deprecated")},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,r.Events.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,r.Events.EVENT_CELL_VALUE_CHANGED,function(t){t.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e,t){var n=this;void 0===e&&(e=!0),void 0===t&&(t=!0);var i=r.Promise.resolve();e?i=this.valueModel.refreshValues(t):t||(i=this.valueModel.setModel(null)),i.then(function(){n.refresh(),n.onBtApply(!1,!0)})},t.prototype.setLoading=function(e){r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, setLoading has been deprecated. The loading screen is displayed automatically when the set filter is retrieving values.")},"setFilter.setLoading"),this.showOrHideLoadingScreen(e)},t.prototype.showOrHideLoadingScreen=function(e){r._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this,t=this.virtualList=this.createBean(new r.VirtualList("filter")),n=this.getRefElement("eSetFilterList");n&&n.appendChild(t.getGui());var i,o=this.setFilterParams.cellHeight;null!=o&&t.setRowHeight(o),t.setComponentCreator(function(t){return e.createSetListItem(t)}),i=this.setFilterParams.suppressSelectAll?new cd(this.valueModel):new hd(this.valueModel,function(){return e.isSelectAllSelected()}),t.setModel(i)},t.prototype.getSelectAllLabel=function(){var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var n=this;if(e===t.SELECT_ALL_VALUE){var i=this.createBean(new rd(function(){return n.getSelectAllLabel()},this.setFilterParams,function(e){return n.translateForSetFilter(e)},this.isSelectAllSelected()));return i.addEventListener(rd.EVENT_SELECTION_CHANGED,function(e){return n.onSelectAll(e.isSelected)}),i}var o=this.createBean(new rd(e,this.setFilterParams,function(e){return n.translateForSetFilter(e)},this.valueModel.isValueSelected(e)));return o.addEventListener(rd.EVENT_SELECTION_CHANGED,function(t){return n.onItemSelected(e,t.isSelected)}),o},t.prototype.initMiniFilter=function(){var e=this,t=this.eMiniFilter;r._.setDisplayed(t.getGui(),!this.setFilterParams.suppressMiniFilter),t.setValue(this.valueModel.getMiniFilter()),t.onValueChange(function(){return e.onMiniFilterInput()}),t.setInputAriaLabel("Search filter values"),this.addManagedListener(t.getInputElement(),"keypress",function(t){return e.onMiniFilterKeyPress(t)})},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),t&&t.suppressFocus||n.getFocusableElement().focus()},t.prototype.applyModel=function(){var t=this;this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var n=e.prototype.applyModel.call(this);if(n){var i=this.getModel();i?(this.appliedModelValues={},r._.forEach(i.values,function(e){return t.appliedModelValues[e]=!0})):this.appliedModelValues=null}return n},t.prototype.isModelValid=function(e){return!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var t=this;if(null==this.appliedModelValues)return!0;var n=this.setFilterParams,i=n.colDef.keyCreator,o=(0,n.valueGetter)(e.node);return i&&(o=i({value:o})),o=r._.makeNull(o),Array.isArray(o)?r._.some(o,function(e){return!0===t.appliedModelValues[r._.makeNull(e)]}):!0===this.appliedModelValues[o]},t.prototype.onNewRowsLoaded=function(){var e=this.valueModel.getValuesType(),t=this.isNewRowsActionKeep();this.syncAfterDataChange(e===Ou.TAKEN_FROM_GRID_VALUES,t)},t.prototype.setFilterValues=function(e){var t=this;this.valueModel.overrideValues(e,this.isNewRowsActionKeep()).then(function(){t.refresh(),t.onUiChanged()})},t.prototype.resetFilterValues=function(){this.valueModel.setValuesType(Ou.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0,this.isNewRowsActionKeep())},t.prototype.refreshFilterValues=function(){var e=this;this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){return e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})},0)},t.prototype.onMiniFilterInput=function(){this.valueModel.setMiniFilter(this.eMiniFilter.getValue())&&(this.setFilterParams.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange())},t.prototype.updateUiAfterMiniFilterChange=function(){this.setFilterParams.excelMode?null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()):this.refresh(),this.showOrHideResults()},t.prototype.showOrHideResults=function(){var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;r._.setDisplayed(this.eNoMatches,e),r._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){r._.isKeyPressed(e,r.KeyCode.ENTER)&&!this.setFilterParams.excelMode&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0),this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var t=this;window.setTimeout(function(){t.isAlive()&&t.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},t.prototype.onItemSelected=function(e,t){t?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel.getMiniFilter()},t.prototype.selectEverything=function(){r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, selectEverything has been deprecated. Please use setModel instead.")},"setFilter.selectEverything"),this.valueModel.selectAllMatchingMiniFilter(),this.refresh()},t.prototype.selectNothing=function(){r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, selectNothing has been deprecated. Please use setModel instead.")},"setFilter.selectNothing"),this.valueModel.deselectAllMatchingMiniFilter(),this.refresh()},t.prototype.unselectValue=function(e){r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, unselectValue has been deprecated. Please use setModel instead.")},"setFilter.unselectValue"),this.valueModel.deselectValue(e),this.refresh()},t.prototype.selectValue=function(e){r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, selectValue has been deprecated. Please use setModel instead.")},"setFilter.selectValue"),this.valueModel.selectValue(e),this.refresh()},t.prototype.refresh=function(){this.virtualList.refresh()},t.prototype.isValueSelected=function(e){return r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, isValueSelected has been deprecated. Please use getModel instead.")},"setFilter.isValueSelected"),this.valueModel.isValueSelected(e)},t.prototype.isEverythingSelected=function(){return r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, isEverythingSelected has been deprecated. Please use getModel instead.")},"setFilter.isEverythingSelected"),this.valueModel.isEverythingVisibleSelected()},t.prototype.isNothingSelected=function(){return r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, isNothingSelected has been deprecated. Please use getModel instead.")},"setFilter.isNothingSelected"),this.valueModel.isNothingVisibleSelected()},t.prototype.getUniqueValueCount=function(){return r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, getUniqueValueCount has been deprecated. Please use getValues instead.")},"setFilter.getUniqueValueCount"),this.valueModel.getUniqueValueCount()},t.prototype.getUniqueValue=function(e){return r._.doOnce(function(){return console.warn("ag-Grid: since version 23.2, getUniqueValue has been deprecated. Please use getValues instead.")},"setFilter.getUniqueValue"),this.valueModel.getUniqueValue(e)},t.prototype.getValues=function(){return this.valueModel.getValues()},t.prototype.refreshVirtualList=function(){this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,sd[e])},t.prototype.isSelectAllSelected=function(){if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),e.prototype.destroy.call(this)},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",ld([r.RefSelector("eMiniFilter")],t.prototype,"eMiniFilter",void 0),ld([r.RefSelector("eFilterLoading")],t.prototype,"eFilterLoading",void 0),ld([r.RefSelector("eSetFilterList")],t.prototype,"eSetFilterList",void 0),ld([r.RefSelector("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),ld([r.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(r.ProvidedFilter),cd=function(){function e(e){this.model=e}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},e.prototype.getRow=function(e){return this.model.getDisplayedValue(e)},e.prototype.isRowSelected=function(e){return this.model.isValueSelected(this.getRow(e))},e}(),hd=function(){function e(e,t){this.model=e,this.isSelectAllSelected=t}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},e.prototype.getRow=function(e){return 0===e?ud.SELECT_ALL_VALUE:this.model.getDisplayedValue(e-1)},e.prototype.isRowSelected=function(e){return 0===e?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(e-1))},e}(),pd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},fd=function(e){function t(){var t=e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return t.availableValuesListenerAdded=!1,t}return pd(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" Filter Input").addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.lastKnownModel=e,this.updateSetFilterText()},t.prototype.addAvailableValuesListener=function(){var e=this;this.params.parentFilterInstance(function(t){var n=t.getValueModel();e.addManagedListener(n,nd.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateSetFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateSetFilterText=function(){var e=this;if(this.lastKnownModel){this.availableValuesListenerAdded||this.addAvailableValuesListener();var t=this.lastKnownModel instanceof Array?this.lastKnownModel:this.lastKnownModel.values;t?this.params.parentFilterInstance(function(n){var i=n.getValueModel(),o=r._.filter(t,function(e){return i.isValueAvailable(e)}),s=e.gridOptionsWrapper.getLocaleTextFunc(),a=r._.map(o,function(t){var n=e.valueFormatterService.formatValue(e.params.column,null,null,t),i=null!=n?n:t;return null==i?s("blanks",sd.blanks):i}),l=a.length>10?a.slice(0,10).concat("..."):a,u="("+a.length+") "+l.join(",");e.eFloatingFilterText.setValue(u)}):this.eFloatingFilterText.setValue("")}else this.eFloatingFilterText.setValue("")},dd([r.RefSelector("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),dd([r.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),dd([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),dd([r.Autowired("columnController")],t.prototype,"columnController",void 0),t}(r.Component),gd={moduleName:r.ModuleNames.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:ud},{componentName:"agSetColumnFloatingFilter",componentClass:fd}],dependantModules:[g]},md=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yd=function(e){function t(){var t=e.call(this)||this;return t.allComponents={},t}return md(t,e),t.prototype.registerStatusPanel=function(e,t){this.allComponents[e]=t},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([r.Bean("statusBarService")],t)}(r.BeanStub),vd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wd=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return vd(t,e),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(e){return"left"===e.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var t=this.gridOptions.statusBar.statusPanels.filter(function(e){return"center"===e.align});this.createAndRenderComponents(t,this.eStatusBarCenter);var n=this.gridOptions.statusBar.statusPanels.filter(function(e){return!e.align||"right"===e.align});this.createAndRenderComponents(n,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,t){var n=this,i=[];e.forEach(function(e){var t={api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()},o=n.userComponentFactory.newStatusPanelComponent(e,t);i.push({key:e.key||e.statusPanel,promise:o})}),r.Promise.all(i.map(function(e){return e.promise})).then(function(){i.forEach(function(e){e.promise.then(function(i){var o=function(){n.getContext().destroyBean(i)};n.isAlive()?(n.statusBarService.registerStatusPanel(e.key,i),t.appendChild(i.getGui()),n.addDestroyFunc(o)):o()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right"></div>\n        </div>',Cd([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Cd([r.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Cd([r.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Cd([r.Autowired("statusBarService")],t.prototype,"statusBarService",void 0),Cd([r.RefSelector("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Cd([r.RefSelector("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Cd([r.RefSelector("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Cd([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),bd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ed=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return bd(t,e),t.prototype.setLabel=function(e,t){this.setDisplayed(!1);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=n(e,t)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">  \n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',Sd([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sd([r.RefSelector("eLabel")],t.prototype,"eLabel",void 0),Sd([r.RefSelector("eValue")],t.prototype,"eValue",void 0),t}(r.Component),_d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Od=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _d(t,e),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,r.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("ag-Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=r._.formatNumberCommas(this.getFilteredRowCountValue()),t=r._.formatNumberCommas(this.getTotalRowCount());if(e===t)this.setValue(e);else{var n=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(e+" "+n("of","of")+" "+t)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(t){t.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(t){t.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Od([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Od([r.PostConstruct],t.prototype,"postConstruct",null),t}(Ed),Td=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Td(t,e),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,r.Events.EVENT_MODEL_UPDATED,e)}else console.warn("ag-Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),t=this.getFilteredRowCountValue();this.setValue(r._.formatNumberCommas(t)),this.setDisplayed(e!==t)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(t){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(t){t.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Rd([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Rd([r.PostConstruct],t.prototype,"postConstruct",null),t}(Ed),Dd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ad=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dd(t,e),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,r.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("ag-Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){this.setValue(r._.formatNumberCommas(this.getRowCountValue()))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(t){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Ad([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ad([r.PostConstruct],t.prototype,"postConstruct",null),t}(Ed),Id=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Id(t,e),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length;this.setValue(r._.formatNumberCommas(e)),this.setDisplayed(e>0);var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,r.Events.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,r.Events.EVENT_SELECTION_CHANGED,t)}else console.warn("ag-Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length;this.setValue(r._.formatNumberCommas(e)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Fd([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Fd([r.PostConstruct],t.prototype,"postConstruct",null),t}(Ed),Md=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ld=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Vd=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Md(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("average","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,r.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,r.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("ag-Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,t,n){var i=this.getAggregationValueComponent(e);r._.exists(i)&&i&&(i.setValue(r._.formatNumberTwoDecimalPlacesAndCommas(t)),i.setDisplayed(n))},t.prototype.getAggregationValueComponent=function(e){var t=e+"AggregationComp",n=null,i=r._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?r._.find(this.gridOptions.statusBar.statusPanels,function(e){return"agAggregationComponent"===e.statusPanel}):null;return r._.exists(i)&&i?(!r._.exists(i.statusPanelParams)||r._.exists(i.statusPanelParams)&&r._.exists(i.statusPanelParams.aggFuncs)&&r._.exists(r._.find(i.statusPanelParams.aggFuncs,function(t){return t===e})))&&(n=this[t]):n=this[t],n},t.prototype.onRangeSelectionChanged=function(){var e=this,t=this.rangeController?this.rangeController.getCellRanges():void 0,n=0,i=0,o=0,s=null,a=null,l={};t&&!r._.missingOrEmpty(t)&&t.forEach(function(t){for(var u=e.rangeController.getRangeStartRow(t),c=e.rangeController.getRangeEndRow(t);!r._.missing(u)&&u&&!e.rowPositionUtils.before(c,u)&&u&&t.columns;)t.columns.forEach(function(t){if(null!==u){var c=e.cellPositionUtils.createId({rowPinned:u.rowPinned,column:t,rowIndex:u.rowIndex});if(!l[c]){l[c]=!0;var h=e.rowRenderer.getRowNode(u);if(!r._.missing(h)){var p=e.valueService.getValue(t,h);r._.missing(p)||""===p||(p.value&&(p=p.value),"string"==typeof p&&(p=Number(p)),"number"!=typeof p||isNaN(p)||(n+=p,(null===a||p>a)&&(a=p),(null===s||p<s)&&(s=p),o++),i++)}}}}),u=e.cellNavigationService.getRowBelow(u)});var u=o>1;this.setAggregationComponentValue("count",i,i>1),this.setAggregationComponentValue("sum",n,u),this.setAggregationComponentValue("min",s,u),this.setAggregationComponentValue("max",a,u),this.setAggregationComponentValue("avg",n/o,u)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Ld([r.Optional("rangeController")],t.prototype,"rangeController",void 0),Ld([r.Autowired("valueService")],t.prototype,"valueService",void 0),Ld([r.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ld([r.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Ld([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ld([r.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Ld([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ld([r.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ld([r.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ld([r.RefSelector("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Ld([r.RefSelector("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Ld([r.RefSelector("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Ld([r.RefSelector("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Ld([r.RefSelector("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Ld([r.PostConstruct],t.prototype,"postConstruct",null),t}(r.Component),Gd={moduleName:r.ModuleNames.StatusBarModule,beans:[yd],agStackComponents:[{componentName:"AgStatusBar",componentClass:wd},{componentName:"AgNameValue",componentClass:Ed}],userComponents:[{componentName:"agAggregationComponent",componentClass:Vd},{componentName:"agSelectedRowCountComponent",componentClass:Nd},{componentName:"agTotalRowCountComponent",componentClass:kd},{componentName:"agFilteredRowCountComponent",componentClass:Pd},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:xd}],dependantModules:[g]},Hd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Bd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstRow=-1,t.lastRow=-1,t.rowCount=-1,t.rowNodesByIndex={},t}return Hd(t,e),t.prototype.ensureRowHeightsValid=function(e,t,n,i){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,r.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowFound=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),i=e-t;return i<0?0:Math.floor(i/n)*n},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),i=Math.ceil((e+t)/n)*n;return Math.min(i,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var t=this.calculateFirstRow(e.firstRow),n=this.calculateLastRow(e.lastRow);this.firstRow===t&&this.lastRow===n||(this.firstRow=t,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(t){var n=parseInt(t,10);(n<e.firstRow||n>e.lastRow)&&delete e.rowNodesByIndex[n]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("ag-Grid: viewport is missing init method.")},t.prototype.getType=function(){return r.Constants.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode(function(n){n.id===e&&(t=n)}),t},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getCurrentPageHeight=function(){return this.rowCount*this.rowHeight},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,t){var n=r._.missing(e)?0:e.rowIndex,i=t.rowIndex;if(n<this.firstRow||n>this.lastRow||i<this.firstRow||i>this.lastRow)return[];for(var o=[],s=n<=i?i:n,a=n<=i?n:i;a<=s;a++)o.push(this.rowNodesByIndex[a]);return o},t.prototype.forEachNode=function(e){var t=this,n=0;Object.keys(this.rowNodesByIndex).forEach(function(i){var o=parseInt(i,10);e(t.rowNodesByIndex[o],n),n++})},t.prototype.setRowData=function(e){var t=this;r._.iterateObject(e,function(e,n){var i=parseInt(e,10);if(i>=t.firstRow&&i<=t.lastRow){var o=t.rowNodesByIndex[i];r._.missing(o)&&(o=t.createBlankRowNode(i),t.rowNodesByIndex[i]=o),o.setDataAndId(n,i.toString())}})},t.prototype.createBlankRowNode=function(e){var t=new r.RowNode;return this.createBean(t),t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*e),t.setRowIndex(e),t},t.prototype.setRowCount=function(e,t){void 0===t&&(t=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:r.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:t,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},Wd([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Wd([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Wd([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Wd([r.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Wd([r.PostConstruct],t.prototype,"init",null),Wd([r.PreDestroy],t.prototype,"destroyDatasource",null),Wd([r.Bean("rowModel")],t)}(r.BeanStub),jd={moduleName:r.ModuleNames.ViewportRowModelModule,rowModels:{viewport:Bd},dependantModules:[g]},zd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ud=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zd(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.init=function(){this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===r.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),this.executeOnTempElement(function(e){return e.focus()},function(t){var n=t.value;if(!r._.missingOrEmpty(n)){var i=r._.stringToArray(n,e.gridOptionsWrapper.getClipboardDeliminator()),o=e.gridOptionsWrapper.getProcessDataFromClipboardFunc();o&&(i=o({data:i})),r._.missingOrEmpty(i)||(e.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&e.removeLastLineIfBlank(i),e.doPasteOperation(function(t,n,o,r){e.rangeController&&e.rangeController.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(i)?e.pasteIntoActiveRange(i,t,n,r):e.pasteStartingFromFocusedCell(i,t,n,o,r)}))}})},t.prototype.doPasteOperation=function(e){var t,n=this.gridOptionsWrapper.getApi(),i=this.gridOptionsWrapper.getColumnApi(),o="clipboard";if(this.eventService.dispatchEvent({type:r.Events.EVENT_PASTE_START,api:n,columnApi:i,source:o}),this.clientSideRowModel){var s=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();t=new r.ChangedPath(s,this.clientSideRowModel.getRootNode())}var a={},l=[],u=this.focusController.getFocusedCell();e(a,l,u,t),t&&this.clientSideRowModel.doAggregate(t),this.rowRenderer.refreshCells(),this.dispatchFlashCells(a),this.fireRowChanged(l),u&&this.focusController.setFocusedCell(u.rowIndex,u.column,u.rowPinned,!0),this.eventService.dispatchEvent({type:r.Events.EVENT_PASTE_END,api:n,columnApi:i,source:o})},t.prototype.pasteIntoActiveRange=function(e,t,n,i){var o=this,s=this.getRangeSize()%e.length!=0,a=0,l=0;this.iterateActiveRanges(!1,function(u,c,h,p){if(p-a>=e.length){if(s)return;a+=l,l=0}var d=e[p-a];n.push(c);var f=o.gridOptionsWrapper.getProcessCellFromClipboardFunc();h.forEach(function(e,n){if(e.isCellEditable(c)&&!e.isSuppressPaste(c)){n>=d.length&&(n%=d.length);var s=o.processCell(c,e,d[n],r.Constants.EXPORT_TYPE_DRAG_COPY,f);o.valueService.setValue(c,e,s,r.Constants.SOURCE_PASTE),i&&i.addParentNode(c.parent,[e]);var a=o.cellPositionUtils.createIdFromValues(u.rowIndex,e,u.rowPinned);t[a]=!0}}),l++})},t.prototype.pasteStartingFromFocusedCell=function(e,t,n,i,o){if(i){var s={rowIndex:i.rowIndex,rowPinned:i.rowPinned},a=this.columnController.getDisplayedColumnsStartingAt(i.column);this.hasOnlyOneValueToPaste(e)?this.pasteSingleValue(e,n,t,o):this.pasteMultipleValues(e,s,n,a,t,r.Constants.EXPORT_TYPE_CLIPBOARD,o)}},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeController&&!this.rangeController.isEmpty()){var t=[];this.doPasteOperation(function(n,i,o,s){var a=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),l=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(o,u,c){t.length?(i.push(u),c.forEach(function(i,a){if(i.isCellEditable(u)&&!i.isSuppressPaste(u)){var c=e.processCell(u,i,t[a],r.Constants.EXPORT_TYPE_DRAG_COPY,l);e.valueService.setValue(u,i,c,r.Constants.SOURCE_PASTE),s&&s.addParentNode(u.parent,[i]);var h=e.cellPositionUtils.createIdFromValues(o.rowIndex,i,o.rowPinned);n[h]=!0}})):c.forEach(function(n){var i=e.processCell(u,n,e.valueService.getValue(n,u),r.Constants.EXPORT_TYPE_DRAG_COPY,a);t.push(i)})})})}},t.prototype.removeLastLineIfBlank=function(e){var t=r._.last(e);t&&1===t.length&&""===t[0]&&r._.removeFromArray(e,t)},t.prototype.fireRowChanged=function(e){var t=this;this.gridOptionsWrapper.isFullRowEdit()&&e.forEach(function(e){var n={type:r.Events.EVENT_ROW_VALUE_CHANGED,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned,context:t.gridOptionsWrapper.getContext(),api:t.gridOptionsWrapper.getApi(),columnApi:t.gridOptionsWrapper.getColumnApi()};t.eventService.dispatchEvent(n)})},t.prototype.pasteMultipleValues=function(e,t,n,i,o,r,s){var a=this;return e.forEach(function(e){if(t){var l=a.rowPositionUtils.getRowNode(t);l&&(n.push(l),e.forEach(function(e,n){return a.updateCellValue(l,i[n],e,t,o,r,s)}),t=a.cellNavigationService.getRowBelow({rowPinned:t.rowPinned,rowIndex:t.rowIndex}))}}),t},t.prototype.pasteSingleValue=function(e,t,n,i){var o=this,s=e[0][0];this.iterateActiveRanges(!1,function(e,a,l){t.push(a),l.forEach(function(t){return o.updateCellValue(a,t,s,e,n,r.Constants.EXPORT_TYPE_CLIPBOARD,i)})})},t.prototype.updateCellValue=function(e,t,n,i,o,s,a){if(e&&i&&t&&t.isCellEditable(e)&&!t.isSuppressPaste(e)){var l=this.processCell(e,t,n,s,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());this.valueService.setValue(e,t,l,r.Constants.SOURCE_PASTE),o[this.cellPositionUtils.createIdFromValues(i.rowIndex,t,i.rowPinned)]=!0,a&&a.addParentNode(e.parent,[t])}},t.prototype.copyToClipboard=function(e){this.logger.log("copyToClipboard: includeHeaders = "+e),null==e&&(e=this.gridOptionsWrapper.isCopyHeadersToClipboard());var t=this.focusController.getFocusedCell(),n=!this.selectionController.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeController&&this.rangeController.isMoreThanOneCell()?this.copySelectedRangeToClipboard(e):n?this.copySelectedRowsToClipboard(e):this.focusController.isAnyCellFocused()?this.copyFocusedCellToClipboard(e):this.copySelectedRangeToClipboard(e),t&&this.focusController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},t.prototype.iterateActiveRanges=function(e,t,n){var i=this;if(this.rangeController&&!this.rangeController.isEmpty()){var o=this.rangeController.getCellRanges();e?this.iterateActiveRange(o[0],t,n,!0):o.forEach(function(e,r){return i.iterateActiveRange(e,t,n,r===o.length-1)})}},t.prototype.iterateActiveRange=function(e,t,n,i){if(this.rangeController){var o=this.rangeController.getRangeStartRow(e),r=this.rangeController.getRangeEndRow(e);n&&e.columns&&n(e.columns);for(var s=0,a=!1;!a&&null!=o;){var l=this.rowPositionUtils.getRowNode(o);a=this.rowPositionUtils.sameRow(o,r),t(o,l,e.columns,s++,a&&i),o=this.cellNavigationService.getRowBelow(o)}}},t.prototype.copySelectedRangeToClipboard=function(e){var t=this;if(void 0===e&&(e=!1),this.rangeController&&!this.rangeController.isEmpty()){var n=this.gridOptionsWrapper.getClipboardDeliminator(),i="",o={};this.iterateActiveRanges(!1,function(e,s,a,l,u){var c=t.gridOptionsWrapper.getProcessCellForClipboardFunc();a.forEach(function(a,l){var u=t.valueService.getValue(a,s),h=t.processCell(s,a,u,r.Constants.EXPORT_TYPE_CLIPBOARD,c);0!=l&&(i+=n),r._.exists(h)&&(i+=h);var p=t.cellPositionUtils.createIdFromValues(e.rowIndex,a,e.rowPinned);o[p]=!0}),u||(i+="\r\n")},function(o){if(e){var r=t.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),s=o.map(function(e){var n=t.columnController.getDisplayNameForColumn(e,"clipboard",!0);return t.processHeader(e,n,r)||""});i+=s.join(n)+"\r\n"}}),this.copyDataToClipboard(i),this.dispatchFlashCells(o)}},t.prototype.copyFocusedCellToClipboard=function(e){var t;void 0===e&&(e=!1);var n=this.focusController.getFocusedCell();if(null!=n){var i,o=this.cellPositionUtils.createId(n),s=this.rowPositionUtils.getRowNode({rowPinned:n.rowPinned,rowIndex:n.rowIndex}),a=n.column,l=this.valueService.getValue(a,s),u=this.processCell(s,a,l,r.Constants.EXPORT_TYPE_CLIPBOARD,this.gridOptionsWrapper.getProcessCellForClipboardFunc());if(u=r._.missing(u)?"":u.toString(),e){var c=this.columnController.getDisplayNameForColumn(a,"clipboard",!0);i=this.processHeader(a,c,this.gridOptionsWrapper.getProcessHeaderForClipboardFunc())+"\r\n"+u}else i=u;this.copyDataToClipboard(i),this.dispatchFlashCells(((t={})[o]=!0,t))}},t.prototype.dispatchFlashCells=function(e){var t=this;window.setTimeout(function(){t.eventService.dispatchEvent({type:r.Events.EVENT_FLASH_CELLS,cells:e,api:t.gridApi,columnApi:t.columnApi})},0)},t.prototype.processCell=function(e,t,n,i,o){return o?o({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):n},t.prototype.processHeader=function(e,t,n){return n?n({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):t},t.prototype.copySelectedRowsToClipboard=function(e,t){void 0===e&&(e=!1);var n={columnKeys:t,skipHeader:!e,skipFooters:!0,suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDeliminator(),onlySelected:!0,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc()},i=this.csvCreator.getDataAsCsv(n);this.copyDataToClipboard(i)},t.prototype.copyDataToClipboard=function(e){var t=this.gridOptionsWrapper.getSendToClipboardFunc();t?t({data:e}):this.executeOnTempElement(function(t){t.value=e||" ",t.select(),t.focus(),document.execCommand("copy")||console.warn("ag-grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.")})},t.prototype.executeOnTempElement=function(e,t){var n=document.createElement("textarea");n.style.width="1px",n.style.height="1px",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.opacity="0.0";var i=this.gridCore.getRootGui();i.appendChild(n);try{e(n)}catch(o){console.warn("ag-grid: Browser does not support document.execCommand('copy') for clipboard operations")}t?window.setTimeout(function(){t(n),i.removeChild(n)},100):i.removeChild(n)},t.prototype.getRangeSize=function(){var e=this.rangeController.getCellRanges(),t=0,n=0;return e.length>0&&(t=this.rangeController.getRangeStartRow(e[0]).rowIndex,n=this.rangeController.getRangeEndRow(e[0]).rowIndex),t-n+1},Ud([r.Autowired("csvCreator")],t.prototype,"csvCreator",void 0),Ud([r.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Ud([r.Autowired("selectionController")],t.prototype,"selectionController",void 0),Ud([r.Optional("rangeController")],t.prototype,"rangeController",void 0),Ud([r.Autowired("rowModel")],t.prototype,"rowModel",void 0),Ud([r.Autowired("valueService")],t.prototype,"valueService",void 0),Ud([r.Autowired("focusController")],t.prototype,"focusController",void 0),Ud([r.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Ud([r.Autowired("columnController")],t.prototype,"columnController",void 0),Ud([r.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ud([r.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ud([r.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ud([r.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ud([r.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ud([r.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ud([r.PostConstruct],t.prototype,"init",null),Ud([r.Bean("clipboardService")],t)}(r.BeanStub),qd={moduleName:r.ModuleNames.ClipboardModule,beans:[Kd],dependantModules:[g,gn]};r.ModuleRegistry.register(nt,!1),r.ModuleRegistry.register(_n,!1),r.ModuleRegistry.register(Wn,!1),r.ModuleRegistry.register(rp,!1),r.ModuleRegistry.register(up,!1),r.ModuleRegistry.register(Pp,!1),r.ModuleRegistry.register(Lp,!1),r.ModuleRegistry.register(op,!1),r.ModuleRegistry.register(zp,!1),r.ModuleRegistry.register(Te,!1),r.ModuleRegistry.register(ed,!1),r.ModuleRegistry.register(gd,!1),r.ModuleRegistry.register(Je,!1),r.ModuleRegistry.register(Gd,!1),r.ModuleRegistry.register(jd,!1),r.ModuleRegistry.register(qd,!1),Object.defineProperty(t,"VirtualList",{enumerable:!0,get:function(){return r.VirtualList}}),t.LicenseManager=l,t.SetFilter=ud},f7ga:function(e,t,n){"use strict";function i(e){return null==e||""===e?null:e}function o(e,t){return void 0===t&&(t=!1),null!=e&&(t||""!==e)}function r(e){return!o(e)}function s(e){return!e||r(e)||0===e.length}function a(e){return o(e)&&e.toString?e.toString():null}function l(e){if(void 0!==e){if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function u(e){if(void 0!==e)return null!==e&&""!==e&&(!0===e||!1===e?e:/true/i.test(e))}function c(e,t,n){void 0===n&&(n=!1);var i=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&o)return 0;if(i)return-1;if(o)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!=typeof e)return r(e,t);if(!n)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}function h(e,t,n){if(null==e)return null;if(!Array.isArray(e))return h(p(e),t,n);for(var i=e,o=null,r=0;r<i.length;r++){var s=i[r];if("string"==typeof t){if(s[t]===n){o=s;break}}else if(t(s)){o=s;break}}return o}function p(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach(function(e){return t.push(e)}),t}return Object.keys(e).map(function(t){return e[t]})}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.freeze({__proto__:null,makeNull:i,exists:o,missing:r,missingOrEmpty:s,toStringOrNull:a,attrToNumber:l,attrToBoolean:u,attrToString:function(e){if(null!=e&&""!==e)return e},referenceCompare:function(e,t){return null==e&&null==t||(null!=e||null==t)&&(null==e||null!=t)&&e===t},jsonEquals:function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},defaultComparator:c,find:h,values:p}),f=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=a(e);for(var n=0;;){var i=void 0;if(e?(i=e,0!==n&&(i+="_"+n)):t?(i=t,0!==n&&(i+="_"+n)):i=""+n,!this.existingKeys[i])return this.existingKeys[i]=!0,i;n++}},e}();function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var i=e[n];if(o(i))return i}return null}function m(e){if(e&&e.length)return e[e.length-1]}function y(e,t,n){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&x(e,function(e,i){return n?n(e,t[i]):t[i]===e})}function v(e){return e.sort(function(e,t){return e-t})}function C(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function w(e,t){R(t,function(t){return C(e,t)})}function b(e,t,n){e.splice(n,0,t)}function S(e,t,n){w(e,t),R(t.slice().reverse(),function(t){return b(e,t,n)})}function E(e,t){return e.indexOf(t)>-1}function _(e,t){null!=t&&null!=e&&R(t,function(t){return e.push(t)})}function O(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function x(e,t){if(null==e)return!0;for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function T(e,t){if(null==e)return!1;for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}function R(e,t){if(null!=e)for(var n=0;n<e.length;n++)t(e[n],n)}function P(e,t){if(null==e)return null;for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}function D(e,t){if(null==e)return null;for(var n=[],i=0;i<e.length;i++)t(e[i],i)&&n.push(e[i]);return n}var A=Object.freeze({__proto__:null,firstExistingValue:g,anyExists:function(e){return e&&null!=g(e)},existsAndNotEmpty:function(e){return null!=e&&e.length>0},last:m,areEqual:y,compareArrays:function(e,t){return y(e,t)},shallowCompare:function(e,t){return y(e,t)},sortNumerically:v,removeRepeatsFromArray:function(e,t){if(e)for(var n=e.length-2;n>=0;n--)e[n]===t&&e[n+1]===t&&e.splice(n+1,1)},removeFromArray:C,removeAllFromArray:w,insertIntoArray:b,insertArrayIntoArray:function(e,t,n){if(null!=e&&null!=t)for(var i=t.length-1;i>=0;i--)b(e,t[i],n)},moveInArray:S,includes:E,flatten:function(e){return[].concat.apply([],e)},pushAll:_,toStrings:function(e){return P(e,a)},findIndex:O,every:x,some:T,forEach:R,forEachReverse:function(e,t){if(null!=e)for(var n=e.length-1;n>=0;n--)t(e[n],n)},map:P,filter:D,reduce:function(e,t,n){if(null==e||null==n)return null;for(var i=n,o=0;o<e.length;o++)i=t(i,e[o],o);return i},forEachSnapshotFirst:function(e,t){e&&e.slice(0).forEach(t)}});function k(e,t){null!=e&&(Array.isArray(e)?R(e,function(e,n){return t(""+n,e)}):R(Object.keys(e),function(n){return t(n,e[n])}))}function I(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];t[o]=e[o]}return t}function F(e,t){if(e){var n=e,i={};return Object.keys(n).forEach(function(e){if(!(t&&t.indexOf(e)>=0)){var o=n[e];i[e]="object"==typeof o&&o.constructor===Object?F(o):o}}),i}}function N(e,t){return e[t]}function M(e,t,n){e[t]=n}function L(e,t,n,i){var o=N(e,n);void 0!==o&&M(t,n,i?i(o):o)}function V(e){var t={};return e.filter(function(e){return null!=e}).forEach(function(e){R(Object.keys(e),function(e){return t[e]=null})}),Object.keys(t)}function G(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1),o(t)&&k(t,function(t,o){var r=e[t];r!==o&&(i&&null==r&&null!=o&&"object"==typeof o&&o.constructor===Object&&(e[t]=r={}),j(o)&&j(r)&&!Array.isArray(r)?G(r,o,n,i):(n||void 0!==o)&&(e[t]=o))})}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return R(t,function(t){return k(t,function(t,n){return e[t]=n})}),e}function W(e,t,n){if(null==e)return n;for(var i=t.split("."),o=e;i.length>1;)if(null==(o=o[i.shift()]))return n;var r=o[i[0]];return null!=r?r:n}function B(e,t,n){if(t&&e){if(!n)return e[t];for(var i=t.split("."),o=e,s=0;s<i.length;s++){if(r(o))return null;o=o[i[s]]}return o}}function j(e){return"object"==typeof e&&null!==e}var z=Object.freeze({__proto__:null,iterateObject:k,cloneObject:I,deepCloneObject:function(e){return JSON.parse(JSON.stringify(e))},deepCloneDefinition:F,getProperty:N,setProperty:M,copyPropertiesIfPresent:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];R(n,function(n){return L(e,t,n)})},copyPropertyIfPresent:L,getAllKeysInObjects:V,mergeDeep:G,assign:H,missingOrEmptyObject:function(e){return r(e)||0===Object.keys(e).length},get:W,set:function(e,t,n){if(null!=e){for(var i=t.split("."),o=e;i.length>1;)if(null==(o=o[i.shift()]))return;o[i[0]]=n}},deepFreeze:function e(t){return Object.freeze(t),R(p(t),function(t){(j(t)||"function"==typeof t)&&e(t)}),t},getValueUsingField:B,removeAllReferences:function(e,t){Object.keys(e).forEach(function(t){"object"==typeof e[t]&&(e[t]=void 0)});var n=Object.getPrototypeOf(e),i={};Object.keys(n).forEach(function(e){"function"==typeof n[e]&&(i[e]={value:function(){console.warn("ag-Grid: "+t+" function "+e+"() cannot be called as the grid has been \ndestroyed. Please don't call grid API functions on destroyed grids - as a matter of fact you \nshouldn't be keeping the API reference, your application has a memory leak! Remove the API reference \nwhen the grid is destroyed.")},writable:!0})}),Object.defineProperties(e,i)},isNonNullObject:j}),U=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,K=/([^\s,]+)/g,q={};function Y(e,t){q[t]||(e(),q[t]=!0)}function $(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function X(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Q(e){J(e,400)}function Z(e){J(e,0)}function J(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout(function(){return e.forEach(function(e){return e()})},t)}function ee(e,t,n){var i;return void 0===n&&(n=!1),function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var s=this,a=n&&!i;window.clearTimeout(i),i=window.setTimeout(function(){i=null,n||e.apply(s,o)},t),a&&e.apply(s,o)}}function te(e){e&&e()}var ne=Object.freeze({__proto__:null,doOnce:Y,getFunctionName:$,getFunctionParameters:function(e){var t=e.toString().replace(U,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(K)||[]},isFunction:X,executeInAWhile:Q,executeNextVMTurn:Z,executeAfter:J,debounce:ee,compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return t(e)},t)}},callIfPresent:te}),ie=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return p(this.beanWrappers).map(function(e){return e.beanInstance})},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),o(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),k(this.beanWrappers,function(t,n){var i;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var o,r,s=e.getBeansForParameters(i,n.bean.name),a=(o=n.bean,r=[null].concat(s),new(o.bind.apply(o,r)));n.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t,n=e.__agBeanMetaData;if(!n)return t=e.prototype.constructor?$(e.prototype.constructor):""+e,void console.error("Context item "+t+" is not a bean");this.beanWrappers[n.beanName]={bean:e,beanInstance:null,beanName:n.beanName}},e.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(n,i){var o=n.agClassAttributes;o&&o.forEach(function(n){var o=t.lookupBeanInstance(i,n.beanName,n.optional);e[n.attributeName]=o})})})},e.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(e){t.forEachMetaDataInHierarchy(e,function(n,i){k(n.autowireMethods,function(n,o){if("agConstructor"!==n){var r=t.getBeansForParameters(o,i);e[n].apply(e,r)}})})})},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);null!=n;){var i=n.constructor;i.hasOwnProperty("__agBeanMetaData")&&t(i.__agBeanMetaData,this.getBeanName(i)),n=Object.getPrototypeOf(n)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var n=this,i=[];return e&&k(e,function(e,o){var r=n.lookupBeanInstance(t,o);i[Number(e)]=r}),i},e.prototype.lookupBeanInstance=function(e,t,n){if(void 0===n&&(n=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var i=this.beanWrappers[t];return i?i.beanInstance:(n||console.error("ag-Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach(function(e){return n.callLifeCycleMethodsOnBean(e,t)})},e.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var i={};this.forEachMetaDataInHierarchy(e,function(e){var o=e[t];o&&o.forEach(function(e){e!=n&&(i[e]=!0)})}),Object.keys(i).forEach(function(t){return e[t]()})},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]):[]},e}();function oe(e,t,n){var i=pe(e.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function re(e,t,n){var i=pe(e.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function se(e,t,n){var i=pe(e.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function ae(e){return function(t){pe(t).beanName=e}}function le(e){return function(t,n,i){ce(t,e,!1,0,n,null)}}function ue(e){return function(t,n,i){ce(t,e,!0,0,n,null)}}function ce(e,t,n,i,o,r){if(null!==t)if("number"!=typeof r){var s=pe(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:t,optional:n})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function he(e){return function(t,n,i){var o,r="function"==typeof t?t:t.constructor;if("number"==typeof i){var s=void 0;n?(o=pe(r),s=n):(o=pe(r),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][i]=e}}}function pe(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var de,fe=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ge=function(e,t){return function(n,i){t(n,i,e)}},me=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,n){if(void 0===n&&(n=null),this.logger=e.create("EventService"),n){var i=t.useAsyncEvents();this.addGlobalListener(n,i)}},e.prototype.getListeners=function(e,t){var n=t?this.allAsyncListeners:this.allSyncListeners,i=n.get(e);return i||(i=new Set,n.set(e,i)),i},e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=!1),this.getListeners(e,n).add(t)},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!1),this.getListeners(e,n).delete(t)},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var n=this,i=e.type;this.getListeners(i,t).forEach(function(i){t?n.dispatchAsync(function(){return i(e)}):i(e)}),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(o){t?n.dispatchAsync(function(){return o(i,e)}):o(i,e)})},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(e){return e()})},fe([ge(0,he("loggerFactory")),ge(1,he("gridOptionsWrapper")),ge(2,he("globalEventListener"))],e.prototype,"setBeans",null),fe([ae("eventService")],e)}(),ye=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.STEP_AGGREGATE=4,e.STEP_PIVOT=5,e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e}();(de=t.ModuleNames||(t.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",de.CommunityAllModules="@ag-grid-community/all",de.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",de.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",de.CsvExportModule="@ag-grid-community/csv-export",de.RowNodeCache="@ag-grid-community/row-node-cache",de.EnterpriseCoreModule="@ag-grid-enterprise/core",de.EnterpriseAllModules="@ag-grid-enterprise/all",de.RowGroupingModule="@ag-grid-enterprise/row-grouping",de.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",de.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",de.MenuModule="@ag-grid-enterprise/menu",de.SetFilterModule="@ag-grid-enterprise/set-filter",de.MultiFilterModule="@ag-grid-enterprise/multi-filter",de.StatusBarModule="@ag-grid-enterprise/status-bar",de.SideBarModule="@ag-grid-enterprise/side-bar",de.RangeSelectionModule="@ag-grid-enterprise/range-selection",de.MasterDetailModule="@ag-grid-enterprise/master-detail",de.RichSelectModule="@ag-grid-enterprise/rich-select",de.GridChartsModule="@ag-grid-enterprise/charts",de.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",de.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",de.ExcelExportModule="@ag-grid-enterprise/excel-export",de.ClipboardModule="@ag-grid-enterprise/clipboard",de.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",de.AngularModule="@ag-grid-community/angular",de.ReactModule="@ag-grid-community/react",de.VueModule="@ag-grid-community/vue",de.PolymerModule="@ag-grid-community/polymer";var ve=function(){function e(){}return e.register=function(t,n){void 0===n&&(n=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=n:e.moduleBased!==n&&Y(function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.")},"ModulePackageCheck")},e.registerModules=function(t,n){void 0===n&&(n=!0),t&&t.forEach(function(t){return e.register(t,n)})},e.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var n="ag-Grid: unable to use "+t+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/";return Y(function(){console.warn(n)},t+e),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return p(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),Ce=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},we=function(){function e(e,t,n,i){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new me,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}return e.prototype.setState=function(e){void 0!==e.sort?e.sort!==ye.SORT_ASC&&e.sort!==ye.SORT_DESC||(this.sort=e.sort):e.initialSort!==ye.SORT_ASC&&e.initialSort!==ye.SORT_DESC||(this.sort=e.initialSort);var t=l(e.sortIndex),n=l(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==n&&(this.sortIndex=n);var i=u(e.hide),o=u(e.initialHide);this.visible=void 0!==i?!i:!o,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);var r=l(e.flex),s=l(e.initialFlex);void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){var e=this.gridOptionsWrapper.getMinColWidth(),t=this.gridOptionsWrapper.getMaxColWidth();this.minWidth=this.colDef.minWidth?this.colDef.minWidth:e,this.maxWidth=this.colDef.maxWidth?this.colDef.maxWidth:t,this.resetActualWidth("gridInitializing");var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=o(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=o(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n,this.validate()},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){return!(r(this.colDef)||r(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==e)},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function n(e,t,n){Y(function(){n?console.warn(e,n):Y(function(){return console.warn(e)},t)},t)}ve.isRegistered(t.ModuleNames.RowGroupingModule)||["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(i){o(e[i])&&(ve.isPackageBased()?n("ag-Grid: "+i+" is only valid in ag-grid-enterprise, your column definition should not have "+i,"ColumnRowGroupingMissing"+i):n("ag-Grid: "+i+" is only valid with ag-Grid Enterprise Module "+t.ModuleNames.RowGroupingModule+" - your column definition should not have "+i,"ColumnRowGroupingMissing"+i))}),ve.isRegistered(t.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(ve.isPackageBased()?n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+t.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),ve.isRegistered(t.ModuleNames.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(ve.isPackageBased()?n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+t.ModuleNames.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(t){o(e[t])&&n("ag-Grid: "+t+" is not possible when doing tree data, your column definition should not have "+t,"TreeDataCannotRowGroup")}),o(this.colDef.width)&&"number"!=typeof this.colDef.width&&n("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createIsColumnFuncParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createIsColumnFuncParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!0===this.colDef.resizable},e.prototype.isColumnFunc=function(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createIsColumnFuncParams(e))},e.prototype.setMoving=function(t,n){void 0===n&&(n="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,n))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,n){void 0===n&&(n="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,n)))},e.prototype.setMenuVisible=function(t,n){void 0===n&&(n="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,n)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===ye.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===ye.SORT_DESC},e.prototype.isSortNone=function(){return r(this.sort)},e.prototype.isSorting=function(){return o(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,n)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,n,i){void 0===n&&(n="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,n)));var o=this.createColumnEvent(e.EVENT_FILTER_CHANGED,n);i&&G(o,i),this.eventService.dispatchEvent(o)},e.prototype.setPinned=function(e){this.pinned=!0===e||e===ye.PINNED_LEFT?ye.PINNED_LEFT:e===ye.PINNED_RIGHT?ye.PINNED_RIGHT:null},e.prototype.setFirstRightPinned=function(t,n){void 0===n&&(n="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},e.prototype.setLastLeftPinned=function(t,n){void 0===n&&(n="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===ye.PINNED_LEFT||this.pinned===ye.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===ye.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===ye.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,n){void 0===n&&(n="api");var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,n)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(r(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},e.prototype.getRowSpan=function(e){if(r(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},e.prototype.setActualWidth=function(e,t,n){void 0===t&&(t="api"),void 0===n&&(n=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t))},e.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,t))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,n){void 0===n&&(n="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,n)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,n){void 0===n&&(n="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,n)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,n){void 0===n&&(n="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,n)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",Ce([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ce([le("columnUtils")],e.prototype,"columnUtils",void 0),Ce([le("columnApi")],e.prototype,"columnApi",void 0),Ce([le("gridApi")],e.prototype,"gridApi",void 0),Ce([le("context")],e.prototype,"context",void 0),Ce([re],e.prototype,"initialise",null),e}(),be=function(){function e(e,t,n,i){this.displayedChildren=[],this.localEventService=new me,this.groupId=t,this.instanceId=n,this.originalColumnGroup=e,this.pinned=i}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getOriginalColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(function(e){return e.isMoving()})},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(t){t instanceof e&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=m(this.displayedChildren).getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var n=!1;return this.children.forEach(function(i){t===i&&(n=!0),i instanceof e&&i.isChildInThisGroupDeepSearch(t)&&(n=!0)}),n},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()}),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(n){n instanceof we?t.push(n):n instanceof e&&n.addDisplayedLeafColumns(t)})},e.prototype.addLeafColumns=function(t){this.children.forEach(function(n){n instanceof we?t.push(n):n instanceof e&&n.addLeafColumns(t)})},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var n=this;if(this.isPadding())for(;n.getParent()&&n.isPadding();)n=n.getParent();n.originalColumnGroup.isExpandable()?this.children.forEach(function(i){switch(i.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:n.originalColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case e.HEADER_GROUP_SHOW_CLOSED:n.originalColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:i instanceof e&&i.isPadding()&&!i.displayedChildren.length||t.displayedChildren.push(i)}}):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.HEADER_GROUP_PADDING="padding",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Se=function(){function e(e,t,n,i){this.localEventService=new me,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=e&&!!e.openByDefault,this.padding=n,this.level=i}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some(function(e){return e.isVisible()})},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED})},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(n){n instanceof we?t.push(n):n instanceof e&&n.addLeafColumns(t)})},e.prototype.getColumnGroupShow=function(){return this.padding?be.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener(we.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))})},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,n=!1,i=!1,o=this.findChildren(),r=0,s=o.length;r<s;r++){var a=o[r];if(a.isVisible()){var l=a.getColumnGroupShow();l===be.HEADER_GROUP_SHOW_OPEN?(t=!0,i=!0):l===be.HEADER_GROUP_SHOW_CLOSED?(n=!0,i=!0):(t=!0,n=!0,l===be.HEADER_GROUP_PADDING&&(i=i||a.children.some(function(e){return void 0!==e.getColumnGroupShow()})))}}var u=t&&n&&i;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDABLE_CHANGED}))}},e.prototype.findChildren=function(){var t=this.children,n=t[0];if(n&&(!n.isPadding||!n.isPadding()))return t;for(;1===t.length&&t[0]instanceof e;)t=t[0].children;return t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),Ee={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},_e="__ag_Grid_Stop_Propagation",Oe=["touchstart","touchend","touchmove","touchcancel"],xe=["mouseover","mouseout","mouseenter","mouseleave"],Te={};function Re(e){e[_e]=!0}function Pe(e){return!0===e[_e]}var De,Ae=(De={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof Te[e])return Te[e];var t=document.createElement(De[e]||"div"),n=(e="on"+e)in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,Te[e]=n});function ke(e,t){for(var n=Ie(t);n;){var i=e.getDomData(n,"cellComp");if(i)return i;n=n.parentElement}return null}function Ie(e){return e.target||e.srcElement}function Fe(e,t){return!(!t||!e)&&Me(t).indexOf(e)>=0}function Ne(e){for(var t=[],n=Ie(e);n;)t.push(n),n=n.parentElement;return t}function Me(e){var t=e;return t.deepPath?t.deepPath():t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:Ne(e)}function Le(e,t,n,i){var o=E(Oe,n)?{passive:!0}:void 0;E(xe,n)?e&&e.addEventListenerOutsideAngular&&e.addEventListenerOutsideAngular(t,n,i,o):t.addEventListener(n,i,o)}var Ve,Ge=Object.freeze({__proto__:null,stopPropagationForAgGrid:Re,isStopPropagationForAgGrid:Pe,isEventSupported:Ae,getCellCompForEvent:ke,addChangeListener:function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},getTarget:Ie,isElementInEventPath:Fe,createEventPath:Ne,addAgGridEventPath:function(e){e.__agGridEventPath=Me(e)},getEventPath:Me,addSafePassiveEventListener:Le}),He=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},We=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return e.context},this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new me),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,n){var i=this;if(!this.destroyed){e instanceof HTMLElement?Le(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function(){return e.removeEventListener(t,n),i.destroyFunctions=i.destroyFunctions.filter(function(e){return e!==o}),null};return this.destroyFunctions.push(o),o}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},e.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var n=this;return e&&R(e,function(e){return n.destroyBean(e,t)}),[]},e.EVENT_DESTROYED="destroyed",He([le("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),He([le("context")],e.prototype,"context",void 0),He([le("eventService")],e.prototype,"eventService",void 0),He([se],e.prototype,"destroy",null),e}(),Be=(Ve=function(e,t){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),je=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Be(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,n){var i=new f;if(n){var o=n.map(function(e){return e.getId()});i.addExistingKeys(o)}var r=n?n.slice():null,s=this.recursivelyCreateColumns(e,0,t,r,i,null),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var l=this.balanceColumnTree(s,0,a,i);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,function(e,t){e instanceof Se&&e.setupExpandable(),e.setOriginalParent(t)}),{columnTree:l,treeDept:a}},t.prototype.createForAutoGroups=function(e,t){var n=this,i=[];return e.forEach(function(e){var o=n.createAutoGroupTreeItem(t,e);i.push(o)}),i},t.prototype.createAutoGroupTreeItem=function(e,t){for(var n=t,i=this.findDepth(e)-1;i>=0;i--){var o=new Se(null,"FAKE_PATH_"+t.getId()+"}_"+i,!0,i);this.context.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},t.prototype.findDepth=function(e){for(var t=0,n=e;n&&n[0]&&n[0]instanceof Se;)t++,n=n[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,n,i){for(var o=[],r=0;r<e.length;r++){var s=e[r];if(s instanceof Se){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),o.push(a)}else{for(var u=void 0,c=void 0,h=n-1;h>=t;h--){var p=i.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),f=new Se(d,p,!0,t);this.context.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u){if(o.push(u),e.some(function(e){return e instanceof Se})){c.setChildren([s]);continue}c.setChildren(e);break}o.push(s)}}return o},t.prototype.findMaxDept=function(e,t){for(var n=t,i=0;i<e.length;i++){var o=e[i];if(o instanceof Se){var r=this.findMaxDept(o.getChildren(),t+1);n<r&&(n=r)}}return n},t.prototype.recursivelyCreateColumns=function(e,t,n,i,o,r){var s=this,a=[];return e?(e.forEach(function(e){var l;l=s.isColumnGroup(e)?s.createColumnGroup(n,e,t,i,o,r):s.createColumn(n,e,i,o,r),a.push(l)}),a):a},t.prototype.createColumnGroup=function(e,t,n,i,o,r){var s=this.createMergedColGroupDef(t),a=o.getUniqueKey(s.groupId,null),l=new Se(s,a,!1,n);this.context.createBean(l);var u=this.recursivelyCreateColumns(s.children,n+1,e,i,o,l);return l.setChildren(u),l},t.prototype.createMergedColGroupDef=function(e){var t={};return H(t,this.gridOptionsWrapper.getDefaultColGroupDef()),H(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,n,i,o){var r=this.mergeColDefs(t);this.checkForDeprecatedItems(r);var s=this.findExistingColumn(t,n);if(s)s.setColDef(r,t),this.applyColumnState(s,r);else{var a=i.getUniqueKey(r.colId,r.field);s=new we(r,t,a,e),this.context.createBean(s)}return s},t.prototype.applyColumnState=function(e,t){var n=l(t.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){var i=l(t.width);null!=i&&e.setActualWidth(i)}void 0!==t.sort&&e.setSort(t.sort==ye.SORT_ASC||t.sort==ye.SORT_DESC?t.sort:void 0);var o=l(t.sortIndex);void 0!==o&&e.setSortIndex(o);var r=u(t.hide);void 0!==r&&e.setVisible(!r),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){var n=h(t,function(t){var n=t.getUserProvidedColDef();if(!n)return!1;var i=null!=e.field;return null!=e.colId?t.getId()===e.colId:i?n.field===e.field:n===e});return n&&C(t,n),n},t.prototype.mergeColDefs=function(e){var t={},n=this.gridOptionsWrapper.getDefaultColDef();return G(t,n,!0,!0),(e.type||n&&n.type)&&this.assignColumnTypes(e.type?e.type:n.type,t),G(t,e,!0,!0),t},t.prototype.assignColumnTypes=function(e,t){var n;if(e instanceof Array)e.some(function(e){return"string"!=typeof e})?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=e;else{if("string"!=typeof e)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");n=e.split(",")}var i=H({},Ee);k(this.gridOptionsWrapper.getColumnTypes()||{},function(e,t){e in i?console.warn("ag-Grid: the column type '"+e+"' is a default column type and cannot be overridden."):i[e]=t}),n.forEach(function(e){var n=i[e.trim()];n?G(t,n,!0,!0):console.warn("ag-grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},je([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),je([le("columnUtils")],t.prototype,"columnUtils",void 0),je([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),je([ae("columnFactory")],t);var n}(We),Ue=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e}(),Ke=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,n=this.existingIds[e];return this.existingIds[e]=t="number"!=typeof n?0:n+1,t},e}(),qe=/[&<>"']/g,Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $e(e){return null==e?null:e.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})}function Xe(e){return null==e?null:e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function Qe(e){return null!=e&&e.replace?e.replace(qe,function(e){return Ye[e]}):e}function Ze(e){return e&&null!=e?e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")}).join(" "):null}function Je(e,t){return e===t||null!=e&&e.slice(0,t.length)===t}var et=Object.freeze({__proto__:null,utf8_encode:function(e){var t=String.fromCharCode;function n(e,n){return t(e>>n&63|128)}function i(e){if(0==(4294967168&e))return t(e);var i="";return 0==(4294965248&e)?i=t(e>>6&31|192):0==(4294901760&e)?(function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),i=t(e>>12&15|224),i+=n(e,6)):0==(4292870144&e)&&(i=t(e>>18&7|240),i+=n(e,12),i+=n(e,6)),i+t(63&e|128)}for(var o=function(e){for(var t,n,i=[],o=0,r=e.length;o<r;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<r?56320==(64512&(n=e.charCodeAt(o++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--):i.push(t);return i}(e),r=o.length,s=-1,a="";++s<r;)a+=i(o[s]);return a},camelCaseToHyphen:$e,hyphenToCamelCase:Xe,capitalise:function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},escapeString:Qe,camelCaseToHumanText:Ze,startsWith:Je}),tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.secondaryColumnsPresent=!1,t.gridHeaderRowCount=0,t.displayedLeftColumns=[],t.displayedRightColumns=[],t.displayedCenterColumns=[],t.allDisplayedColumns=[],t.allDisplayedVirtualColumns=[],t.allDisplayedCenterVirtualColumns=[],t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.colDefVersion=0,t.flexColsCalculatedAtLestOnce=!1,t}return tt(t,e),t.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var e=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var n=!!this.columnDefs;this.colDefVersion++;var i=this.compareColumnStatesAndRaiseEvents(t);this.columnDefs=e,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns,r=this.columnFactory.createColumnTree(e,!0,o);this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(t,o),this.extractPivotColumns(t,o),this.extractValueColumns(t,o),this.ready=!0,this.updateGridColumns(),n&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkDisplayedVirtualColumns(),this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t});var s={type:Ue.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};i(),this.eventService.dispatchEvent(s)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this;this.gridColumns.sort(function(t,n){var i=e.primaryColumns.indexOf(t),o=e.primaryColumns.indexOf(n),r=i>=0,s=o>=0;return r&&s?i-o:r?1:s?-1:e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})},t.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},t.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},t.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,n=[];null!=t;)n.push(t),t=this.getDisplayedColAfter(t);return n},t.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var e=this.allDisplayedVirtualColumns.map(function(e){return e.getId()}).join("#");this.updateVirtualSets(),e!==this.allDisplayedVirtualColumns.map(function(e){return e.getId()}).join("#")&&this.eventService.dispatchEvent({type:Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.setVirtualViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getSecondaryPivotColumn=function(e,t){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var n=this.getPrimaryColumn(t),i=null;return this.secondaryColumns.forEach(function(t){var o=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;y(o,e)&&r===n&&(i=t)}),i},t.prototype.setBeans=function(e){this.logger=e.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,n;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,n=this.displayedRightColumns?m(this.displayedRightColumns):null):(t=this.displayedLeftColumns?m(this.displayedLeftColumns):null,n=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach(function(i){i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===n,e)})},t.prototype.autoSizeColumns=function(e,t,n){var i=this;void 0===n&&(n="api"),this.animationFrameService.flushAllFrames();var o=[],r=-1;for(null==t&&(t=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==r;)r=0,this.actionOnGridColumns(e,function(e){if(o.indexOf(e)>=0)return!1;var s=i.autoWidthCalculator.getPreferredWidthForColumn(e,t);if(s>0){var a=i.normaliseColumnWidth(e,s);e.setActualWidth(a,n),o.push(e),r++}return!0},n);this.fireColumnResizedEvent(o,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,t,n,i){void 0===i&&(i=null),e&&e.length&&this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:i,finished:t,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.autoSizeColumn=function(e,t,n){void 0===n&&(n="api"),e&&this.autoSizeColumns([e],t,n)},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns(n,e,t)},t.prototype.getColumnsFromTree=function(e){var t=[],n=function(e){for(var i=0;i<e.length;i++){var o=e[i];o instanceof we?t.push(o):o instanceof Se&&n(o.getChildren())}};return n(e),t},t.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},t.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},t.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},t.prototype.getDisplayedColumnGroups=function(e){switch(e){case ye.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case ye.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},t.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedLeftColumns):this.displayedLeftColumns},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedRightColumns):this.displayedRightColumns},t.prototype.getDisplayedColumnsForRow=function(e,t,n,i){for(var o,r=[],s=null,a=function(a){var l,u=t[a],c=t.length-a,h=Math.min(u.getColSpan(e),c),p=[u];if(h>1){for(var d=h-1,f=1;f<=d;f++)p.push(t[a+f]);a+=d}n?(l=!1,p.forEach(function(e){n(e)&&(l=!0)})):l=!0,l&&(0===r.length&&s&&i&&i(u)&&r.push(s),r.push(u)),s=u,o=a},l=0;l<t.length;l++)a(l),l=o;return r},t.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedCenterColumns,n,function(e){return e.getLeft()>t.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){var t=e.getLeft(),n=e.getLeft()+e.getActualWidth(),i=this.viewportLeft-200,o=this.viewportRight+200;return!(t<i&&n<i||t>o&&n>o)},t.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},t.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},t.prototype.updatePrimaryColumnList=function(e,t,n,i,o,r){var a=this;if(void 0===r&&(r="api"),e&&!s(e)){var l=!1;e.forEach(function(e){var o=a.getPrimaryColumn(e);if(o){if(n){if(t.indexOf(o)>=0)return;t.push(o)}else{if(t.indexOf(o)<0)return;C(t,o)}i(o),l=!0}}),l&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r}))}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,n))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(e){return e.setPivotActive(!0,t)},Ue.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,Ue.EVENT_COLUMN_PIVOT_CHANGED,function(e,n){n.setPivotActive(e,t)},t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(e){return e.setPivotActive(!1,t)},Ue.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,n,i,r){var s=this;t.length=0,o(e)&&e.forEach(function(e){var n=s.getPrimaryColumn(e);n&&t.push(n)}),this.primaryColumns.forEach(function(e){var n=t.indexOf(e)>=0;i(n,e)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:n,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r})},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,Ue.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc())){var i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Ue.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Ue.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,n,i){var o=this;void 0===i&&(i="api");var r=[];e.forEach(function(e){var n=o.getPrimaryOrGridColumn(e.key);if(n&&(r.push({width:e.newWidth,ratios:[1],columns:[n]}),"shift"===o.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var i=o.getDisplayedColAfter(n);if(!i)return;var s=n.getActualWidth()-e.newWidth,a=i.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[i]})}}),0!==r.length&&this.resizeColumnSets(r,n,i)},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.width,n=0,i=0,o=!0;return e.columns.forEach(function(e){n+=e.getMinWidth(),e.getMaxWidth()>0?i+=e.getMaxWidth():o=!1}),t>=n&&(!o||t<=i)},t.prototype.resizeColumnSets=function(e,t,n){if(!e||e.every(this.checkMinAndMaxWidthsForSet.bind(this))){var i=[],o=[];e.forEach(function(e){var t=e.width,r=e.columns,s=e.ratios,a={},l={};r.forEach(function(e){return o.push(e)});for(var u=!0,c=0,h=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";u=!1;var e=[],n=0,i=t;r.forEach(function(t,o){l[t.getId()]?i-=a[t.getId()]:(e.push(t),n+=s[o])});var o=1/n;e.forEach(function(n,r){var c;r===e.length-1?c=i:(c=Math.round(s[r]*t*o),i-=c),c<n.getMinWidth()?(c=n.getMinWidth(),l[n.getId()]=!0,u=!0):n.getMaxWidth()>0&&c>n.getMaxWidth()&&(c=n.getMaxWidth(),l[n.getId()]=!0,u=!0),a[n.getId()]=c})};u&&"break"!==h(););r.forEach(function(e){var t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),i.push(e))})});var r=i.length>0,s=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0});r&&(this.setLeftValues(n),this.updateBodyWidths(),this.checkDisplayedVirtualColumns());var a=o.concat(s);(r||t)&&this.fireColumnResizedEvent(a,t,n,s)}else t&&this.fireColumnResizedEvent(e&&e.length>0?e[0].columns:null,t,n)},t.prototype.setColumnAggFunc=function(e,t,n){if(void 0===n&&(n="api"),e){var i=this.getPrimaryColumn(e);i&&(i.setAggFunc(t),this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_VALUE_CHANGED,columns:[i],column:i,api:this.gridApi,columnApi:this.columnApi,source:n}))}},t.prototype.moveRowGroupColumn=function(e,t,n){void 0===n&&(n="api");var i=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i),this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.moveColumns=function(e,t,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var i=this.getGridColumns(e);!this.doesMovePassRules(i,t)||(S(this.gridColumns,i,t),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_MOVED,columns:i,column:1===i.length?i[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:n}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,t){var n=this.gridColumns.slice();return S(n,e,t),!!this.doesMovePassMarryChildren(n)&&!!this.doesMovePassLockedPositions(n)},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;!e||e.length<=1||e.filter(function(e){return t.gridColumns.indexOf(e)<0}).length>0||e.sort(function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})},t.prototype.doesMovePassLockedPositions=function(e){var t=!1,n=!0;return e.forEach(function(e){e.getColDef().lockPosition?t&&(n=!1):t=!0}),n},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof Se){var i=n;if(i.getColGroupDef()&&i.getColGroupDef().marryChildren){var o=[];i.getLeafColumns().forEach(function(t){var n=e.indexOf(t);o.push(n)}),Math.max.apply(Math,o)-Math.min.apply(Math,o)>i.getLeafColumns().length-1&&(t=!1)}}}),t},t.prototype.moveColumn=function(e,t,n){void 0===n&&(n="api"),this.moveColumns([e],t,n)},t.prototype.moveColumnByIndex=function(e,t,n){void 0===n&&(n="api"),this.moveColumn(this.gridColumns[e],t,n)},t.prototype.getColumnDefs=function(){var e=this,t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort(function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)}):this.lastPrimaryOrder&&t.sort(function(t,n){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(n)}),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case ye.PINNED_LEFT:return this.leftWidth;case ye.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedCenterColumns),t=this.getWidthOfColsInList(this.displayedLeftColumns),n=this.getWidthOfColsInList(this.displayedRightColumns);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventService.dispatchEvent({type:Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},t.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},t.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},t.prototype.getDisplayedColumns=function(e){switch(e){case ye.PINNED_LEFT:return this.getDisplayedLeftColumns();case ye.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return s(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return s(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,n){void 0===n&&(n="api"),this.setColumnsVisible([e],t,n)},t.prototype.setColumnsVisible=function(e,t,n){var i=this;void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(e){return e.isVisible()!==t&&(e.setVisible(t,n),!0)},n,function(){return{type:Ue.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:i.gridApi,columnApi:i.columnApi,source:n}}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,n){void 0===n&&(n="api"),e&&this.setColumnsPinned([e],t,n)},t.prototype.setColumnsPinned=function(e,t,n){var i,o=this;void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),i=!0===t||t===ye.PINNED_LEFT?ye.PINNED_LEFT:t===ye.PINNED_RIGHT?ye.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(e){return e.getPinned()!==i&&(e.setPinned(i),!0)},n,function(){return{type:Ue.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:n}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,n,i){var r=this;if(!s(e)){var a=[];if(e.forEach(function(e){var n=r.getGridColumn(e);n&&!1!==t(n)&&a.push(n)}),a.length&&(this.updateDisplayedColumns(n),o(i)&&i)){var l=i();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n>0?t[n-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var n=e.getOriginalColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),o="After"===t?m(i):i[0],r="getDisplayedCol"+t;;){var s=this[r](o);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var n=e.getParent();!(n.getOriginalColumnGroup().getLevel()+n.getPaddingLevel()<=t);)n=n.getParent();return n},t.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},t.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&o(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(t){return e.push(t)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(t){return e.push(t)}),e},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,o=null!=e.getSort()?e.getSort():null,r=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:r,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:s}},t.prototype.getColumnState=function(){if(r(this.primaryColumns)||!this.isAlive())return[];var e=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),t=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(e);return this.pivotMode||this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=this.gridColumns.map(function(e){return e.getColId()});e.sort(function(e,n){return t.indexOf(e.colId)-t.indexOf(n.colId)})},t.prototype.resetColumnState=function(e,t){void 0===t&&(t="api");var n=this.getColumnsFromTree(this.primaryColumnTree),i=[],o=1e3,s=1e3;n&&n.forEach(function(e){var t=e.getColDef(),n=null!=t.sort?t.sort:null,a=t.sortIndex,l=!!t.hide,u=t.pinned?t.pinned:null,c=t.width,h=null!=t.flex?t.flex:null,p=t.rowGroupIndex,d=t.rowGroup;null!=p||null!=d&&0!=d||(p=null,d=null);var f=t.pivotIndex,g=t.pivot;null!=f||null!=g&&0!=g||(f=null,g=null);var m=null!=t.aggFunc?t.aggFunc:null,y={colId:e.getColId(),sort:n,sortIndex:a,hide:l,pinned:u,width:c,flex:h,rowGroup:d,rowGroupIndex:p,pivot:g,pivotIndex:f,aggFunc:m};r(p)&&d&&(y.rowGroupIndex=o++),r(f)&&g&&(y.pivotIndex=s++),i.push(y)}),this.applyColumnState({state:i,applyOrder:!0},t)},t.prototype.applyColumnState=function(e,t){var n=this;if(void 0===t&&(t="api"),s(this.primaryColumns))return!1;if(!e||!e.state||e.state.forEach){this.columnAnimationService.start();var i=this.compareColumnStatesAndRaiseEvents(t);this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns.slice(),r=!0,a={},l={},u=[],c=this.rowGroupColumns.slice(),h=this.pivotColumns.slice();e.state&&e.state.forEach(function(i){var s=i.colId;if(Je(s,ye.GROUP_AUTO_COLUMN_ID))u.push(i);else{var c=n.getPrimaryColumn(s);c?(n.syncColumnWithStateItem(c,i,e.defaultState,a,l,!1,t),C(o,c)):r=!1}}),o.forEach(function(i){n.syncColumnWithStateItem(i,null,e.defaultState,a,l,!1,t)});var p=function(e,t,n,i){var o=e[n.getId()],r=e[i.getId()],s=null!=o,a=null!=r;if(s&&a)return o-r;if(s)return-1;if(a)return 1;var l=t.indexOf(n),u=t.indexOf(i),c=l>=0;return c&&u>=0?l-u:c?-1:1};if(this.rowGroupColumns.sort(p.bind(this,a,c)),this.pivotColumns.sort(p.bind(this,l,h)),this.updateGridColumns(),u.forEach(function(i){var o=n.getAutoColumn(i.colId);n.syncColumnWithStateItem(o,i,e.defaultState,null,null,!0,t)}),this.gridColsArePrimary&&e.applyOrder&&e.state){var d=e.state.map(function(e){return e.colId});this.gridColumns.sort(function(e,t){return d.indexOf(e.getId())-d.indexOf(t.getId())}),this.putFixedColumnsFirst()}return this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t}),i(),this.columnAnimationService.finish(),r}console.warn("ag-Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.")},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var t=this;if(!this.columnDefs)return function(){};var n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),o={};return i.forEach(function(e){o[e.colId]=e}),function(){if(!t.gridOptionsWrapper.isSuppressColumnStateEvents()){var r=function(n,i,o,r){y(i.map(r).sort(),o.map(r).sort())||t.eventService.dispatchEvent({type:n,columns:o,column:1===o.length?o[0]:null,api:t.gridApi,columnApi:t.columnApi,source:e})},s=function(e){var n=[];return t.gridColumns.forEach(function(t){var i=o[t.getColId()];i&&e(i,t)&&n.push(t)}),n},a=function(e){return e.getColId()};r(Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,t.rowGroupColumns,a),r(Ue.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,t.pivotColumns,a),r(Ue.EVENT_COLUMN_VALUE_CHANGED,n.valueColumns,t.valueColumns,a),t.fireColumnResizedEvent(s(function(e,t){return e.width!=t.getActualWidth()}),!0,e),t.raiseColumnPinnedEvent(s(function(e,t){return e.pinned!=t.getPinned()}),e),t.raiseColumnVisibleEvent(s(function(e,t){return e.hide==t.isVisible()}),e),s(function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()}).length>0&&t.sortController.dispatchSortChangedEvents(),t.raiseColumnMovedEvent(i,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_PINNED,pinned:null,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnVisibleEvent=function(e,t){e.length&&this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_VISIBLE,visible:void 0,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.raiseColumnMovedEvent=function(e,t){var n=this,i=this.getColumnState(),o={};i.forEach(function(e){return o[e.colId]=e});var r={};e.forEach(function(e){o[e.colId]&&(r[e.colId]=!0)});var s=D(e,function(e){return r[e.colId]}),a=D(i,function(e){return r[e.colId]}),l=[];a.forEach(function(e,t){var i=s[t];i.colId!==e.colId&&l.push(n.getGridColumn(i.colId))}),l.length&&this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_MOVED,columns:l,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:t})},t.prototype.syncColumnWithStateItem=function(e,t,n,i,r,s,a){if(e){var l=function(e,i){return!t||void 0===t[e]&&void 0===t[i]?!n||void 0===n[e]&&void 0===n[i]?{value1:void 0,value2:void 0}:{value1:n[e],value2:n[i]}:{value1:t[e],value2:t[i]}},u=l("hide").value1;void 0!==u&&e.setVisible(!u,a);var c=l("pinned").value1;void 0!==c&&e.setPinned(c);var h=this.gridOptionsWrapper.getMinColWidth(),p=l("flex").value1;if(void 0!==p&&e.setFlex(p),e.getFlex()<=0){var d=l("width").value1;null!=d&&h&&d>=h&&e.setActualWidth(d,a)}var f=l("sort").value1;void 0!==f&&e.setSort(f===ye.SORT_DESC||f===ye.SORT_ASC?f:void 0);var g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),!s){var m=l("aggFunc").value1;void 0!==m&&("string"==typeof m?(e.setAggFunc(m),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(o(m)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.setAggFunc(null),e.isValueActive()&&(e.setValueActive(!1,a),C(this.valueColumns,e))));var y=l("rowGroup","rowGroupIndex"),v=y.value1,w=y.value2;void 0===v&&void 0===w||("number"==typeof w||v?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),"number"==typeof w&&(i[e.getId()]=w)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),C(this.rowGroupColumns,e)));var b=l("pivot","pivotIndex"),S=b.value1,E=b.value2;void 0===S&&void 0===E||("number"==typeof E||S?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),"number"==typeof E&&(r[e.getId()]=E)):e.isPivotActive()&&(e.setPivotActive(!1,a),C(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var n=[];return e&&e.forEach(function(e){var i=t(e);i&&n.push(i)}),n},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("ag-Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.getColumn(e,this.primaryColumns)},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns)},t.prototype.getColumn=function(e,t){if(!e)return null;for(var n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&o(this.groupAutoColumns)&&!r(this.groupAutoColumns)?h(this.groupAutoColumns,function(n){return t.columnsMatch(n,e)}):null},t.prototype.columnsMatch=function(e,t){var n=e===t,i=e.getColDef()===t,o=e.getColId()==t;return n||i||o},t.prototype.getDisplayNameForColumn=function(e,t,n){if(void 0===n&&(n=!1),!e)return null;var i=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,i):i},t.prototype.getDisplayNameForOriginalColumnGroup=function(e,t,n){var i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,n):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForOriginalColumnGroup(e,e.getOriginalColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,n,i,o){var r=e.headerValueGetter;if(r){var s={colDef:e,column:t,columnGroup:n,originalColumnGroup:i,location:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof r?r(s):"string"==typeof r?this.expressionService.evaluate(r,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Ze(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var n,i=e.getColDef().pivotValueColumn,r=null;if(o(i))r=i?i.getAggFunc():null,n=!0;else{var s=e.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();s&&a?(r=e.getAggFunc(),n=!0):n=!1}if(n){var l="string"==typeof r?r:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(l,l)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof be)return e;var n=this.getAllDisplayedColumnGroups(),i="number"==typeof t,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,function(n){if(n instanceof be){var r=n;(i?e===r.getGroupId()&&t===r.getInstanceId():e===r.getGroupId())&&(o=r)}}),o},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,function(t,n){return t.setValueActive(n,e)},function(){},function(){},function(e){var t=e.aggFunc;return null===t||""===t?null:void 0===t?void 0:""!=t},function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc}),this.valueColumns.forEach(function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,function(t,n){return t.setRowGroupActive(n,e)},function(e){return e.rowGroupIndex},function(e){return e.initialRowGroupIndex},function(e){return e.rowGroup},function(e){return e.initialRowGroup})},t.prototype.extractColumns=function(e,t,n,i,o,r,s){void 0===e&&(e=[]),void 0===t&&(t=[]);var a=[],c=[];this.primaryColumns.forEach(function(n){var h=e.indexOf(n)<0,p=n.getColDef(),d=u(r(p)),f=u(s(p)),g=l(i(p)),m=l(o(p));(h?void 0!==d||void 0!==g?void 0!==d?d:g>=0:1==f||m>=0:void 0!==d?d:void 0!==g?null!==g&&g>=0:t.indexOf(n)>=0)&&((h?null!=g||null!=m:null!=g)?a.push(n):c.push(n))});var h=function(e){var t=i(e.getColDef()),n=o(e.getColDef());return null!=t?t:n};a.sort(function(e,t){var n=h(e),i=h(t);return n===i?0:n<i?-1:1});var p=[].concat(a);return t.forEach(function(e){c.indexOf(e)>=0&&p.push(e)}),c.forEach(function(e){p.indexOf(e)<0&&p.push(e)}),t.forEach(function(e){p.indexOf(e)<0&&n(e,!1)}),p.forEach(function(e){t.indexOf(e)<0&&n(e,!0)}),p},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,function(t,n){return t.setPivotActive(n,e)},function(e){return e.pivotIndex},function(e){return e.initialPivotIndex},function(e){return e.pivot},function(e){return e.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(e){if(e instanceof Se){var n={groupId:e.getGroupId(),open:e.getColGroupDef().openByDefault};t.push(n)}}),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(t){if(t instanceof Se){var n=t;e.push({groupId:n.getGroupId(),open:n.isExpanded()})}}),e},t.prototype.setColumnGroupState=function(e,t){var n=this;void 0===t&&(t="api"),this.columnAnimationService.start();var i=[];e.forEach(function(e){var t=e.open,o=n.getOriginalColumnGroup(e.groupId);o&&o.isExpanded()!==t&&(n.logger.log("columnGroupOpened("+o.getGroupId()+","+t+")"),o.setExpanded(t),i.push(o))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.forEach(function(e){n.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:n.gridApi,columnApi:n.columnApi})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,n){var i;void 0===n&&(n="api"),i=e instanceof Se?e.getId():e,this.setColumnGroupState([{groupId:i,open:t}],n)},t.prototype.getOriginalColumnGroup=function(e){if(e instanceof Se)return e;"string"!=typeof e&&console.error("ag-Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof Se){var i=n;i.getId()===e&&(t=i)}}),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(t){var n=e.groupAutoColumns&&E(e.groupAutoColumns,t),i=e.valueColumns&&E(e.valueColumns,t);return n||i}:function(t){return e.groupAutoColumns&&E(e.groupAutoColumns,t)||t.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach(function(e){o(e.getColDef().colSpan)&&(t=!0)}),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var n=t.getColDef();n&&o(n.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(e,t){void 0===t&&(t="api");var n=e&&e.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(e);var i=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(t||n){var i=function(e){e.forEach(function(e){if(o(e.children)){var r=e;n&&n(r),i(r.children)}else t&&t(e)})};e&&i(e)}},t.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter(function(e){return e.getColDef().autoHeight}),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.eventService.dispatchEvent({type:Ue.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.orderGridColsLikeLastPrimary=function(){var e=this;if(!r(this.lastPrimaryOrder)){var t=!0;if(this.gridColumns.forEach(function(n){e.lastPrimaryOrder.indexOf(n)>=0&&(t=!1)}),!t){var n=this.lastPrimaryOrder.filter(function(t){return e.gridColumns.indexOf(t)>=0}),i=this.gridColumns.filter(function(e){return n.indexOf(e)<0}),o=n.slice();i.forEach(function(e){var t=e.getOriginalParent();if(t){for(var n=[];!n.length&&t;)t.getLeafColumns().forEach(function(e){var t=o.indexOf(e)>=0,i=n.indexOf(e)<0;t&&i&&n.push(e)}),t=t.getOriginalParent();if(n.length){var i=n.map(function(e){return o.indexOf(e)}),r=Math.max.apply(Math,i);b(o,e,r+1)}else o.push(e)}else o.push(e)}),this.gridColumns=o}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.columnsForQuickFilter=this.groupAutoColumns?this.primaryColumns.concat(this.groupAutoColumns):this.primaryColumns},t.prototype.putFixedColumnsFirst=function(){var e=this.gridColumns.filter(function(e){return e.getColDef().lockPosition}),t=this.gridColumns.filter(function(e){return!e.getColDef().lockPosition});this.gridColumns=e.concat(t)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!r(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(e),this.refreshFlexedColumns(),this.updateVirtualSets(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.updateDisplayedColumnsFromTrees=function(e){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(e)},t.prototype.setupAllDisplayedColumns=function(){this.allDisplayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this,n=this.primaryColumns.slice(0),i=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(o){if(i){var r=t.getWidthOfColsInList(o);o.forEach(function(t){r-=t.getActualWidth(),t.setLeft(r,e)})}else{var s=0;o.forEach(function(t){t.setLeft(s,e),s+=t.getActualWidth()})}w(n,o)}),n.forEach(function(t){t.setLeft(null,e)})},t.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach(function(e){e.forEach(function(e){e instanceof be&&e.checkLeft()})})},t.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(e){e instanceof we&&t.push(e)})},t.prototype.updateDisplayedCenterVirtualColumns=function(){this.allDisplayedCenterVirtualColumns=this.suppressColumnVirtualisation?this.displayedCenterColumns:this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var e={};return this.allDisplayedVirtualColumns.forEach(function(t){e[t.getId()]=!0}),e},t.prototype.getVirtualHeaderGroupRow=function(e,t){var n;switch(e){case ye.PINNED_LEFT:n=this.displayedLeftHeaderRows[t];break;case ye.PINNED_RIGHT:n=this.displayedRightHeaderRows[t];break;default:n=this.displayedCentreHeaderRows[t]}return r(n)&&(n=[]),n},t.prototype.updateDisplayedVirtualGroups=function(e){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var t=function(n,i,o){for(var r=!1,s=0;s<n.length;s++){var a=n[s];(a instanceof we?!0===e[a.getId()]:t(a.getDisplayedChildren(),i,o+1))&&(r=!0,i[o]||(i[o]=[]),i[o].push(a))}return r};t(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),t(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),t(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},t.prototype.updateVirtualSets=function(){var e=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(e)},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var t=this;void 0===e&&(e={});var n=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),this.flexViewportWidth){var i=-1;e.resizingCols&&e.resizingCols.forEach(function(e){var n=t.displayedCenterColumns.indexOf(e);i<n&&(i=n)});var o=function(e){var n=t.displayedCenterColumns.indexOf(e)>i;return e.getFlex()&&n},r=this.displayedCenterColumns.filter(function(e){return!o(e)}),s=this.displayedCenterColumns.filter(function(e){return o(e)}),a=[];if(!s.length)return[];var l,u=[];e:for(;;){var c=s.reduce(function(e,t){return e+t.getFlex()},0);l=this.flexViewportWidth-this.getWidthOfColsInList(r);for(var h=0;h<s.length;h++){var p=s[h],d=l*p.getFlex()/c,f=void 0;if(d<p.getMinWidth()?f=p.getMinWidth():null!=p.getMaxWidth()&&d>p.getMaxWidth()&&(f=p.getMaxWidth()),f){p.setActualWidth(f,n),C(s,p),a.push(p),r.push(p);continue e}u[h]=Math.round(d)}break}var g=l;return s.forEach(function(e,t){e.setActualWidth(Math.min(u[t],g),n),a.push(e),g-=u[t]}),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(a,!0,n,s),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),s}},t.prototype.sizeColumnsToFit=function(e,t,n){void 0===t&&(t="sizeColumnsToFit");var i=this.getAllDisplayedColumns();if(!(e<=0)&&i.length){var o=[],r=[];i.forEach(function(e){!0===e.getColDef().suppressSizeToFit?r.push(e):o.push(e)});var s=o.slice(0),a=!1,l=function(e){C(o,e),r.push(e)};for(o.forEach(function(e){return e.resetActualWidth(t)});!a;){a=!0;var u=e-this.getWidthOfColsInList(r);if(u<=0)o.forEach(function(e){e.setMinimum(t)});else for(var c=u/this.getWidthOfColsInList(o),h=u,p=o.length-1;p>=0;p--){var d=o[p],f=d.getMinWidth(),g=d.getMaxWidth(),m=Math.round(d.getActualWidth()*c);m<f?(m=d.getMinWidth(),l(d),a=!1):d.isGreaterThanMax(m)?(m=g,l(d),a=!1):0===p&&(m=h),d.setActualWidth(m,t,!0),h-=m}}s.forEach(function(e){e.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),n||this.fireColumnResizedEvent(s,!0,t)}},t.prototype.buildDisplayedTrees=function(e){var t=[],n=[],i=[];e.forEach(function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":n.push(e);break;default:i.push(e)}});var o=new Ke;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,o,ye.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,ye.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,o,null,this.displayedCentreColumnTree)},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(e){e instanceof be&&e.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||t||e)this.groupAutoColumns=null;else{var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}}},t.prototype.autoColsEqual=function(e,t){return y(e,t,function(e,t){return e.getColId()===t.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(e,t){return e+t.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){var e=this.gridOptionsWrapper.getDefaultColDef();return null!=e&&!0===e.floatingFilter||null!=this.columnDefs&&this.columnDefs.some(function(e){return!0===e.floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var n=0;n<t.length;n++){var i=this[t[n]]();if(i.length)return e?m(i):i[0]}return null},nt([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),nt([le("expressionService")],t.prototype,"expressionService",void 0),nt([le("columnFactory")],t.prototype,"columnFactory",void 0),nt([le("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),nt([le("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),nt([le("columnUtils")],t.prototype,"columnUtils",void 0),nt([le("columnAnimationService")],t.prototype,"columnAnimationService",void 0),nt([le("autoGroupColService")],t.prototype,"autoGroupColService",void 0),nt([ue("aggFuncService")],t.prototype,"aggFuncService",void 0),nt([ue("valueCache")],t.prototype,"valueCache",void 0),nt([ue("animationFrameService")],t.prototype,"animationFrameService",void 0),nt([le("rowModel")],t.prototype,"rowModel",void 0),nt([le("columnApi")],t.prototype,"columnApi",void 0),nt([le("gridApi")],t.prototype,"gridApi",void 0),nt([le("sortController")],t.prototype,"sortController",void 0),nt([le("columnDefFactory")],t.prototype,"columnDefFactory",void 0),nt([re],t.prototype,"init",null),nt([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),nt([ae("columnController")],t);var n}(We);function ot(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}function rt(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}function st(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function at(){return Number.MAX_SAFE_INTEGER||9007199254740991}function lt(e){return"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?Math.floor(e):null}function ut(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var ct=Object.freeze({__proto__:null,padStart:ot,createArrayOfNumbers:rt,isNumeric:st,getMaxSafeInteger:at,cleanNumber:lt,decToHex:function(e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(e){return"number"!=typeof e?"":ut(Math.round(100*e)/100)},formatNumberCommas:ut,sum:function(e){return null==e?null:e.reduce(function(e,t){return e+t},0)}}),ht=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.calculateColInitialWidth=function(e){var t,n=this.gridOptionsWrapper,i=null!=e.minWidth?e.minWidth:n.getMinColWidth(),o=null!=e.maxWidth?e.maxWidth:n.getMaxColWidth()||at(),r=l(e.width),s=l(e.initialWidth);return t=null!=r?r:null!=s?s:n.getColWidth(),Math.max(Math.min(t,o),i)},t.prototype.getOriginalPathForColumn=function(e,t){var n=[],i=!1,o=function(t,r){for(var s=0;s<t.length;s++){if(i)return;var a=t[s];a instanceof Se?(o(a.getChildren(),r+1),n[r]=a):a===e&&(i=!0)}};return o(t,0),i?n:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,n){var i=this;t&&t.forEach(function(t){t instanceof Se&&i.depthFirstOriginalTreeSearch(t,t.getChildren(),n),n(t,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var n=this;e&&e.forEach(function(e){e instanceof be&&n.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var n=this;e&&e.forEach(function(e){e instanceof be&&n.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},pt([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),pt([ae("columnUtils")],t)}(We),ft=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ft(t,e),t.prototype.createDisplayedGroups=function(e,t,n,i,o){var r,s,a=this,l=[],u=this.mapOldGroupsById(o);return e.forEach(function(e){for(var o=a.getOriginalPathForColumn(t,e),c=[],h=!s,p=0;p<o.length;p++)if(h||o[p]!==s[p]){var d=a.createColumnGroup(o[p],n,u,i);c[p]=d,0==p?l.push(d):c[p-1].addChild(d)}else c[p]=r[p];0===c.length?l.push(e):m(c).addChild(e),r=c,s=o}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,n,i){var r=e.getGroupId(),s=t.getInstanceIdForKey(r),a=n[be.createUniqueId(r,s)];return a&&a.getOriginalColumnGroup()!==e&&(a=null),o(a)?a.reset():(a=new be(e,r,s,i),this.context.createBean(a)),a},t.prototype.mapOldGroupsById=function(e){var t={},n=function(e){e.forEach(function(e){if(e instanceof be){var i=e;t[e.getUniqueId()]=i,n(i.getChildren())}})};return e&&n(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var n=this;e.forEach(function(e){if(e.setParent(t),e instanceof be){var i=e;n.setupParentsIntoColumns(i.getChildren(),i)}})},t.prototype.getOriginalPathForColumn=function(e,t){var n=[],i=!1,o=function(e,r){for(var s=0;s<e.length;s++){if(i)return;var a=e[s];a instanceof Se?(o(a.getChildren(),r+1),n[r]=a):a===t&&(i=!0)}};return o(e,0),i?n:(console.warn("could not get path"),null)},gt([le("columnUtils")],t.prototype,"columnUtils",void 0),gt([ae("displayedGroupCreator")],t)}(We),yt=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","chartThemeOverrides","customChartThemes"],e.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight"],e.ALL_PROPERTIES=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),vt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},Ct=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map(function(t){return e.getCallbackForEvent(t)})),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,n,i){"object"!=typeof t&&(t={});var o=t,r=function(e){return void 0!==n[e]};return vt(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(r).forEach(function(e){return o[e]=n[e]}),e.BOOLEAN_PROPERTIES.filter(r).forEach(function(t){return o[t]=e.toBoolean(n[t])}),e.NUMBER_PROPERTIES.filter(r).forEach(function(t){return o[t]=e.toNumber(n[t])}),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,n,i,o){if(t){var r=n,s=function(e){return t[e]};vt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach(function(e){return r[e]=t[e].currentValue}),e.BOOLEAN_PROPERTIES.filter(s).forEach(function(n){return r[n]=e.toBoolean(t[n].currentValue)}),e.NUMBER_PROPERTIES.filter(s).forEach(function(n){return r[n]=e.toNumber(t[n].currentValue)}),t.enableCellTextSelection&&i.setEnableCellTextSelection(e.toBoolean(t.enableCellTextSelection.currentValue)),t.quickFilterText&&i.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&i.setRowData(t.rowData.currentValue),t.pinnedTopRowData&&i.setPinnedTopRowData(t.pinnedTopRowData.currentValue),t.pinnedBottomRowData&&i.setPinnedBottomRowData(t.pinnedBottomRowData.currentValue),t.autoGroupColumnDef&&i.setAutoGroupColumnDef(t.autoGroupColumnDef.currentValue,"gridOptionsChanged"),t.columnDefs&&i.setColumnDefs(t.columnDefs.currentValue,"gridOptionsChanged"),t.datasource&&i.setDatasource(t.datasource.currentValue),t.headerHeight&&i.setHeaderHeight(e.toNumber(t.headerHeight.currentValue)),t.paginationPageSize&&i.paginationSetPageSize(e.toNumber(t.paginationPageSize.currentValue)),t.pivotMode&&o.setPivotMode(e.toBoolean(t.pivotMode.currentValue)),t.groupRemoveSingleChildren&&i.setGroupRemoveSingleChildren(e.toBoolean(t.groupRemoveSingleChildren.currentValue)),t.suppressRowDrag&&i.setSuppressRowDrag(e.toBoolean(t.suppressRowDrag.currentValue)),t.suppressMoveWhenRowDragging&&i.setSuppressMoveWhenRowDragging(e.toBoolean(t.suppressMoveWhenRowDragging.currentValue)),t.suppressRowClickSelection&&i.setSuppressRowClickSelection(e.toBoolean(t.suppressRowClickSelection.currentValue)),t.suppressClipboardPaste&&i.setSuppressClipboardPaste(e.toBoolean(t.suppressClipboardPaste.currentValue)),t.sideBar&&i.setSideBar(t.sideBar.currentValue);var a={type:Ue.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};k(t,function(e,t){a[e]=t}),i.dispatchEvent(a)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=yt.STRING_PROPERTIES,e.OBJECT_PROPERTIES=yt.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=yt.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=yt.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=yt.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=yt.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=yt.ALL_PROPERTIES,e}();Ct.EVENTS=p(Ue);var wt=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter"],e.ALL_PROPERTIES=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),bt=function(){function e(e,t,n,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,i||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var n=e.nameToHex[t];if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var n=t.match(e.hexRe);if(n)return new e((i=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(r=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=t.match(e.shortHexRe)){var i=parseInt(n[1],16),o=parseInt(n[2],16),r=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new e((i+=16*i)/255,(o+=16*o)/255,(r+=16*r)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var n=t.match(e.rgbRe);if(n)return new e(+n[1]/255,+n[2]/255,+n[3]/255);if(n=t.match(e.rgbaRe))return new e(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,n,i,o){void 0===o&&(o=1);var r=e.HSBtoRGB(t,n,i);return new e(r[0],r[1],r[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,n){var i=Math.min(e,t,n),o=Math.max(e,t,n),r=NaN;if(i!==o){var s=o-i,a=(o-e)/s,l=(o-t)/s,u=(o-n)/s;r=e===o?u-l:t===o?2+a-u:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==o?(o-i)/o:0,o]},e.HSBtoRGB=function(e,t,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var i=0,o=0,r=0;if(0===t)i=o=r=n;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=n*(1-t),u=n*(1-t*a),c=n*(1-t*(1-a));switch(s>>0){case 0:i=n,o=c,r=l;break;case 1:i=u,o=n,r=l;break;case 2:i=l,o=n,r=c;break;case 3:i=l,o=u,r=n;break;case 4:i=c,o=l,r=n;break;case 5:i=n,o=l,r=u}}return[i,o,r]},e.prototype.derive=function(t,n,i,o){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&i>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*n,1),0);s=Math.max(Math.min(s*i,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(a,l,s);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function St(e,t){void 0===t&&(t=",");for(var n,i,o,r=[],s=function(e){return"\r"===e||"\n"===e},a=!1,l=function(l,u,c){var h=e[c-1],p=e[c],d=e[c+1],f=function(){r[l]||(r[l]=[]),r[l][u]||(r[l][u]="")};if(f(),'"'===p){if(a)return'"'===d?(r[l][u]+='"',c++):a=!1,n=l,i=u,o=c,"continue";if(void 0===h||h===t||s(h))return a=!0,n=l,i=u,o=c,"continue"}if(!a){if(p===t)return u++,f(),n=l,i=u,o=c,"continue";if(s(p))return u=0,l++,f(),"\r"===p&&"\n"===d&&c++,n=l,i=u,o=c,"continue"}r[l][u]+=p,n=l,i=u,o=c},u=0,c=0,h=0;h<e.length;h++)l(u,c,h),u=n,c=i,h=o;return r}var Et,_t,Ot,xt,Tt,Rt,Pt=Object.freeze({__proto__:null,stringToArray:St});function Dt(){return void 0===_t&&(_t=!!document.documentMode),_t}function At(){return void 0===Ot&&(Ot=!Dt()&&!!window.StyleMedia),Ot}function kt(){if(void 0===Et){var e=window;Et=Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0||(t=e.safari&&e.safari.pushNotification)&&"[object SafariRemoteNotification]"===t.toString()}var t;return Et}function It(){if(void 0===xt){var e=window;xt=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return xt}function Ft(){if(void 0===Tt){var e=window;Tt=void 0!==e.InstallTrigger}return Tt}function Nt(){return void 0===Rt&&(Rt=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Rt}function Mt(e){if(!e)return null;var t=e.tabIndex,n=e.getAttribute("tabIndex");return Dt()&&0===t&&null===n?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[e.nodeName.toLowerCase()]?"0":null:-1!==t||null!==n&&(""!==n||Ft())?t.toString():null}function Lt(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var i=2*e;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),e}function Vt(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;return 0===n&&0===t.clientWidth?null:(t.parentNode&&t.parentNode.removeChild(t),n)}function Gt(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Ht(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Wt,Bt=Object.freeze({__proto__:null,isBrowserIE:Dt,isBrowserEdge:At,isBrowserSafari:kt,isBrowserChrome:It,isBrowserFirefox:Ft,isIOSUserAgent:Nt,getTabIndex:Mt,getMaxDivHeight:Lt,getScrollbarWidth:Vt,hasOverflowScrolling:function(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map(function(e){return"-"+e+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var i=window.getComputedStyle(t);if("touch"===i.overflowScrolling&&(n=!0),!n)for(var o=0,r=e;o<r.length;o++)if("touch"===i[r[o]+"OverflowScrolling"]){n=!0;break}return t.parentNode&&t.parentNode.removeChild(t),n},getBodyWidth:Gt,getBodyHeight:Ht});function jt(e,t){if(e&&t&&0!==t.length){if(!(t.indexOf(" ")>=0)){if(e.classList)e.classList.add(t);else if(e.className&&e.className.length>0){var n=e.className.split(" ");n.indexOf(t)<0&&(n.push(t),e.setAttribute("class",n.join(" ")))}else e.setAttribute("class",t);return e}t.split(" ").forEach(function(t){return jt(e,t)})}}function zt(e,t){if(e&&t&&0!==t.length)if(t.indexOf(" ")>=0)t.split(" ").forEach(function(t){return zt(e,t)});else if(e.classList)e.classList.remove(t);else if(e.className&&e.className.length>0){var n=e.className.split(" ").filter(function(e){return e!==t}).join(" ");e.setAttribute("class",n)}}function Ut(e,t,n){n?jt(e,t):zt(e,t)}function Kt(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var n=e.className===t,i=e.className.indexOf(" "+t+" ")>=0,o=0===e.className.indexOf(t+" "),r=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return n||i||o||r}return!1}function qt(e,t){Ut(e,"ag-hidden",!t)}function Yt(e,t){Ut(e,"ag-invisible",!t)}function $t(e,t){var n="disabled",i=t?function(e){return e.setAttribute(n,"")}:function(e){return e.removeAttribute(n)};i(e),Pn(e.querySelectorAll("input"),function(e){return i(e)})}function Xt(e,t,n){for(var i=0;e;){if(Kt(e,t))return!0;if(e=e.parentElement,n&&++i>n)break}return!1}function Qt(e){var t=window.getComputedStyle(e),n=t.width,i=t.paddingTop,o=t.paddingRight,r=t.paddingBottom,s=t.paddingLeft,a=t.marginTop,l=t.marginRight,u=t.marginBottom,c=t.marginLeft,h=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(n),paddingTop:parseFloat(i),paddingRight:parseFloat(o),paddingBottom:parseFloat(r),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(u),marginLeft:parseFloat(c),boxSizing:h}}function Zt(e){var t=Qt(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Jt(e){var t=Qt(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function en(e){var t=Qt(e);return Math.ceil(e.offsetHeight+(t.marginBottom+t.marginTop))}function tn(e){var t=Qt(e);return Math.ceil(e.offsetWidth+(t.marginLeft+t.marginRight))}function nn(){if("boolean"==typeof Wt)return Wt;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Wt=0===e.scrollLeft,document.body.removeChild(e),Wt}function on(e,t){var n=e.scrollLeft;return t&&(n=Math.abs(n),It()&&!nn()&&(n=e.scrollWidth-e.clientWidth-n)),n}function rn(e,t,n){n&&(nn()?t*=-1:(kt()||It())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function sn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function an(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ln(e){return null!==e.offsetParent}function un(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function cn(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t}function hn(e){return e&&e.clientHeight?e.clientHeight:0}function pn(e){return e&&e.clientWidth?e.clientWidth:0}function dn(e,t,n){n&&n.nextSibling===t||(n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function fn(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=e.children[n];o!==i&&e.insertBefore(i,o)}}function gn(e,t,n){var i;return n?(n.insertAdjacentHTML("afterend",t),i=n.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,i=e.firstChild),i}function mn(e,t){t&&Object.keys(t).forEach(function(n){var i=Xe(n);i&&(e.style[i]=t[n])})}function yn(e){return e.clientWidth<e.scrollWidth}function vn(e){return e.clientHeight<e.scrollHeight}function Cn(e,t){"flex"===t?(e.style.width=null,e.style.minWidth=null,e.style.maxWidth=null,e.style.flex="1 1 auto"):wn(e,t)}function wn(e,t){t=Sn(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function bn(e,t){t=Sn(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Sn(e){return"number"==typeof e?e+"px":e}function En(e){return"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function _n(e){return"function"==typeof HTMLElement?e instanceof HTMLElement:e&&j(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function On(e){return En(e)||_n(e)}function xn(e){if(null==e)return[];var t=[];return Pn(e,function(e){return t.push(e)}),t}function Tn(e,t){if(e)for(var n=0;n<e.length;n++){var i=e[n];t(i.name,i.value)}}function Rn(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n.toString())}function Pn(e,t){if(null!=e)for(var n=0;n<e.length;n++)t(e[n])}var Dn=Object.freeze({__proto__:null,addCssClass:jt,removeCssClass:zt,addOrRemoveCssClass:Ut,radioCssClass:function(e,t,n){for(var i=e.parentElement.firstChild;i;)t&&Ut(i,t,i===e),n&&Ut(i,n,i!==e),i=i.nextSibling},containsClass:Kt,setDisplayed:qt,setVisible:Yt,setDisabled:$t,isElementChildOfClass:Xt,getElementSize:Qt,getInnerHeight:Zt,getInnerWidth:Jt,getAbsoluteHeight:en,getAbsoluteWidth:tn,isRtlNegativeScroll:nn,getScrollLeft:on,setScrollLeft:rn,clearElement:sn,removeElement:function(e,t){an(e.querySelector(t))},removeFromParent:an,isVisible:ln,loadTemplate:un,appendHtml:cn,getElementAttribute:function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},offsetHeight:hn,offsetWidth:pn,ensureDomOrder:dn,setDomChildOrder:fn,insertTemplateWithDomOrder:gn,prependDC:function(e,t){o(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},addStylesToElement:mn,isHorizontalScrollShowing:yn,isVerticalScrollShowing:vn,setElementWidth:Cn,setFixedWidth:wn,setElementHeight:function(e,t){"flex"===t?(e.style.height=null,e.style.minHeight=null,e.style.maxHeight=null,e.style.flex="1 1 auto"):bn(e,t)},setFixedHeight:bn,formatSize:Sn,isNode:En,isElement:_n,isNodeOrElement:On,copyNodeList:xn,iterateNamedNodeMap:Tn,setCheckboxState:function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},addOrRemoveAttribute:Rn,nodeListForEach:Pn});function An(e){if(!e)return"";var t=[];return k(e,function(e,n){var i=$e(e);t.push(i+": "+n+";")}),t.join(" ")}function kn(e,t){e.then(function(e){var n=e.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)})}var In=Object.freeze({__proto__:null,getNameOfClass:function(e){var t=e.toString(),n=/function (.{1,})\(/.exec(t);return n&&n.length>1?n[1]:""},findLineByLeastSquares:function(e){var t=e.length,n=0;if(t<=1)return e;for(var i=0;i<e.length;i++){var o=e[i];Math.floor(o)!==o&&(n=Math.max(n,o.toString().split(".")[1].length))}for(var r=0,s=0,a=0,l=0,u=0,c=0;c<t;c++)r+=c,s+=u=e[c],l+=c*c,a+=c*u;var h=(t*a-r*s)/(t*l-r*r),p=s/t-h*r/t,d=[];for(c=0;c<=t;c++)d.push(parseFloat((c*h+p).toFixed(n)));return d},cssStyleObjectToMarkup:An,message:function(e){var t=document.createElement("div"),n=document.querySelector("#__ag__message");t.innerHTML=e,n||(n=un('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)),n.insertBefore(t,n.children[0])},bindCellRendererToHtmlElement:kn});function Fn(e,t,n){e.setAttribute(Mn(t),n.toString())}function Nn(e,t){e.removeAttribute(Mn(t))}function Mn(e){return"aria-"+e}function Ln(e){return e.isSortAscending()?"ascending":e.isSortDescending()?"descending":"none"}function Vn(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Gn(e,t){Fn(e,"label",t)}function Hn(e,t){Fn(e,"labelledby",t)}function Wn(e,t){Fn(e,"describedby",t)}function Bn(e,t){Fn(e,"disabled",t)}function jn(e,t){Fn(e,"expanded",t)}function zn(e){Nn(e,"expanded")}function Un(e,t){Fn(e,"setsize",t)}function Kn(e,t){Fn(e,"posinset",t)}function qn(e,t){Fn(e,"multiselectable",t)}function Yn(e,t){Fn(e,"rowcount",t)}function $n(e,t){Fn(e,"rowindex",t)}function Xn(e,t){Fn(e,"colcount",t)}function Qn(e,t){Fn(e,"colindex",t)}function Zn(e,t){Fn(e,"colspan",t)}function Jn(e,t){Fn(e,"sort",t)}function ei(e){Nn(e,"sort")}function ti(e,t){var n="selected";t?Fn(e,n,t):Nn(e,n)}function ni(e,t){Fn(e,"checked",void 0===t?"mixed":t)}var ii=Object.freeze({__proto__:null,getAriaSortState:Ln,getAriaLevel:function(e){return parseInt(e.getAttribute("aria-level"),10)},getAriaPosInSet:Vn,setAriaLabel:Gn,setAriaLabelledBy:Hn,setAriaDescribedBy:Wn,setAriaLevel:function(e,t){Fn(e,"level",t)},setAriaDisabled:Bn,setAriaExpanded:jn,removeAriaExpanded:zn,setAriaSetSize:Un,setAriaPosInSet:Kn,setAriaMultiSelectable:qn,setAriaRowCount:Yn,setAriaRowIndex:$n,setAriaColCount:Xn,setAriaColIndex:Qn,setAriaColSpan:Zn,setAriaSort:Jn,removeAriaSort:ei,setAriaSelected:ti,setAriaChecked:ni});function oi(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n="-"),!e)return null;var i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return ot(e,2)}).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(function(e){return ot(e,2)}).join(":")),i}function ri(e){if(!e)return null;var t=e.split(" "),n=t[0],i=t[1];if(!n)return null;var o=n.split("-").map(function(e){return parseInt(e,10)});if(3!==o.filter(function(e){return!isNaN(e)}).length)return null;var r=o[0],s=o[1],a=o[2],l=new Date(r,s-1,a);if(l.getFullYear()!==r||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!i||"00:00:00"===i)return l;var u=i.split(":").map(function(e){return parseInt(e,10)}),c=u[0],h=u[1],p=u[2];return c>=0&&c<24&&l.setHours(c),h>=0&&h<60&&l.setMinutes(h),p>=0&&p<60&&l.setSeconds(p),l}var si=Object.freeze({__proto__:null,serialiseDate:oi,parseDateTimeFromString:ri});function ai(e,t,n){var i={},o=e.filter(function(e){return!t.some(function(t){return t===e})});return o.length>0&&o.forEach(function(e){return i[e]=li(e,n)}),i}function li(e,t,n,i){var o=i?hi:ci,r=t.map(function(t){return{value:t,relevance:o(e.toLowerCase(),t.toLocaleLowerCase())}});return r.sort(function(e,t){return t.relevance-e.relevance}),n&&(r=r.filter(function(e){return 0!==e.relevance})),r.map(function(e){return e.value})}function ui(e){var t,n,i,o=e.toLowerCase(),r=new Array(o.length-1);for(t=n=0,i=r.length;n<=i;t=n+=1)r[t]=o.slice(t,t+2);return r}function ci(e,t){if(0===e.length&&0===t.length)return 0;var n,i,o=ui(e),r=ui(t),s=o.length+r.length,a=0;for(n=0,i=o.length;n<i;n++){var l,u=o[n],c=void 0;for(c=0,l=r.length;c<l;c++)u===r[c]&&a++}return a>0?2*a/s:0}function hi(e,t){for(var n=e.replace(/\s/g,""),i=t.replace(/\s/g,""),o=0,r=0;r<n.length;r++){var s=i.indexOf(n[r]);-1!==s&&(o+=100*(i.length-s)/i.length,o*=o)}return o}var pi=Object.freeze({__proto__:null,fuzzyCheckStrings:ai,fuzzySuggestions:li,get_bigrams:ui,string_distances:ci,string_weighted_distances:hi}),di={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function fi(e,t,n){var i=gi(e,t,n);if(i.className.indexOf("ag-icon")>-1)return i;var o=document.createElement("span");return o.appendChild(i),o}function gi(e,t,n,i){var o=null,r=n&&n.getColDef().icons;if(r&&(o=r[e]),t&&!o){var s=t.getIcons();s&&(o=s[e])}if(!o){var a=document.createElement("span"),l=di[e];return l||(i?l=e:(console.warn("ag-Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),a.setAttribute("role","presentation"),a}var u=void 0;if("function"==typeof o)u=o();else{if("string"!=typeof o)throw new Error("icon from grid options needs to be a string or a function");u=o}return"string"==typeof u?un(u):On(u)?u:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}var mi=Object.freeze({__proto__:null,iconNameClassMap:di,createIcon:fi,createIconNoSpan:gi});function yi(e,t){return(e.which||e.keyCode)===t}function vi(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length,n=function(e){return(At()||Dt())&&"Del"===e.key&&46===e.charCode}(e);return t||n}function Ci(e,t,n,i,o){var r=e.getSuppressKeyboardEventFunc(),s=i.getColDef().suppressKeyboardEvent;if(!r&&!s)return!1;var a={event:t,editing:o,column:i,api:e.getApi(),node:n,data:n.data,colDef:i.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};return!(!s||!s(a))||!!r&&r(a)}function wi(e,t,n,i){var r=i.getDefinition(),s=r.suppressHeaderKeyboardEvent;return!!o(s)&&!!s({api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext(),colDef:r,column:i,headerRowIndex:n,event:t})}var bi=Object.freeze({__proto__:null,isKeyPressed:yi,isEventFromPrintableCharacter:vi,isUserSuppressingKeyboardEvent:Ci,isUserSuppressingHeaderKeyboardEvent:wi}),Si=Object.freeze({__proto__:null,keys:function(e){var t=[];return e.forEach(function(e,n){return t.push(n)}),t}});function Ei(e,t,n){if(0===n)return!1;var i=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(i,o)<=n}var _i=Object.freeze({__proto__:null,normalizeWheel:function(e){var t=0,n=0,i=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),i=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||o)&&e.deltaMode&&(1==e.deltaMode?(i*=40,o*=40):(i*=800,o*=800)),i&&!t&&(t=i<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:i,pixelY:o}},isLeftClick:function(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)},areEventsNear:Ei}),Oi=Object.freeze({__proto__:null,sortRowNodesByOrder:function(e,t){if(e){for(var n=function(e,n){var i=t[e.id],o=t[n.id],r=void 0!==i,s=void 0!==o;return r&&s?i-o:r||s?r?1:-1:e.__objectId-n.__objectId},i=!1,o=0;o<e.length-1;o++)if(n(e[o],e[o+1])>0){i=!0;break}i&&e.sort(n)}},traverseNodesWithKey:function(e,t){var n=[];!function e(i){i.forEach(function(i){if(i.group||i.hasChildren()){n.push(i.key);var o=n.join("|");t(i,o),e(i.childrenAfterGroup),n.pop()}})}(e)}});function xi(e){var t=new Set;return e.forEach(function(e){return t.add(e)}),t}var Ti,Ri=Object.freeze({__proto__:null,convertToSet:xi}),Pi=function(){return(Pi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Di=Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi({},In),ii),A),Bt),Pt),si),Dn),Ge),ne),pi),d),mi),bi),Si),_i),ct),z),Oi),Ri),et),Ai=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();(Ti=t.PromiseStatus||(t.PromiseStatus={}))[Ti.IN_PROGRESS=0]="IN_PROGRESS",Ti[Ti.RESOLVED=1]="RESOLVED";var ki=function(){function e(e){var n=this;this.status=t.PromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(e){return n.onDone(e)},function(e){return n.onReject(e)})}return e.all=function(t){return new e(function(e){var n=t.length,i=new Array(n);R(t,function(t,o){t.then(function(t){i[o]=t,0==--n&&e(i)})})})},e.resolve=function(t){return void 0===t&&(t=null),new e(function(e){return e(t)})},e.prototype.then=function(n){var i=this;return new e(function(e){i.status===t.PromiseStatus.RESOLVED?e(n(i.resolution)):i.waiters.push(function(t){return e(n(t))})})},e.prototype.resolveNow=function(e,n){return this.status===t.PromiseStatus.RESOLVED?n(this.resolution):e},e.prototype.onDone=function(e){this.status=t.PromiseStatus.RESOLVED,this.resolution=e,R(this.waiters,function(t){return t(e)})},e.prototype.onReject=function(e){console.warn("TBI")},e}(),Ii=function(){function e(){this.timestamp=(new Date).getTime()}return e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()},e}(),Fi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ni=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Mi=new Ai,Li=function(e){function t(t){var n=e.call(this)||this;return n.annotatedGuiListeners=[],n.displayed=!0,n.visible=!0,n.compId=Mi.next(),n.cssClassStates={},t&&n.setTemplate(t),n}return Fi(t,e),t.prototype.getCompId=function(){return this.compId},t.prototype.createChildComponentsFromTags=function(e,t){var n=this;R(xn(e.childNodes),function(i){if(i instanceof HTMLElement){var o=n.createComponentFromElement(i,function(e){n.copyAttributesFromNode(i,e.getGui())},t);if(o){if(o.addItems&&i.children.length){n.createChildComponentsFromTags(i,t);var r=Array.prototype.slice.call(i.children);o.addItems(r)}n.swapComponentForNode(o,e,i)}else i.childNodes&&n.createChildComponentsFromTags(i,t)}})},t.prototype.createComponentFromElement=function(e,t,n){var i=e.nodeName,o=n?n[e.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(i);if(r){var s=new r(o);return this.createBean(s,null,t),s}return null},t.prototype.copyAttributesFromNode=function(e,t){Tn(e.attributes,function(e,n){return t.setAttribute(e,n)})},t.prototype.swapComponentForNode=function(e,t,n){var i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var n=this;this.iterateOverQuerySelectors(function(i){n[i.attributeName]===t&&(n[i.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var n=t.__agComponentMetaData,i=$(t.constructor);n&&n[i]&&n[i].querySelectors&&R(n[i].querySelectors,function(t){return e(t)}),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var n=un(e);this.setTemplateFromElement(n,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors(function(n){var i=e.eGui.querySelector(n.querySelector);i&&(t[n.attributeName]=i.__agComponent||i)})}},t.prototype.addAnnotatedGuiEventListeners=function(){var e=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var t=this.getAgComponentMetaData("guiListenerMethods");t&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),t.forEach(function(t){var n=e.getRefElement(t.ref);if(n){var i=e[t.methodName].bind(e);n.addEventListener(t.eventName,i),e.annotatedGuiListeners.push({eventName:t.eventName,listener:i,element:n})}}))}},t.prototype.addAnnotatedGridEventListeners=function(){var e=this,t=this.getAgComponentMetaData("gridListenerMethods");t&&t.forEach(function(t){var n=e[t.methodName].bind(e);e.addManagedListener(e.eventService,t.eventName,n)})},t.prototype.getAgComponentMetaData=function(e){for(var t=[],n=Object.getPrototypeOf(this);null!=n;){var i=n.__agComponentMetaData,o=$(n.constructor);i&&i[o]&&i[o][e]&&(t=t.concat(i[o][e])),n=Object.getPrototypeOf(n)}return t},t.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(R(this.annotatedGuiListeners,function(e){e.element.removeEventListener(e.eventName,e.listener)}),this.annotatedGuiListeners=[])},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),null!=e)if(On(e))t.appendChild(e);else{var n=e;t.appendChild(n.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,n))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,Yt(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,qt(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var n=this;this.eGui.addEventListener(e,t),this.addDestroyFunc(function(){return n.eGui.removeEventListener(e,t)})},t.prototype.addCssClass=function(e){!0!==this.cssClassStates[e]&&(jt(this.eGui,e),this.cssClassStates[e]=!0)},t.prototype.removeCssClass=function(e){!1!==this.cssClassStates[e]&&(zt(this.eGui,e),this.cssClassStates[e]=!1)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassStates[e]!==t&&(Ut(this.eGui,e,t),this.cssClassStates[e]=t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Ni([le("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Ni([oe],t.prototype,"createChildComponentsPreConstruct",null),Ni([re],t.prototype,"addAnnotatedGridEventListeners",null),t}(We),Vi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vi(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){jt(t.getGui(),"ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&zt(t.getGui(),"ag-has-popup"),e.prototype.destroy.call(this)},t}(Li);function Hi(e){return Wi.bind(this,"[ref="+e+"]")}function Wi(e,t,n,i){null!==e?"number"!=typeof i?zi(t,"querySelectors",{attributeName:n,querySelector:e}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function Bi(e,t,n){null!=e?zi(t,"gridListenerMethods",{methodName:n,eventName:e}):console.error("ag-Grid: GridListener eventName is missing")}function ji(e,t,n,i){null!=t?zi(n,"guiListenerMethods",{methodName:i,eventName:t,ref:e}):console.error("ag-Grid: GuiListener eventName is missing")}function zi(e,t,n){var i=function(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}(e,$(e.constructor));i[t]||(i[t]=[]),i[t].push(n)}var Ui,Ki=function(){function e(){}return e.BACKSPACE=8,e.TAB=9,e.ENTER=13,e.SHIFT=16,e.ESCAPE=27,e.SPACE=32,e.LEFT=37,e.UP=38,e.RIGHT=39,e.DOWN=40,e.DELETE=46,e.A=65,e.C=67,e.V=86,e.D=68,e.Z=90,e.Y=89,e.F2=113,e.PAGE_UP=33,e.PAGE_DOWN=34,e.PAGE_HOME=36,e.PAGE_END=35,e}(),qi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yi=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return qi(t,e),t.prototype.init=function(e){this.params=e;var t,n=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.keyPress===Ki.BACKSPACE||e.keyPress===Ki.DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.keyPress!==Ki.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),o(t)&&n.setValue(t,!0),this.addManagedListener(n.getGui(),"keydown",function(e){var t=e.keyCode;t!==Ki.PAGE_UP&&t!==Ki.PAGE_DOWN||e.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.eInput;if(e.setInputAriaLabel("Input Editor"),this.focusAfterAttached){kt()||e.getFocusableElement().focus();var t=e.getInputElement();if(this.highlightAllOnFocus)t.select();else{var n=e.getValue(),i=o(n)&&n.length||0;i&&t.setSelectionRange(i,i)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()},t.prototype.focusOut=function(){var e=this.eInput.getInputElement();Dt()&&e.setSelectionRange(0,0)},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([Hi("eInput")],t.prototype,"eInput",void 0),t}(Gi),$i=function(){function e(e,t,n,i){var o=this;this.alive=!0,this.context=e,t.newDateComponent(n).then(function(t){o.alive?(o.dateComp=t,i.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),o.tempValue&&t.setDate(o.tempValue)):e.destroyBean(t)})}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e}(),Xi=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){"string"!=typeof t&&x(["displayKey","displayName","test"],function(e){return!!t[e]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+e+"'"),!1)})&&(e.customFilterOptions[t.displayKey]=t)})},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),Qi={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Zi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ji=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},eo=function(e){function t(t,n){void 0===n&&(n=!1);var i=e.call(this,t)||this;return i.isFocusableContainer=n,i.skipTabGuardFocus=!1,i}return Zi(t,e),t.prototype.postConstruct=function(){var e=this,n=this.getFocusableElement();n&&(jt(n,t.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard(function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))})),this.addKeyDownListeners(n),this.addManagedListener(n,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(n,"focusout",this.onFocusOut.bind(this)))},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus()},t.prototype.onTabKeyDown=function(e){var t=this;if(!e.defaultPrevented){var n=this.tabGuardsAreActive();this.isFocusableContainer&&n&&this.deactivateTabGuards();var i=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,e.shiftKey);this.isFocusableContainer&&n&&setTimeout(function(){return t.activateTabGuards()},0),i&&(i.focus(),e.preventDefault())}},t.prototype.onFocusIn=function(e){this.isFocusableContainer&&this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.isFocusableContainer&&!this.getFocusableElement().contains(e.relatedTarget)&&this.activateTabGuards()},t.prototype.forceFocusOutOfContainer=function(e){if(void 0===e&&(e=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var t=e?this.topTabGuard:this.bottomTabGuard;t&&t.focus()}},t.prototype.appendChild=function(t,n){if(this.isFocusableContainer){On(t)||(t=t.getGui());var i=this.bottomTabGuard;i?i.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,n)}else e.prototype.appendChild.call(this,t,n)},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard"),t.classList.add("ag-tab-guard-"+e),t.setAttribute("role","presentation"),t},t.prototype.addTabGuards=function(){var e=this.getFocusableElement();e.insertAdjacentElement("afterbegin",this.topTabGuard),e.insertAdjacentElement("beforeend",this.bottomTabGuard)},t.prototype.forEachTabGuard=function(e){this.topTabGuard&&e(this.topTabGuard),this.bottomTabGuard&&e(this.bottomTabGuard)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",function(e){e.defaultPrevented||(e.keyCode===Ki.TAB?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e))})},t.prototype.onFocus=function(e){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(e.target===this.bottomTabGuard)},t.prototype.activateTabGuards=function(){this.forEachTabGuard(function(e){return e.setAttribute("tabIndex","0")})},t.prototype.deactivateTabGuards=function(){this.forEachTabGuard(function(e){return e.removeAttribute("tabIndex")})},t.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute("tabIndex")},t.prototype.clearGui=function(){var e=this.tabGuardsAreActive();sn(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),e&&this.activateTabGuards())},t.FOCUS_MANAGED_CLASS="ag-focus-managed",Ji([le("focusController")],t.prototype,"focusController",void 0),Ji([re],t.prototype,"postConstruct",null),t}(Li),to=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),no=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},io=function(e){function t(t){var n=e.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.appliedModel=null,n}return to(t,e),t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.postConstruct=function(){this.resetTemplate(),e.prototype.postConstruct.call(this)},t.prototype.resetTemplate=function(e){var t='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(t,e)},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){t.checkForDeprecatedParams(e),this.providedFilterParams=e,this.newRowsActionKeep="keep"===e.newRowsAction||"clear"!==e.newRowsAction&&[ye.ROW_MODEL_TYPE_SERVER_SIDE,ye.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(t&&!(t.length<1)){var n=document.createElement("div");jt(n,"ag-filter-apply-panel"),xi(t).forEach(function(t){return function(t){var i,o;switch(t){case"apply":i=e.translate("applyFilter"),o=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":i=e.translate("clearFilter"),o=function(){return e.onBtClear()};break;case"reset":i=e.translate("resetFilter"),o=function(){return e.onBtReset()};break;case"cancel":i=e.translate("cancelFilter"),o=function(t){e.onBtCancel(t)};break;default:return void console.warn("Unknown button type specified")}var r=un('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button">'+i+"</button>");n.appendChild(r),e.addManagedListener(r,"click",o)}(t)}),this.getGui().appendChild(n)}},t.checkForDeprecatedParams=function(e){var t=e.buttons||[];if(!(t.length>0)){var n=e.applyButton,i=e.resetButton;e.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),t.push("clear")),i&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),t.push("reset")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.buttons=t}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=ee(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel},t.prototype.setModel=function(e){var t=this;return(e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){t.updateUiVisibility(),t.applyModel()})},t.prototype.onBtCancel=function(e){var t=this;this.setModelIntoUi(this.getModel()).then(function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)})},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!t&&this.close(n)},t.prototype.onNewRowsLoaded=function(){var e=this;this.newRowsActionKeep||this.resetUiToDefaults().then(function(){return e.appliedModel=null})},t.prototype.close=function(e){if(this.hidePopup){var t,n=e&&e.key;"Enter"!==n&&"Space"!==n||(t={keyboardEvent:e}),this.hidePopup(t),this.hidePopup=null}},t.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var n=this.isModelValid(this.getModelFromUi());$t(this.getRefElement("applyFilterButton"),!n)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n},t.isUseApplyButton=function(e){return t.checkForDeprecatedParams(e),e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Qi[e])},no([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),no([le("rowModel")],t.prototype,"rowModel",void 0),no([re],t.prototype,"postConstruct",null),t}(eo),oo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ro=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(Ui||(Ui={}));var so,ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oo(t,e),t.prototype.showValueFrom=function(e){return!this.doesFilterHaveHiddenInput(e)&&e!==t.EMPTY},t.prototype.showValueTo=function(e){return e===t.IN_RANGE},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Ui.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Ui.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Ui.One),condition2:this.createCondition(Ui.Two)}:this.createCondition(Ui.One):null},t.prototype.getCondition1Type=function(){return this.eType1.getValue()},t.prototype.getCondition2Type=function(){return this.eType2.getValue()},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n,i=!e.operator,o=!t.operator;if(!i&&o||i&&!o)return!1;if(i)n=this.areSimpleModelsEqual(e,t);else{var r=e,s=t;n=r.operator===s.operator&&this.areSimpleModelsEqual(r.condition1,s.condition1)&&this.areSimpleModelsEqual(r.condition2,s.condition2)}return n},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,n="OR"===t.operator;this.eJoinOperatorAnd.setValue(!n),this.eJoinOperatorOr.setValue(n),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,Ui.One),this.setConditionIntoUi(t.condition2,Ui.Two)}else{var i=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(i.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(i,Ui.One),this.setConditionIntoUi(null,Ui.Two)}return ki.resolve()},t.prototype.doesFilterPass=function(e){var t=this,n=this.getModel();if(null==n)return!0;var i=n.operator,o=[];return i?o.push(n.condition1,n.condition2):o.push(n),(i&&"OR"===i?T:x)(o,function(n){return t.individualConditionPasses(e,n)})},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new Xi,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return E(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions();R(t,function(t){var n,i;if("string"==typeof t)i=e.translate(n=t);else{var o=e.optionsFactory.getCustomOption(n=t.displayKey);i=o?o.displayName:e.translate(n)}var r=function(){return{value:n,text:i}};e.eType1.addOption(r()),e.eType2.addOption(r())});var n=t.length<=1;this.eType1.setDisabled(n),this.eType2.setDisabled(n)},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Ui.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Ui.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!e),this.eJoinOperatorOr.setDisabled(!e),this.eType2.setDisabled(!e),$t(this.eCondition2Body,!e)):(qt(this.eJoinOperatorPanel,e),qt(this.eType2.getGui(),e),qt(this.eCondition2Body,e))},t.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(Ui.One)},t.prototype.resetUiToDefaults=function(e){var t="ag-simple-filter-and-or-"+this.getCompId(),n=this.optionsFactory.getDefaultOption();return this.eType1.setValue(n,e).setAriaLabel("Filtering operator"),this.eType2.setValue(n,e).setAriaLabel("Filtering operator"),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(t).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(t).setLabel(this.translate("orCondition")),ki.resolve()},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.EMPTY="empty",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",ro([Hi("eOptions1")],t.prototype,"eType1",void 0),ro([Hi("eOptions2")],t.prototype,"eType2",void 0),ro([Hi("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),ro([Hi("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),ro([Hi("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),ro([Hi("eCondition1Body")],t.prototype,"eCondition1Body",void 0),ro([Hi("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(io),lo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lo(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t,this.checkDeprecatedParams()},t.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},t.prototype.individualConditionPasses=function(e,n){var i=this.scalarFilterParams.valueGetter(e.node),o=this.mapRangeFromModel(n),r=o.from,s=o.to,a=n.type,l=this.optionsFactory.getCustomOption(a);if(l&&(null!=r||l.hideFilterInput))return l.test(r,i);if(null==i){switch(a){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var u=this.comparator(),c=u(r,i);switch(a){case t.EQUALS:return 0===c;case t.NOT_EQUAL:return 0!==c;case t.GREATER_THAN:return c>0;case t.GREATER_THAN_OR_EQUAL:return c>=0;case t.LESS_THAN:return c<0;case t.LESS_THAN_OR_EQUAL:return c<=0;case t.IN_RANGE:var h=u(s,i);return this.scalarFilterParams.inRangeInclusive?c>=0&&h<=0:c>0&&h<0;default:throw new Error("Unexpected type of filter: "+a)}},t}(ao),co=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ho=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},po=function(e){function t(){return e.call(this,"dateFilter")||this}return co(t,e),t.prototype.mapRangeFromModel=function(e){return{from:ri(e.dateFrom),to:ri(e.dateTo)}},t.prototype.setValueFromFloatingFilter=function(e){this.dateCondition1FromComp.setDate(null==e?null:ri(e)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},t.prototype.setConditionIntoUi=function(e,t){var n=e?[ri(e.dateFrom),ri(e.dateTo)]:[null,null],i=n[0],o=n[1],r=this.getFromToComponents(t),s=r[1];r[0].setDate(i),s.setDate(o)},t.prototype.resetUiToDefaults=function(t){var n=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){n.dateCondition1FromComp.setDate(null),n.dateCondition1ToComp.setDate(null),n.dateCondition2FromComp.setDate(null),n.dateCondition2ToComp.setDate(null)})},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t,this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t={onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams};this.dateCondition1FromComp=new $i(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelFrom),this.dateCondition1ToComp=new $i(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelTo),this.dateCondition2FromComp=new $i(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelFrom),this.dateCondition2ToComp=new $i(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelTo),this.addDestroyFunc(function(){e.dateCondition1FromComp.destroy(),e.dateCondition1ToComp.destroy(),e.dateCondition2FromComp.destroy(),e.dateCondition2ToComp.destroy()})},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Ui.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===Ui.One?this.getCondition1Type():this.getCondition2Type();if(t===ao.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(t))return!0;var n=this.getFromToComponents(e),i=n[1],o=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,r=function(e){return null!=e&&e.getUTCFullYear()>o};return r(n[0].getDate())&&(!this.showValueTo(t)||r(i.getDate()))},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=e===Ui.One?this.getCondition1Type():this.getCondition2Type(),n=this.getFromToComponents(e),i=n[1];return{dateFrom:oi(n[0].getDate()),dateTo:oi(i.getDate()),type:t,filterType:this.getFilterType()}},t.prototype.resetPlaceholder=function(){var e=this.translate("dateFormatOoo"),t="Filter value";this.dateCondition1FromComp.setInputPlaceholder(e),this.dateCondition1FromComp.setInputAriaLabel(t),this.dateCondition1ToComp.setInputPlaceholder(e),this.dateCondition1ToComp.setInputAriaLabel(t),this.dateCondition2FromComp.setInputPlaceholder(e),this.dateCondition2FromComp.setInputAriaLabel(t),this.dateCondition2ToComp.setInputPlaceholder(e),this.dateCondition2ToComp.setInputAriaLabel(t)},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type();qt(this.eCondition1PanelFrom,this.showValueFrom(t)),qt(this.eCondition1PanelTo,this.showValueTo(t));var n=this.getCondition2Type();qt(this.eCondition2PanelFrom,this.showValueFrom(n)),qt(this.eCondition2PanelTo,this.showValueTo(n))},t.prototype.getFromToComponents=function(e){return e===Ui.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},t.DEFAULT_FILTER_OPTIONS=[uo.EQUALS,uo.GREATER_THAN,uo.LESS_THAN,uo.NOT_EQUAL,uo.IN_RANGE],ho([Hi("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),ho([Hi("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),ho([Hi("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),ho([Hi("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),ho([le("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(uo),fo=function(){function e(e,t){var n=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new me,this.eElement=e,this.preventMouseClick=t;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",r,{passive:!1})})}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var n=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){n.touching&&n.touchStart===i&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:e.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:t}))},500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);t&&!Ei(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:e.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>e.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),go=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mo=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return go(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=g(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=Qe(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,n){if(null!=t){var i=gi(e,this.gridOptionsWrapper,n);t.appendChild(i)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var n=new fo(this.getGui(),!0),i=t.isSuppressMenuHide(),r=i&&o(this.eMenu),s=r?new fo(this.eMenu,!0):n;this.params.enableMenu&&this.addManagedListener(s,fo[r?"EVENT_TAP":"EVENT_LONG_TAP"],function(n){t.getApi().showColumnMenuAfterMouseClick(e.params.column,n.touchStart)}),this.params.enableSorting&&this.addManagedListener(n,fo.EVENT_TAP,function(t){i&&e.eMenu.contains(t.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return n.destroy()}),r&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),t=Nt()&&e;return this.params.enableMenu&&!t},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),Ut(this.eMenu,"ag-header-menu-always-show",t)}else an(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e)},t.prototype.removeSortIcons=function(){an(this.eSortAsc),an(this.eSortDesc),an(this.eSortNone),an(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,we.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(n){var i=e.params.column.isMoving(),o=(new Date).getTime();i||o-e.lastMovingChanged<50||e.params.progressSort(t?n.ctrlKey||n.metaKey:n.shiftKey)}),this.addManagedListener(this.params.column,we.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(Ut(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),Ut(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),Ut(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&Ut(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&Ut(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();Ut(this.eSortNone,"ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),n=t.indexOf(e),i=t.length>1,o=e.isSorting()&&i;qt(this.eSortOrder,o),n>=0?this.eSortOrder.innerHTML=(n+1).toString():sn(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,we.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();Ut(this.eFilter,"ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',mo([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),mo([le("sortController")],t.prototype,"sortController",void 0),mo([le("menuFactory")],t.prototype,"menuFactory",void 0),mo([Hi("eFilter")],t.prototype,"eFilter",void 0),mo([Hi("eSortAsc")],t.prototype,"eSortAsc",void 0),mo([Hi("eSortDesc")],t.prototype,"eSortDesc",void 0),mo([Hi("eSortNone")],t.prototype,"eSortNone",void 0),mo([Hi("eSortOrder")],t.prototype,"eSortOrder",void 0),mo([Hi("eMenu")],t.prototype,"eMenu",void 0),mo([Hi("eLabel")],t.prototype,"eLabel",void 0),mo([Hi("eText")],t.prototype,"eText",void 0),t}(Li),vo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Co=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wo=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return vo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!Pe(t)){var n=!e.params.columnGroup.isExpanded();e.columnController.setColumnGroupOpened(e.params.columnGroup.getOriginalColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var n=function(e){Re(e)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var i=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(i,Se.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,Se.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var n=new fo(e);this.addManagedListener(n,fo.EVENT_TAP,t),this.addDestroyFunc(function(){return n.destroy()}),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();qt(this.eOpenIcon,e),qt(this.eCloseIcon,!e)}else qt(this.eOpenIcon,!1),qt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var n=gi(e,this.gridOptionsWrapper,null);this.getRefElement(t).appendChild(n)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return qt(this.eOpenIcon,!1),void qt(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(o(e)){var t=Qe(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Co([le("columnController")],t.prototype,"columnController",void 0),Co([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Co([Hi("agOpened")],t.prototype,"eOpenIcon",void 0),Co([Hi("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Li),bo=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},So=function(){function e(){this.childrenMapped={},this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return e.prototype.setData=function(e){var t=this.data;this.data=e,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(e,t,!1);this.dispatchLocalEvent(n)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,n,i){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:n,newData:t,update:i}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.updateData=function(e){var t=this.data;this.data=e,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var n=this.createDataChangedEvent(e,t,!0);this.dispatchLocalEvent(n)},e.prototype.getRowIndexString=function(){return this.rowPinned===ye.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ye.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e;return this.context.createBean(t),t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var n=o(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.selectionController.syncInRowNode(this,n),this.checkRowSelectable();var r=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(r)},e.prototype.checkRowSelectable=function(){var e=this.gridOptionsWrapper.getIsRowSelectableFunc(),t=e&&o(this);this.setRowSelectable(!t||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(t){var n=this.gridOptionsWrapper.getRowNodeIdFunc();n?this.data?(this.id=n(this.data),this.id&&this.id.startsWith&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=t},e.prototype.isPixelInRange=function(e){return e>=this.rowTop&&e<this.rowTop+this.rowHeight},e.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setRowHeight=function(t,n){void 0===n&&(n=!1),this.rowHeight=t,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowIndex=function(t){this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var n=H({},this.createGlobalRowEvent(Ue.EVENT_ROW_GROUP_OPENED),{expanded:t});this.mainEventService.dispatchEvent(n),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t){var n=this.columnController.getPrimaryColumn(e),i=this.valueService.getValue(n,this);this.valueService.setValue(this,n,t),this.dispatchCellChangedEvent(n,t,i)},e.prototype.setGroupValue=function(e,t){var n=this.columnController.getGridColumn(e);r(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,o))},e.prototype.setAggData=function(e){var t=this,n=V([this.aggData,e]),i=this.aggData;this.aggData=e,this.eventService&&n.forEach(function(e){var n=t.columnController.getGridColumn(e);t.dispatchCellChangedEvent(n,t.aggData?t.aggData[e]:void 0,i?i[e]:void 0)})},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&s(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,n,i){this.dispatchLocalEvent({type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:n,oldValue:i})},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e=!1,t=!1,n=!1;if(this.childrenAfterGroup)for(var i=0;i<this.childrenAfterGroup.length;i++){var o=this.childrenAfterGroup[i];if(o.selectable)switch(o.isSelected()){case!0:e=!0;break;case!1:t=!0;break;default:n=!0}}this.selectThisNode(n?void 0:!(!e||t)||!(!e&&t)&&void 0)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:n,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===ye.PINNED_TOP||this.rowPinned===ye.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===e.newValue,i=!0===e.clearSelection,o=!0===e.suppressFinishActions,r=!0===e.rangeSelect,s=t&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(r&&this.selectionController.getLastSelectedNode()){var a=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&l)return this.doRowRangeSelection()}var u=0;return s&&this.group||this.selectThisNode(n)&&u++,t&&this.group&&(u+=this.selectChildNodes(n,s)),o||(n&&(i||!this.gridOptionsWrapper.isRowSelectionMulti())&&(u+=this.selectionController.clearOtherNodes(this)),u>0&&(this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})),n&&this.selectionController.setLastSelectedNode(this)),u},e.prototype.doRowRangeSelection=function(){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),t=this.selectionController.getLastSelectedNode(),n=this.rowModel.getNodesInRangeForSelection(this,t),i=0;return n.forEach(function(t){t.group&&e||t.selectThisNode(!0)&&i++}),this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}),i},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var n=this.createGlobalRowEvent(Ue.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(n),!0},e.prototype.selectChildNodes=function(e,t){var n=t?this.childrenAfterFilter:this.childrenAfterGroup;if(!r(n)){for(var i=0,o=0;o<n.length;o++)i+=n[o].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return i}},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new me),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t,n=this,i=!0,r=!1;i&&!r;){var s=n.parent;o(s)&&n.firstChild?s.rowGroupColumn===e&&(r=!0,t=s):i=!1,n=s}return r?t:null},e.prototype.isFullWidthCell=function(){var e=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e(this)},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",bo([le("eventService")],e.prototype,"mainEventService",void 0),bo([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),bo([le("selectionController")],e.prototype,"selectionController",void 0),bo([le("columnController")],e.prototype,"columnController",void 0),bo([le("valueService")],e.prototype,"valueService",void 0),bo([le("rowModel")],e.prototype,"rowModel",void 0),bo([le("context")],e.prototype,"context",void 0),bo([le("valueCache")],e.prototype,"valueCache",void 0),bo([le("columnApi")],e.prototype,"columnApi",void 0),bo([le("gridApi")],e.prototype,"gridApi",void 0),e}(),Eo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Oo=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Eo(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected(),t=void 0===e?"indeterminate":!0===e?"checked":"unchecked";this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel("Press Space to toggle row selection ("+t+")")},t.prototype.onCheckedClicked=function(){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:e})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(e){return Re(e)}),this.addGuiEventListener("dblclick",function(e){return Re(e)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(e){void 0===e.previousValue?0===t.onUncheckedClicked(e.event||{})&&t.onCheckedClicked():e.selected?t.onUncheckedClicked(e.event||{}):t.onCheckedClicked()}),this.addManagedListener(this.rowNode,So.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return e&&"function"==typeof e.checkboxSelection},_o([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_o([Hi("eCheckbox")],t.prototype,"eCheckbox",void 0),_o([re],t.prototype,"postConstruct",null),t}(Li),xo={propertyName:"dateComponent",isCellRenderer:function(){return!1}},To={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Ro={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},Po={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},Do={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},Ao={propertyName:"cellEditor",isCellRenderer:function(){return!1}},ko={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Io={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},Fo={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},No={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},Mo={propertyName:"filter",isCellRenderer:function(){return!1}},Lo={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},Vo={propertyName:"toolPanel",isCellRenderer:function(){return!1}},Go={propertyName:"statusPanel",isCellRenderer:function(){return!1}},Ho=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wo=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",e[e.HARDCODED=2]="HARDCODED"}(so||(so={}));var Bo,jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ho(t,e),t.prototype.newDateComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,xo,"agDateInput")},t.prototype.newHeaderComponent=function(e){return this.createAndInitUserComponent(e.column.getColDef(),e,To,"agColumnHeader")},t.prototype.newHeaderGroupComponent=function(e){return this.createAndInitUserComponent(e.columnGroup.getColGroupDef(),e,Ro,"agColumnGroupHeader")},t.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,e,ko,null,!0)},t.prototype.newFullWidthCellRenderer=function(e,t,n){return this.createAndInitUserComponent(null,e,{propertyName:t,isCellRenderer:function(){return!0}},n)},t.prototype.newCellRenderer=function(e,t,n){return void 0===n&&(n=!1),this.createAndInitUserComponent(e,t,n?Do:Po,null,!0)},t.prototype.newCellEditor=function(e,t){return this.createAndInitUserComponent(e,t,Ao,"agCellEditor")},t.prototype.newInnerCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,ko,null)},t.prototype.newLoadingOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Io,"agLoadingOverlay")},t.prototype.newNoRowsOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Fo,"agNoRowsOverlay")},t.prototype.newTooltipComponent=function(e){return this.createAndInitUserComponent(e.colDef,e,No,"agTooltipComponent")},t.prototype.newFilterComponent=function(e,t,n){return this.createAndInitUserComponent(e,t,Mo,n,!1)},t.prototype.newSetFilterCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,Po,null,!0)},t.prototype.newFloatingFilterComponent=function(e,t,n){return this.createAndInitUserComponent(e,t,Lo,n,!0)},t.prototype.newToolPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,Vo)},t.prototype.newStatusPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,Go)},t.prototype.createAndInitUserComponent=function(e,t,n,i,o){void 0===o&&(o=!1),e||(e=this.gridOptions);var r=this.createComponentInstance(e,n,t,i,o);if(!r)return null;var s=r.componentInstance,a=this.createFinalParams(e,n.propertyName,t,r.paramsFromSelector);this.addReactHacks(a);var l=this.initComponent(s,a);return null==l?ki.resolve(s):l.then(function(){return s})},t.prototype.addReactHacks=function(e){var t=this.context.getBean("agGridReact");t&&(e.agGridReact=I(t));var n=this.context.getBean("frameworkComponentWrapper");n&&(e.frameworkComponentWrapper=n)},t.prototype.createUserComponentFromConcreteClass=function(e,t){var n=new e;return this.initComponent(n,t),n},t.prototype.lookupComponentClassDef=function(e,t,n,i){void 0===n&&(n=null);var o,r=null,s=null,a=null,l=null;if(null!=e){var u=e[t];null==u||!0===u||("string"==typeof u?r=u:"boolean"==typeof u||(this.agComponentUtils.doesImplementIComponent(u)?s=u:a=u)),l=e[t+"Framework"],o=e[t+"Selector"]}if(s&&l||r&&l||a&&l)throw Error("ag-grid: you are trying to specify: "+t+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+t);if(o&&(r||s||a||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+t);if(l)return{componentFromFramework:!0,component:l,source:so.HARDCODED,paramsFromSelector:null};if(s)return{componentFromFramework:!1,component:s,source:so.HARDCODED,paramsFromSelector:null};if(a)return this.agComponentUtils.adaptFunction(t,a,!1,so.HARDCODED);var c,h=o?o(n):null;if(!(c=h&&h.component?h.component:r||i))return null;var p=this.lookupFromRegisteredComponents(t,c);return p?{componentFromFramework:p.componentFromFramework,component:p.component,source:p.source,paramsFromSelector:h?h.params:null}:null},t.prototype.lookupFromRegisteredComponents=function(e,t){var n=this.userComponentRegistry.retrieve(null!=t?t:e);return null==n?null:n.componentFromFramework?{component:n.component,componentFromFramework:!0,source:so.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(n.component)?{component:n.component,componentFromFramework:!1,source:n.source==Bo.REGISTERED?so.REGISTERED_BY_NAME:so.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(e,n.component,n.componentFromFramework,n.source==Bo.REGISTERED?so.REGISTERED_BY_NAME:so.DEFAULT)},t.prototype.createFinalParams=function(e,t,n,i){void 0===i&&(i=null);var o={};G(o,n);var r=e?e[t+"Params"]:null;return null!=r&&("function"==typeof r?G(o,r(n)):"object"==typeof r&&G(o,r)),G(o,i),o},t.prototype.createComponentInstance=function(e,t,n,i,o){var r,s=t.propertyName,a=this.lookupComponentClassDef(e,s,n,i);if(!a||!a.component)return o||console.error("Could not find component "+((e?e[s]:i)||i)+", did you forget to configure this component?"),null;if(a.componentFromFramework){var l=a.component,u=this.componentMetadataProvider.retrieve(s);r=this.frameworkComponentWrapper.wrap(l,u.mandatoryMethodList,u.optionalMethodList,t,i)}else r=new a.component;return{componentInstance:r,paramsFromSelector:a.paramsFromSelector}},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},Wo([le("gridOptions")],t.prototype,"gridOptions",void 0),Wo([le("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Wo([le("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Wo([le("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Wo([ue("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Wo([ae("userComponentFactory")],t)}(We),zo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uo=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ko=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return zo(t,e),t.prototype.init=function(e){this.params=e,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(e);var t=this.isEmbeddedRowMismatch(),n=null==e.value,i=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var o=e.node;o.footer&&(i=(e.colDef&&e.colDef.showRowGroup)!==(o.rowGroupColumn&&o.rowGroupColumn.getColId()))}this.cellIsBlank=t||n||i,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.assignBlankValueToGroupFooterCell=function(e){e.value||-1!=e.node.level||(e.value="")},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===ye.PINNED_LEFT,t=this.params.pinned===ye.PINNED_RIGHT,n=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!t:!n:this.columnController.isPinningLeft()?!e:!n},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.colDef&&!0!==e.colDef.showRowGroup?0:e.node.uiLevel;e.padding>=0?this.setPaddingDeprecatedWay(t,e.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+t,this.addCssClass(this.indentClass))}},t.prototype.setPaddingDeprecatedWay=function(e,t){Y(function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay");var n=e*t,i=this.getGui(),o=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";i.style[o]=n+"px"},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,So.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.addValueElement=function(){var e=this.params,t=this.displayedGroup;t.footer?this.createFooterCell():t.hasChildren()||W(e.colDef,"cellRendererParams.innerRenderer",null)||W(e.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),this.addChildCount()):this.createLeafCell()},t.prototype.createFooterCell=function(){var e,t=this.params.footerValueGetter;if(t){var n=I(this.params);n.value=this.params.value,"function"==typeof t?e=t(n):"string"==typeof t?e=this.expressionService.evaluate(t,n):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+this.params.value;this.eValue.innerHTML=e},t.prototype.createGroupCell=function(){var e,t=this,n=this.params,i=this.displayedGroup.rowGroupColumn||n.column,o=i?this.valueFormatterService.formatValue(i,n.node,n.scope,this.params.value):null;n.valueFormatted=o,(e=n.fullWidth?this.useFullWidth(n):this.useInnerRenderer(this.params.colDef.cellRendererParams,i.getColDef(),n))&&e.then(function(e){t.innerCellRenderer=e})},t.prototype.useInnerRenderer=function(e,t,n){var i=this,o=null,r=this.userComponentFactory.lookupComponentClassDef(e,"innerRenderer");if(r&&null!=r.component&&r.source!=so.DEFAULT)o=this.userComponentFactory.newInnerCellRenderer(e,n);else{var s=this.userComponentFactory.lookupComponentClassDef(t,"cellRenderer");o=s&&s.source!=so.DEFAULT?this.userComponentFactory.newCellRenderer(t,n):s&&s.source==so.DEFAULT&&W(t,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(t.cellRendererParams,n):this.userComponentFactory.newCellRenderer({},n)}return null!=o?o.then(function(e){null!=e?kn(o,i.eValue):i.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value}):this.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,o},t.prototype.useFullWidth=function(e){var t=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(e);return null!=t?kn(t,this.eValue):this.eValue.innerText=null!=e.valueFormatted?e.valueFormatted:e.value,t},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,So.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroup.allChildrenCount;this.eChildCount.innerHTML=null!=e&&e>=0?"("+e+")":""},t.prototype.createLeafCell=function(){o(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroup,n=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(n){var i=new Oo;this.getContext().createBean(i),i.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(i)})}Ut(this.eCheckbox,"ag-invisible",!n)},t.prototype.addExpandAndContract=function(){var e=this.params,t=e.eGridCell,n=gi("groupExpanded",this.gridOptionsWrapper,null),i=gi("groupContracted",this.gridOptionsWrapper,null);jn(t,!!e.node.expanded),this.eExpanded.appendChild(n),this.eContracted.appendChild(i),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,So.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,So.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroup,So.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroup,So.EVENT_HAS_CHILDREN_CHANGED,o),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(t,"dblclick",this.onCellDblClicked.bind(this))},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.onKeyDown=function(e){yi(e,Ki.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},t.prototype.setupDragOpenParents=function(){var e=this.params.column,t=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.hasChildren()){var n=t.rowGroupColumn;this.draggedFromHideOpenParents=!!n&&!e.isRowGroupDisplayed(n.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var i=t.parent;!r(i);){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroup=i;break}i=i.parent}r(this.displayedGroup)&&(this.displayedGroup=t)},t.prototype.onExpandClicked=function(e){Pe(e)||(Re(e),this.onExpandOrContract())},t.prototype.onCellDblClicked=function(e){Pe(e)||Fe(this.eExpanded,e)||Fe(this.eContracted,e)||this.onExpandOrContract()},t.prototype.onExpandOrContract=function(){var e=this.displayedGroup,t=this.params,n=!e.expanded;e.setExpanded(n),jn(t.eGridCell,n)},t.prototype.isExpandable=function(){var e=this.params.node,t=this.columnController.isPivotMode()&&e.leafGroup;return this.draggedFromHideOpenParents||e.isExpandable()&&!e.footer&&!t},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.eContracted,n=e.eExpanded,i=e.params,o=e.displayedGroup,r=e.columnController,s=i.eGridCell,a=i.node;if(this.isExpandable()){var l=!!this.draggedFromHideOpenParents||a.expanded;qt(t,!l),qt(n,l)}else zn(s),qt(n,!1),qt(t,!1);var u=r.isPivotMode()&&o.leafGroup,c=!o.isExpandable(),h=o.footer||c||u;this.addOrRemoveCssClass("ag-row-group",!h),this.addOrRemoveCssClass("ag-row-group-leaf-indent",h)},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Uo([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Uo([le("expressionService")],t.prototype,"expressionService",void 0),Uo([le("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Uo([le("columnController")],t.prototype,"columnController",void 0),Uo([le("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Uo([Hi("eExpanded")],t.prototype,"eExpanded",void 0),Uo([Hi("eContracted")],t.prototype,"eContracted",void 0),Uo([Hi("eCheckbox")],t.prototype,"eCheckbox",void 0),Uo([Hi("eValue")],t.prototype,"eValue",void 0),Uo([Hi("eChildCount")],t.prototype,"eChildCount",void 0),t}(Li),qo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yo=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.refreshCount=0,n}return qo(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var n=Math.abs(t),i=e.formatValue(n),r=o(i)?i:n,s=t>=0;this.eDelta.innerHTML=s?"\u2191"+r:"\u2193"+r,Ut(this.eDelta,"ag-value-change-delta-up",s),Ut(this.eDelta,"ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout(function(){t===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){zt(this.eValue,"ag-value-change-value-highlight"),sn(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t!==this.lastValue&&(o(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:o(e.value)?this.eValue.innerHTML=t:sn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return"number"==typeof t&&"number"==typeof this.lastValue&&this.showDelta(e,t-this.lastValue),this.lastValue&&jt(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("filterManager")],t.prototype,"filterManager",void 0),t}(Li),$o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xo=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return $o(t,e),t.prototype.init=function(e){this.params=e,this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=un('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){t===e.refreshCount&&jt(e.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var t=e.value;if(r(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=t,o(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:o(e.value)?this.eCurrent.innerHTML=t:sn(this.eCurrent),!0},t.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("filterManager")],t.prototype,"filterManager",void 0),t}(Li),Qo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zo=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Jo=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Qo(t,e),t.prototype.init=function(e){var t=gi("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(t);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Zo([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zo([Hi("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),Zo([Hi("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Li),er=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},nr=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return er(t,e),t.prototype.init=function(e){var t=this;if(this.focusAfterAttached=e.cellStartedEdit,r(e.values))console.warn("ag-Grid: no values found for select cellEditor");else{this.startedByEnter=e.keyPress===Ki.ENTER;var n=!1;e.values.forEach(function(i){var o={value:i},r=t.valueFormatterService.formatValue(e.column,null,null,i);o.text=null!=r?r:i,t.eSelect.addOption(o),n=n||e.value===i}),n?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},tr([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tr([le("valueFormatterService")],t.prototype,"valueFormatterService",void 0),tr([Hi("eSelect")],t.prototype,"eSelect",void 0),t}(Gi),ir=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ir(t,e),t.prototype.isPopup=function(){return!0},t}(Yi),rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),t.prototype.isPopup=function(){return!0},t}(nr),ar=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lr=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ar(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),o(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;(t===Ki.LEFT||t===Ki.UP||t===Ki.RIGHT||t===Ki.DOWN||e.shiftKey&&t===Ki.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){this.eTextArea.setInputAriaLabel("Input Editor"),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([Hi("eTextArea")],t.prototype,"eTextArea",void 0),t}(Gi),ur=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hr=function(e){function t(){return e.call(this,"numberFilter")||this}return ur(t,e),t.prototype.mapRangeFromModel=function(e){return{from:e.filter,to:e.filterTo}},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.resetUiToDefaults=function(t){var n=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){[n.eValueFrom1,n.eValueFrom2,n.eValueTo1,n.eValueTo2].forEach(function(e){return e.setValue(null,t)}),n.resetPlaceholder()})},t.prototype.setConditionIntoUi=function(e,t){var n=t===Ui.One,i=n?this.eValueTo1:this.eValueTo2;(n?this.eValueFrom1:this.eValueFrom2).setValue(e?""+e.filter:null),i.setValue(e?""+e.filterTo:null)},t.prototype.setValueFromFloatingFilter=function(e){this.eValueFrom1.setValue(e),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t;var n=t.allowedCharPattern;if(n){var i={allowedCharPattern:n};this.resetTemplate({eValueFrom1:i,eValueTo1:i,eValueFrom2:i,eValueTo2:i})}e.prototype.setParams.call(this,t),this.addValueChangedListeners()},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValueFrom1.onValueChange(t),this.eValueTo1.onValueChange(t),this.eValueFrom2.onValueChange(t),this.eValueTo2.onValueChange(t)},t.prototype.resetPlaceholder=function(){var e=this.showValueTo(this.getCondition1Type()),t=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueFrom1.setInputAriaLabel(e?"Filter from value":"Filter value"),this.eValueTo1.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo1.setInputAriaLabel("Filter to value"),this.eValueFrom2.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueFrom2.setInputAriaLabel(t?"Filter from value":"Filter value"),this.eValueTo2.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo2.setInputAriaLabel("Filter to value")},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),t&&t.suppressFocus||this.eValueFrom1.getInputElement().focus()},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Ui.One?"1":"2",n=(this.numberFilterParams||{}).allowedCharPattern?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <'+n+' class="ag-filter-from ag-filter-filter" ref="eValueFrom'+t+'"></'+n+">\n                <"+n+' class="ag-filter-to ag-filter-filter" ref="eValueTo'+t+'"></'+n+">\n            </div>"},t.prototype.isConditionUiComplete=function(e){var t=e===Ui.One,n=t?this.getCondition1Type():this.getCondition2Type();if(n===ao.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(n))return!0;var i=t?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat((t?this.eValueFrom1:this.eValueFrom2).getValue())&&(!this.showValueTo(n)||null!=this.stringToFloat(i.getValue()))},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var t=i(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=e===Ui.One,n=t?this.getCondition1Type():this.getCondition2Type(),i=this.stringToFloat((t?this.eValueFrom1:this.eValueFrom2).getValue()),o={filterType:this.getFilterType(),type:n};if(!this.doesFilterHaveHiddenInput(n)&&(o.filter=i,this.showValueTo(n))){var r=this.stringToFloat((t?this.eValueTo1:this.eValueTo2).getValue());o.filterTo=r}return o},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type(),n=this.getCondition2Type();qt(this.eValueFrom1.getGui(),this.showValueFrom(t)),qt(this.eValueTo1.getGui(),this.showValueTo(t)),qt(this.eValueFrom2.getGui(),this.showValueFrom(n)),qt(this.eValueTo2.getGui(),this.showValueTo(n))},t.DEFAULT_FILTER_OPTIONS=[uo.EQUALS,uo.NOT_EQUAL,uo.LESS_THAN,uo.LESS_THAN_OR_EQUAL,uo.GREATER_THAN,uo.GREATER_THAN_OR_EQUAL,uo.IN_RANGE],cr([Hi("eValueFrom1")],t.prototype,"eValueFrom1",void 0),cr([Hi("eValueTo1")],t.prototype,"eValueTo1",void 0),cr([Hi("eValueFrom2")],t.prototype,"eValueFrom2",void 0),cr([Hi("eValueTo2")],t.prototype,"eValueTo2",void 0),t}(uo),pr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dr=function(e){function t(){return e.call(this)||this}return pr(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(o)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Li),fr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gr=function(e){function t(){return e.call(this)||this}return fr(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(o)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Li),mr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yr=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return mr(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=t},t}(Gi),vr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cr=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return vr(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this;this.shouldUseBrowserDatePicker(e)&&(Dt()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.getInputElement().type="date"),this.listener=e.onDateChanged,this.addManagedListener(this.eDateInput.getInputElement(),"input",function(e){e.target===document.activeElement&&t.listener()})},t.prototype.getDate=function(){return ri(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(oi(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:It()||Ft()},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([Hi("eDateInput")],t.prototype,"eDateInput",void 0),t}(Li),wr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),br=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wr(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(e.operator){var t=e,n=this.conditionToString(t.condition1),i=this.conditionToString(t.condition2);return n+" "+t.operator+" "+i}return this.conditionToString(e)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.setLastTypeFromModel=function(e){this.lastType=e?(e.operator?e.condition1:e).type:this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new Xi,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.prototype.isTypeEditable=function(e){return!this.doesFilterHaveHiddenInput(e)&&e&&e!==ao.IN_RANGE&&e!==ao.EMPTY},t}(Li),Sr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Er=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_r=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Sr(t,e),t.prototype.getDefaultFilterOptions=function(){return po.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type===ao.IN_RANGE?e.dateFrom+"-"+e.dateTo:null==e.dateFrom?""+e.type:""+e.dateFrom},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent(),this.eReadOnlyText.setDisabled(!0).setInputAriaLabel("Date Filter Input")},t.prototype.setEditable=function(e){qt(this.eDateWrapper,e),qt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,n){if(!this.isEventFromFloatingFilter(n)){e.prototype.setLastTypeFromModel.call(this,t);var i=this.canWeEditAfterModelFromParentFilter(t);this.setEditable(i),i?(this.dateComp.setDate(t?ri(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,t=oi(this.dateComp.getDate());this.params.parentFilterInstance(function(n){n&&n.onFloatingFilterChanged(e.getLastType(),t)})},t.prototype.createDateComponent=function(){var e=this,t=io.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:ee(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new $i(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},Er([le("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Er([Hi("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Er([Hi("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(br),Or=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Tr=function(e){function t(){return e.call(this,"textFilter")||this}return Or(t,e),t.cleanInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.getCleanValue=function(e){return t.cleanInput(i(e.getValue()))},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValue1.onValueChange(t),this.eValue2.onValueChange(t)},t.prototype.setParams=function(n){e.prototype.setParams.call(this,n),this.textFilterParams=n,this.comparator=this.textFilterParams.textCustomComparator||t.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},t.prototype.setConditionIntoUi=function(e,t){(t===Ui.One?this.eValue1:this.eValue2).setValue(e?e.filter:null)},t.prototype.createCondition=function(e){var t=e===Ui.One,n=t?this.getCondition1Type():this.getCondition2Type(),i=t?this.eValue1:this.eValue2,o=this.getCleanValue(i);i.setValue(o,!0);var r={filterType:this.getFilterType(),type:n};return this.doesFilterHaveHiddenInput(n)||(r.filter=o),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.type===t.type},t.prototype.resetUiToDefaults=function(t){var n=this;return e.prototype.resetUiToDefaults.call(this,t).then(function(){n.forEachInput(function(e){return e.setValue(null,t)}),n.resetPlaceholder()})},t.prototype.resetPlaceholder=function(){var e=this.translate("filterOoo");this.forEachInput(function(t){t.setInputPlaceholder(e),t.setInputAriaLabel("Filter value")})},t.prototype.forEachInput=function(e){R([this.eValue1,this.eValue2],e)},t.prototype.setValueFromFloatingFilter=function(e){this.eValue1.setValue(e),this.eValue2.setValue(null)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Ui.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),qt(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),qt(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),t&&t.suppressFocus||this.eValue1.getInputElement().focus()},t.prototype.isConditionUiComplete=function(e){var t=e===Ui.One,n=t?this.getCondition1Type():this.getCondition2Type();return n!==ao.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||null!=this.getCleanValue(t?this.eValue1:this.eValue2))},t.prototype.individualConditionPasses=function(e,t){var n=t.filter,i=t.type,o=this.textFilterParams.valueGetter(e.node),r=this.formatter(o),s=this.optionsFactory.getCustomOption(i);if(s&&(null!=n||s.hideFilterInput))return s.test(n,r);if(null==o)return i===ao.NOT_EQUAL||i===ao.NOT_CONTAINS;var a=this.formatter(n);return this.comparator(i,r,a)},t.DEFAULT_FILTER_OPTIONS=[ao.CONTAINS,ao.NOT_CONTAINS,ao.EQUALS,ao.NOT_EQUAL,ao.STARTS_WITH,ao.ENDS_WITH],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_COMPARATOR=function(e,n,i){switch(e){case t.CONTAINS:return n.indexOf(i)>=0;case t.NOT_CONTAINS:return n.indexOf(i)<0;case t.EQUALS:return n===i;case t.NOT_EQUAL:return n!=i;case t.STARTS_WITH:return 0===n.indexOf(i);case t.ENDS_WITH:var o=n.lastIndexOf(i);return o>=0&&o===n.length-i.length;default:return console.warn("invalid filter type "+e),!1}},xr([Hi("eValue1")],t.prototype,"eValue1",void 0),xr([Hi("eValue2")],t.prototype,"eValue2",void 0),t}(ao),Rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rr(t,e),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=io.isUseApplyButton(this.params.filterParams);var n=io.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i=ee(this.syncUpWithParentFilter.bind(this),n),o=this.eFloatingFilterInput.getGui();this.addManagedListener(o,"input",i),this.addManagedListener(o,"keypress",i),this.addManagedListener(o,"keydown",i);var r=t.column.getDefinition();r.filterParams&&r.filterParams.filterOptions&&1===r.filterParams.filterOptions.length&&"inRange"===r.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(t.column,"header",!0);this.eFloatingFilterInput.setInputAriaLabel(s+" Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var t=this,n=yi(e,Ki.ENTER);if(!this.applyActive||n){var i=Tr.cleanInput(this.eFloatingFilterInput.getValue());this.eFloatingFilterInput.setValue(i,!0),this.params.parentFilterInstance(function(e){e&&e.onFloatingFilterChanged(t.getLastType(),i)})}},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},Pr([le("columnController")],t.prototype,"columnController",void 0),Pr([Hi("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),Pr([re],t.prototype,"postConstruct",null),t}(br),Ar=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ar(t,e),t.prototype.getDefaultFilterOptions=function(){return hr.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==ao.IN_RANGE?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(Dr),Ir=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ir(t,e),t.prototype.conditionToString=function(e){return null!=e.filter?""+e.filter:""+e.type},t.prototype.getDefaultFilterOptions=function(){return Tr.DEFAULT_FILTER_OPTIONS},t}(Dr),Nr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED"}(Bo||(Bo={}));var Lr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:Cr,agColumnHeader:yo,agColumnGroupHeader:wo,agTextColumnFloatingFilter:Fr,agNumberColumnFloatingFilter:kr,agDateColumnFloatingFilter:_r,agAnimateShowChangeCellRenderer:Yo,agAnimateSlideCellRenderer:Xo,agGroupCellRenderer:Ko,agGroupRowRenderer:Ko,agLoadingCellRenderer:Jo,agCellEditor:Yi,agTextCellEditor:Yi,agSelectCellEditor:nr,agPopupTextCellEditor:or,agPopupSelectCellEditor:sr,agLargeTextCellEditor:lr,agTextColumnFilter:Tr,agNumberColumnFilter:hr,agDateColumnFilter:po,agLoadingOverlay:dr,agNoRowsOverlay:gr,agTooltipComponent:yr},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComponents={},t.frameworkComponents={},t}return Nr(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&k(this.gridOptions.components,function(t,n){return e.registerComponent(t,n)}),null!=this.gridOptions.frameworkComponents&&k(this.gridOptions.frameworkComponents,function(t,n){return e.registerFwComponent(t,n)})},t.prototype.registerDefaultComponent=function(e,t){var n=this.translateIfDeprecated(e);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=t},t.prototype.registerComponent=function(e,t){var n=this.translateIfDeprecated(e);this.frameworkComponents[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComponents[n]=t},t.prototype.registerFwComponent=function(e,t){var n=this.translateIfDeprecated(e);this.jsComponents[n]?console.error("Trying to register a component that you have already registered for plain javascript: "+n):this.frameworkComponents[n]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e),n=this.frameworkComponents[t];if(n)return{componentFromFramework:!0,component:n,source:Bo.REGISTERED};var i=this.jsComponents[t];if(i)return{componentFromFramework:!1,component:i,source:Bo.REGISTERED};var o=this.agGridDefaults[t];return o?{componentFromFramework:!1,component:o,source:Bo.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("ag-Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(Y(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)},"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},Mr([le("gridOptions")],t.prototype,"gridOptions",void 0),Mr([re],t.prototype,"init",null),Mr([ae("userComponentRegistry")],t)}(We),Vr=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return e.parse([t]);if(Array.isArray(t)){var n=[];return t.forEach(function(t){var i=e.DEFAULT_BY_KEY[t];i?n.push(i):console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))}),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var n=[];return t.forEach(function(t){var i=null;if("string"==typeof t){var o=e.DEFAULT_BY_KEY[t];if(!o)return void console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));i=o}else i=t;n.push(i)}),n},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},e}(),Gr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hr=function(e,t){return function(n,i){t(n,i,e)}},Wr=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function Br(e){return!0===e||"true"===e}var jr,zr,Ur=function(){function e(){this.propertyEventService=new me,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[],this.destroyed=!1}var n;return n=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Vr.parse(this.gridOptions.sideBar));var i=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),i),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var r=function(e){return"ag-Grid: '"+e+"' is not supported on the Server-Side Row Model"};o(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupDefaultExpanded")),o(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupIncludeFooter")),o(this.gridOptions.groupDefaultExpanded)&&console.warn(r("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&ve.assertRegistered(t.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var s=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};s("radioButtonOff"),s("radioButtonOn"),s("checkboxChecked"),s("checkboxUnchecked"),s("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.getScrollbarWidth()},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(t){var n=Object.getOwnPropertyNames(t),i=Wr(wt.ALL_PROPERTIES,wt.FRAMEWORK_PROPERTIES);e.checkProperties(n,i,i,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Wr(yt.ALL_PROPERTIES,yt.FRAMEWORK_PROPERTIES,p(Ue).map(function(e){return Ct.getCallbackForEvent(e)})),n=Wr(t,["api","columnApi"]);this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},e.prototype.checkProperties=function(e,t,n,i,o){var r=ai(e,t,n);k(r,function(e,t){console.warn("ag-grid: invalid "+i+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))}),Object.keys(r).length>0&&console.warn("ag-grid: to see all the valid "+i+" properties please check: "+o)},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var n=e[this.getDomDataKey()];return n?n[t]:void 0},e.prototype.setDomData=function(e,t,n){var i=this.getDomDataKey(),o=e[i];r(o)&&(e[i]=o={}),o[t]=n},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isSuppressRowDeselection=function(){return Br(this.gridOptions.suppressRowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return Br(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return Br(this.gridOptions.pivotMode)},e.prototype.isSuppressExpandablePivotGroups=function(){return Br(this.gridOptions.suppressExpandablePivotGroups)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return r(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return Br(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return Br(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return Br(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return Br(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return Br(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return Br(this.gridOptions.suppressTouch)},e.prototype.isApplyColumnDefOrder=function(){return Br(this.gridOptions.applyColumnDefOrder)},e.prototype.isSuppressRowTransform=function(){return Br(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressColumnStateEvents=function(){return Br(this.gridOptions.suppressColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return Br(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!Br(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return Br(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){var e=Br(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):e},e.prototype.isSuppressRowHoverHighlight=function(){return Br(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return Br(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return Br(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMultiAutoColumn=function(){return Br(this.gridOptions.groupMultiAutoColumn)||Br(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupRemoveSingleChildren=function(){return Br(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return Br(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return Br(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return Br(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return Br(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return Br(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return Br(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return Br(this.gridOptions.suppressMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isGroupSuppressAutoColumn=function(){return Br(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isPivotSuppressAutoColumn=function(){return Br(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return Br(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return Br(this.gridOptions.suppressScrollOnNewData)},e.prototype.isRowDragManaged=function(){return Br(this.gridOptions.rowDragManaged)},e.prototype.isSuppressRowDrag=function(){return Br(this.gridOptions.suppressRowDrag)},e.prototype.isSuppressMoveWhenRowDragging=function(){return Br(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isEnableMultiRowDragging=function(){return Br(this.gridOptions.enableMultiRowDragging)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||ye.DOM_LAYOUT_NORMAL;return-1===[ye.DOM_LAYOUT_PRINT,ye.DOM_LAYOUT_AUTO_HEIGHT,ye.DOM_LAYOUT_NORMAL].indexOf(e)?(Y(function(){return console.warn("ag-Grid: "+e+" is not valid for DOM Layout, valid values are "+ye.DOM_LAYOUT_NORMAL+", "+ye.DOM_LAYOUT_AUTO_HEIGHT+" and "+ye.DOM_LAYOUT_PRINT)},"warn about dom layout values"),ye.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return Br(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return Br(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Br(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowVerticalScroll=function(){return Br(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isDebounceVerticalScrollbar=function(){return Br(this.gridOptions.debounceVerticalScrollbar)},e.prototype.isSuppressLoadingOverlay=function(){return Br(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return Br(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return Br(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return Br(this.gridOptions.functionsPassive)},e.prototype.isSuppressChangeDetection=function(){return Br(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return Br(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return Br(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return Br(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return Br(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return Br(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return Br(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return Br(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},e.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},e.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return Br(this.gridOptions.embedFullWidthRows)||Br(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.isDetailRowAutoHeight=function(){return Br(this.gridOptions.detailRowAutoHeight)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isImmutableData=function(){return Br(this.gridOptions.immutableData)},e.prototype.isEnsureDomOrder=function(){return Br(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!Br(this.gridOptions.enableCharts)&&ve.assertRegistered(t.ModuleNames.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return Br(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return Br(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenGridLosesFocus=function(){return Br(this.gridOptions.stopEditingWhenGridLosesFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return"number"==typeof(e=this.gridOptions.paginationPageSize)?e:"string"==typeof e?parseInt(e,10):void 0;var e},e.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Br(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return Br(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return Br(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(e){return!e&&Br(this.gridOptions.groupUseEntireRow)},e.prototype.isEnableRtl=function(){return Br(this.gridOptions.enableRtl)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return Br(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return Br(this.gridOptions.angularCompileFilters)},e.prototype.isDebug=function(){return Br(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return Br(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return Br(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return Br(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return Br(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return Br(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return Br(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Br(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return Br(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressContextMenu=function(){return Br(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return Br(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return Br(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isCopyHeadersToClipboard=function(){return Br(this.gridOptions.copyHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return Br(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return Br(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return Br(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Br(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},e.prototype.getAsyncTransactionWaitMillis=function(){return o(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ye.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return Br(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Br(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return Br(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return Br(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return Br(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isEnableRangeSelection=function(){return ve.isRegistered(t.ModuleNames.RangeSelectionModule)&&Br(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return Br(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return Br(this.gridOptions.enableFillHandle)},e.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(Y(function(){return console.warn("ag-Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},e.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},e.prototype.isSuppressMultiRangeSelection=function(){return Br(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return Br(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return Br(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!Br(this.gridOptions.masterDetail)&&ve.assertRegistered(t.ModuleNames.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return Br(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return Br(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return Br(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return Br(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isFunctionsReadOnly=function(){return Br(this.gridOptions.functionsReadOnly)},e.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},e.prototype.isEnableCellTextSelect=function(){return Br(this.gridOptions.enableCellTextSelection)},e.prototype.isEnableOldSetFilterModel=function(){return Br(this.gridOptions.enableOldSetFilterModel)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},e.prototype.isSuppressCsvExport=function(){return Br(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return Br(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return Br(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Br(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},e.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},e.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},e.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},e.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},e.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},e.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},e.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},e.prototype.isTreeData=function(){return!!Br(this.gridOptions.treeData)&&ve.assertRegistered(t.ModuleNames.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return Br(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return Br(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return Br(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return Br(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},e.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},e.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},e.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},e.prototype.getViewportRowModelPageSize=function(){return(e=this.gridOptions.viewportRowModelPageSize)>0?e:5;var e},e.prototype.getViewportRowModelBufferSize=function(){return(e=this.gridOptions.viewportRowModelBufferSize)>=0?e:5;var e},e.prototype.isServerSideSortingAlwaysResets=function(){return Br(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},e.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},e.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},e.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},e.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},e.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},e.prototype.getClipboardDeliminator=function(){return o(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},e.prototype.setProperty=function(e,t,n){void 0===n&&(n=!1);var i=this.gridOptions,o=i[e];(n||o!==t)&&(i[e]=t,this.propertyEventService.dispatchEvent({type:e,currentValue:t,previousValue:o}))},e.prototype.addLayoutElement=function(e){this.layoutElements.push(e),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t=e===ye.DOM_LAYOUT_AUTO_HEIGHT,n=e===ye.DOM_LAYOUT_PRINT,i=e===ye.DOM_LAYOUT_NORMAL;this.layoutElements.forEach(function(e){Ut(e,"ag-layout-auto-height",t),Ut(e,"ag-layout-normal",i),Ut(e,"ag-layout-print",n)})},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},e.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipShowDelay=function(){var e=this.gridOptions.tooltipShowDelay;return o(e)?(e<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,e)):null},e.prototype.isTooltipMouseTrack=function(){return Br(this.gridOptions.tooltipMouseTrack)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&o(this.gridOptions.getDocument)&&(e=this.gridOptions.getDocument()),e&&o(e)?e:document},e.prototype.getMinColWidth=function(){if(this.gridOptions.minColWidth>n.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var e=this.getFromTheme(null,"headerCellMinWidth");return Math.max(e,n.MIN_COL_WIDTH)},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>n.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<n.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(Y(function(){return console.warn("ag-Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=ye.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Vt();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:Ue.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),e.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),e.defaultColDef||(e.defaultColDef={}),null==e.defaultColDef.floatingFilter&&(e.defaultColDef.floatingFilter=!0)),e.rowDeselection&&console.warn("ag-Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.");var t=function(t,n,i){null!=e[t]&&(console.warn("ag-grid: since version "+i+", '"+t+"' is deprecated / renamed, please use the new property name '"+n+"' instead."),null==e[n]&&(e[n]=e[t]))};if(t("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),t("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("ag-Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),t("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("ag-Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var n=e.groupRowRendererParams;e.groupRowInnerRenderer&&(n.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(n.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(n.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("ag-Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("ag-Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("ag-Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of ag-Grid. If you need this to be set for every column use the defaultColDef property.")},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&r(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(r(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),r(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this.gridOptions.localeText;return function(t,n){return e&&e[t]?e[t]:n}},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var n=Ct.getCallbackForEvent(e);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](t)}},e.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||r(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.getRowHeightForNode=function(e,t){if(void 0===t&&(t=!1),"function"==typeof this.gridOptions.getRowHeight){if(t)return{height:this.getDefaultRowHeight(),estimated:!0};var n=this.gridOptions.getRowHeight({node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(n))return{height:n,estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var i=this.getDefaultRowHeight(),o=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,r=Math.min(i,o);if(this.columnController.isAutoRowHeightActive()){if(t)return{height:o,estimated:!0};var s=this.autoHeightCalculator.getPreferredHeightForRow(e);return{height:Math.max(s,r),estimated:!1}}return{height:o,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},e.prototype.getFromTheme=function(e,t){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",e.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",Gr([le("gridOptions")],e.prototype,"gridOptions",void 0),Gr([le("columnController")],e.prototype,"columnController",void 0),Gr([le("eventService")],e.prototype,"eventService",void 0),Gr([le("environment")],e.prototype,"environment",void 0),Gr([le("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),Gr([Hr(0,he("gridApi")),Hr(1,he("columnApi"))],e.prototype,"agWire",null),Gr([se],e.prototype,"destroy",null),Gr([re],e.prototype,"init",null),n=Gr([ae("gridOptionsWrapper")],e)}(),Kr=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var o=e.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(o)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},n++,t=t.parent;return n},e.prototype.populateColumnsMap=function(e,t){var n=this;if(this.keepingColumns&&t)for(var i=e;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(function(e){return n.nodeIdsToColumns[i.id][e.getId()]=!0}),i=i.parent},e.prototype.linkPathItems=function(e,t){for(var n=e,i=0;i<t;i++){var o=this.mapToItems[n.id],r=this.mapToItems[n.parent.id];r.children||(r.children=[]),r.children.push(o),n=n.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id];return t.filter(function(e){return n[e.getId()]})},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id];return t.filter(function(e){return!n[e.getId()]})},e}(),qr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),t.prototype.setBeans=function(e){this.logger=e.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Ue.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return k(this.selectedNodes,function(t,n){n&&e.push(n)}),e},t.prototype.getSelectedRows=function(){var e=[];return k(this.selectedNodes,function(t,n){n&&n.data&&e.push(n.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;k(this.selectedNodes,function(t,n){n&&n.group&&(e.selectedNodes[n.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new Kr(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst(function(e){e!==t&&e.calculateSelectedFromChildren()})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,n={},i=0;return k(this.selectedNodes,function(o,r){r&&r.id!==e.id&&(i+=t.selectedNodes[r.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&r.parent&&(n[r.parent.id]=r.parent))}),k(n,function(e,t){t.calculateSelectedFromChildren()}),i},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(this.selectedNodes[t.id]=t.isSelected()?t:void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){o(t)&&e.id!==t.id&&o(this.selectedNodes[t.id])&&(this.selectedNodes[t.id]=t)},t.prototype.syncInNewRowNode=function(e){o(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(n){for(var i=0,o=n.length;i<o;i++){var r=n[i];r.isSelected()?t.push(r):r.group&&r.children&&e(r.children)}}(e),t}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return k(this.selectedNodes,function(t,n){n&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},n=this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!n)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else k(this.selectedNodes,function(e,n){n&&t(n)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==ye.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,n=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(n):t.forEachNode(n),this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var n=this.rowModel.getRow(e);this.selectNode(n,t)},Yr([le("rowModel")],t.prototype,"rowModel",void 0),Yr([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Yr([le("columnApi")],t.prototype,"columnApi",void 0),Yr([le("gridApi")],t.prototype,"gridApi",void 0),Yr([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),Yr([re],t.prototype,"init",null),Yr([ae("selectionController")],t);var n}(We),Xr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Qr=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){void 0===e&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnController.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnController.getColumnGroup(e,t)},e.prototype.getOriginalColumnGroup=function(e){return this.columnController.getOriginalColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnController.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnController.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnController.getPrimaryColumn(e)},e.prototype.applyColumnState=function(e){return this.columnController.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnController.getColumnState()},e.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},e.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnController.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnController.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnController.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnController.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnController.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},e.prototype.moveColumn=function(e,t){"number"==typeof e?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(e,t,"api")):this.columnController.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnController.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnController.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnController.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,n){void 0===n&&(n=!0),this.columnController.setColumnWidths([{key:e,newWidth:t}],!1,n)},e.prototype.setColumnWidths=function(e,t){void 0===t&&(t=!0),this.columnController.setColumnWidths(e,!1,t)},e.prototype.setPivotMode=function(e){this.columnController.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnController.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnController.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnController.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnController.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnController.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnController.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnController.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnController.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnController.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnController.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnController.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnController.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnController.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnController.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnController.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnController.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e,t){return this.columnController.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){return this.columnController.autoSizeColumns(e,t,"api")},e.prototype.autoSizeAllColumns=function(e){this.columnController.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){this.columnController.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Di.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},e.prototype.setColumnState=function(e){return this.columnController.applyColumnState({state:e,applyOrder:!0},"api")},Xr([le("columnController")],e.prototype,"columnController",void 0),Xr([se],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Xr([ae("columnApi")],e)}();(jr=t.SelectionHandleType||(t.SelectionHandleType={}))[jr.FILL=0]="FILL",jr[jr.RANGE=1]="RANGE",(zr=t.CellRangeType||(t.CellRangeType={}))[zr.VALUE=0]="VALUE",zr[zr.DIMENSION=1]="DIMENSION";var Zr,Jr,es,ts=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ns=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};(Zr=t.DragSourceType||(t.DragSourceType={}))[Zr.ToolPanel=0]="ToolPanel",Zr[Zr.HeaderCell=1]="HeaderCell",Zr[Zr.RowDrag=2]="RowDrag",Zr[Zr.ChartPanel=3]="ChartPanel",(Jr=t.VerticalDirection||(t.VerticalDirection={}))[Jr.Up=0]="Up",Jr[Jr.Down=1]="Down",(es=t.HorizontalDirection||(t.HorizontalDirection={}))[es.Left=0]="Left",es[es.Right=1]="Right";var is,os=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var i;return ts(n,e),i=n,n.prototype.init=function(){this.ePinnedIcon=fi("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=fi("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=fi("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=fi("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=fi("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=fi("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=fi("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=fi("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=fi("dropNotAllowed",this.gridOptionsWrapper,null)},n.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n,t)},n.prototype.removeDragSource=function(e){var t=h(this.dragSourceAndParamsList,function(t){return t.dragSource===e});t&&(this.dragService.removeDragSource(t.params),C(this.dragSourceAndParamsList,t))},n.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach(function(t){return e.dragService.removeDragSource(t.params)}),this.dragSourceAndParamsList.length=0},n.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},n.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},n.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},n.prototype.onDragging=function(e,t){var n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var o=h(this.dropTargets,this.isMouseOnDropTarget.bind(this,e));if(o!==this.lastDropTarget)this.leaveLastTargetIfExists(e,n,i,t),this.enterDragTargetIfExists(o,e,n,i,t),this.lastDropTarget=o;else if(o&&o.onDragging){var r=this.createDropTargetEvent(o,e,n,i,t);o.onDragging(r)}},n.prototype.enterDragTargetIfExists=function(e,t,n,i,o){if(e){if(e.onDragEnter){var r=this.createDropTargetEvent(e,t,n,i,o);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},n.prototype.leaveLastTargetIfExists=function(e,t,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,e,t,n,i);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},n.prototype.getAllContainersFromDropTarget=function(e){var t=[e.getContainer()],n=e.getSecondaryContainers?e.getSecondaryContainers():null;return n&&(t=t.concat(n)),t},n.prototype.isMouseOnDropTarget=function(e,t){var n=!1;return this.getAllContainersFromDropTarget(t).filter(function(e){return e}).forEach(function(t){var i=t.getBoundingClientRect();0!==i.width&&0!==i.height&&e.clientX>=i.left&&e.clientX<=i.right&&e.clientY>=i.top&&e.clientY<=i.bottom&&(n=!0)}),n&&t.isInterestedIn(this.dragSource.type)},n.prototype.addDropTarget=function(e){this.dropTargets.push(e)},n.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter(function(t){return t.getContainer()!==e.getContainer()})},n.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(e){return e.external})},n.prototype.findExternalZone=function(e){return h(this.dropTargets.filter(function(e){return e.external}),function(t){return t.getContainer()===e.getContainer()})},n.prototype.getHorizontalDirection=function(e){var n=this.eventLastTime.clientX,i=e.clientX;return n===i?null:n>i?t.HorizontalDirection.Left:t.HorizontalDirection.Right},n.prototype.getVerticalDirection=function(e){var n=this.eventLastTime.clientY,i=e.clientY;return n===i?null:n>i?t.VerticalDirection.Up:t.VerticalDirection.Down},n.prototype.createDropTargetEvent=function(e,t,n,i,o){var r=e.getContainer(),s=r.getBoundingClientRect(),a=this;return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:i,hDirection:n,dragSource:a.dragSource,fromNudge:o,dragItem:a.dragItem,api:a.gridApi,columnApi:a.columnApi,dropZoneTarget:r}},n.prototype.positionGhost=function(e){var t=this.eGhost,n=t.getBoundingClientRect().height,i=Gt()-2,o=Ht()-2,r=e.pageY-n/2,s=e.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=window.pageYOffset||a.documentElement.scrollTop,u=window.pageXOffset||a.documentElement.scrollLeft;i>0&&s+t.clientWidth>i+u&&(s=i+u-t.clientWidth),s<0&&(s=0),o>0&&r+t.clientHeight>o+l&&(r=o+l-t.clientHeight),r<0&&(r=0),t.style.left=s+"px",t.style.top=r+"px"},n.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},n.prototype.createGhost=function(){this.eGhost=un(i.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&jt(this.eGhost,e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),n=this.dragSource.dragItemName;X(n)&&(n=n()),t.innerHTML=Qe(n),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsWrapper.getDocument();this.eGhostParent=o.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},n.prototype.setGhostIcon=function(e,t){var n;switch(void 0===t&&(t=!1),sn(this.eGhostIcon),e||(e=this.dragSource.defaultIconName||i.ICON_NOT_ALLOWED),e){case i.ICON_PINNED:n=this.ePinnedIcon;break;case i.ICON_MOVE:n=this.eMoveIcon;break;case i.ICON_LEFT:n=this.eLeftIcon;break;case i.ICON_RIGHT:n=this.eRightIcon;break;case i.ICON_GROUP:n=this.eGroupIcon;break;case i.ICON_AGGREGATE:n=this.eAggregateIcon;break;case i.ICON_PIVOT:n=this.ePivotIcon;break;case i.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case i.ICON_HIDE:n=this.eHideIcon}Ut(this.eGhostIcon,"ag-shake-left-to-right",t),n===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||n&&this.eGhostIcon.appendChild(n)},n.ICON_PINNED="pinned",n.ICON_MOVE="move",n.ICON_LEFT="left",n.ICON_RIGHT="right",n.ICON_GROUP="group",n.ICON_AGGREGATE="aggregate",n.ICON_PIVOT="pivot",n.ICON_NOT_ALLOWED="notAllowed",n.ICON_HIDE="hide",n.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ns([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ns([le("dragService")],n.prototype,"dragService",void 0),ns([le("environment")],n.prototype,"environment",void 0),ns([le("columnApi")],n.prototype,"columnApi",void 0),ns([le("gridApi")],n.prototype,"gridApi",void 0),ns([re],n.prototype,"init",null),ns([se],n.prototype,"clearDragSourceParamsList",null),i=ns([ae("dragAndDropService")],n)}(We),rs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ss=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},as=function(e){function n(t,n,i,o){var r=e.call(this,'<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>')||this;return r.rowNode=t,r.column=n,r.cellValueFn=i,r.beans=o,r}return rs(n,e),n.prototype.postConstruct=function(){this.getGui().appendChild(gi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new cs(this,this.beans,this.rowNode,this.column):new us(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)},n.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var e=this.beans.selectionController.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},n.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&Y(function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},n.prototype.addDragSource=function(){var e=this,n={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValueFn()},i=this.column.getColDef().rowDragText,o={type:t.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var t=e.getSelectedCount();return i?i(n,t):1===t?e.cellValueFn():t+" rows"},getDragItem:function(){return n},dragStartPixels:0,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()};this.beans.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.beans.dragAndDropService.removeDragSource(o)})},ss([re],n.prototype,"postConstruct",null),n}(Li),ls=function(e){function t(t,n,i){var o=e.call(this)||this;return o.parent=t,o.column=i,o.rowNode=n,o}return rs(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=this.column.isRowDrag(this.rowNode);X(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):this.parent.setDisplayed(t)}},t}(We),us=function(e){function t(t,n,i,o){var r=e.call(this,t,i,o)||this;return r.beans=n,r}return rs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},ss([re],t.prototype,"postConstruct",null),t}(ls),cs=function(e){function t(t,n,i,o){var r=e.call(this,t,i,o)||this;return r.beans=n,r}return rs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Ue.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ue.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridPanel.getRowDragFeature(),t=e&&e.shouldPreventRowMove(),n=this.beans.gridOptionsWrapper.isSuppressRowDrag(),i=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(t&&!i||n)},ss([re],t.prototype,"postConstruct",null),t}(ls),hs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ps=function(e){function t(t){var n=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.getGuiCalledOnChild=!1,n.cellEditor=t,n}return hs(t,e),t.prototype.onKeyDown=function(e){Ci(this.gridOptionsWrapper,e,this.params.node,this.params.column,!0)||this.params.onKeyDown(e)},t.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),e.prototype.getGui.call(this)},t.prototype.init=function(n){var i=this;this.params=n,this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc(function(){return i.destroyBean(i.cellEditor)}),this.addManagedListener(e.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},t.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},t.prototype.getValue=function(){return this.cellEditor.getValue()},t.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},t.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},t.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},t.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},t.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Gi),ds=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fs=function(e){function t(t,n,i,o,r){var s=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=n,s.cellValue=i,s.beans=o,s.eCell=r,s}return ds(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(gi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(e){e.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,n=this.column.getColDef().dndSourceOnRowDrag,i=Dt();i||e.dataTransfer.setDragImage(this.eCell,0,0),n?n({rowNode:this.rowNode,dragEvent:e}):function(){try{var n=JSON.stringify(t.rowNode.data);i?e.dataTransfer.setData("text",n):(e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n))}catch(o){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([re],t.prototype,"postConstruct",null),t}(Li),gs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ms=function(){return(ms=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ys=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(is||(is={}));var vs,Cs=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=is.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=t,n}return gs(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(this.state==is.NOTHING){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=is.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===is.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=is.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===is.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=is.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;jt(this.tooltipComp.getGui(),"ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(function(){t(),e.getContext().destroyBean(n)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=ms({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(o(e.value)){this.state=is.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(e).then(t)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==is.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var n=t.getGui();this.tooltipComp=t,Kt(n,"ag-tooltip")||jt(n,"ag-tooltip-custom"),this.tooltipPopupDestroyFunc=this.popupService.addPopup({eChild:n}),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},ys([le("popupService")],t.prototype,"popupService",void 0),ys([le("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ys([le("columnApi")],t.prototype,"columnApi",void 0),ys([le("gridApi")],t.prototype,"gridApi",void 0),ys([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ys([re],t.prototype,"postConstruct",null),t}(We),ws=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bs=function(){return(bs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ss="ag-cell-range-top",Es="ag-cell-range-right",_s="ag-cell-range-bottom",Os="ag-cell-range-left",xs="ag-cell-focus",Ts="ag-cell-first-right-pinned",Rs="ag-cell-last-left-pinned",Ps="ag-cell-not-inline-editing",Ds="ag-cell-range-selected",As="ag-column-hover",ks="ag-cell-range-chart",Is="ag-cell-range-single-cell",Fs="ag-cell-range-handle",Ns=function(e){function n(t,n,i,o,r,s,a){var l=e.call(this)||this;return l.hasChartRange=!1,l.editingCell=!1,l.suppressRefreshCell=!1,l.tooltipFeatureEnabled=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=t,l.beans=n,l.column=i,l.rowNode=o,l.rowComp=r,l.autoHeightCell=s,l.printLayout=a,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&n.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController&&(l.rangeCount=l.beans.rangeController.getCellRangeCount(l.cellPosition),l.hasChartRange=l.getHasChartRange()),l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return ws(n,e),n.prototype.getCreateTemplate=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',t=[],n=this.column,i=this.getCellWidth(),r=this.modifyLeftForPrintLayout(this.getCellLeft()),s=this.getInitialValueToRender(),a=W(this.column,"colDef.template",null)?s:Qe(s);this.tooltip=this.getToolTip();var l=Qe(this.tooltip),u=Qe(n.getId()),c="",h="",p=this.preProcessStylesFromColDef(),d=this.getInitialCssClasses(),f=this.getStylesForRowSpanning(),g=Qe(this.beans.columnController.getAriaColumnIndex(this.column).toString());return t.push("<div"),t.push(' tabindex="-1"'),t.push(" "+e),t.push(' role="gridcell"'),t.push(' aria-colindex="'+g+'"'),t.push(' comp-id="'+this.getCompId()+'" '),t.push(' col-id="'+u+'"'),t.push(' class="'+Qe(d.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&o(l)&&t.push(' title="'+l+'"'),this.rangeSelectionEnabled&&t.push(' aria-selected="'+(this.rangeCount?"true":"false")+'"'),this.usingWrapper&&(c='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                    <span ref="eCellValue" role="presentation" class="ag-cell-value" '+e+">",h="</span></div>"),t.push(' style="width: '+Number(i)+"px; left: "+Number(r)+"px; "+Qe(p)+" "+Qe(f)+'">'),t.push(c),o(a,!0)&&t.push(a),t.push(h),t.push("</div>"),t.join("")},n.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},n.prototype.afterAttached=function(){var e='[comp-id="'+this.getCompId()+'"]',t=this.eParentRow.querySelector(e);this.setGui(t),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),o(this.tooltip)&&this.createTooltipFeatureIfNeeded()},n.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new Cs(this),this.beans.context),this.tooltipFeatureEnabled=!0)},n.prototype.onColumnHover=function(){var e=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass(As,e)},n.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},n.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?m(this.colsSpanning):this.column).getLeft()},n.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,t){return e+t.getActualWidth()},0):this.column.getActualWidth()},n.prototype.onFlashCells=function(e){var t=this.beans.cellPositionUtils.createId(this.cellPosition);e.cells[t]&&this.animateCell("highlight")},n.prototype.setupColSpan=function(){r(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},n.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var n=this.column,i=this.column.getPinned(),o=0;n&&o<e&&(t.push(n),(n=this.beans.columnController.getDisplayedColAfter(n))&&!r(n))&&i===n.getPinned();o++);return t},n.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();y(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},n.prototype.refreshAriaIndex=function(){var e=this.beans.columnController.getAriaColumnIndex(this.column);Qn(this.getGui(),e)},n.prototype.getInitialCssClasses=function(){var e=["ag-cell",Ps];return this.autoHeightCell||e.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&e.push(xs),this.firstRightPinned&&e.push(Ts),this.lastLeftPinned&&e.push(Rs),this.beans.columnHoverService.isHovered(this.column)&&e.push(As),_(e,this.preProcessClassesFromColDef()),_(e,this.preProcessCellClassRules()),_(e,this.getInitialRangeClasses()),this.usingWrapper||e.push("ag-cell-value"),this.column.getColDef().wrapText&&e.push("ag-cell-wrap-text"),e},n.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"==typeof this.cellRendererGui?this.cellRendererGui:"";var e=this.getComponentHolder();return e.template?e.template:e.templateUrl?this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},n.prototype.getRenderedRow=function(){return this.rowComp},n.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},n.prototype.getCellRenderer=function(){return this.cellRenderer},n.prototype.getCellEditor=function(){return this.cellEditor},n.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editingCell){var t=this.getComponentHolder(),n=e&&e.newData,i=e&&e.suppressFlash||t.suppressCellFlash,o=e&&e.forceRefresh,r=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(r,this.value);if(o||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!n&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!i&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},n.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},n.prototype.animateCell=function(e,t,n){var i=this,o="ag-cell-"+e,r="ag-cell-"+e+"-animation",s=this.getGui(),a=this.beans.gridOptionsWrapper;t||(t=a.getCellFlashDelay()),n||(n=a.getCellFadeDelay()),this.addCssClass(o),this.removeCssClass(r),window.setTimeout(function(){i.removeCssClass(o),i.addCssClass(r),s.style.transition="background-color "+n+"ms",window.setTimeout(function(){i.removeCssClass(r),s.style.transition=null},n)},t)},n.prototype.replaceContentsAfterRefresh=function(){sn(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},n.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=bs({},this.rowNode.data),this.angular1Compile())},n.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var e=this.getGui();if(!e.classList.contains("ng-scope")||0===e.childElementCount){var t=this.beans.$compile(e)(this.scope);this.addDestroyFunc(function(){return t.remove()})}}},n.prototype.postProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();e&&mn(this.getGui(),e)},n.prototype.preProcessStylesFromColDef=function(){return An(this.processStylesFromColDef())},n.prototype.processStylesFromColDef=function(){var e=this.getComponentHolder();if(e.cellStyle){var t=void 0;if("function"==typeof e.cellStyle){var n={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};t=(0,e.cellStyle)(n)}else t=e.cellStyle;return t}},n.prototype.postProcessClassesFromColDef=function(){var e=this;this.processClassesFromColDef(function(t){return e.addCssClass(t)})},n.prototype.preProcessClassesFromColDef=function(){var e=[];return this.processClassesFromColDef(function(t){return e.push(t)}),e},n.prototype.processClassesFromColDef=function(e){var t=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(t,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},e)},n.prototype.putDataIntoCellAfterRefresh=function(){var e=this.getComponentHolder();if(e.template)this.eCellValue.innerHTML=e.template;else if(e.templateUrl){var t=this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&(this.eCellValue.innerHTML=t)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var n=this.getValueToUse();null!=n&&(this.eCellValue.innerHTML=Qe(n))}},n.prototype.attemptCellRendererRefresh=function(){if(r(this.cellRenderer)||!this.cellRenderer||r(this.cellRenderer.refresh))return!1;var e=this.createCellRendererParams(),t=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,e),n=this.cellRenderer.refresh(t);return!0===n||void 0===n},n.prototype.refreshToolTip=function(){var e=this.getToolTip();if(this.tooltip!==e){this.createTooltipFeatureIfNeeded();var t=o(e);t&&this.tooltip===e.toString()||(this.tooltip=e,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(t?this.eCellValue.setAttribute("title",this.tooltip):this.eCellValue.removeAttribute("title")))}},n.prototype.valuesAreEqual=function(e,t){var n=this.getComponentHolder(),i=n?n.equals:null;return i?i(e,t):e===t},n.prototype.getToolTip=function(){var e=this.getComponentHolder(),t=this.rowNode.data;if(e.tooltipField&&o(t))return B(t,e.tooltipField,this.column.isTooltipFieldContainsDots());var n=e.tooltipValueGetter;return n?n(bs(bs({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},n.prototype.getTooltipParams=function(){return{location:"cell",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},n.prototype.getTooltipText=function(e){return void 0===e&&(e=!0),e?Qe(this.tooltip):this.tooltip},n.prototype.processCellClassRules=function(e,t){var n=this.getComponentHolder();this.beans.stylingService.processClassRules(n.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},n.prototype.postProcessCellClassRules=function(){var e=this;this.processCellClassRules(function(t){return e.addCssClass(t)},function(t){return e.removeCssClass(t)})},n.prototype.preProcessCellClassRules=function(){var e=[];return this.processCellClassRules(function(t){return e.push(t)},function(e){}),e},n.prototype.setUsingWrapper=function(){var e=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var t="function"==typeof e.rowDrag,n="function"==typeof e.dndSource;this.includeSelectionComponent="function"==typeof e.checkboxSelection||!0===e.checkboxSelection,this.includeRowDraggingComponent=t||!0===e.rowDrag,this.includeDndSourceComponent=n||!0===e.dndSource;var i=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=i||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},n.prototype.chooseCellRenderer=function(){var e=this.getComponentHolder();if(e.template||e.templateUrl)this.usingCellRenderer=!1;else{var t=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(e,"pinnedRowCellRenderer",t)?(this.cellRendererType=n.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(e,"cellRenderer",t)?(this.cellRendererType=n.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},n.prototype.createCellRendererInstance=function(e){var t=this;if(void 0===e&&(e=!1),this.usingCellRenderer){var i=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(i||o||this.autoHeightCell)&&(e=!1);var r=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===n.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){t.createCellRendererFunc=null;var e=t.beans.userComponentFactory.newCellRenderer(t.getComponentHolder(),r,!a);e&&e.then(s)},e?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},n.prototype.afterCellRendererCreated=function(e,t){this.isAlive()&&e===this.cellRendererVersion?(this.cellRenderer=t,this.cellRendererGui=this.cellRenderer.getGui(),r(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(t)},n.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(t,n){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),e.rowComp&&e.rowComp.addEventListener(t,n)}}},n.prototype.formatValue=function(e){var t=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e);return null!=t?t:e},n.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},n.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},n.prototype.getValue=function(){var e=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),i=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,t&&n&&!i)},n.prototype.onMouseEvent=function(e,t){if(!Pe(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},n.prototype.dispatchCellContextMenuEvent=function(e){var t=this.getComponentHolder(),n=this.createEvent(e,Ue.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(function(){return t.onCellContextMenu(n)},0)},n.prototype.createEvent=function(e,t){var n={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,type:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},n.prototype.onMouseOut=function(e){var t=this.createEvent(e,Ue.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()},n.prototype.onMouseOver=function(e){var t=this.createEvent(e,Ue.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])},n.prototype.onCellDoubleClicked=function(e){var t=this.getComponentHolder(),n=this.createEvent(e,Ue.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(function(){return t.onCellDoubleClicked(n)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.startRowOrCellEdit=function(e,t){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(e,t,this):this.startEditingIfEnabled(e,t,!0)},n.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},n.prototype.startEditingIfEnabled=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var i=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),o=this.createCellEditorParams(e,t,n);this.createCellEditor(o).then(i),r(this.cellEditor)&&n&&this.focusCell(!0)}},n.prototype.createCellEditor=function(e){var t=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),e).then(function(n){if(!n.isPopup||!n.isPopup())return n;t.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var i=new ps(n);return t.beans.context.createBean(i),i.init(e),i})},n.prototype.afterCellEditorCreated=function(e,t){if(e===this.cellEditorVersion&&this.editingCell){if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void(this.editingCell=!1);if(!t.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),t.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(t),void(this.editingCell=!1);this.cellEditor=t,this.cellEditorInPopup=void 0!==t.isPopup&&t.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached();var n=this.createEvent(null,Ue.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(n)}else this.beans.context.destroyBean(t)},n.prototype.addInCellEditor=function(){sn(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},n.prototype.addPopupCellEditor=function(){var e=this,t=this.cellEditor?this.cellEditor.getGui():null,n=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup({modal:n,eChild:t,closeOnEsc:!0,closedCallback:function(){e.onPopupEditorClosed()}});var i={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:t,keepWithinBounds:!0};"under"===(this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over")?this.beans.popupService.positionPopupUnderComponent(i):this.beans.popupService.positionPopupOverComponent(i),this.angular1Compile()},n.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},n.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editingCell&&!this.cellEditorInPopup,t=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass("ag-cell-inline-editing",e),this.addOrRemoveCssClass(Ps,!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t),Ut(this.getGui().parentNode,"ag-row-inline-editing",e),Ut(this.getGui().parentNode,"ag-row-not-inline-editing",!e)}},n.prototype.createCellEditorParams=function(e,t,n){return{value:this.getValue(),keyPress:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},n.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},n.prototype.parseValue=function(e){var t=this.getComponentHolder(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},i=t.valueParser;return o(i)?this.beans.expressionService.evaluate(i,n):e},n.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,e)},n.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},n.prototype.isEditing=function(){return this.editingCell},n.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case Ki.ENTER:this.onEnterKeyDown(e);break;case Ki.F2:this.onF2KeyDown();break;case Ki.ESCAPE:this.onEscapeKeyDown();break;case Ki.TAB:this.onTabKeyDown(e);break;case Ki.BACKSPACE:case Ki.DELETE:this.onBackspaceOrDeleteKeyPressed(t);break;case Ki.DOWN:case Ki.UP:case Ki.RIGHT:case Ki.LEFT:this.onNavigationKeyPressed(e,t)}},n.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},n.prototype.onNavigationKeyPressed=function(e,t){this.editingCell||(e.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(t):this.beans.rowRenderer.navigateToNextCell(e,t,this.cellPosition,!0),e.preventDefault())},n.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeController){var t=this.beans.rangeController.extendLatestRangeInDirection(e);t&&this.beans.rowRenderer.ensureCellVisible(t)}},n.prototype.onTabKeyDown=function(e){this.beans.rowRenderer.onTabKeyDown(this,e)},n.prototype.onBackspaceOrDeleteKeyPressed=function(e){this.editingCell||this.startRowOrCellEdit(e)},n.prototype.onEnterKeyDown=function(e){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,Ki.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(Ki.ENTER),this.editingCell&&e.preventDefault())},n.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,Ki.DOWN,this.cellPosition,!1)},n.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(Ki.F2)},n.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},n.prototype.onKeyPress=function(e){if(Ie(e)===this.getGui()&&!this.editingCell){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):vi(e)&&(this.startRowOrCellEdit(null,t),e.preventDefault())}},n.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.editingCell&&t.isRowSelection()){var n=this.rowNode.isSelected(),i=!n;if(i||!t.isSuppressRowDeselection()){var o=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),r=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:o});void 0===n&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o})}}e.preventDefault()},n.prototype.onMouseDown=function(e){var t=e.ctrlKey,n=e.metaKey,i=e.shiftKey,o=e.target,r=this.beans,s=r.eventService,a=r.rangeController;if(!this.isRightClickInExistingRange(e)){if(!i||a&&!a.getCellRanges().length){var l=(Dt()||At())&&!this.editingCell;this.focusCell(l)}else a&&e.preventDefault();if(!this.containsWidget(o)){if(a){var u=this.cellPosition;i?a.extendLatestRangeToCell(u):a.setRangeToCell(u,t||n)}s.dispatchEvent(this.createEvent(e,Ue.EVENT_CELL_MOUSE_DOWN))}}},n.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeController;return!(!t||!t.isCellInAnyRange(this.getCellPosition())||2!==e.button)},n.prototype.containsWidget=function(e){return Xt(e,"ag-selection-checkbox",3)},n.prototype.isDoubleClickOnIPad=function(){if(!Nt()||Ae("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},n.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,n=t.eventService,i=t.gridOptionsWrapper,o=this.createEvent(e,Ue.EVENT_CELL_CLICKED);n.dispatchEvent(o);var r=this.getComponentHolder();r.onCellClicked&&window.setTimeout(function(){return r.onCellClicked(o)},0),(i.isSingleClickEdit()||r.singleClickEdit)&&!i.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},n.prototype.getCellPosition=function(){return this.cellPosition},n.prototype.getParentRow=function(){return this.eParentRow},n.prototype.setParentRow=function(e){this.eParentRow=e},n.prototype.getColumn=function(){return this.column},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},n.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),e.prototype.destroy.call(this)},n.prototype.onLeftChanged=function(){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=e+"px",this.refreshAriaIndex()},n.prototype.modifyLeftForPrintLayout=function(e){return this.printLayout&&this.column.getPinned()!==ye.PINNED_LEFT?this.column.getPinned()===ye.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},n.prototype.onWidthChanged=function(){var e=this.getCellWidth();this.getGui().style.width=e+"px"},n.prototype.getRangeBorders=function(){var e,t,n=this,i=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,r=!1,s=!1,a=!1,l=this.cellPosition.column,u=this.beans,c=u.rangeController,h=u.columnController;i?(e=h.getDisplayedColAfter(l),t=h.getDisplayedColBefore(l)):(e=h.getDisplayedColBefore(l),t=h.getDisplayedColAfter(l));var p=c.getCellRanges().filter(function(e){return c.isCellInSpecificRange(n.cellPosition,e)});e||(a=!0),t||(r=!0);for(var d=0;d<p.length&&!(o&&r&&s&&a);d++){var f=p[d],g=c.getRangeStartRow(f),m=c.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(o=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellPosition)&&(s=!0),!a&&f.columns.indexOf(e)<0&&(a=!0),!r&&f.columns.indexOf(t)<0&&(r=!0)}return{top:o,right:r,bottom:s,left:a}},n.prototype.getInitialRangeClasses=function(){var e=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return e;e.push(Ds),this.hasChartRange&&e.push(ks);var t=Math.min(this.rangeCount,4);if(e.push(Ds+"-"+t),this.isSingleCell()&&e.push(Is),this.rangeCount>0){var n=this.getRangeBorders();n.top&&e.push(Ss),n.right&&e.push(Es),n.bottom&&e.push(_s),n.left&&e.push(Os)}return this.selectionHandle&&e.push(Fs),e},n.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){var e=this.beans.rangeController;if(e){var t=this.rangeCount,n=e.getCellRangeCount(this.cellPosition),i=this.getGui();t!==n&&(this.addOrRemoveCssClass(Ds,0!==n),this.addOrRemoveCssClass(Ds+"-1",1===n),this.addOrRemoveCssClass(Ds+"-2",2===n),this.addOrRemoveCssClass(Ds+"-3",3===n),this.addOrRemoveCssClass(Ds+"-4",n>=4),this.rangeCount=n),ti(i,this.rangeCount>0);var o=this.getHasChartRange();o!==this.hasChartRange&&(this.hasChartRange=o,this.addOrRemoveCssClass(ks,this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass(Is,this.isSingleCell()),this.refreshHandle()}},n.prototype.getHasChartRange=function(){var e=this.beans.rangeController;if(!this.rangeCount||!e)return!1;var n=e.getCellRanges();return n.length>0&&n.every(function(e){return E([t.CellRangeType.DIMENSION,t.CellRangeType.VALUE],e.type)})},n.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,n=e.gridOptionsWrapper,i=e.rangeController,o=i.getCellRanges(),r=o.length;if(this.rangeCount<1||r<1)return!1;var s=m(o),a=this.getCellPosition(),l=1===r&&(n.isEnableFillHandle()||n.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var u=o[0].type===t.CellRangeType.DIMENSION&&i.isCellInSpecificRange(a,o[0]);this.addOrRemoveCssClass("ag-cell-range-chart-category",u),l=s.type===t.CellRangeType.VALUE}return l&&null!=s.endRow&&i.isContiguousRange(s)&&i.isBottomRightCell(s,a)},n.prototype.addSelectionHandle=function(){var e=this.beans,n=e.gridOptionsWrapper,i=m(e.rangeController.getCellRanges()).type,o=n.isEnableFillHandle()&&r(i)?t.SelectionHandleType.FILL:t.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this)},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.refreshHandle=function(){if(this.beans.rangeController){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.addOrRemoveCssClass(Fs,!!this.selectionHandle)}},n.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.right,i=!t&&e.bottom,o=!t&&e.left;this.addOrRemoveCssClass(Ss,!t&&e.top),this.addOrRemoveCssClass(Es,n),this.addOrRemoveCssClass(_s,i),this.addOrRemoveCssClass(Os,o)},n.prototype.onFirstRightPinnedChanged=function(){var e=this.column.isFirstRightPinned();this.firstRightPinned!==e&&(this.firstRightPinned=e,this.addOrRemoveCssClass(Ts,e))},n.prototype.onLastLeftPinnedChanged=function(){var e=this.column.isLastLeftPinned();this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.addOrRemoveCssClass(Rs,e))},n.prototype.populateTemplate=function(){this.usingWrapper?(this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eCellValue=this.getGui()},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.addRowDragging=function(){var e=this,t=this.beans.gridOptionsWrapper.isPagination(),n=this.beans.gridOptionsWrapper.isRowDragManaged(),i=this.beans.gridOptionsWrapper.isRowModelDefault();if(n){if(!i)return void Y(function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(t)return void Y(function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var o=new as(this.rowNode,this.column,function(){return e.value},this.beans);this.createManagedBean(o,this.beans.context),this.eCellWrapper.insertBefore(o.getGui(),this.eCellValue)},n.prototype.addDndSource=function(){var e=new fs(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(e,this.beans.context),this.eCellWrapper.insertBefore(e.getGui(),this.eCellValue)},n.prototype.addSelectionCheckbox=function(){var e=this,t=new Oo;this.beans.context.createBean(t);var n=this.getComponentHolder().checkboxSelection;t.init({rowNode:this.rowNode,column:this.column,visibleFunc:n="function"==typeof n?n:null}),this.addDestroyFunc(function(){return e.beans.context.destroyBean(t)}),this.eCellWrapper.insertBefore(t.getGui(),this.eCellValue)},n.prototype.addDomData=function(){var e=this,t=this.getGui();this.beans.gridOptionsWrapper.setDomData(t,n.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(t,n.DOM_DATA_KEY_CELL_COMP,null)})},n.prototype.isSingleCell=function(){var e=this.beans.rangeController;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},n.prototype.onCellFocused=function(e){var t=this.beans.focusController.isCellFocused(this.cellPosition);if(t!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass(xs,t),this.cellFocused=t),t&&e&&e.forceBrowserFocus){var n=this.getFocusableElement();n.focus(),document.activeElement&&document.activeElement!==document.body||n.focus()}var i=this.beans.gridOptionsWrapper.isFullRowEdit();t||i||!this.editingCell||this.stopRowOrCellEdit()},n.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(e):this.stopEditing(e)},n.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editingCell)if(this.cellEditor){var t,n=this.getValue(),i=!1;if(e||this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(t=this.cellEditor.getValue(),i=!0),this.editingCell=!1,this.cellEditor=this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(sn(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var o=this.cellRendererGui;o&&this.getGui().appendChild(o)}this.setInlineEditingClass(),this.refreshHandle(),i&&t!==n&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,t),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var r=bs(bs({},this.createEvent(null,Ue.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:t});this.beans.eventService.dispatchEvent(r)}else this.editingCell=!1},n.DOM_DATA_KEY_CELL_COMP="cellComp",n.CELL_RENDERER_TYPE_NORMAL="cellRenderer",n.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",n}(Li),Ms=function(){return(Ms=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ls=function(){function e(){}return e.createChildScopeOrNull=function(e,t,n){if(!n.isAngularCompileRows())return null;var i=t.$new();return i.data=Ms({},e.data),i.rowNode=e,i.context=n.getContext(),{scope:i,scopeDestroyFunc:function(){i.$destroy(),i.data=null,i.rowNode=null,i.context=null}}},e}(),Vs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gs=function(e){function n(t,n,i,o,r,s,a,l,u,c,h){var p=e.call(this)||this;return p.eAllRowContainers=[],p.fullWidthRowDestroyFuncs=[],p.active=!0,p.rowContainerReadyCount=0,p.refreshNeeded=!1,p.columnRefreshPending=!1,p.cellComps={},p.createSecondPassFuncs=[],p.removeFirstPassFuncs=[],p.removeSecondPassFuncs=[],p.initialised=!1,p.elementOrderChanged=!1,p.lastMouseDownOnDragger=!1,p.parentScope=t,p.beans=a,p.bodyContainerComp=n,p.pinnedLeftContainerComp=i,p.pinnedRightContainerComp=o,p.fullWidthContainerComp=r,p.rowNode=s,p.rowIsEven=p.rowNode.rowIndex%2==0,p.paginationPage=p.beans.paginationProxy.getCurrentPage(),p.useAnimationFrameForCreate=u,p.printLayout=c,p.embedFullWidth=h,p.setAnimateFlags(l),p}return Vs(n,e),n.prototype.init=function(){var e=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.setupAngular1Scope(),this.rowLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push(function(){e.onTopChanged()}),this.fadeRowIn&&this.createSecondPassFuncs.push(function(){e.eAllRowContainers.forEach(function(e){return zt(e,"ag-opacity-zero")})})},n.prototype.setupAngular1Scope=function(){var e=Ls.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);e&&(this.scope=e.scope,this.addDestroyFunc(e.scopeDestroyFunc))},n.prototype.createTemplate=function(e,t){void 0===t&&(t=null);var n=[],i=this.rowNode.rowHeight,o=this.getInitialRowClasses(t).join(" "),r=Qe(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),l=Qe(a),u=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),h=this.beans.headerNavigationService.getHeaderRowCount();return n.push("<div"),n.push(' role="row"'),n.push(' row-index="'+c+'" aria-rowindex="'+(h+this.rowNode.rowIndex+1)+'"'),n.push(r?' row-id="'+r+'"':""),n.push(a?' row-business-key="'+l+'"':""),n.push(' comp-id="'+this.getCompId()+'"'),n.push(' class="'+o+'"'),this.beans.gridOptionsWrapper.isRowSelection()&&n.push(' aria-selected="'+(this.rowNode.isSelected()?"true":"false")+'"'),this.rowNode.group&&n.push(" aria-expanded="+(this.rowNode.expanded?"true":"false")),n.push(' style="height: '+i+"px; "+u+" "+s+'">'),n.push(e),n.push("</div>"),n.join("")},n.prototype.getCellForCol=function(e){var t=this.cellComps[e.getColId()];return t?t.getGui():null},n.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},n.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},n.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),n=this.rowNode.isRowPinned()?t:this.beans.maxDivHeightScaler.getRealPixelPosition(t);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+n+"px; ":"transform: translateY("+n+"px);"},n.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},n.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},n.prototype.lazyCreateCells=function(e,t){if(this.active){var n=this.createCells(e);t.innerHTML=n.template,this.callAfterRowAttachedOnCells(n.cellComps,t),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},n.prototype.createRowContainer=function(e,t,n){var i=this,o=this.useAnimationFrameForCreate,r=o?{cellComps:[],template:""}:this.createCells(t),s=this.createTemplate(r.template);e.appendRowTemplate(s,function(){var s=e.getRowElement(i.getCompId());i.refreshAriaLabel(s,i.rowNode.isSelected()),i.afterRowAttached(e,s),n(s),o?i.beans.taskQueue.createTask(i.lazyCreateCells.bind(i,t,s),i.rowNode.rowIndex,"createTasksP1"):(i.callAfterRowAttachedOnCells(r.cellComps,s),i.rowContainerReadyCount=3)})},n.prototype.setupRowContainers=function(){var e=this.rowNode.isFullWidthCell(),t=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnController.isPivotMode(),o=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(i);this.rowNode.stub?this.createFullWidthRows(n.LOADING_CELL_RENDERER,n.LOADING_CELL_RENDERER_COMP_NAME,!1):t?this.createFullWidthRows(n.DETAIL_CELL_RENDERER,n.DETAIL_CELL_RENDERER_COMP_NAME,!0):e?this.createFullWidthRows(n.FULL_WIDTH_CELL_RENDERER,null,!1):o?this.createFullWidthRows(n.GROUP_ROW_RENDERER,n.GROUP_ROW_RENDERER_COMP_NAME,!1):this.setupNormalRowContainers()},n.prototype.setupNormalRowContainers=function(){var e,t=this,n=[],i=[];this.printLayout?e=this.beans.columnController.getAllDisplayedColumns():(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),i=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,e,function(e){return t.eBodyRow=e}),this.createRowContainer(this.pinnedRightContainerComp,i,function(e){return t.ePinnedRightRow=e}),this.createRowContainer(this.pinnedLeftContainerComp,n,function(e){return t.ePinnedLeftRow=e})},n.prototype.createFullWidthRows=function(e,t,n){var i=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,e,t,function(e){i.eFullWidthRowBody=e},function(e){i.fullWidthRowComponentBody=e},n),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,ye.PINNED_LEFT,"ag-cell-last-left-pinned",e,t,function(e){i.eFullWidthRowLeft=e},function(e){i.fullWidthRowComponentLeft=e},n),this.createFullWidthRowContainer(this.pinnedRightContainerComp,ye.PINNED_RIGHT,"ag-cell-first-right-pinned",e,t,function(e){i.eFullWidthRowRight=e},function(e){i.fullWidthRowComponentRight=e},n)}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,e,t,function(e){i.eFullWidthRow=e},function(e){i.fullWidthRowComponent=e},n)},n.prototype.setAnimateFlags=function(e){if(e){var t=o(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},n.prototype.isEditing=function(){return this.editingRow},n.prototype.stopRowEditing=function(e){this.stopEditing(e)},n.prototype.isFullWidth=function(){return this.fullWidthRow},n.prototype.refreshFullWidth=function(){var e=this,t=function(t,n,i){if(!t||!n)return!0;if(!n.refresh)return!1;var o=e.createFullWidthParams(t,i);return n.refresh(o)},n=t(this.eFullWidthRow,this.fullWidthRowComponent,null),i=t(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),o=t(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,ye.PINNED_LEFT),r=t(this.eFullWidthRowRight,this.fullWidthRowComponentRight,ye.PINNED_RIGHT);return n&&i&&o&&r},n.prototype.addListeners=function(){this.addManagedListener(this.rowNode,So.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,So.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,Ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(e,Ue.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,Ue.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},n.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,So.EVENT_ROW_INDEX_CHANGED,function(){e.forEachCellComp(function(e){return e.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,So.EVENT_CELL_CHANGED,function(t){e.forEachCellComp(function(e){return e.onCellChanged(t)})})},n.prototype.onRowNodeDataChanged=function(e){this.forEachCellComp(function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},n.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},n.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},n.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.eAllRowContainers.forEach(function(t){zt(t,"ag-row-highlight-above"),zt(t,"ag-row-highlight-below"),e&&jt(t,"ag-row-highlight-"+e)})},n.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},n.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.eAllRowContainers.forEach(function(t){return Ut(t,"ag-row-dragging",e)})},n.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.eAllRowContainers.forEach(function(n){Ut(n,"ag-row-group",e),Ut(n,"ag-row-group-expanded",e&&t),Ut(n,"ag-row-group-contracted",e&&!t),jn(n,e&&t)})},n.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.destroyFullWidthComponents=function(){this.fullWidthRowDestroyFuncs.forEach(function(e){return e()}),this.fullWidthRowDestroyFuncs=[],this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponentBody=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ye.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ye.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponentRight=null)},n.prototype.getContainerForCell=function(e){switch(e){case ye.PINNED_LEFT:return this.ePinnedLeftRow;case ye.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},n.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},n.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},n.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var e,t,n;this.columnRefreshPending=!1,this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],n=[]):(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,e),this.insertCellsIntoContainer(this.ePinnedLeftRow,t),this.insertCellsIntoContainer(this.ePinnedRightRow,n),this.elementOrderChanged=!1;var i=Object.keys(this.cellComps);e.forEach(function(e){return C(i,e.getId())}),t.forEach(function(e){return C(i,e.getId())}),n.forEach(function(e){return C(i,e.getId())});var o=i.filter(this.isCellEligibleToBeRemoved.bind(this));this.destroyCells(o)}},n.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},n.prototype.destroyCells=function(e){var t=this;e.forEach(function(e){var n=t.cellComps[e];r(n)||(n.detach(),n.destroy(),t.cellComps[e]=null)})},n.prototype.isCellEligibleToBeRemoved=function(e){var t=this.beans.columnController.getAllDisplayedColumns(),n=!0,i=this.cellComps[e];if(!i||this.isCellInWrongRow(i))return n;var o=i.isEditing(),r=this.beans.focusController.isCellFocused(i.getCellPosition());if(o||r){var s=i.getColumn();return!(t.indexOf(s)>=0)&&n}return n},n.prototype.ensureCellInCorrectContainer=function(e){if(!this.printLayout){var t=e.getGui(),n=e.getColumn().getPinned(),i=this.getContainerForCell(n),o=e.getParentRow();o!==i&&(o&&o.removeChild(t),i.appendChild(t),e.setParentRow(i),this.elementOrderChanged=!0)}},n.prototype.isCellInWrongRow=function(e){var t=e.getColumn(),n=this.getContainerForCell(t.getPinned());return e.getParentRow()!==n},n.prototype.insertCellsIntoContainer=function(e,t){var n=this;if(e){var i=[],o=[];if(t.forEach(function(t){var r=t.getId(),s=n.cellComps[r];s&&s.getColumn()==t?n.ensureCellInCorrectContainer(s):(s&&n.destroyCells([r]),n.createNewCell(t,e,i,o))}),i.length>0&&(cn(e,i.join("")),this.callAfterRowAttachedOnCells(o,e)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var r=t.map(function(e){return n.getCellForCol(e)});fn(e,r)}}},n.prototype.addDomData=function(e){var t=this.beans.gridOptionsWrapper;t.setDomData(e,n.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc(function(){t.setDomData(e,n.DOM_DATA_KEY_RENDERED_ROW,null)})},n.prototype.createNewCell=function(e,t,n,i){var o=new Ns(this.scope,this.beans,e,this.rowNode,this,!1,this.printLayout),r=o.getCreateTemplate();n.push(r),i.push(o),this.cellComps[e.getId()]=o,o.setParentRow(t),this.elementOrderChanged=!0},n.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"mousedown":this.onRowMouseDown(t)}},n.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},n.prototype.createRowEventWithSource=function(e,t){var n=this.createRowEvent(e,t);return n.source=this,n},n.prototype.onRowDblClick=function(e){if(!Pe(e)){var t=this.createRowEventWithSource(Ue.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},n.prototype.onRowMouseDown=function(e){this.lastMouseDownOnDragger=Xt(e.target,"ag-row-drag",3)},n.prototype.onRowClick=function(e){if(!Pe(e)&&!this.lastMouseDownOnDragger){var t=this.createRowEventWithSource(Ue.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var n=e.ctrlKey||e.metaKey,i=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),r=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?o?this.rowNode.setSelectedParams({newValue:!1}):n?r&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o&&!n,rangeSelect:i})}}},n.prototype.createFullWidthRowContainer=function(e,n,i,o,r,s,a,l){var u=this,c=this.createTemplate("",i);e.appendRowTemplate(c,function(){var i=e.getRowElement(u.getCompId()),c=u.createFullWidthParams(i,n),h=function(e){if(u.isAlive()){var t=e.getGui();i.appendChild(t),l&&u.setupDetailRowAutoHeight(t),a(e)}else u.beans.context.destroyBean(e)},p=u.beans.detailRowCompCache.get(u.rowNode,n);if(p)h(p);else{var d=u.beans.userComponentFactory.newFullWidthCellRenderer(c,o,r);if(!d){var f=ve.isRegistered(t.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==r||f?console.error("ag-Grid: fullWidthCellRenderer "+r+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(h)}u.afterRowAttached(e,i),s(i),u.angular1Compile(i)})},n.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var n=e.clientHeight;null!=n&&n>0&&t.beans.frameworkOverrides.setTimeout(function(){t.rowNode.setRowHeight(n),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()},0)},i=this.beans.resizeObserverService.observeResize(e,n);this.fullWidthRowDestroyFuncs.push(i),n()}},n.prototype.angular1Compile=function(e){this.scope&&this.beans.$compile(e)(this.scope)},n.prototype.createFullWidthParams=function(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this)}},n.prototype.getInitialRowClasses=function(e){var t={rowNode:this.rowNode,extraCssClass:e,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.fullWidthRow,firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope};return this.beans.rowCssClassCalculator.getInitialRowClasses(t)},n.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.eAllRowContainers.forEach(function(e){jt(e,t),zt(e,n)})}this.rowLevel=e},n.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},n.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},n.prototype.onModelUpdated=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.eAllRowContainers.forEach(function(t){return Ut(t,"ag-row-first",e)})),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.eAllRowContainers.forEach(function(e){return Ut(e,"ag-row-last",t)}))},n.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.forEachCellComp(function(t){t.stopEditing(e)}),this.editingRow){if(!e){var t=this.createRowEvent(Ue.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(t)}this.setEditingRow(!1)}},n.prototype.setEditingRow=function(e){this.editingRow=e,this.eAllRowContainers.forEach(function(t){return Ut(t,"ag-row-editing",e)});var t=this.createRowEvent(e?Ue.EVENT_ROW_EDITING_STARTED:Ue.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},n.prototype.startRowEditing=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),this.editingRow||(this.forEachCellComp(function(i){var o=i===n;o?i.startEditingIfEnabled(e,t,o):i.startEditingIfEnabled(null,null,o)}),this.setEditingRow(!0))},n.prototype.forEachCellComp=function(e){k(this.cellComps,function(t,n){n&&e(n)})},n.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach(function(t){e.eAllRowContainers.forEach(function(e){return jt(e,t)})})},n.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(t){e.eAllRowContainers.forEach(function(e){return jt(e,t)})},function(t){e.eAllRowContainers.forEach(function(e){return zt(e,t)})})},n.prototype.preProcessStylesFromGridOptions=function(){return An(this.processStylesFromGridOptions())},n.prototype.postProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.eAllRowContainers.forEach(function(t){return mn(t,e)})},n.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var t,n=this.beans.gridOptionsWrapper.getRowStyleFunc();return n&&(t=n({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope})),H({},e,t)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},n.prototype.createCells=function(e){var t=this,n=[],i=[];return e.forEach(function(e){var o=new Ns(t.scope,t.beans,e,t.rowNode,t,!1,t.printLayout),r=o.getCreateTemplate();n.push(r),i.push(o),t.cellComps[e.getId()]=o}),{template:n.join(""),cellComps:i}},n.prototype.onRowSelected=function(){var e=this,t=this.rowNode.isSelected();this.eAllRowContainers.forEach(function(n){ti(n,t),Ut(n,"ag-row-selected",t),e.refreshAriaLabel(n,t)})},n.prototype.refreshAriaLabel=function(e,t){t&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?e.removeAttribute("aria-label"):Gn(e,"Press SPACE to "+(t?"deselect":"select")+" this row.")},n.prototype.callAfterRowAttachedOnCells=function(e,t){var n=this;e.forEach(function(e){e.setParentRow(t),e.afterAttached(),n.editingRow&&e.startEditingIfEnabled()})},n.prototype.afterRowAttached=function(e,t){var n=this;this.addDomData(t),this.removeSecondPassFuncs.push(function(){e.removeRowElement(t)}),this.removeFirstPassFuncs.push(function(){if(o(n.rowNode.rowTop)){var e=n.roundRowTopToBounds(n.rowNode.rowTop);n.setRowTop(e)}else jt(t,"ag-opacity-zero")}),this.eAllRowContainers.push(t),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t)},n.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return t.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return t.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,So.EVENT_MOUSE_ENTER,function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||jt(e,"ag-row-hover")}),this.addManagedListener(this.rowNode,So.EVENT_MOUSE_LEAVE,function(){zt(e,"ag-row-hover")}))},n.prototype.roundRowTopToBounds=function(e){var t=this.beans.gridPanel.getVScrollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.onRowHeightChanged=function(){if(o(this.rowNode.rowHeight)){var e=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach(function(t){return t.style.height=e})}},n.prototype.addEventListener=function(t,n){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Ue.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+Ue.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,n)},n.prototype.removeEventListener=function(t,n){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Ue.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Ue.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,n)},n.prototype.destroy=function(t){void 0===t&&(t=!1),this.active=!1,this.destroyFullWidthComponents(),t?(this.removeFirstPassFuncs.forEach(function(e){return e()}),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach(function(e){return e()}));var n=this.createRowEvent(Ue.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),e.prototype.destroy.call(this)},n.prototype.destroyContainingCells=function(){var e=Object.keys(this.cellComps);this.destroyCells(e)},n.prototype.getAndClearDelayedDestroyFunctions=function(){var e=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],e},n.prototype.onCellFocusChanged=function(){var e=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.eAllRowContainers.forEach(function(t){return Ut(t,"ag-row-focus",e)}),this.eAllRowContainers.forEach(function(t){return Ut(t,"ag-row-no-focus",!e)}),this.rowFocused=e),!e&&this.editingRow&&this.stopEditing(!1)},n.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged())},n.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},n.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},n.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},n.prototype.setRowTop=function(e){if(!this.printLayout&&o(e)){var t=this.applyPaginationOffset(e),n=(this.rowNode.isRowPinned()?t:this.beans.maxDivHeightScaler.getRealPixelPosition(t))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach(function(e){return e.style.top=n}):this.eAllRowContainers.forEach(function(e){return e.style.transform="translateY("+n+")"})}},n.prototype.getAndClearNextVMTurnFunctions=function(){var e=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],e},n.prototype.getRowNode=function(){return this.rowNode},n.prototype.getRenderedCellForColumn=function(e){var t=this,n=this.cellComps[e.getColId()];if(n)return n;var i=Object.keys(this.cellComps).map(function(e){return t.cellComps[e]}).filter(function(t){return t&&-1!==t.getColSpanningList().indexOf(e)});return i.length?i[0]:void 0},n.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},n.prototype.updateRowIndexes=function(){var e=this,t=this.rowNode.getRowIndexString(),n=this.rowNode.rowIndex%2==0,i=this.rowIsEven!==n,o=this.beans.headerNavigationService.getHeaderRowCount();i&&(this.rowIsEven=n),this.eAllRowContainers.forEach(function(r){r.setAttribute("row-index",t),$n(r,o+e.rowNode.rowIndex+1),i&&(Ut(r,"ag-row-even",n),Ut(r,"ag-row-odd",!n))})},n.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach(function(e){e.el&&e.ct.ensureDomOrder(e.el)})},n.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},n.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},n.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},n.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},n.DOM_DATA_KEY_RENDERED_ROW="renderedRow",n.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",n.GROUP_ROW_RENDERER="groupRowRenderer",n.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",n.LOADING_CELL_RENDERER="loadingCellRenderer",n.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",n.DETAIL_CELL_RENDERER="detailCellRenderer",n.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",n}(Li),Hs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ws=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Bs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCompsByIndex={},t.floatingTopRowComps=[],t.floatingBottomRowComps=[],t.refreshInProgress=!1,t}return Hs(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getGridCore=function(){return this.gridCore},t.prototype.agWire=function(e){this.logger=e.create("RowRenderer")},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,Ue.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_CELL_FOCUSED,function(t){e.forEachCellComp(function(e){return e.onCellFocused(t)})}),this.addManagedListener(this.eventService,Ue.EVENT_FLASH_CELLS,function(t){e.forEachCellComp(function(e){return e.onFlashCells(t)})}),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_HOVER_CHANGED,function(){e.forEachCellComp(function(e){return e.onColumnHover()})}),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.forEachCellComp(function(e){return e.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Ue.EVENT_RANGE_SELECTION_CHANGED,function(){e.forEachCellComp(function(e){return e.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_MOVED,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PINNED,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VISIBLE,function(){e.forEachCellComp(function(e){return e.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Ue.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnController.getAllGridColumns();t&&t.forEach(function(t){var n=function(n){e.forEachCellComp(function(e){e.getColumn()===t&&n(e)})},i=function(){n(function(e){return e.onLeftChanged()})},o=function(){n(function(e){return e.onWidthChanged()})},r=function(){n(function(e){return e.onFirstRightPinnedChanged()})},s=function(){n(function(e){return e.onLastLeftPinnedChanged()})};t.addEventListener(we.EVENT_LEFT_CHANGED,i),t.addEventListener(we.EVENT_WIDTH_CHANGED,o),t.addEventListener(we.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.addEventListener(we.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push(function(){t.removeEventListener(we.EVENT_LEFT_CHANGED,i),t.removeEventListener(we.EVENT_WIDTH_CHANGED,o),t.removeEventListener(we.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.removeEventListener(we.EVENT_LAST_LEFT_PINNED_CHANGED,s)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},t.prototype.onPageLoaded=function(e){r(e)&&(e={type:Ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(e)},t.prototype.getAllCellsForColumn=function(e){var t=[];function n(n,i){var o=i.getCellForCol(e);o&&t.push(o)}return k(this.rowCompsByIndex,n),k(this.floatingBottomRowComps,n),k(this.floatingTopRowComps,n),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},t.prototype.refreshFloatingRows=function(e,t,n,i,o,r){var s=this;e.forEach(function(e){e.destroy()}),e.length=0,t&&t.forEach(function(t){var a=new Gs(s.$scope,o,n,i,r,t,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),e.push(a)}),this.flushContainers(e)},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.onModelUpdated=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return r(e)||k(this.rowCompsByIndex,function(n,i){var o=i.getRowNode();e.indexOf(o)>=0&&t.push(n)}),t},t.prototype.redrawRows=function(e){if(e&&0!=e.length){var t=this.getRenderedIndexesForRowNodes(e);this.removeRowComps(t),this.redrawAfterModelUpdate({recycleRows:!0})}},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(r(t))return null;var n=document.activeElement;return r(this.gridOptionsWrapper.getDomData(n,Ns.DOM_DATA_KEY_CELL_COMP))?null:t},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(e);var n=!this.printLayout&&e.recycleRows,i=e.animate&&this.gridOptionsWrapper.isAnimateRows(),o=this.binRowComps(n),r=function(){if(null==t||null==o)return!1;var e=!1;return k(o,function(n,i){var o=i.getRowNode();o.rowIndex==t.rowIndex&&o.rowPinned==t.rowPinned&&(e=!0)}),e}();this.redraw(o,i),e.onlyBody||this.refreshFloatingRowComps(),r||this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!n&&this.gridPanel.scrollToTop()},t.prototype.sizeContainerToPageHeight=function(){var e=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)e.forEach(function(e){return e.setHeight(null)});else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.maxDivHeightScaler.setModelHeight(t);var n=this.maxDivHeightScaler.getUiContainerHeight();e.forEach(function(e){return e.setHeight(n)})}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.forEachRowComp(function(t,n){n.stopEditing(e)})},t.prototype.forEachCellComp=function(e){this.forEachRowComp(function(t,n){return n.forEachCellComp(e)})},t.prototype.forEachRowComp=function(e){k(this.rowCompsByIndex,e),k(this.floatingTopRowComps,e),k(this.floatingBottomRowComps,e)},t.prototype.addRenderedRowListener=function(e,t,n){var i=this.rowCompsByIndex[t];i&&i.addEventListener(e,n)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,n=e.fadeDelay;this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){return e.flashCell({flashDelay:t,fadeDelay:n})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){return e.refreshCell(t)})},t.prototype.getCellRendererInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){var n=e.getCellRenderer();n&&t.push(n)}),t},t.prototype.getCellEditorInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,function(e){var n=e.getCellEditor();n&&t.push(n)}),t},t.prototype.getEditingCells=function(){var e=[];return this.forEachCellComp(function(t){if(t.isEditing()){var n=t.getCellPosition();e.push(n)}}),e},t.prototype.forEachCellCompFiltered=function(e,t,n){var i,r,s=this;o(e)&&(i={top:{},bottom:{},normal:{}},e.forEach(function(e){e.rowPinned===ye.PINNED_TOP?i.top[e.id]=!0:e.rowPinned===ye.PINNED_BOTTOM?i.bottom[e.id]=!0:i.normal[e.id]=!0})),o(t)&&(r={},t.forEach(function(e){var t=s.columnController.getGridColumn(e);o(t)&&(r[t.getId()]=!0)}));var a=function(e){var t=e.getRowNode(),s=t.id,a=t.rowPinned;if(o(i))if(a===ye.PINNED_BOTTOM){if(!i.bottom[s])return}else if(a===ye.PINNED_TOP){if(!i.top[s])return}else if(!i.normal[s])return;e.forEachCellComp(function(e){var t=e.getColumn().getId();r&&!r[t]||n(e)})};k(this.rowCompsByIndex,function(e,t){a(t)}),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(a),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(a)},t.prototype.destroy=function(){var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t),e.prototype.destroy.call(this)},t.prototype.binRowComps=function(e){var t,n=this,i={};return e?(t=[],k(this.rowCompsByIndex,function(e,r){var s=r.getRowNode();o(s.id)?(i[s.id]=r,delete n.rowCompsByIndex[e]):t.push(e)})):t=Object.keys(this.rowCompsByIndex),this.removeRowComps(t),i},t.prototype.removeRowComps=function(e){var t=this;e.forEach(function(e){t.rowCompsByIndex[e].destroy(),delete t.rowCompsByIndex[e]})},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach(function(e){return t[e]=!0});var n=Object.keys(this.rowCompsByIndex).filter(function(e){return!t[e]});this.removeRowComps(n)},t.prototype.calculateIndexesToDraw=function(e){var t=this,n=rt(this.firstRenderedRow,this.lastRenderedRow),i=function(e,i){var o=Number(e);(o<t.firstRenderedRow||o>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(i)&&n.push(o)};return k(this.rowCompsByIndex,i),k(e,i),n.sort(function(e,t){return e-t}),n},t.prototype.redraw=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var r=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(r),this.printLayout&&(t=!1);var s=[],a=[];r.forEach(function(r){var l=i.createOrUpdateRowComp(r,e,t,n);o(l)&&(a.push(l),_(s,l.getAndClearNextVMTurnFunctions()))}),this.flushContainers(a),Z(s),!n||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowComps(e,t):this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,e,t)),this.checkAngularCompile(),this.gridPanel.updateRowCount()},t.prototype.flushContainers=function(e){k(this.rowContainers,function(e,t){t&&t.flushRowTemplates()}),e.forEach(function(e){return e.afterFlush()})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnController.isPinningLeft(),t=this.columnController.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];k(this.rowCompsByIndex,function(t,n){if(n.isFullWidth()){var i=n.getRowNode().rowIndex;e.push(i.toString())}}),this.refreshFloatingRowComps(),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.refreshFullWidthRows=function(e){var t=[],n=!!e,i=n?{}:void 0;n&&e.forEach(function(e){return i[e.id]=!0}),k(this.rowCompsByIndex,function(e,o){if(o.isFullWidth()){var r=o.getRowNode();if(n&&!i[r.id]&&!i[r.level>0&&r.parent?r.parent.id:void 0])return;if(!o.refreshFullWidth()){var s=o.getRowNode().rowIndex;t.push(s.toString())}}}),this.removeRowComps(t),this.redrawAfterScroll()},t.prototype.createOrUpdateRowComp=function(e,t,n,i){var r,s=this.rowCompsByIndex[e];if(s||o(r=this.paginationProxy.getRow(e))&&o(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null),s)s.ensureDomOrder();else{if(r||(r=this.paginationProxy.getRow(e)),!o(r))return;s=this.createRowComp(r,n,i)}return r&&(r.alreadyRendered=!0),this.rowCompsByIndex[e]=s,s},t.prototype.destroyRowComps=function(e,t){var n=[];k(e,function(e,i){i&&(i.destroy(t),_(n,i.getAndClearDelayedDestroyFunctions()))}),Q(n)},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){e.$scope.$apply()},0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var i=this.paginationProxy.getPixelOffset(),o=this.maxDivHeightScaler.getOffset(),r=this.gridPanel.getVScrollPosition(),s=r.top,a=r.bottom,l=this.gridOptionsWrapper.getRowBufferInPixels(),u=s+i+o-l,c=a+i+o+l;this.ensureAllRowsInRangeHaveHeightsCalculated(u,c);var h=this.paginationProxy.getRowIndexAtPixel(u),p=this.paginationProxy.getRowIndexAtPixel(c),d=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();h<d&&(h=d),p>f&&(p=f),e=h,t=p}else e=0,t=-1;var g=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_NORMAL,m=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),y=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(g&&!m&&t-e>y&&(t=e+y),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:Ue.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var v={type:Ue.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return n.eventService.dispatchEventOnce(v)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),n=this.focusController.isRowNodeFocused(t),i=e.isEditing();return!!(n||i||t.detail)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowComp=function(e,t,n){var i=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=new Gs(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,e,this.beans,t,n&&!i&&!this.printLayout,this.printLayout,this.embedFullWidthRows);return o.init(),o},t.prototype.getRenderedNodes=function(){var e=this.rowCompsByIndex;return Object.keys(e).map(function(t){return e[t].getRowNode()})},t.prototype.navigateToNextCell=function(e,t,n,i){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsWrapper.isEnableRtl()?t===Ki.LEFT&&(s=this.getLastCellOfColSpan(s)):t===Ki.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=r(s=this.cellNavigationService.getNextCellToFocus(t,s));if(a&&e&&e.keyCode===Ki.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(o(l)){var u=l({key:t,previousCellPosition:n,nextCellPosition:s||null,event:e});o(u)?(u.floating&&(Y(function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),u.rowPinned=u.floating),s={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):s=null}}if(s)if(s.rowIndex<0){var c=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:c+s.rowIndex,column:n.column})}else{this.ensureCellVisible(s);var h=this.getComponentForCell(s);h&&(s=h.getCellPosition(),this.ensureCellVisible(s),this.focusController.setFocusedCell(s.rowIndex,s.column,s.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(s))}},t.prototype.isValidNavigateCell=function(e){var t=this.rowPositionUtils.getRowNode(e);if(t.detail||t.isFullWidthCell())return!1;if(!t.group)return!0;var n=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(n)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getComponentForCell(e);if(!t)return e;var n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:m(n),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){r(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridPanel.ensureColumnVisible(e.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},t.prototype.startEditingCell=function(e,t,n){var i=this.getComponentForCell(e);i&&i.startRowOrCellEdit(t,n)},t.prototype.getComponentForCell=function(e){var t;switch(e.rowPinned){case ye.PINNED_TOP:t=this.floatingTopRowComps[e.rowIndex];break;case ye.PINNED_BOTTOM:t=this.floatingBottomRowComps[e.rowIndex];break;default:t=this.rowCompsByIndex[e.rowIndex]}return t?t.getRenderedCellForColumn(e.column):null},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ye.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ye.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.onTabKeyDown=function(e,t){var n=t.shiftKey;if(this.moveToCellAfter(e,n))t.preventDefault();else if(n){var i=e.getCellPosition(),o=i.rowIndex;if(i.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow()){t.preventDefault();var r=this.beans.headerNavigationService.getHeaderRowCount()-1,s=m(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:r,column:s})}}else e.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&t.preventDefault()},t.prototype.tabToNextCell=function(e){var t=this.focusController.getFocusedCell();if(r(t))return!1;var n=this.getComponentForCell(t);return!r(n)&&this.moveToCellAfter(n,e)},t.prototype.moveToCellAfter=function(e,t){return(e.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t):this.moveToNextEditingCell(e,t):this.moveToNextCellNotEditing(e,t))||!!this.focusController.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t){var n=e.getCellPosition();e.stopEditing();var i=this.findNextCellToFocusOn(n,t,!0),r=o(i);return r&&(i.startEditingIfEnabled(null,null,!0),i.focusCell(!1)),r},t.prototype.moveToNextEditingRow=function(e,t){var n=e.getCellPosition(),i=this.findNextCellToFocusOn(n,t,!0),r=o(i);return r&&this.moveEditToNextCellOrRow(e,i),r},t.prototype.moveToNextCellNotEditing=function(e,t){var n=e.getCellPosition(),i=this.findNextCellToFocusOn(n,t,!1),r=o(i);return r&&i.focusCell(!0),r},t.prototype.moveEditToNextCellOrRow=function(e,t){var n=e.getCellPosition(),i=t.getCellPosition();if(n.rowIndex===i.rowIndex&&n.rowPinned===i.rowPinned)e.setFocusOutOnEditor(),t.setFocusInOnEditor();else{var o=e.getRenderedRow(),r=t.getRenderedRow();e.setFocusOutOnEditor(),o.stopEditing(),r.startRowEditing(),t.setFocusInOnEditor()}t.focusCell()},t.prototype.findNextCellToFocusOn=function(e,t,n){for(var i=e;;){t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);var s=this.gridOptionsWrapper.getTabToNextCellFunc();if(o(s)){var a=s({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});o(a)?(a.floating&&(Y(function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),a.rowPinned=a.floating),i={rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var l=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:l+i.rowIndex,column:i.column}),null}if(n){var u=this.lookupRowNodeForCell(i);if(!i.column.isCellEditable(u))continue}r(i.rowPinned)&&this.gridPanel.ensureIndexVisible(i.rowIndex),i.column.isPinned()||this.gridPanel.ensureColumnVisible(i.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var c=this.getComponentForCell(i);if(!r(c)&&!c.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(i),c}},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===ye.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===ye.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},Ws([le("paginationProxy")],t.prototype,"paginationProxy",void 0),Ws([le("columnController")],t.prototype,"columnController",void 0),Ws([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ws([le("$scope")],t.prototype,"$scope",void 0),Ws([le("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ws([le("rowModel")],t.prototype,"rowModel",void 0),Ws([le("loggerFactory")],t.prototype,"loggerFactory",void 0),Ws([le("focusController")],t.prototype,"focusController",void 0),Ws([le("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ws([le("columnApi")],t.prototype,"columnApi",void 0),Ws([le("gridApi")],t.prototype,"gridApi",void 0),Ws([le("beans")],t.prototype,"beans",void 0),Ws([le("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),Ws([le("animationFrameService")],t.prototype,"animationFrameService",void 0),Ws([le("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ws([ue("rangeController")],t.prototype,"rangeController",void 0),Ws([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"agWire",null),Ws([ae("rowRenderer")],t);var n}(We),js=function(){function e(){}return e.addHeaderClassesFromColDef=function(e,t,n,i,o){r(e)||this.addColumnClassesFromCollDef(e.headerClass,e,t,n,i,o)},e.addToolPanelClassesFromColDef=function(e,t,n,i,o){r(e)||this.addColumnClassesFromCollDef(e.toolPanelClass,e,t,n,i,o)},e.addColumnClassesFromCollDef=function(e,t,n,i,o,s){var a;r(e)||("string"==typeof(a="function"==typeof e?e({colDef:t,column:o,columnGroup:s,context:i.getContext(),api:i.getApi()}):e)?jt(n,a):Array.isArray(a)&&a.forEach(function(e){jt(n,e)}))},e}(),zs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Us=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ks=function(e){function t(t,n){var i=e.call(this)||this;return i.columns=t,i.element=n,i}return zs(t,e),t.prototype.postConstruct=function(){this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Us([le("columnHoverService")],t.prototype,"columnHoverService",void 0),Us([re],t.prototype,"postConstruct",null),t}(We),qs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ys=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.columnOrGroup=t,r.eCell=n,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=o,r.beans=i,r.printLayout=i.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,r}return qs(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?m(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,we.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=o(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=t,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===t&&e.setLeft(t)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){return this.printLayout?e.getPinned()===ye.PINNED_LEFT?t:e.getPinned()===ye.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},t.prototype.setLeft=function(e){var t;if(o(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof we)t=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&Zn(this.ariaEl,n.length),t=n[0]}var i=this.beans.columnController.getAriaColumnIndex(t);Qn(this.ariaEl,i)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([re],t.prototype,"postConstruct",null),t}(We),$s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xs=function(e){function t(t,n){var i=e.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.label="",i.config=t||{},i}return $s(t,e),t.prototype.postConstruct=function(){jt(this.getGui(),"ag-labeled"),jt(this.eLabel,"ag-label");var e=this.config,t=e.labelSeparator,n=e.label,i=e.labelWidth,o=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=n&&this.setLabel(n),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){sn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.eLabel.appendChild(this.label),Ut(this.eLabel,"ag-hidden",""===this.label)},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui();return Ut(t,"ag-label-align-left","left"===e),Ut(t,"ag-label-align-right","right"===e),Ut(t,"ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||Cn(this.eLabel,e),this},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([re],t.prototype,"postConstruct",null),t}(Li),Qs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zs=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.className=i,o.disabled=!1,o}return Qs(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),jt(this.getGui(),this.className)},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(n.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return wn(this.getGui(),e),this},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e||(this.value=e,n||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return $t(t,e),Ut(t,"ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(Xs),Js=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ea=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ta=function(e){function t(t,n,i,o){void 0===i&&(i="text"),void 0===o&&(o="input");var r=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",n)||this;return r.inputType=i,r.displayFieldTag=o,r}return Js(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),jt(this.eLabel,this.className+"-label"),jt(this.eWrapper,this.className+"-input-wrapper"),jt(this.eInput,this.className+"-input"),jt(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,n=t.width,i=t.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.refreshLabel=function(){o(this.getLabel())?Hn(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(t){return e.setValue(t.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return Cn(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Rn(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Gn(this.eInput,e),this},t.prototype.setDisabled=function(t){return $t(this.eInput,t),e.prototype.setDisabled.call(this,t)},ea([Hi("eLabel")],t.prototype,"eLabel",void 0),ea([Hi("eWrapper")],t.prototype,"eWrapper",void 0),ea([Hi("eInput")],t.prototype,"eInput",void 0),t}(Zs),na=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ia=function(e){function t(t,n,i){void 0===n&&(n="ag-checkbox"),void 0===i&&(i="checkbox");var o=e.call(this,t,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return na(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){Ut(this.eWrapper,"ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return Ut(this.eWrapper,"ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){if(this.isSelected()!==e){var n=this.isSelected();e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,n)}},t.prototype.dispatchChange=function(e,n,i){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:n,event:i});var o=this.getInputElement();this.eventService.dispatchEvent({type:Ue.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:n})},t.prototype.onCheckboxClick=function(e){if(!this.passive){var t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}},t.prototype.refreshSelectedClass=function(e){Ut(this.eWrapper,"ag-checked",!0===e),Ut(this.eWrapper,"ag-indeterminate",null==e)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(ta),oa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ra=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},sa=function(e){function t(t,n){var i=e.call(this)||this;i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.cbSelectAll=t,i.column=n;var o=n.getColDef();return i.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,i}return oa(t,e),t.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ia.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.cbSelectAll.getValue();this.cbSelectAll.setInputAriaLabel("Press Space to toggle all rows selection ("+(e?"checked":"unchecked")+")")},t.prototype.getSelectionCount=function(){var e=this,t=0,n=0,i=function(i){e.gridOptionsWrapper.isGroupSelectsChildren()&&i.group||(i.isSelected()?t++:i.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(i):this.gridApi.forEachNode(i),{notSelected:n,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===ye.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},ra([le("gridApi")],t.prototype,"gridApi",void 0),ra([le("columnApi")],t.prototype,"columnApi",void 0),ra([le("rowModel")],t.prototype,"rowModel",void 0),ra([le("selectionController")],t.prototype,"selectionController",void 0),ra([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ra([re],t.prototype,"postConstruct",null),t}(We),aa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aa(t,e),t.prototype.getColumn=function(){return this.column},t.prototype.getPinned=function(){return this.pinned},t}(eo),ua=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ca=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ha=function(e){function n(t,i){var o=e.call(this,n.TEMPLATE)||this;return o.headerCompVersion=0,o.refreshFunctions=[],o.column=t,o.pinned=i,o}return ua(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.appendHeaderComp(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new Ks([this.column],this.getGui())),this.addManagedListener(this.column,we.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new sa(this.cbSelectAll,this.column)),this.createManagedBean(new Ys(this.column,this.getGui(),this.beans)),this.addAttributes(),js.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this))},n.prototype.onColumnValueChanged=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},n.prototype.updateState=function(){var e=this.column.getColDef();this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},n.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!0)},n.prototype.onNewColumnsLoaded=function(){var e=this.columnController.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},n.prototype.refresh=function(){this.updateState();var e=this.column.getColDef();this.colDefHeaderComponent==e.headerComponent&&this.colDefHeaderComponentFramework==e.headerComponentFramework&&this.attemptHeaderCompRefresh()?(this.draggable&&!this.dragAndDropService||!this.draggable&&this.dragAndDropService)&&this.attachDraggingToHeaderComp():this.appendHeaderComp(),this.refreshFunctions.forEach(function(e){return e()})},n.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},n.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},n.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp)return!0;if(!this.headerComp.refresh)return!1;var e=this.createParams(),t=this.userComponentFactory.createFinalParams(this.getComponentHolder(),"headerComponent",e);return this.headerComp.refresh(t)},n.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},n.prototype.setActiveHeader=function(e){Ut(this.getGui(),"ag-header-active",e)},n.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},n.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},n.prototype.handleKeyDown=function(e){var t=this.headerComp;if(t){if(e.keyCode===Ki.SPACE){var n=this.cbSelectAll;n.isDisplayed()&&!n.getGui().contains(document.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))}e.keyCode===Ki.ENTER&&(e.ctrlKey||e.metaKey?this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}},n.prototype.onTabKeyDown=function(){},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);Ut(this.getGui(),"ag-column-hover",e)},n.prototype.setupSortableClass=function(){var e=this,t=this.getGui(),n=function(){Ut(t,"ag-header-cell-sortable",e.sortable)},i=function(){e.sortable?Jn(t,Ln(e.column)):ei(t)};n(),i(),this.refreshFunctions.push(n),this.refreshFunctions.push(i),this.addManagedListener(this.column,we.EVENT_SORT_CHANGED,i.bind(this))},n.prototype.onFilterChanged=function(){var e=this.column.isFilterActive();Ut(this.getGui(),"ag-header-cell-filtered",e)},n.prototype.appendHeaderComp=function(){this.headerCompVersion++;var e=this.column.getColDef();this.colDefHeaderComponent=e.headerComponent,this.colDefHeaderComponentFramework=e.headerComponentFramework;var t=this.createParams(),n=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(t).then(n)},n.prototype.createParams=function(){var e=this,t=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,n){e.sortController.setSortForColumn(e.column,t,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()}},n.prototype.afterHeaderCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(t)},n.prototype.onColumnMovingChanged=function(){this.column.isMoving()?jt(this.getGui(),"ag-header-cell-moving"):zt(this.getGui(),"ag-header-cell-moving")},n.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!this.gridOptionsWrapper.isSuppressMovableColumns()&&!e.suppressMovable&&!e.lockPosition||e.enableRowGroup||e.enablePivot},n.prototype.attachDraggingToHeaderComp=function(){var e=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:t.DragSourceType.HeaderCell,eElement:this.headerCompGui,defaultIconName:os.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},n.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},n.prototype.setupResize=function(){var e,t,n=this,i=this.getComponentHolder(),o=[],r=function(){o.forEach(function(e){return e()}),o.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsWrapper.isSuppressAutoSize()&&!i.suppressAutoSize;(s!==e||a!==t)&&(e=s,t=a,r(),function(){if(qt(n.eResize,e),e){var i=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(o.push(i),t){var r=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){n.columnController.autoSizeColumn(n.column,r,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new fo(n.eResize);a.addEventListener(fo.EVENT_DOUBLE_TAP,s),n.addDestroyFunc(function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(fo.EVENT_DOUBLE_TAP,s),a.destroy()})}}}())};s(),this.addDestroyFunc(r),this.refreshFunctions.push(s)},n.prototype.onResizing=function(e,t){var n=this.normaliseResizeAmount(t);this.columnController.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+n}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&zt(this.getGui(),"ag-column-resizing")},n.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,jt(this.getGui(),"ag-column-resizing")},n.prototype.getTooltipParams=function(){return{location:"header",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},n.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},n.prototype.setupTooltip=function(){var e,t,n=this,i=this.gridOptionsWrapper.isEnableBrowserTooltips(),o=function(){i?n.getGui().removeAttribute("title"):e&&(e=n.destroyBean(e))},r=function(){var r=n.getTooltipText();t!=r&&(t&&o(),(t=r)&&(i?n.getGui().setAttribute("title",t):e=n.createBean(new Cs(n))))};r(),this.addDestroyFunc(o),this.refreshFunctions.push(r)},n.prototype.setupMovingCss=function(){this.addManagedListener(this.column,we.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},n.prototype.setupWidth=function(){this.addManagedListener(this.column,we.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.setupMenuClass=function(){this.addManagedListener(this.column,we.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},n.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.normaliseResizeAmount=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ye.PINNED_LEFT&&(t*=-1):this.pinned===ye.PINNED_RIGHT&&(t*=-1),t},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',ca([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ca([le("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ca([le("columnController")],n.prototype,"columnController",void 0),ca([le("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),ca([le("menuFactory")],n.prototype,"menuFactory",void 0),ca([le("gridApi")],n.prototype,"gridApi",void 0),ca([le("columnApi")],n.prototype,"columnApi",void 0),ca([le("sortController")],n.prototype,"sortController",void 0),ca([le("userComponentFactory")],n.prototype,"userComponentFactory",void 0),ca([le("columnHoverService")],n.prototype,"columnHoverService",void 0),ca([le("beans")],n.prototype,"beans",void 0),ca([Hi("eResize")],n.prototype,"eResize",void 0),ca([Hi("cbSelectAll")],n.prototype,"cbSelectAll",void 0),ca([se],n.prototype,"destroyHeaderComp",null),n}(la),pa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),da=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},fa=function(e){function n(t,i){var o=e.call(this,n.TEMPLATE)||this;return o.removeChildListenersFuncs=[],o.column=t,o.pinned=i,o}return pa(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),js.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var t=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(t),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new Ks(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new Ys(this.column,this.getGui(),this.beans))},n.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},n.prototype.handleKeyDown=function(e){var t=document.activeElement,n=this.getGui();if(this.expandable&&t===n&&e.keyCode===Ki.ENTER){var i=this.getColumn(),o=!i.isExpanded();this.columnController.setColumnGroupOpened(i.getOriginalColumnGroup(),o,"uiColumnExpanded")}},n.prototype.onTabKeyDown=function(){},n.prototype.setupExpandable=function(){var e=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Se.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Se.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},n.prototype.refreshExpanded=function(){var e=this.getColumn(),t=this.getGui(),n=e.isExpandable(),i=e.isExpanded();this.expandable=n,n?jn(t,i):t.removeAttribute("aria-expanded")},n.prototype.setupMovingCss=function(){var e=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach(function(t){e.addManagedListener(t,we.EVENT_MOVING_CHANGED,e.onColumnMovingChanged.bind(e))}),this.onColumnMovingChanged()},n.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},n.prototype.getTooltipText=function(){var e=this.getComponentHolder();return e&&e.headerTooltip},n.prototype.getTooltipParams=function(){return{location:"headerGroup",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},n.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.createManagedBean(new Cs(this)))},n.prototype.onColumnMovingChanged=function(){Ut(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},n.prototype.appendHeaderGroupComp=function(e){var t=this,n={displayName:e,columnGroup:this.column,setExpanded:function(e){t.columnController.setColumnGroupOpened(t.column.getOriginalColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var i=this.column,o=i.getLeafColumns();i.getParent()&&i.getParent().getLeafColumns().length===o.length;)i=i.getParent();var r=i.getColGroupDef();r&&(e=r.headerName),e||(e=o?this.columnController.getDisplayNameForColumn(o[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderGroupComponent(n).then(s)},n.prototype.afterHeaderCompCreated=function(e,t){var n=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc(function(){n.getContext().destroyBean(t)}),this.setupMove(t.getGui(),e)},n.prototype.addClasses=function(){var e=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+e+"-group")},n.prototype.setupMove=function(e,n){var i=this;if(e&&!this.isSuppressMoving()){var o=this.column.getOriginalColumnGroup().getLeafColumns(),r={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:os.ICON_HIDE,dragItemName:n,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return o.forEach(function(e){return e.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return o.forEach(function(e){return e.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(r)})}},n.prototype.getDragItemForGroup=function(){var e=this.column.getOriginalColumnGroup().getLeafColumns(),t={};e.forEach(function(e){return t[e.getId()]=e.isVisible()});var n=[];return this.columnController.getAllDisplayedColumns().forEach(function(t){e.indexOf(t)>=0&&(n.push(t),C(e,t))}),e.forEach(function(e){return n.push(e)}),{columns:n,visibleState:t}},n.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach(function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},n.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,be.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},n.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},n.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach(function(n){n.addEventListener(we.EVENT_WIDTH_CHANGED,t),n.addEventListener(we.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push(function(){n.removeEventListener(we.EVENT_WIDTH_CHANGED,t),n.removeEventListener(we.EVENT_VISIBLE_CHANGED,t)})})},n.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},n.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupResize=function(){var e=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",function(t){var i=[];e.column.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||i.push(e.getColId())}),i.length>0&&e.columnController.autoSizeColumns(i,n,"uiColumnResized")})}}else an(this.eHeaderCellResize)},n.prototype.onResizeStart=function(e){var t=this,n=this.column.getDisplayedLeafColumns();this.resizeCols=n.filter(function(e){return e.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(e){return t.resizeStartWidth+=e.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)});var i=null;if(e&&(i=this.columnController.getDisplayedGroupAfter(this.column)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(e){return e.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;jt(this.getGui(),"ag-column-resizing")},n.prototype.onResizing=function(e,t){var n=[],i=this.normaliseDragChange(t);n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+i}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-i}),this.columnController.resizeColumnSets(n,e,"uiColumnDragged"),e&&zt(this.getGui(),"ag-column-resizing")},n.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ye.PINNED_LEFT&&(t*=-1):this.pinned===ye.PINNED_RIGHT&&(t*=-1),t},n.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',da([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),da([le("columnController")],n.prototype,"columnController",void 0),da([le("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),da([le("dragAndDropService")],n.prototype,"dragAndDropService",void 0),da([le("userComponentFactory")],n.prototype,"userComponentFactory",void 0),da([le("beans")],n.prototype,"beans",void 0),da([le("gridApi")],n.prototype,"gridApi",void 0),da([le("columnApi")],n.prototype,"columnApi",void 0),n}(la),ga=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ma=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ya=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return ga(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" Filter Input")},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance(function(n){if(n.getModelAsString){var i=n.getModelAsString(e);t.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")},ma([Hi("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),ma([le("columnController")],t.prototype,"columnController",void 0),t}(Li),va=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),Ca=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ba=function(e){function n(t,i){var o=e.call(this,n.TEMPLATE)||this;return o.column=t,o.pinned=i,o}return Ca(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new Ks([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},n.prototype.onTabKeyDown=function(e){var t=document.activeElement,n=this.getGui();if(t!==n){e.preventDefault();var i=this.focusController.findNextFocusableElement(n,null,e.shiftKey);i?i.focus():n.focus()}},n.prototype.handleKeyDown=function(e){var t=document.activeElement,n=this.getGui(),i=t===n;switch(e.keyCode){case Ki.UP:case Ki.DOWN:i||e.preventDefault();case Ki.LEFT:case Ki.RIGHT:if(i)return;e.stopPropagation();case Ki.ENTER:i&&this.focusController.focusInto(n)&&e.preventDefault();break;case Ki.ESCAPE:i||this.getGui().focus()}},n.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},n.prototype.setupFloatingFilter=function(){var e=this,t=this.column.getColDef();t.filter&&t.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then(function(t){t&&(e.setupWithFloatingFilter(t),e.setupSyncWithFilter())}))},n.prototype.setupLeftPositioning=function(){var e=new Ys(this.column,this.getGui(),this.beans);this.createManagedBean(e)},n.prototype.setupSyncWithFilter=function(){var e=this,t=function(t){e.onParentModelChanged(e.currentParentModel(),t)};this.addManagedListener(this.column,we.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)},n.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},n.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){Ut(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},n.prototype.setupWidth=function(){this.addManagedListener(this.column,we.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupWithFloatingFilter=function(e){var t=this,n=function(){t.getContext().destroyBean(e)};if(this.isAlive()){this.addDestroyFunc(n);var i=e.getGui();Ut(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),Ut(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),qt(this.eButtonWrapper,!this.suppressFilterButton);var o=gi("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(o),this.eFloatingFilterBody.appendChild(i),e.afterGuiAttached&&e.afterGuiAttached()}else n()},n.prototype.parentFilterInstance=function(e){this.getFilterComponent().then(e)},n.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},n.getDefaultFloatingFilterType=function(e){if(null==e)return null;var n=null;return"string"==typeof e.filter?n=va.getFloatingFilterType(e.filter):e.filterFramework||!0===e.filter&&(n=ve.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),n},n.prototype.getFloatingFilterInstance=function(){var e=this.column.getColDef(),t=n.getDefaultFloatingFilterType(e),i=this.filterManager.createFilterParams(this.column,e),o=this.userComponentFactory.createFinalParams(e,"filter",i),r={api:this.gridApi,column:this.column,filterParams:o,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.newFloatingFilterComponent(e,r,t);if(!s){var a=this.getFilterComponentPrototype(e);if(a&&a.prototype&&a.prototype.getModelAsString){var l=this.userComponentFactory.createUserComponentFromConcreteClass(ya,r);s=ki.resolve(l)}}return s},n.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},n.prototype.getFilterComponentPrototype=function(e){var t=this.userComponentFactory.lookupComponentClassDef(e,"filter",this.createDynamicParams());return t?t.component:null},n.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(e){return e.getModel()}):null},n.prototype.onParentModelChanged=function(e,t){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then(function(n){return n.onParentModelChanged(e,t)})},n.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div class="ag-floating-filter-full-body" ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',wa([le("columnHoverService")],n.prototype,"columnHoverService",void 0),wa([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),wa([le("userComponentFactory")],n.prototype,"userComponentFactory",void 0),wa([le("gridApi")],n.prototype,"gridApi",void 0),wa([le("columnApi")],n.prototype,"columnApi",void 0),wa([le("filterManager")],n.prototype,"filterManager",void 0),wa([le("menuFactory")],n.prototype,"menuFactory",void 0),wa([le("beans")],n.prototype,"beans",void 0),wa([Hi("eFloatingFilterBody")],n.prototype,"eFloatingFilterBody",void 0),wa([Hi("eButtonWrapper")],n.prototype,"eButtonWrapper",void 0),wa([Hi("eButtonShowMainFilter")],n.prototype,"eButtonShowMainFilter",void 0),n}(la),Sa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ea=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.COLUMN_GROUP=0]="COLUMN_GROUP",e[e.COLUMN=1]="COLUMN",e[e.FLOATING_FILTER=2]="FLOATING_FILTER"}(vs||(vs={}));var _a,Oa=function(e){function t(t,n,i){var o=e.call(this,'<div class="ag-header-row" role="row"></div>')||this;o.headerComps={},o.setRowIndex(t),o.type=n,o.pinned=i;var r=vs[n].toLowerCase().replace(/_/g,"-");return o.addCssClass("ag-header-row-"+r),kt()&&(o.getGui().style.transform="translateZ(0)"),o}return Sa(t,e),t.prototype.forEachHeaderElement=function(e){var t=this;Object.keys(this.headerComps).forEach(function(n){e(t.headerComps[n])})},t.prototype.setRowIndex=function(e){this.dept=e,$n(this.getGui(),e+1)},t.prototype.getRowIndex=function(){return this.dept},t.prototype.getType=function(){return this.type},t.prototype.destroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.destroyChildComponents=function(e,t){var n=this;e.forEach(function(e){var i=n.headerComps[e];t&&!i.getColumn().isMoving()&&n.focusController.isHeaderWrapperFocused(i)||(n.getGui().removeChild(i.getGui()),n.destroyBean(i),delete n.headerComps[e])})},t.prototype.onRowHeightChanged=function(){var e,t,n=this.columnController.getHeaderRowCount(),i=[],o=0;this.columnController.isPivotMode()?(e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(n++,o=1),e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var r=n-(1+o),s=0;s<r;s++)i.push(e);for(i.push(t),s=0;s<o;s++)i.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=i[s];this.getGui().style.top=a+"px",this.getGui().style.height=i[this.dept]+"px"},t.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.getGui().style.width=e+"px"},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT?r(this.pinned)?this.columnController.getContainerWidth(ye.PINNED_RIGHT)+this.columnController.getContainerWidth(ye.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getItemsAtDepth=function(){var e=this;if(this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT){if(r(this.pinned)){var t=[];return[ye.PINNED_LEFT,null,ye.PINNED_RIGHT].forEach(function(n){var i=e.columnController.getVirtualHeaderGroupRow(n,e.type==vs.FLOATING_FILTER?e.dept-1:e.dept);t=t.concat(i)}),t}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==vs.FLOATING_FILTER?this.dept-1:this.dept)},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=Object.keys(this.headerComps),n=[];if(this.getItemsAtDepth().forEach(function(i){if(!i.isEmptyGroup()){var o=i.getUniqueId(),r=e.getGui(),s=e.headerComps[o];if(s&&s.getColumn()!=i&&(e.destroyChildComponents([o]),C(t,o),s=void 0),s)C(t,o);else{var a=e.createHeaderComp(i);e.headerComps[o]=a,r.appendChild(a.getGui())}n.push(o)}}),this.destroyChildComponents(t,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var i=n.map(function(t){return e.headerComps[t].getGui()});fn(this.getGui(),i)}},t.prototype.createHeaderComp=function(e){var t;switch(this.type){case vs.COLUMN:t=new ha(e,this.pinned);break;case vs.COLUMN_GROUP:t=new fa(e,this.pinned);break;case vs.FLOATING_FILTER:t=new ba(e,this.pinned)}return this.createBean(t),t.setParentComponent(this),t},t.prototype.getHeaderComps=function(){return this.headerComps},Ea([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ea([le("columnController")],t.prototype,"columnController",void 0),Ea([le("focusController")],t.prototype,"focusController",void 0),Ea([se],t.prototype,"destroyAllChildComponents",null),Ea([re],t.prototype,"init",null),t}(Li),xa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ta=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!o(e)}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},e.prototype.getIconName=function(){return this.pinned?os.ICON_PINNED:os.ICON_MOVE},e.prototype.onDragEnter=function(e){var n=e.dragItem.columns;if(e.dragSource.type===t.DragSourceType.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var i=e.dragItem.visibleState,o=n.filter(function(e){return i[e.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.getDragItem();this.setColumnsVisible(t.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,n){if(void 0===n&&(n="api"),e){var i=e.filter(function(e){return!e.getColDef().lockVisible});this.columnController.setColumnsVisible(i,t,n)}},e.prototype.setColumnsPinned=function(e,t,n){if(void 0===n&&(n="api"),e){var i=e.filter(function(e){return!e.getColDef().lockPinned});this.columnController.setColumnsPinned(i,t,n)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){return this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.gridPanel.getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.gridPanel.getCenterViewportScrollLeft(),n=t+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var n=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!r(e.hDirection)){var i=this.normaliseX(e.x);t||this.checkCenterForScrolling(i);var o=this.normaliseDirection(e.hDirection),s=e.dragSource.type,a=e.dragSource.getDragItem().columns;a=a.filter(function(e){return!e.getColDef().lockPinned||e.getPinned()==n.pinned}),this.attemptMoveColumns(s,a,o,i,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case t.HorizontalDirection.Left:return t.HorizontalDirection.Right;case t.HorizontalDirection.Right:return t.HorizontalDirection.Left;default:console.error("ag-Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnController.getAllGridColumns(),n=v(e.map(function(e){return t.indexOf(e)})),i=n[0];return m(n)-i!=n.length-1?null:i},e.prototype.attemptMoveColumns=function(e,n,i,o,r){var s=i===t.HorizontalDirection.Left,a=i===t.HorizontalDirection.Right,l=n.slice();this.columnController.sortColumnsLikeGridColumns(l);var u=this.calculateValidMoves(l,a,o),c=this.calculateOldIndex(l);if(0!==u.length){var h=u[0],p=null!==c&&!r;if(e==t.DragSourceType.HeaderCell&&(p=null!==c),p){if(s&&h>=c)return;if(a&&h<=c)return}for(var d=0;d<u.length;d++){var f=u[d];if(this.columnController.doesMovePassRules(l,f))return void this.columnController.moveColumns(l,f,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,n){if(this.gridOptionsWrapper.isSuppressMovableColumns()||e.some(function(e){return e.getColDef().suppressMovable}))return[];var i,o=this.columnController.getDisplayedColumns(this.pinned),r=this.columnController.getAllGridColumns(),s=o.filter(function(t){return E(e,t)}),a=o.filter(function(t){return!E(e,t)}),l=r.filter(function(t){return!E(e,t)}),u=0,c=n;if(t){var h=0;s.forEach(function(e){return h+=e.getActualWidth()}),c-=h}if(c>0){for(var p=0;p<a.length&&!((c-=a[p].getActualWidth())<0);p++)u++;t&&u++}u>0?i=l.indexOf(a[u-1])+1:-1===(i=l.indexOf(a[0]))&&(i=0);var d=[i],f=function(e,t){return e-t};if(t){for(var g=i+1,m=r.length-1;g<=m;)d.push(g),g++;d.sort(f)}else{m=r.length-1;for(var y=r[g=i];g<=m&&this.isColumnHidden(o,y);)g++,d.push(g),y=r[g];for(g=i-1;g>=0;)d.push(g),g--;d.sort(f).reverse()}return d},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?os.ICON_LEFT:os.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(os.ICON_MOVE))},e.prototype.moveInterval=function(){var e,t;if(this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter(function(e){return!e.getColDef().lockPinned});n.length>0&&(this.dragAndDropService.setGhostIcon(os.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(n,this.needToMoveLeft?ye.PINNED_LEFT:ye.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},xa([le("loggerFactory")],e.prototype,"loggerFactory",void 0),xa([le("columnController")],e.prototype,"columnController",void 0),xa([le("dragAndDropService")],e.prototype,"dragAndDropService",void 0),xa([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),xa([re],e.prototype,"init",null),e}(),Ra=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Pa=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly()||e.dragItem.columns.forEach(function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))})},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?os.ICON_PINNED:os.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Ra([le("columnController")],e.prototype,"columnController",void 0),Ra([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Da=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Aa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.ColumnMove=0]="ColumnMove",e[e.Pivot=1]="Pivot"}(_a||(_a={}));var ka,Ia=function(e){function n(t,n){var i=e.call(this)||this;return i.dropListeners={},i.pinned=t,i.eContainer=n,i}return Da(n,e),n.prototype.registerGridComp=function(e){switch(this.gridPanel=e,this.moveColumnController.registerGridComp(e),this.pinned){case ye.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case ye.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},n.prototype.isInterestedIn=function(e){return e===t.DragSourceType.HeaderCell||e===t.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},n.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},n.prototype.getContainer=function(){return this.eContainer},n.prototype.init=function(){this.moveColumnController=this.createBean(new Ta(this.pinned,this.eContainer));var e=new Pa(this.pinned);this.createBean(e),this.dropListeners[_a.ColumnMove]=this.moveColumnController,this.dropListeners[_a.Pivot]=e,this.dragAndDropService.addDropTarget(this)},n.prototype.getIconName=function(){return this.currentDropListener.getIconName()},n.prototype.getDropType=function(e){return this.columnController.isPivotMode()&&e.dragSource.type===t.DragSourceType.ToolPanel?_a.Pivot:_a.ColumnMove},n.prototype.onDragEnter=function(e){var t=this.getDropType(e);this.currentDropListener=this.dropListeners[t],this.currentDropListener.onDragEnter(e)},n.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},n.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},n.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Aa([le("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Aa([le("columnController")],n.prototype,"columnController",void 0),Aa([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Aa([re],n.prototype,"init",null),n}(We),Fa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Na=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ma=function(e){function t(t,n,i){var o=e.call(this)||this;return o.groupsRowComps=[],o.eContainer=t,o.pinned=i,o.eViewport=n,o}return Fa(t,e),t.prototype.forEachHeaderElement=function(e){this.groupsRowComps&&this.groupsRowComps.forEach(function(t){return t.forEachHeaderElement(e)}),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(e),this.filtersRowComp&&this.columnsRowComp.forEachHeaderElement(e)},t.prototype.init=function(){this.addManagedListener(this.eventService,Ue.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},t.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.setWidthOfPinnedContainer=function(){var e=this.pinned===ye.PINNED_LEFT,t=this.pinned===ye.PINNED_RIGHT,n=this.columnController,i=this.gridOptionsWrapper.isEnableRtl(),o=this.gridOptionsWrapper.getScrollbarWidth();if(e||t){var r=n[e?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(i&&e||!i&&t)&&(r+=o),wn(this.eContainer,r)}},t.prototype.getRowComps=function(){var e=[];return this.groupsRowComps&&(e=e.concat(this.groupsRowComps)),this.columnsRowComp&&e.push(this.columnsRowComp),this.filtersRowComp&&e.push(this.filtersRowComp),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.refresh=function(e){void 0===e&&(e=!1),this.refreshRowComps(e)},t.prototype.setupDragAndDrop=function(e){var t=new Ia(this.pinned,this.eViewport?this.eViewport:this.eContainer);this.createManagedBean(t),t.registerGridComp(e)},t.prototype.destroyRowComps=function(e){void 0===e&&(e=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,e||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},t.prototype.destroyRowComp=function(e){e&&(this.destroyBean(e),this.eContainer.removeChild(e.getGui()))},t.prototype.refreshRowComps=function(e){var t=this;void 0===e&&(e=!1);var n=new Ai;!function(){var e=t.columnController.getHeaderRowCount()-1;t.groupsRowComps.forEach(t.destroyRowComp.bind(t)),t.groupsRowComps=[];for(var i=0;i<e;i++){var o=t.createBean(new Oa(n.next(),vs.COLUMN_GROUP,t.pinned));t.groupsRowComps.push(o)}}(),function(){var i=n.next();if(t.columnsRowComp){var o=t.columnsRowComp.getRowIndex()!==i;e&&!o||(t.destroyRowComp(t.columnsRowComp),t.columnsRowComp=void 0)}t.columnsRowComp||(t.columnsRowComp=t.createBean(new Oa(i,vs.COLUMN,t.pinned)))}(),t.destroyRowComp(t.filtersRowComp),t.filtersRowComp=void 0,!t.columnController.isPivotMode()&&t.columnController.hasFloatingFilters()&&(t.filtersRowComp=t.createBean(new Oa(n.next(),vs.FLOATING_FILTER,t.pinned))),this.getRowComps().forEach(function(e){return t.eContainer.appendChild(e.getGui())})},Na([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Na([le("columnController")],t.prototype,"columnController",void 0),Na([le("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Na([re],t.prototype,"init",null),Na([se],t.prototype,"destroyRowComps",null),t}(We),La=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Va=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};(ka=t.HeaderNavigationDirection||(t.HeaderNavigationDirection={}))[ka.UP=0]="UP",ka[ka.DOWN=1]="DOWN",ka[ka.LEFT=2]="LEFT",ka[ka.RIGHT=3]="RIGHT";var Ga,Ha=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return La(n,e),n.prototype.registerGridComp=function(e){this.gridPanel=e},n.prototype.registerHeaderRoot=function(e){this.headerRoot=e},n.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},n.prototype.getHeaderRowType=function(e){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[e].getType()},n.prototype.getHeaderContainer=function(e){return void 0===e&&(e="center"),null===e&&(e="center"),this.headerRoot.getHeaderContainers().get(e)},n.prototype.navigateVertically=function(e,n,i){if(n||(n=this.focusController.getFocusedHeader()),!n)return!1;var o,r=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),l=e===t.HeaderNavigationDirection.UP,u=l?r-1:r+1,c=!1;u<0&&(u=0,o=s,c=!0),u>=a&&(u=-1);var h=this.getHeaderRowType(r);if(!c){if(h===vs.COLUMN_GROUP){var p=s;o=l?s.getParent():p.getDisplayedChildren()[0]}else h===vs.FLOATING_FILTER?o=s:(p=s,o=l?p.getParent():p);if(!o)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:u,column:o},void 0,!1,!0,i)},n.prototype.navigateHorizontally=function(e,n,i){void 0===n&&(n=!1);var o,r,s=this.focusController.getFocusedHeader(),a=e===t.HeaderNavigationDirection.LEFT,l=this.gridOptionsWrapper.isEnableRtl();return(o=this.headerPositionUtils.findHeader(s,r=a!==l?"Before":"After"))?this.focusController.focusHeaderPosition(o,r,n,!0,i):!n||this.focusNextHeaderRow(s,r,i)},n.prototype.focusNextHeaderRow=function(e,t,n){var i,o=e.headerRowIndex;return"Before"===t?o>0&&(i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o-1,"end")):i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o+1,"start"),this.focusController.focusHeaderPosition(i,t,!0,!0,n)},n.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var n;if(e instanceof be){var i=e.getDisplayedLeafColumns();n="Before"===t?m(i):i[0]}else n=e;this.gridPanel.ensureColumnVisible(n),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Va([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Va([le("focusController")],n.prototype,"focusController",void 0),Va([le("headerPositionUtils")],n.prototype,"headerPositionUtils",void 0),Va([le("animationFrameService")],n.prototype,"animationFrameService",void 0),Va([ae("headerNavigationService")],n)}(We),Wa=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.SHIFT="Shift",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.NUM_PAD_DELETE="Del",e.A="a",e.C="c",e.V="v",e.D="d",e.Z="z",e.Y="y",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e}(),Ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ja=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},za=function(e){function n(){var t=e.call(this,n.TEMPLATE)||this;return t.headerContainers=new Map,t}return Ba(n,e),n.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new Ma(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new Ma(this.ePinnedLeftHeader,null,ye.PINNED_LEFT),"left"),this.registerHeaderContainer(new Ma(this.ePinnedRightHeader,null,ye.PINNED_RIGHT),"right"),this.headerContainers.forEach(function(e){return t.createManagedBean(e)}),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},n.prototype.registerGridComp=function(e){this.gridPanel=e,this.headerContainers.forEach(function(t){return t.setupDragAndDrop(e)})},n.prototype.registerHeaderContainer=function(e,t){this.headerContainers.set(t,e)},n.prototype.onTabKeyDown=function(e){var n=this.gridOptionsWrapper.isEnableRtl(),i=e.shiftKey!==n?t.HeaderNavigationDirection.LEFT:t.HeaderNavigationDirection.RIGHT,o=this.focusController.getFocusedHeader();wi(this.gridOptionsWrapper,e,o.headerRowIndex,o.column)||(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusController.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},n.prototype.handleKeyDown=function(e){var n,i=this.focusController.getFocusedHeader();if(!wi(this.gridOptionsWrapper,e,i.headerRowIndex,i.column))switch(e.key){case Wa.LEFT:n=t.HeaderNavigationDirection.LEFT;case Wa.RIGHT:o(n)||(n=t.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case Wa.UP:n=t.HeaderNavigationDirection.UP;case Wa.DOWN:o(n)||(n=t.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},n.prototype.onFocusOut=function(e){var t=e.relatedTarget,n=this.getGui();!t&&n.contains(document.activeElement)||n.contains(t)||this.focusController.clearFocusedHeader()},n.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.refreshHeader())},n.prototype.setHorizontalScroll=function(e){this.eHeaderContainer.style.transform="translateX("+e+"px)"},n.prototype.forEachHeaderElement=function(e){this.headerContainers.forEach(function(t){return t.forEachHeaderElement(e)})},n.prototype.refreshHeader=function(){this.headerContainers.forEach(function(e){return e.refresh()})},n.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();Ut(this.getGui(),"ag-pivot-on",e),Ut(this.getGui(),"ag-pivot-off",!e)},n.prototype.setHeight=function(e){var t=e+1+"px";this.getGui().style.height=t,this.getGui().style.minHeight=t},n.prototype.addPreventHeaderScroll=function(){var e=this;this.addManagedListener(this.eHeaderViewport,"scroll",function(){var t=e.eHeaderViewport.scrollLeft;0!==t&&(e.gridPanel.scrollHorizontally(t),e.eHeaderViewport.scrollLeft=0)})},n.prototype.getHeaderContainers=function(){return this.headerContainers},n.prototype.setHeaderContainerWidth=function(e){this.eHeaderContainer.style.width=e+"px"},n.prototype.setLeftVisible=function(e){qt(this.ePinnedLeftHeader,e)},n.prototype.setRightVisible=function(e){qt(this.ePinnedRightHeader,e)},n.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',ja([Hi("ePinnedLeftHeader")],n.prototype,"ePinnedLeftHeader",void 0),ja([Hi("ePinnedRightHeader")],n.prototype,"ePinnedRightHeader",void 0),ja([Hi("eHeaderContainer")],n.prototype,"eHeaderContainer",void 0),ja([Hi("eHeaderViewport")],n.prototype,"eHeaderViewport",void 0),ja([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ja([le("columnController")],n.prototype,"columnController",void 0),ja([le("gridApi")],n.prototype,"gridApi",void 0),ja([le("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),ja([le("headerNavigationService")],n.prototype,"headerNavigationService",void 0),n}(eo),Ua=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ka=function(){return(Ka=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ya=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.allAdvancedFilters=new Map,t.activeAdvancedFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var i;return Ua(n,e),i=n,n.prototype.init=function(){this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},n.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},n.prototype.setFilterModel=function(e){var t=this,n=[];if(e){var i=xi(Object.keys(e));this.allAdvancedFilters.forEach(function(o,r){n.push(t.setModelOnFilterWrapper(o.filterPromise,e[r])),i.delete(r)}),i.forEach(function(i){var o=t.columnController.getPrimaryColumn(i);if(o){var r=t.getOrCreateFilterWrapper(o,"NO_UI");n.push(t.setModelOnFilterWrapper(r.filterPromise,e[i]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+i)})}else this.allAdvancedFilters.forEach(function(e){n.push(t.setModelOnFilterWrapper(e.filterPromise,null))});ki.all(n).then(function(){return t.onFilterChanged()})},n.prototype.setModelOnFilterWrapper=function(e,t){return new ki(function(n){e.then(function(e){"function"!=typeof e.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),n()),(e.setModel(t)||ki.resolve()).then(function(){return n()})})})},n.prototype.getFilterModel=function(){var e={};return this.allAdvancedFilters.forEach(function(t,n){var i=t.filterPromise.resolveNow(null,function(e){return e});if(null==i)return null;if("function"==typeof i.getModel){var r=i.getModel();o(r)&&(e[n]=r)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}),e},n.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},n.prototype.updateActiveFilters=function(){var e=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach(function(t){t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})&&e.activeAdvancedFilters.push(t.filterPromise.resolveNow(null,function(e){return e}))})},n.prototype.updateFilterFlagInColumns=function(e,t){this.allAdvancedFilters.forEach(function(n){var i=n.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()});n.column.setFilterActive(i,e,t)})},n.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.externalFilterPresent},n.prototype.doAdvancedFiltersPass=function(e,t){for(var n=e.data,i=0;i<this.activeAdvancedFilters.length;i++){var o=this.activeAdvancedFilters[i];if(null!=o&&o!==t){if("function"!=typeof o.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!o.doesFilterPass({node:e,data:n}))return!1}}return!0},n.prototype.parseQuickFilter=function(e){return o(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},n.prototype.setQuickFilter=function(e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())},n.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},n.prototype.onFilterChanged=function(e,t){this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",t),this.checkExternalFilter(),this.allAdvancedFilters.forEach(function(t){t.filterPromise.then(function(t){t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()})});var n={type:Ue.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};t&&G(n,t),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},n.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},n.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},n.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},n.prototype.doesRowPassQuickFilterNoCache=function(e,t){var n=this;return T(this.columnController.getAllColumnsForQuickFilter(),function(i){var r=n.getQuickFilterTextForColumn(i,e);return o(r)&&r.indexOf(t)>=0})},n.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},n.prototype.doesRowPassQuickFilter=function(e){var t=this,n=this.gridOptionsWrapper.isCacheQuickFilter();return x(this.quickFilterParts,function(i){return n?t.doesRowPassQuickFilterCache(e,i):t.doesRowPassQuickFilterNoCache(e,i)})},n.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e)||this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(e,t))},n.prototype.getQuickFilterTextForColumn=function(e,t){var n=this.valueService.getValue(e,t,!0),i=e.getColDef();if(i.getQuickFilterText){var r={value:n,node:t,data:t.data,column:e,colDef:i,context:this.gridOptionsWrapper.getContext()};n=i.getQuickFilterText(r)}return o(n)?n.toString().toUpperCase():null},n.prototype.aggregateRowForQuickFilter=function(e){var t=this,n=[];R(this.columnController.getAllColumnsForQuickFilter(),function(i){var r=t.getQuickFilterTextForColumn(i,e);o(r)&&n.push(r)}),e.quickFilterAggregateText=n.join(i.QUICK_FILTER_SEPARATOR)},n.prototype.onNewRowsLoaded=function(e){this.allAdvancedFilters.forEach(function(e){e.filterPromise.then(function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e),this.updateActiveFilters()},n.prototype.createValueGetter=function(e){var t=this;return function(n){return t.valueService.getValue(e,n,!0)}},n.prototype.getFilterComponent=function(e,t,n){if(void 0===n&&(n=!0),n)return this.getOrCreateFilterWrapper(e,t).filterPromise;var i=this.cachedFilter(e);return i?i.filterPromise:null},n.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return t&&t.filterPromise.resolveNow(!1,function(e){return e.isFilterActive()})},n.prototype.getOrCreateFilterWrapper=function(e,t){var n=this.cachedFilter(e);return n?"NO_UI"!==t&&this.putIntoGui(n,t):(n=this.createFilterWrapper(e,t),this.allAdvancedFilters.set(e.getColId(),n)),n},n.prototype.cachedFilter=function(e){return this.allAdvancedFilters.get(e.getColId())},n.prototype.createFilterInstance=function(e,n){var i,o=this,r=ve.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=e.getColDef(),a=Ka(Ka({},this.createFilterParams(e,s,n)),{filterModifiedCallback:function(){o.eventService.dispatchEvent({type:Ue.EVENT_FILTER_MODIFIED,api:o.gridApi,columnApi:o.columnApi,column:e,filterInstance:i})},filterChangedCallback:function(e){return o.onFilterChanged(i,e)},doesRowPassOtherFilter:function(e){return o.doesRowPassOtherFilters(i,e)}}),l=this.userComponentFactory.newFilterComponent(s,a,r);return l&&l.then(function(e){return i=e}),l},n.prototype.createFilterParams=function(e,t,n){void 0===n&&(n=null);var i={api:this.gridOptionsWrapper.getApi(),column:e,colDef:I(t),rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return n&&(i.$scope=n),i},n.prototype.createFilterWrapper=function(e,t){var n={column:e,filterPromise:null,scope:null,compiledElement:null,guiPromise:ki.resolve(null)};return n.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,n.filterPromise=this.createFilterInstance(e,n.scope),n.filterPromise&&this.putIntoGui(n,t),n},n.prototype.putIntoGui=function(e,t){var n=this,i=document.createElement("div");i.className="ag-filter",e.guiPromise=new ki(function(r){e.filterPromise.then(function(s){var a=s.getGui();if(o(a)||console.warn("getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"==typeof a&&(a=un(a)),i.appendChild(a),e.scope){var l=n.$compile(i)(e.scope);e.compiledElement=l,window.setTimeout(function(){return e.scope.$apply()},0)}r(i),n.eventService.dispatchEvent({type:Ue.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i,api:n.gridApi,columnApi:n.columnApi})})})},n.prototype.onNewColumnsLoaded=function(){var e=this,t=!1;this.allAdvancedFilters.forEach(function(n){!e.columnController.getPrimaryColumn(n.column)&&(t=!0,e.disposeFilterWrapper(n,"filterDestroyed"))}),t&&this.onFilterChanged()},n.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var n=this.allAdvancedFilters.get(e.getColId());n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged())},n.prototype.disposeFilterWrapper=function(e,t){var n=this;e.filterPromise.then(function(i){(i.setModel(null)||ki.resolve()).then(function(){n.getContext().destroyBean(i),e.column.setFilterActive(!1,t),e.scope&&(e.compiledElement&&e.compiledElement.remove(),e.scope.$destroy()),n.allAdvancedFilters.delete(e.column.getColId())})})},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(e){return t.disposeFilterWrapper(e,"filterDestroyed")})},n.QUICK_FILTER_SEPARATOR="\n",qa([le("$compile")],n.prototype,"$compile",void 0),qa([le("$scope")],n.prototype,"$scope",void 0),qa([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),qa([le("valueService")],n.prototype,"valueService",void 0),qa([le("columnController")],n.prototype,"columnController",void 0),qa([le("rowModel")],n.prototype,"rowModel",void 0),qa([le("columnApi")],n.prototype,"columnApi",void 0),qa([le("gridApi")],n.prototype,"gridApi",void 0),qa([le("userComponentFactory")],n.prototype,"userComponentFactory",void 0),qa([re],n.prototype,"init",null),qa([se],n.prototype,"destroy",null),i=qa([ae("filterManager")],n)}(We),$a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xa=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Qa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return $a(t,e),t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(e,t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.initialised||this.init(),t){var o,r=e.getColDef(),s=r.field,a=e.getId(),l=t.data,u=t.groupData&&void 0!==t.groupData[a],c=!i&&t.aggData&&void 0!==t.aggData[a];if(n&&r.filterValueGetter?o=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&c?o=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&r.valueGetter?o=this.executeValueGetter(r.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&s&&l?o=B(l,s,e.isFieldContainsDots()):u?o=t.groupData[a]:c?o=t.aggData[a]:r.valueGetter?o=this.executeValueGetter(r.valueGetter,l,e,t):s&&l&&(o=B(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof o&&0===o.indexOf("=")){var h=o.substring(1);o=this.executeValueGetter(h,l,e,t)}return o}},t.prototype.setValue=function(e,t,n,i){var s=this.columnController.getPrimaryColumn(t);if(e&&s){r(e.data)&&(e.data={});var a=s.getColDef(),l=a.field,u=a.newValueHandler,c=a.valueSetter;if(r(l)&&r(u)&&r(c))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var h,p={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(p.newValue=n,void 0===(h=u&&o(u)?u(p):o(c)?this.expressionService.evaluate(c,p):this.setValueUsingField(e.data,l,n,s.isFieldContainsDots()))&&(h=!0),h){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),p.newValue=this.getValue(s,e);var d=s.getColDef().onCellValueChanged;"function"==typeof d&&setTimeout(function(){return d(p)},0),this.eventService.dispatchEvent({type:Ue.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:p.column,api:p.api,colDef:p.colDef,columnApi:p.columnApi,context:p.context,data:e.data,node:e,oldValue:p.oldValue,newValue:p.newValue,value:p.newValue,source:i})}}}},t.prototype.setValueUsingField=function(e,t,n,i){if(!t)return!1;if(i)for(var o=t.split("."),r=e;o.length>0&&r;){var s=o.shift();0===o.length?r[s]=n:r=r[s]}else e[t]=n;return!0},t.prototype.executeFilterValueGetter=function(e,t,n,i){var o={data:t,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,i)};return this.expressionService.evaluate(e,o)},t.prototype.executeValueGetter=function(e,t,n,i){var o=n.getId(),r=this.valueCache.getValue(i,o);if(void 0!==r)return r;var s={data:t,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,i)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(i,o,a),a},t.prototype.getValueCallback=function(e,t){var n=this.columnController.getPrimaryColumn(t);return n?this.getValue(n,e):null},t.prototype.getKeyForNode=function(e,t){var n=this.getValue(e,t),i=e.getColDef().keyCreator,o=i?i({value:n}):n;return"string"==typeof o||null==o||"[object Object]"===(o=String(o))&&Y(function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),o},Xa([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Xa([le("expressionService")],t.prototype,"expressionService",void 0),Xa([le("columnController")],t.prototype,"columnController",void 0),Xa([le("valueCache")],t.prototype,"valueCache",void 0),Xa([re],t.prototype,"init",null),Xa([ae("valueService")],t)}(We),Za=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ja=function(){function e(e){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=e.eContainer,this.eViewport=e.eViewport,e.eWrapper&&(this.eWrapper=e.eWrapper),this.hideWhenNoChildren=e.hideWhenNoChildren}return e.prototype.setVerticalScrollPosition=function(e){this.scrollTop=e},e.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(Ur.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},e.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},e.prototype.getRowElement=function(e){return this.eContainer.querySelector('[comp-id="'+e+'"]')},e.prototype.setHeight=function(e){null!=e?(this.eContainer.style.height=e+"px",this.eWrapper&&(this.eWrapper.style.height=e+"px")):this.eContainer.style.height=""},e.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var e=this.rowTemplatesToAdd.join("");cn(this.eContainer,e),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach(function(e){return e()}),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},e.prototype.appendRowTemplate=function(e,t){this.domOrder?this.lastPlacedElement=gn(this.eContainer,e,this.lastPlacedElement):this.rowTemplatesToAdd.push(e),this.afterGuiAttachedCallbacks.push(t),this.childCount++,this.checkVisibility()},e.prototype.ensureDomOrder=function(e){this.domOrder&&(dn(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},e.prototype.removeRowElement=function(e){this.eContainer.removeChild(e),this.childCount--,this.checkVisibility()},e.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var e=this.eViewport?this.eViewport:this.eContainer,t=this.childCount>0;this.visible!==t&&(this.visible=t,this.lastMadeVisibleTime=(new Date).getTime(),qt(e,t),t&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},e.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},Za([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Za([re],e.prototype,"postConstruct",null),e}(),el=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tl=function(){return(tl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},nl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},il=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},ol=function(e){function n(t,n){var i=e.call(this)||this;return i.isMultiRowDrag=!1,i.isGridSorted=!1,i.isGridFiltered=!1,i.isRowGroupActive=!1,i.eContainer=t,i.gridPanel=n,i}return el(n,e),n.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},n.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},n.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},n.prototype.onRowGroupChanged=function(){var e=this.columnController.getRowGroupColumns();this.isRowGroupActive=!s(e)},n.prototype.getContainer=function(){return this.eContainer},n.prototype.isInterestedIn=function(e){return e===t.DragSourceType.RowDrag},n.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?os.ICON_NOT_ALLOWED:os.ICON_MOVE},n.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},n.prototype.getRowNodes=function(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes;var t=this.gridOptionsWrapper.isEnableMultiRowDragging(),n=this.selectionController.getSelectedNodes(),i=e.dragItem.rowNode;return t&&-1!==n.indexOf(i)?(this.isMultiRowDrag=!0,il(n)):(this.isMultiRowDrag=!1,[i])},n.prototype.onDragEnter=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(e){e.setDragging(!0)}),this.onEnterOrDragging(e)},n.prototype.onDragging=function(e){this.onEnterOrDragging(e)},n.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},n.prototype.isDropZoneWithinThisGrid=function(e){return!this.gridPanel.getGui().contains(e.dropZoneTarget)},n.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.checkCenterForScrolling(t)},n.prototype.doManagedDrag=function(e,t){var n,i=this,o=this.isFromThisGrid(e);o?(n=[e.dragItem.rowNode],this.isMultiRowDrag&&(n=il(this.selectionController.getSelectedNodes()).sort(function(e,t){return i.getRowIndexNumber(e)-i.getRowIndexNumber(t)})),e.dragItem.rowNodes=n):n=e.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!o?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))},n.prototype.getRowIndexNumber=function(e){return parseInt(m(e.getRowIndexString().split("-")),10)},n.prototype.moveRowAndClearHighlight=function(e){var t=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),i=n&&"below"===n.highlighted,o=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=i?1:0;if(this.isFromThisGrid(e))r.forEach(function(e){e.rowTop<o&&(s-=1)}),this.moveRows(r,o,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(o)+1;"above"===this.clientSideRowModel.getHighlightPosition(o)&&l--,this.clientSideRowModel.updateRowData({add:r.map(function(e){return e.data}).filter(function(e){return!t.clientSideRowModel.getRowNode(a?a(e):e.id)}),addIndex:l})}this.clearRowHighlight()},n.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},n.prototype.moveRows=function(e,t,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},n.prototype.checkCenterForScrolling=function(e){var t=this.gridPanel.getVScrollPosition();this.needToMoveUp=e<t.top+50,this.needToMoveDown=e>t.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},n.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},n.prototype.moveInterval=function(){var e,t;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveDown?t=this.gridPanel.scrollVertically(e):this.needToMoveUp&&(t=this.gridPanel.scrollVertically(-e)),0!==t&&this.onDragging(this.lastDraggingEvent)},n.prototype.addRowDropZone=function(e){var n=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(t){e.onDragEnter(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(i.onDragLeave=function(t){e.onDragLeave(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(i.onDragging=function(t){e.onDragging(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(i.onDragStop=function(t){e.onDragStop(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(tl({isInterestedIn:function(e){return e===t.DragSourceType.RowDrag},getIconName:function(){return os.ICON_MOVE},external:!0},i))}else Y(function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},n.prototype.getRowDropZone=function(e){var t=this,n=this.getContainer.bind(this),i=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:n,onDragEnter:e.onDragEnter?function(n){i(n),e.onDragEnter(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_ENTER,n))}:i,onDragLeave:e.onDragLeave?function(n){o(n),e.onDragLeave(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_LEAVE,n))}:o,onDragging:e.onDragging?function(n){r(n),e.onDragging(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_MOVE,n))}:r,onDragStop:e.onDragStop?function(n){s(n),e.onDragStop(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:i,onDragLeave:o,onDragging:r,onDragStop:s,fromGrid:!0}},n.prototype.draggingToRowDragEvent=function(e,n){var i,o=this.mouseEventService.getNormalisedPosition(n).y,r=-1,s=null;switch(o>this.rowModel.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(o),s=this.rowModel.getRow(r)),n.vDirection){case t.VerticalDirection.Down:i="down";break;case t.VerticalDirection.Up:i="up";break;default:i=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:r,overNode:s,y:o,vDirection:i}},n.prototype.dispatchGridEvent=function(e,t){var n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)},n.prototype.onDragLeave=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},n.prototype.onDragStop=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},n.prototype.stopDragging=function(e){this.ensureIntervalCleared(),this.getRowNodes(e).forEach(function(e){e.setDragging(!1)})},nl([le("dragAndDropService")],n.prototype,"dragAndDropService",void 0),nl([le("rowModel")],n.prototype,"rowModel",void 0),nl([le("columnController")],n.prototype,"columnController",void 0),nl([le("focusController")],n.prototype,"focusController",void 0),nl([le("sortController")],n.prototype,"sortController",void 0),nl([le("filterManager")],n.prototype,"filterManager",void 0),nl([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),nl([le("selectionController")],n.prototype,"selectionController",void 0),nl([ue("rangeController")],n.prototype,"rangeController",void 0),nl([le("mouseEventService")],n.prototype,"mouseEventService",void 0),nl([re],n.prototype,"postConstruct",null),n}(We),rl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},al=function(e){function n(){var t=e.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return t.scrollLeft=-1,t.scrollTop=-1,t.resetLastHorizontalScrollElementDebounced=ee(t.resetLastHorizontalScrollElement.bind(t),500),t}return rl(n,e),n.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},n.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},n.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},n.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[e&&!t?"showNoRowsOverlay":"hideOverlay"]()},n.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},n.prototype.init=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addPreventScrollWhileDragging(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&(qn(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eCenterViewport,this.eBodyViewport].forEach(function(t){var n=e.resizeObserverService.observeResize(t,e.onCenterViewportResized.bind(e));e.addDestroyFunc(function(){return n()})}),[this.eTop,this.eBodyViewport,this.eBottom].forEach(function(t){e.addManagedListener(t,"focusin",function(){jt(t,"ag-has-focus")}),e.addManagedListener(t,"focusout",function(e){t.contains(e.relatedTarget)||zt(t,"ag-has-focus")})})},n.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.setWidthsOfContainers(),this.setPinnedContainerSize())},n.prototype.onCenterViewportResized=function(){if(ln(this.eCenterViewport)){this.checkViewportAndScrolls();var e=this.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},n.prototype.setColumnMovingCss=function(e){this.addOrRemoveCssClass("ag-column-moving",e)},n.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach(function(t){return Ut(t,"ag-selectable",e)})},n.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new ol(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},n.prototype.getRowDragFeature=function(){return this.rowDragFeature},n.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var t=[this.eBodyViewport,this.eBottom,this.eTop],n=function(n){var i=n.relatedTarget;if(null!==Mt(i)){var o=t.some(function(e){return e.contains(i)});if(!o){var r=e.popupService;o=r.getActivePopups().some(function(e){return e.contains(i)})||r.isElementWithinCustomPopup(i)}o||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()};t.forEach(function(t){return e.addManagedListener(t,"focusout",n)})}},n.prototype.addAngularApplyCheck=function(){var e=this,t=!1,n=function(){t||(t=!0,window.setTimeout(function(){t=!1,e.$scope.$apply()},0))};this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,n)},n.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},n.prototype.addDragListeners=function(){var e=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!r(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach(function(t){var n={eElement:t,onDragStart:e.rangeController.onDragStart.bind(e.rangeController),onDragStop:e.rangeController.onDragStop.bind(e.rangeController),onDragging:e.rangeController.onDragging.bind(e.rangeController)};e.dragService.addDragSource(n),e.addDestroyFunc(function(){return e.dragService.removeDragSource(n)})})},n.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click","mousedown"].forEach(function(t){var n=e.processMouseEvent.bind(e,t);e.eAllCellContainers.forEach(function(i){return e.addManagedListener(i,t,n)})})},n.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eAllCellContainers.forEach(function(e){e.addEventListener("touchmove",t,{passive:!1})}),this.addDestroyFunc(function(){e.eAllCellContainers.forEach(function(e){e.removeEventListener("touchmove",t)})})},n.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(t){var n=e.processKeyboardEvent.bind(e,t);e.eAllCellContainers.forEach(function(i){e.addManagedListener(i,t,n)})})},n.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(t){var n=Ie(t);n!==e.eBodyViewport&&n!==e.eCenterViewport||(e.onContextMenu(t,null,null,null,null),e.preventDefaultOnContextMenu(t))})},n.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},n.prototype.getRowForEvent=function(e){for(var t=Ie(e);t;){var n=this.gridOptionsWrapper.getDomData(t,Gs.DOM_DATA_KEY_RENDERED_ROW);if(n)return n;t=t.parentElement}return null},n.prototype.processKeyboardEvent=function(e,t){var n=ke(this.gridOptionsWrapper,t);if(n&&!t.defaultPrevented){var i=n.getRenderedRow().getRowNode(),o=n.getColumn(),r=n.isEditing();if(!Ci(this.gridOptionsWrapper,t,i,o,r))switch(e){case"keydown":!r&&this.navigationService.handlePageScrollingKey(t)||n.onKeyDown(t),this.doGridOperations(t,n);break;case"keypress":n.onKeyPress(t)}if("keydown"===e){var s=n.createEvent(t,Ue.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===e){var a=n.createEvent(t,Ue.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}}},n.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t.isEditing()&&this.mouseEventService.isEventFromThisGrid(e))switch(e.which){case Ki.A:return this.onCtrlAndA(e);case Ki.C:return this.onCtrlAndC(e);case Ki.V:return this.onCtrlAndV();case Ki.D:return this.onCtrlAndD(e);case Ki.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Ki.Y:return this.undoRedoService.redo()}},n.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},n.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!Pe(t)){var n=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?(this.preventDefaultOnContextMenu(t),this.handleContextMenuMouseEvent(t,null,n,i)):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}},n.prototype.mockContextMenuForIPad=function(){var e=this;Nt()&&this.eAllCellContainers.forEach(function(t){var n=new fo(t);e.addManagedListener(n,fo.EVENT_LONG_TAP,function(t){var n=e.getRowForEvent(t.touchEvent),i=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,n,i)}),e.addDestroyFunc(function(){return n.destroy()})})},n.prototype.handleContextMenuMouseEvent=function(e,t,n,i){var o=n?n.getRowNode():null,r=i?i.getColumn():null,s=null;r&&(i.dispatchCellContextMenuEvent(e||t),s=this.valueService.getValue(r,o)),this.onContextMenu(e,t,o,r,s)},n.prototype.onContextMenu=function(e,t,n,i,o){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&this.contextMenuFactory.showMenu(n,i,o,e||t.touches[0])&&(e||t).preventDefault()},n.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,n=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===n)&&e.preventDefault()},n.prototype.onCtrlAndA=function(e){var t=this,n=t.pinnedRowModel,i=t.rangeController,o=ye.PINNED_BOTTOM,r=ye.PINNED_TOP;if(i&&t.paginationProxy.isRowsToRender()){var a=[n.isEmpty(r),n.isEmpty(o)],l=a[0]?null:r,u=void 0,c=void 0;a[1]?(u=null,c=this.paginationProxy.getRowCount()-1):(u=o,c=n.getPinnedBottomRowData().length-1);var h=this.columnController.getAllDisplayedColumns();if(s(h))return;i.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:c,rowEndPinned:u,columnStart:h[0],columnEnd:m(h)})}e.preventDefault()},n.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},n.prototype.onCtrlAndV=function(){ve.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},n.prototype.onCtrlAndD=function(e){ve.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},n.prototype.ensureIndexVisible=function(e,t){if(!this.printLayout){var n=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=n)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var i,o=this.paginationProxy.getRow(e);do{var r=o.rowTop,s=o.rowHeight,a=this.paginationProxy.getPixelOffset(),l=o.rowTop-a,u=l+o.rowHeight,c=this.getVScrollPosition(),h=this.heightScaler.getOffset(),p=c.top+h,d=c.bottom+h,f=d-p,g=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-f),y=Math.min((g+m)/2,l),v=null;"top"===t?v=g:"bottom"===t?v=m:"middle"===t?v=y:p>l?v=g:d<u&&(v=m),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),i=r!==o.rowTop||s!==o.rowHeight}while(i);this.animationFrameService.flushAllFrames()}}},n.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},n.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return Ut(this.eBodyViewport,"ag-force-vertical-scroll",e),e||vn(this.eBodyViewport)},n.prototype.isHorizontalScrollShowing=function(){return yn(this.eCenterViewport)},n.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},n.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},n.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:!1,verticalScrollShowing:!1};e.verticalScrollShowing=this.isVerticalScrollShowing(),e.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(e),this.setHorizontalScrollVisible(e.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},n.prototype.setHorizontalScrollVisible=function(e){var t=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,i=t?0:n,o=Dt()&&e;this.eCenterViewport.style.height="calc(100% + "+n+"px)",bn(this.eHorizontalScrollBody,i),bn(this.eBodyHorizontalScrollViewport,i+(o?1:0)),bn(this.eBodyHorizontalScrollContainer,i)},n.prototype.setVerticalScrollPaddingVisible=function(e){this.eTop.style.overflowY=this.eBottom.style.overflowY=e?"scroll":"hidden",this.setFakeHScrollSpacerWidths()},n.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),t=this.paginationProxy.getType(),n=-1;t===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&(n=0,this.paginationProxy.forEachNode(function(e){e.group||n++}));var i=-1===n?-1:e+n;Yn(this.getGui(),i)},n.prototype.updateColumnCount=function(){var e=this.columnController.getAllGridColumns();Xn(this.getGui(),e.length)},n.prototype.ensureColumnVisible=function(e){var t=this.columnController.getGridColumn(e);if(t)if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var n,i,o=t.getLeft(),r=o+t.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(n=l-a-s,i=l-a):(n=a,i=s+a);var u=n>o,c=i<r,h=s<t.getActualWidth(),p=u||h,d=c;this.getCenterViewportScrollLeft(),(p||d)&&this.setCenterViewportScrollLeft(this.enableRtl?p?l-s-o:l-r:p?o:r-s),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},n.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},n.prototype.sizeColumnsToFit=function(e){var t=this,n=this.eBodyViewport.clientWidth;n>0?this.columnController.sizeColumnsToFit(n,"sizeColumnsToFit"):void 0===e?window.setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?window.setTimeout(function(){t.sizeColumnsToFit(500)},100):500===e?window.setTimeout(function(){t.sizeColumnsToFit(-1)},500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},n.prototype.getCenterContainer=function(){return this.eCenterContainer},n.prototype.getDropTargetBodyContainers=function(){return[this.eBodyViewport,this.eTopViewport,this.eBottomViewport]},n.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},n.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},n.prototype.buildRowContainerComponents=function(){var e=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new Ja({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new Ja({eContainer:this.eFullWidthContainer}),pinnedLeft:new Ja({eContainer:this.eLeftContainer}),pinnedRight:new Ja({eContainer:this.eRightContainer}),floatingTop:new Ja({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new Ja({eContainer:this.eLeftTop}),floatingTopPinnedRight:new Ja({eContainer:this.eRightTop}),floatingTopFullWidth:new Ja({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new Ja({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new Ja({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new Ja({eContainer:this.eRightBottom}),floatingBottomFullWidth:new Ja({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},k(this.rowContainerComponents,function(t,n){n&&e.getContext().createBean(n)})},n.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.heightScaler.isScaling();Ut(e.eBodyViewport,"ag-row-animation",t),Ut(e.eBodyViewport,"ag-row-no-animation",!t)};t(),this.addManagedListener(this.eventService,Ue.EVENT_HEIGHT_SCALE_CHANGED,t)},n.prototype.suppressScrollOnFloatingRow=function(){var e=this;this.addManagedListener(this.eTopViewport,"scroll",function(){return e.eTopViewport.scrollLeft=0}),this.addManagedListener(this.eBottomViewport,"scroll",function(){return e.eTopViewport.scrollLeft=0})},n.prototype.getRowContainers=function(){return this.rowContainerComponents},n.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},n.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},n.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},n.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},n.prototype.setCenterWidth=function(){var e=this.headerRootComp,t=this.columnController,n=t.getBodyContainerWidth();this.printLayout&&(n+=t.getPinnedLeftContainerWidth()+t.getPinnedRightContainerWidth()),e.setHeaderContainerWidth(n);var i=n+"px";this.eCenterContainer.style.width=i,this.eBottomContainer.style.width=i,this.eTopContainer.style.width=i,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=i)},n.prototype.setPinnedLeftWidth=function(){var e=this,t=this.pinningLeft,n=this.columnController.getPinnedLeftContainerWidth(),i=this.pinningLeft=!this.printLayout&&n>0,o=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];t!==i&&this.headerRootComp.setLeftVisible(i),o.forEach(function(t){return qt(t,e.pinningLeft)}),i&&o.forEach(function(e){return wn(e,n)})},n.prototype.setPinnedRightWidth=function(){var e=this.pinningRight,t=this.columnController.getPinnedRightContainerWidth(),n=this.pinningRight=!this.printLayout&&t>0,i=[this.eRightContainer,this.eRightTop,this.eRightBottom];e!==n&&this.headerRootComp.setRightVisible(n),i.forEach(function(e){return qt(e,n)}),n&&i.forEach(function(e){return wn(e,t)})},n.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},n.prototype.setFakeHScrollSpacerWidths=function(){var e=this.columnController.getPinnedRightContainerWidth(),t=!this.enableRtl&&this.isVerticalScrollShowing(),n=this.gridOptionsWrapper.getScrollbarWidth();t&&(e+=n),wn(this.eHorizontalRightSpacer,e),Ut(this.eHorizontalRightSpacer,"ag-scroller-corner",e<=n);var i=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(i+=n),wn(this.eHorizontalLeftSpacer,i),Ut(this.eHorizontalLeftSpacer,"ag-scroller-corner",i<=n)},n.prototype.checkBodyHeight=function(){var e=this.eBodyViewport.clientHeight;this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:Ue.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},n.prototype.setHeaderAndFloatingHeights=function(){var e,t,n,i=this,o=i.columnController,r=i.gridOptionsWrapper,s=i.pinnedRowModel,a=i.eTop,l=i.eBottom,u=0,c=o.getHeaderRowCount();o.isPivotMode()?(t=r.getPivotGroupHeaderHeight(),n=r.getPivotHeaderHeight()):(o.hasFloatingFilters()&&(c++,u=1),t=r.getGroupHeaderHeight(),n=r.getHeaderHeight());var h=c-(1+u);e=u*r.getFloatingFiltersHeight(),e+=h*t,this.headerRootComp.setHeight(e+=n);var p=s.getPinnedTopTotalHeight();p&&(p+=1);var d=s.getPinnedBottomTotalHeight();d&&(d+=1);var f=p+"px",g=d+"px";a.style.minHeight=f,a.style.height=f,a.style.display=p?"inherit":"none",l.style.minHeight=g,l.style.height=g,l.style.display=d?"inherit":"none",this.checkBodyHeight()},n.prototype.getBodyHeight=function(){return this.bodyHeight},n.prototype.setHorizontalScrollPosition=function(e){var t=this.eCenterViewport.scrollWidth-this.eCenterViewport.clientWidth;this.shouldBlockScrollUpdate("horizontal",e)&&(e=Math.min(Math.max(e,0),t)),this.eCenterViewport.scrollLeft=e,this.doHorizontalScroll(e)},n.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},n.prototype.scrollHorizontally=function(e){var t=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eCenterViewport.scrollLeft-t},n.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},n.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this));var e=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?ee(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",e)},n.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.scrollTop=e,this.redrawRowsAfterScroll())},n.prototype.shouldBlockScrollUpdate=function(e,t,n){if(void 0===n&&(n=!1),n&&!Nt)return!1;if("vertical"===e){var i=this.eBodyViewport;if(t<0||t+i.clientHeight>i.scrollHeight)return!0}if("horizontal"===e){var o=this.eCenterViewport,r=o.clientWidth,s=o.scrollWidth;if(this.enableRtl&&nn()){if(t>0)return!0}else if(t<0)return!0;if(Math.abs(t)+r>s)return!0}return!1},n.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},n.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},n.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.onBodyHorizontalScroll=function(e){this.shouldBlockScrollUpdate("horizontal",this.eCenterViewport.scrollLeft,!0)||(this.doHorizontalScroll(Math.floor(on(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},n.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},n.prototype.doHorizontalScroll=function(e){this.scrollLeft=e,this.eventService.dispatchEvent({type:Ue.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop}),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged()},n.prototype.redrawRowsAfterScroll=function(){this.eventService.dispatchEvent({type:Ue.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop})},n.prototype.onHorizontalViewportChanged=function(){var e=this.eCenterViewport.clientWidth,t=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(e,t)},n.prototype.getCenterViewportScrollLeft=function(){return on(this.eCenterViewport,this.enableRtl)},n.prototype.setCenterViewportScrollLeft=function(e){rn(this.eCenterViewport,e,this.enableRtl)},n.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){void 0===e&&(e=this.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e;this.headerRootComp.setHorizontalScroll(t),this.eBottomContainer.style.transform="translateX("+t+"px)",this.eTopContainer.style.transform="translateX("+t+"px)",rn(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,e,this.enableRtl)},n.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},n.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},sl([le("alignedGridsService")],n.prototype,"alignedGridsService",void 0),sl([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),sl([le("rowRenderer")],n.prototype,"rowRenderer",void 0),sl([le("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),sl([le("animationFrameService")],n.prototype,"animationFrameService",void 0),sl([le("navigationService")],n.prototype,"navigationService",void 0),sl([le("autoHeightCalculator")],n.prototype,"autoHeightCalculator",void 0),sl([le("columnAnimationService")],n.prototype,"columnAnimationService",void 0),sl([le("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),sl([le("paginationAutoPageSizeService")],n.prototype,"paginationAutoPageSizeService",void 0),sl([le("beans")],n.prototype,"beans",void 0),sl([le("paginationProxy")],n.prototype,"paginationProxy",void 0),sl([le("columnApi")],n.prototype,"columnApi",void 0),sl([le("gridApi")],n.prototype,"gridApi",void 0),sl([le("dragService")],n.prototype,"dragService",void 0),sl([le("mouseEventService")],n.prototype,"mouseEventService",void 0),sl([le("$scope")],n.prototype,"$scope",void 0),sl([le("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),sl([le("valueService")],n.prototype,"valueService",void 0),sl([le("dragAndDropService")],n.prototype,"dragAndDropService",void 0),sl([le("maxDivHeightScaler")],n.prototype,"heightScaler",void 0),sl([le("resizeObserverService")],n.prototype,"resizeObserverService",void 0),sl([le("undoRedoService")],n.prototype,"undoRedoService",void 0),sl([le("columnController")],n.prototype,"columnController",void 0),sl([le("headerNavigationService")],n.prototype,"headerNavigationService",void 0),sl([le("popupService")],n.prototype,"popupService",void 0),sl([ue("rangeController")],n.prototype,"rangeController",void 0),sl([ue("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),sl([ue("menuFactory")],n.prototype,"menuFactory",void 0),sl([ue("clipboardService")],n.prototype,"clipboardService",void 0),sl([Hi("eBodyViewport")],n.prototype,"eBodyViewport",void 0),sl([Hi("eCenterContainer")],n.prototype,"eCenterContainer",void 0),sl([Hi("eCenterViewport")],n.prototype,"eCenterViewport",void 0),sl([Hi("eLeftContainer")],n.prototype,"eLeftContainer",void 0),sl([Hi("eRightContainer")],n.prototype,"eRightContainer",void 0),sl([Hi("eCenterColsClipper")],n.prototype,"eCenterColsClipper",void 0),sl([Hi("eHorizontalScrollBody")],n.prototype,"eHorizontalScrollBody",void 0),sl([Hi("eHorizontalLeftSpacer")],n.prototype,"eHorizontalLeftSpacer",void 0),sl([Hi("eHorizontalRightSpacer")],n.prototype,"eHorizontalRightSpacer",void 0),sl([Hi("eBodyHorizontalScrollViewport")],n.prototype,"eBodyHorizontalScrollViewport",void 0),sl([Hi("eBodyHorizontalScrollContainer")],n.prototype,"eBodyHorizontalScrollContainer",void 0),sl([Hi("eFullWidthContainer")],n.prototype,"eFullWidthContainer",void 0),sl([Hi("eTop")],n.prototype,"eTop",void 0),sl([Hi("eLeftTop")],n.prototype,"eLeftTop",void 0),sl([Hi("eRightTop")],n.prototype,"eRightTop",void 0),sl([Hi("eTopContainer")],n.prototype,"eTopContainer",void 0),sl([Hi("eTopViewport")],n.prototype,"eTopViewport",void 0),sl([Hi("eTopFullWidthContainer")],n.prototype,"eTopFullWidthContainer",void 0),sl([Hi("eBottom")],n.prototype,"eBottom",void 0),sl([Hi("eLeftBottom")],n.prototype,"eLeftBottom",void 0),sl([Hi("eRightBottom")],n.prototype,"eRightBottom",void 0),sl([Hi("eBottomContainer")],n.prototype,"eBottomContainer",void 0),sl([Hi("eBottomViewport")],n.prototype,"eBottomViewport",void 0),sl([Hi("eBottomFullWidthContainer")],n.prototype,"eBottomFullWidthContainer",void 0),sl([Hi("headerRoot")],n.prototype,"headerRootComp",void 0),sl([Hi("overlayWrapper")],n.prototype,"overlayWrapper",void 0),sl([re],n.prototype,"init",null),n}(Li),ll=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ul=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.init=function(){switch(this.rowModel.getType()){case ye.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ye.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ye.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;k(this.detailGridInfoMap,function(n,i){o(i)&&(e(i,t),t++)})},e.prototype.getDataAsCsv=function(e){if(ve.assertRegistered(t.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){ve.assertRegistered(t.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getDataAsExcel=function(e){if(ve.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(e)},e.prototype.exportDataAsExcel=function(e){ve.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setServerSideDatasource=function(e){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ye.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+ye.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ye.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var t=this.immutableService.createTransactionForRowData(e);if(!t)return;var n=this.clientSideRowModel.updateRowData(t[0],t[1]);this.rowRenderer.refreshFullWidthRows(n.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(e);else console.warn("cannot call setRowData unless using normal row model")},e.prototype.setFloatingTopRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnController.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),e&&e.rowNodes?this.rowRenderer.redrawRows(e.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},e.prototype.timeFullRedraw=function(e){void 0===e&&(e=1);var t=0,n=0,i=0,o=this;!function r(){var s=(new Date).getTime();o.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout(function(){var o=(new Date).getTime(),l=a-s,u=o-a;console.log("duration:  processing = "+l+"ms, reflow = "+u+"ms"),t++,n+=l,i+=u,t<e?window.setTimeout(r,1e3):(console.log("tests complete. iteration count = "+t),console.log("average processing = "+n/t+"ms"),console.log("average reflow = "+i/t+"ms"))},0)}()},e.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},e.prototype.refreshRows=function(e){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:e})},e.prototype.rowDataChanged=function(e){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},e.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},e.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){r(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),o(e)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ye.STEP_MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){r(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=ye.STEP_EVERYTHING,n={group:ye.STEP_EVERYTHING,filter:ye.STEP_FILTER,map:ye.STEP_MAP,aggregate:ye.STEP_AGGREGATE,sort:ye.STEP_SORT,pivot:ye.STEP_PIVOT};o(e)&&(t=n[e]),r(t)?console.error("ag-Grid: invalid step "+e+", available steps are "+Object.keys(n).join(", ")):this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){r(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},e.prototype.collapseAll=function(){r(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},e.prototype.getToolPanelInstance=function(e){return this.gridCore.getToolPanelInstance(e)},e.prototype.addVirtualRowListener=function(e,t,n){"string"!=typeof e&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,n)},e.prototype.addRenderedRowListener=function(e,t,n){"virtualRowSelected"===e&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,n)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,n){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(e)},e.prototype.selectNode=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){r(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ye.STEP_AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e,t){this.gridPanel.ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){this.gridCore.ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){r(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){r(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){r(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.getFilterInstance=function(e,t){var n=this.columnController.getPrimaryColumn(e);if(n){var i=this.filterManager.getFilterComponent(n,"NO_UI"),o=i.resolveNow(null,function(e){return e});return t&&(o?setTimeout(t,0,o):i.then(t)),o}},e.prototype.getFilterApi=function(e){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.destroyFilter=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return this.statusBarService.getStatusPanel(e)},e.prototype.getColumnDef=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged()},e.prototype.setSortModel=function(e,t){console.warn("ag-Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var n=[];e&&e.forEach(function(e,t){n.push({colId:e.colId,sort:e.sort,sortIndex:t})}),this.columnController.applyColumnState({state:n,defaultState:{sort:null}})},e.prototype.getSortModel=function(){console.warn("ag-Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var e=this.columnController.getColumnState().filter(function(e){return null!=e.sort}),t={};e.forEach(function(e){return t[e.colId]=e.sortIndex});var n=e.map(function(e){return{colId:e.colId,sort:e.sort}});return n.sort(function(e,n){return t[e.colId]-t[n.colId]}),n},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,n){this.focusController.setFocusedCell(e,t,n,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridPanel.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridPanel.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridPanel.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_FILL_HANDLE_DIRECTION,e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_FLOATING_FILTERS_HEIGHT,e),this.doLayout()},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_PIVOT_HEADER_HEIGHT,e),this.doLayout()},e.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},e.prototype.setSideBarVisible=function(e){this.gridCore.setSideBarVisible(e)},e.prototype.setSideBarPosition=function(e){this.gridCore.setSideBarPosition(e)},e.prototype.openToolPanel=function(e){this.gridCore.openToolPanel(e)},e.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},e.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},e.prototype.getSideBar=function(){return this.gridCore.getSideBar()},e.prototype.setSideBar=function(e){return this.gridCore.setSideBar(e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},e.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},e.prototype.resetRowHeights=function(){o(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var n=this.columnController.getPrimaryColumn(e);return r(n)&&(n=this.columnController.getGridColumn(e)),r(n)?null:this.valueService.getValue(n,t)},e.prototype.addEventListener=function(e,t){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,n)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,n)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Di.removeAllReferences.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("ag-Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(e){return e.quickFilterAggregateText=null})},e.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return Ze(e)},e.prototype.addRangeSelection=function(e){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(ve.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartModels")&&ve.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.createRangeChart=function(e){if(ve.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&ve.assertRegistered(t.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createPivotChart=function(e){if(ve.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&ve.assertRegistered(t.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e,t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e,t)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t)},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnController.getGridColumn(e);n||(n=this.columnController.getPrimaryColumn(e)),n?this.menuFactory.showMenuAfterMouseEvent(n,t):console.error("ag-Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(Ur.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},e.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnController.getGridColumn(e.colKey);if(t){var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t};r(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),this.rowRenderer.startEditingCell(n,e.keyPress,e.charPress)}else console.warn("ag-Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e,t){void 0===t&&(t=[]),this.serverSideRowModel&&this.serverSideRowModel.applyTransaction(e,t)},e.prototype.applyTransaction=function(e){var t=null;if(this.clientSideRowModel)t=this.clientSideRowModel.updateRowData(e);else{if(!this.infiniteRowModel)return void console.error("ag-Grid: updateRowData() only works with ClientSideRowModel.");Y(function(){return console.warn("ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.")},"applyTransaction infiniteRowModel deprecated"),this.infiniteRowModel.updateRowData(e)}return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t},e.prototype.updateRowData=function(e){return Y(function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){Y(function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,n){console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=e.map(function(e){return e.data});this.updateRowData({add:null,addIndex:null,update:null,remove:n})},e.prototype.addItems=function(e,t){console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){this.serverSideRowModel?this.serverSideRowModel.purgeCache(e):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},e.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(e,t):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},e.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},ll([ue("immutableService")],e.prototype,"immutableService",void 0),ll([ue("csvCreator")],e.prototype,"csvCreator",void 0),ll([ue("excelCreator")],e.prototype,"excelCreator",void 0),ll([le("rowRenderer")],e.prototype,"rowRenderer",void 0),ll([le("filterManager")],e.prototype,"filterManager",void 0),ll([le("columnController")],e.prototype,"columnController",void 0),ll([le("selectionController")],e.prototype,"selectionController",void 0),ll([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ll([le("valueService")],e.prototype,"valueService",void 0),ll([le("alignedGridsService")],e.prototype,"alignedGridsService",void 0),ll([le("eventService")],e.prototype,"eventService",void 0),ll([le("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ll([le("context")],e.prototype,"context",void 0),ll([le("rowModel")],e.prototype,"rowModel",void 0),ll([le("sortController")],e.prototype,"sortController",void 0),ll([le("paginationProxy")],e.prototype,"paginationProxy",void 0),ll([le("focusController")],e.prototype,"focusController",void 0),ll([le("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ll([ue("rangeController")],e.prototype,"rangeController",void 0),ll([ue("clipboardService")],e.prototype,"clipboardService",void 0),ll([ue("aggFuncService")],e.prototype,"aggFuncService",void 0),ll([le("menuFactory")],e.prototype,"menuFactory",void 0),ll([ue("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ll([le("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),ll([le("valueCache")],e.prototype,"valueCache",void 0),ll([le("animationFrameService")],e.prototype,"animationFrameService",void 0),ll([ue("statusBarService")],e.prototype,"statusBarService",void 0),ll([ue("chartService")],e.prototype,"chartService",void 0),ll([ue("undoRedoService")],e.prototype,"undoRedoService",void 0),ll([re],e.prototype,"init",null),ll([se],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),ll([ae("gridApi")],e)}(),cl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return cl(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?this.evaluateExpression(e,t):void console.error("ag-Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+n),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},hl([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),hl([ae("expressionService")],t);var n}(We),dl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},gl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return dl(t,e),t.prototype.getTemplate=function(e,t){var n=this.templateCache[e];if(n)return n;var i=this.waitingCallbacks[e],o=this;if(!i){this.waitingCallbacks[e]=i=[];var r=new XMLHttpRequest;r.onload=function(){o.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&i.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var n=this.waitingCallbacks[t],i=0;i<n.length;i++)(0,n[i])();if(this.$scope){var o=this;window.setTimeout(function(){o.$scope.$apply()},0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},fl([le("$scope")],t.prototype,"$scope",void 0),fl([ae("templateService")],t)}(We),ml=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return ml(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_KEYBOARD_FOCUS,function(){R(e.popupList,function(e){return jt(e.element,"ag-keyboard-focus")})}),this.addManagedListener(this.eventService,Ue.EVENT_MOUSE_FOCUS,function(){R(e.popupList,function(e){return zt(e.element,"ag-keyboard-focus")})})},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),n=this.getParentRect(),i=this.keepYWithinBounds(e,t.top-n.top),o=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=o+"px";var r,s=n.right-n.left-o;function a(){return t.right-n.left-2}function l(){return t.left-n.left-o}this.gridOptionsWrapper.isEnableRtl()?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),e.ePopup.style.left=r+"px",e.ePopup.style.top=i+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:e.ePopup,x:t.x,y:t.y,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),n=e.alignSide||"left",i=this.getParentRect(),o=t.left-i.left;"right"===n&&(o-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,minHeight:e.minHeight,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:o,y:t.top-i.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),n=this.getParentRect();this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-n.left,y:t.top-n.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,n,i,o,r){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:o,rowNode:r,ePopup:t,type:e,eventSource:n,mouseEvent:i})},t.prototype.positionPopup=function(e){var t=e.x,n=e.y;e.nudgeX&&(t+=e.nudgeX),e.nudgeY&&(n+=e.nudgeY),e.keepWithinBounds&&(t=this.keepXWithinBounds(e,t),n=this.keepYWithinBounds(e,n)),e.ePopup.style.left=t+"px",e.ePopup.style.top=n+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getParentRect=function(){var e=this.getPopupParent(),t=this.gridOptionsWrapper.getDocument();e===t.body&&(e=t.documentElement);var n=getComputedStyle(e),i=e.getBoundingClientRect();return{top:i.top+parseFloat(n.borderTopWidth)||0,left:i.left+parseFloat(n.borderLeftWidth)||0,right:i.right+parseFloat(n.borderRightWidth)||0,bottom:i.bottom+parseFloat(n.borderBottomWidth)||0}},t.prototype.keepYWithinBounds=function(e,t){var n=this.gridOptionsWrapper.getDocument(),i=n.documentElement,o=this.getPopupParent(),r=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,l=Math.min(200,r.height),u=0;e.minHeight&&e.minHeight<l?l=e.minHeight:e.ePopup.offsetHeight>0&&(l=e.ePopup.clientHeight,u=en(e.ePopup)-l);var c=a?en(i)+i.scrollTop:r.height;a&&(c-=Math.abs(s.top-r.top));var h=c-l-u;return Math.min(Math.max(t,0),Math.abs(h))},t.prototype.keepXWithinBounds=function(e,t){var n=this.gridOptionsWrapper.getDocument(),i=n.documentElement,o=this.getPopupParent(),r=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,l=e.ePopup,u=Math.min(200,r.width),c=0;e.minWidth&&e.minWidth<u?u=e.minWidth:l.offsetWidth>0&&(l.style.minWidth=(u=l.offsetWidth)+"px",c=tn(l)-u);var h=a?tn(i)+i.scrollLeft:r.width;a&&(h-=Math.abs(s.left-r.left));var p=h-u-c;return Math.min(Math.max(t,0),Math.abs(p))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this.getPopupParent(),n=t.getBoundingClientRect(),i=e.element.getBoundingClientRect(),o=n.top-i.top,r=o,s=e.ePopup.style.top,a=parseInt(s.substring(0,s.length-1),10),l=window.setInterval(function(){var n=t.getBoundingClientRect(),i=e.element.getBoundingClientRect(),s=n.top-i.top;s!=r&&(e.ePopup.style.top=a+o-s+"px"),r=s},200);return function(){window.clearInterval(l)}},t.prototype.addPopup=function(e){var t=this,n=e.modal,i=e.eChild,o=e.closeOnEsc,r=e.closedCallback,s=e.click,a=e.alwaysOnTop,l=e.positionCallback,u=e.anchorToElement,c=this.gridOptionsWrapper.getDocument();if(!c)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var h=O(this.popupList,function(e){return e.element===i});if(-1!==h)return this.popupList[h].hideFunc;var p=this.getPopupParent();p.appendChild(i),null==i.style.top&&(i.style.top="0px"),null==i.style.left&&(i.style.left="0px");var d=document.createElement("div"),f=this.environment.getTheme().theme;f&&jt(d,f),jt(d,"ag-popup"),jt(i,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),jt(i,"ag-popup-child"),d.appendChild(i),p.appendChild(d),a?this.setAlwaysOnTop(d,!0):this.bringPopupToFront(d);var g,m=!1,y=function(e){d.contains(document.activeElement)&&(e.which||e.keyCode)===Ki.ESCAPE&&w({keyboardEvent:e})},v=function(e){return w({mouseEvent:e})},C=function(e){return w({touchEvent:e})},w=function(e){void 0===e&&(e={});var n=e.mouseEvent,o=e.touchEvent,a=e.keyboardEvent;t.isEventFromCurrentPopup({mouseEvent:n,touchEvent:o},i)||t.isEventSameChainAsOriginalEvent({originalMouseEvent:s,mouseEvent:n,touchEvent:o})||m||(m=!0,p.removeChild(d),c.removeEventListener("keydown",y),c.removeEventListener("mousedown",v),c.removeEventListener("touchstart",C),c.removeEventListener("contextmenu",v),t.eventService.removeEventListener(Ue.EVENT_DRAG_STARTED,v),r&&r(n||o||a),t.popupList=t.popupList.filter(function(e){return e.element!==i}),g&&g())};return window.setTimeout(function(){o&&c.addEventListener("keydown",y),n&&(c.addEventListener("mousedown",v),t.eventService.addEventListener(Ue.EVENT_DRAG_STARTED,v),c.addEventListener("touchstart",C),c.addEventListener("contextmenu",v))},0),this.popupList.push({element:i,hideFunc:w}),l&&l(),u&&(g=this.keepPopupPositionedRelativeTo({element:u,ePopup:i})),w},t.prototype.isEventFromCurrentPopup=function(e,t){var n=e.mouseEvent||e.touchEvent;if(!n)return!1;var i=O(this.popupList,function(e){return e.element===t});if(-1===i)return!1;for(var o=i;o<this.popupList.length;o++)if(Fe(this.popupList[o].element,n))return!0;return this.isElementWithinCustomPopup(n.target)},t.prototype.isElementWithinCustomPopup=function(e){if(!this.popupList.length)return!1;for(;e&&e!==document.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,n=e.mouseEvent,i=e.touchEvent,o=null;if(n?o=n:i&&(o=i.touches[0]),o&&t){var r=n?n.screenY:0,s=Math.abs(t.screenX-(n?n.screenX:0))<5,a=Math.abs(t.screenY-r)<5;if(s&&a)return!0}return!1},t.prototype.getWrapper=function(e){for(;!Kt(e,"ag-popup")&&e.parentElement;)e=e.parentElement;return Kt(e,"ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var n=this.getWrapper(e);n&&(Ut(n,"ag-always-on-top",!!t),t&&this.bringPopupToFront(n))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,s=this.getWrapper(e);if(s&&!(i<=1)&&t.contains(e)){var a=n.indexOf(s);r?Kt(s,"ag-always-on-top")?a!==i-1&&m(o).insertAdjacentElement("afterend",s):a!==i-r-1&&o[0].insertAdjacentElement("beforebegin",s):a!==i-1&&m(n).insertAdjacentElement("afterend",s);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(l)}},yl([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yl([le("environment")],t.prototype,"environment",void 0),yl([re],t.prototype,"init",null),yl([ae("popupService")],t)}(We),Cl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},bl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cl(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new Sl(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},wl([(0,n=he("gridOptionsWrapper"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),wl([ae("loggerFactory")],t);var n}(We),Sl=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+e)},e}(),El=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ol=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return El(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},t.prototype.getPreferredWidthForColumn=function(e,t){var n=this.getHeaderCellForColumn(e);if(!n)return-1;var i=document.createElement("span");i.style.position="fixed";var o=this.gridPanel.getCenterContainer();o.appendChild(i),this.putRowCellsIntoDummyContainer(e,i),t||this.cloneItemIntoDummy(n,i);var r=i.offsetWidth;return o.removeChild(i),r+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.headerRootComp.forEachHeaderElement(function(n){if(n instanceof ha){var i=n;i.getColumn()===e&&(t=i)}}),t?t.getGui():null},t.prototype.putRowCellsIntoDummyContainer=function(e,t){var n=this;this.rowRenderer.getAllCellsForColumn(e).forEach(function(e){return n.cloneItemIntoDummy(e,t)})},t.prototype.cloneItemIntoDummy=function(e,t){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var i=document.createElement("div");Kt(n,"ag-header-cell")?(jt(i,"ag-header"),jt(i,"ag-header-row"),i.style.position="static"):jt(i,"ag-row"),i.style.display="table-row",i.appendChild(n),t.appendChild(i)},_l([le("rowRenderer")],t.prototype,"rowRenderer",void 0),_l([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_l([ae("autoWidthCalculator")],t)}(We),xl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Rl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xl(t,e),t.prototype.addResizeBar=function(e){var t=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(n,!0),function(){return t.dragService.removeDragSource(n)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)},t.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.userSelect="none",this.eGridDiv.style.webkitUserSelect="none"},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Tl([le("dragService")],t.prototype,"dragService",void 0),Tl([le("eGridDiv")],t.prototype,"eGridDiv",void 0),Tl([ae("horizontalResizeService")],t)}(We),Pl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Al=function(e){function n(){return e.call(this,void 0,!0)||this}return Pl(n,e),n.prototype.postConstruct=function(){var n=this;this.logger=this.loggerFactory.create("GridCore");var i=this.createTemplate();if(this.setTemplate(i),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach(function(e){return e.registerGridCore(n)}),ve.isRegistered(t.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc(function(){n.eGridDiv.removeChild(n.getGui())}),this.$scope){var o=this.$scope.$watch(this.quickFilterOnScope,function(e){return n.filterManager.setQuickFilter(e)});this.addDestroyFunc(o)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var r=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return r()});var s=this.getGui();this.addManagedListener(this.eventService,Ue.EVENT_KEYBOARD_FOCUS,function(){jt(s,"ag-keyboard-focus")}),this.addManagedListener(this.eventService,Ue.EVENT_MOUSE_FOCUS,function(){zt(s,"ag-keyboard-focus")}),e.prototype.postConstruct.call(this)},n.prototype.getFocusableElement=function(){return this.eRootWrapperBody},n.prototype.createTemplate=function(){var e=ve.isRegistered(t.ModuleNames.SideBarModule),n=ve.isRegistered(t.ModuleNames.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(ve.isRegistered(t.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(e?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(n?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(ve.isRegistered(t.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},n.prototype.getFocusableContainers=function(){var e=[this.gridPanel.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(e){return ln(e)})},n.prototype.focusNextInnerContainer=function(e){var t=this.getFocusableContainers(),n=O(t,function(e){return e.contains(document.activeElement)})+(e?-1:1);return!(n<0||n>=t.length)&&(0===n?this.focusGridHeader():this.focusController.focusInto(t[n]))},n.prototype.focusInnerElement=function(e){var t=this.getFocusableContainers();if(e){if(t.length>1)return this.focusController.focusInto(m(t));var n=m(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(n,!0))return!0}return this.focusGridHeader()},n.prototype.focusGridHeader=function(){var e=this.columnController.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnController.getColumnGroupAtLevel(e,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:e}),!0)},n.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Ue.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight})},n.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";jt(this.getGui(),e)},n.prototype.getRootGui=function(){return this.getGui()},n.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},n.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("ag-Grid: sideBar is not loaded")},n.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("ag-Grid: sideBar is not loaded")},n.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.getSideBar=function(){return this.gridOptions.sideBar},n.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(e);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},n.prototype.setSideBar=function(e){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=Vr.parse(e),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},n.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},n.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},n.prototype.destroy=function(){this.logger.log("Grid DOM removed"),e.prototype.destroy.call(this)},n.prototype.ensureNodeVisible=function(e,t){if(void 0===t&&(t=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var n=this.rowModel.getRowCount(),i="function"==typeof e,o=-1,r=0;r<n;r++){var s=this.rowModel.getRow(r);if(i){if(e(s)){o=r;break}}else if(e===s||e===s.data){o=r;break}}o>=0&&this.gridPanel.ensureIndexVisible(o,t)},n.prototype.onTabKeyDown=function(){},Dl([le("gridOptions")],n.prototype,"gridOptions",void 0),Dl([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Dl([le("rowModel")],n.prototype,"rowModel",void 0),Dl([le("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Dl([le("rowRenderer")],n.prototype,"rowRenderer",void 0),Dl([le("filterManager")],n.prototype,"filterManager",void 0),Dl([le("eGridDiv")],n.prototype,"eGridDiv",void 0),Dl([le("$scope")],n.prototype,"$scope",void 0),Dl([le("quickFilterOnScope")],n.prototype,"quickFilterOnScope",void 0),Dl([le("popupService")],n.prototype,"popupService",void 0),Dl([le("columnController")],n.prototype,"columnController",void 0),Dl([le("loggerFactory")],n.prototype,"loggerFactory",void 0),Dl([le("columnApi")],n.prototype,"columnApi",void 0),Dl([le("gridApi")],n.prototype,"gridApi",void 0),Dl([ue("clipboardService")],n.prototype,"clipboardService",void 0),Dl([Hi("gridPanel")],n.prototype,"gridPanel",void 0),Dl([Hi("sideBar")],n.prototype,"sideBarComp",void 0),Dl([Hi("rootWrapperBody")],n.prototype,"eRootWrapperBody",void 0),n}(eo),kl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Il=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Fl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kl(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var n=this;this.showPopup(e,function(i){n.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:i})},t.target)},t.prototype.showMenuAfterButtonClick=function(e,t){var n=this;this.showPopup(e,function(i){n.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:t,ePopup:i,keepWithinBounds:!0,column:e})},t)},t.prototype.showPopup=function(e,t,n){var i,o=this,r=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"),s=document.createElement("div");s.setAttribute("role","presentation"),jt(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(e){return o.trapFocusWithin(e,s)}),r.guiPromise.then(function(e){return s.appendChild(e)});var a=function(e){"horizontal"===e.direction&&i()};this.eventService.addEventListener("bodyScroll",a),i=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(t){o.eventService.removeEventListener("bodyScroll",a),e.setMenuVisible(!1,"contextMenu");var i=t instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),i&&n&&ln(n)){var r=o.focusController.findTabbableParent(n);r&&r.focus()}}}),r.filterPromise.then(function(e){t(s),e.afterGuiAttached&&e.afterGuiAttached({container:"columnMenu",hidePopup:i})}),this.hidePopup=i,e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.keyCode!==Ki.TAB||e.defaultPrevented||this.focusController.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusController.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},Il([le("filterManager")],t.prototype,"filterManager",void 0),Il([le("popupService")],t.prototype,"popupService",void 0),Il([le("focusController")],t.prototype,"focusController",void 0),Il([ae("menuFactory")],t)}(We),Nl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ml=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ll=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Nl(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var t=h(this.dragSources,function(t){return t.dragSource===e});t&&(this.removeListener(t),C(this.dragSources,t))},t.prototype.setNoSelectToBody=function(e){var t=this.gridOptionsWrapper.getDocument().querySelector("body");o(t)&&Ut(t,"ag-unselectable",e)},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var n=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",n);var i=null,o=this.gridOptionsWrapper.isSuppressTouch();t&&!o&&(i=this.onTouchStart.bind(this,e),e.eElement.addEventListener("touchstart",i,{passive:!0})),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:i,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var n=this;this.currentDragParams=e,this.dragging=!1;var i=t.touches[0];this.touchLastTime=i,this.touchStart=i;var o=function(t){return n.onTouchUp(t,e.eElement)},r=e.eElement,s=[{target:document,type:"touchmove",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:function(t){return n.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:o,options:{passive:!0}},{target:r,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(s),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var n=this,i=t;if(!(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var o=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),this.addTemporaryEvents([{target:o,type:"mousemove",listener:function(t,i){return n.onMouseMove(t,e.eElement)}},{target:o,type:"mouseup",listener:function(t,i){return n.onMouseUp(t,e.eElement)}},{target:o,type:"contextmenu",listener:function(e){return e.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(e){e.target.addEventListener(e.type,e.listener,e.options)}),this.dragEndFunctions.push(function(){e.forEach(function(e){e.target.removeEventListener(e.type,e.listener,e.options)})})},t.prototype.isEventNearStartEvent=function(e,t){var n=this.currentDragParams.dragStartPixels;return Ei(e,t,o(n)?n:4)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:Ue.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:n}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.onTouchUp=function(e,t){var n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:Ue.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t})),this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(e){return e()}),this.dragEndFunctions.length=0},Ml([le("loggerFactory")],t.prototype,"loggerFactory",void 0),Ml([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ml([le("columnApi")],t.prototype,"columnApi",void 0),Ml([le("gridApi")],t.prototype,"gridApi",void 0),Ml([re],t.prototype,"init",null),Ml([se],t.prototype,"removeAllListeners",null),Ml([ae("dragService")],t)}(We),Vl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSortModel=function(){return t.getColumnsWithSortingOrdered().map(function(e){return{colId:e.getColId(),sort:e.getSort()}})},t}var n;return Vl(t,e),n=t,t.prototype.progressSort=function(e,t,n){void 0===n&&(n="api");var i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)},t.prototype.setSortForColumn=function(e,t,n,i){void 0===i&&(i="api"),t!==ye.SORT_ASC&&t!==ye.SORT_DESC&&(t=null),e.setSort(t,i),n&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,i),this.updateSortIndex(e),this.dispatchSortChangedEvents()},t.prototype.updateSortIndex=function(e){var t=this.getColumnsWithSortingOrdered(),n=0;t.forEach(function(t){t!==e&&(t.setSortIndex(n),n++)}),e.getSort()&&e.setSortIndex(n),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return null==e.getSort()}).forEach(function(e){return e.setSortIndex(void 0)})},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.isSortActive=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return!!e.getSort()});return e&&e.length>0},t.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:Ue.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearSortBarThisColumn=function(e,t){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function(n){n!==e&&n.setSort(void 0,t)})},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var i,o=t.indexOf(e.getSort());return n.DEFAULT_SORTING_ORDER.indexOf(i=o<0||o==t.length-1?t[0]:t[o+1])<0?(console.warn("ag-grid: invalid sort type "+i),null):i},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter(function(e){return!!e.getSort()});return e.sort(function(e,t){return e.getSortIndex()-t.getSortIndex()}),e},t.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map(function(e){return{inverter:e.getSort()===ye.SORT_ASC?1:-1,column:e}})},t.DEFAULT_SORTING_ORDER=[ye.SORT_ASC,ye.SORT_DESC,null],Gl([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Gl([le("columnController")],t.prototype,"columnController",void 0),Gl([le("columnApi")],t.prototype,"columnApi",void 0),Gl([le("gridApi")],t.prototype,"gridApi",void 0),n=Gl([ae("sortController")],t)}(We),Wl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyboardFocusActive=!1,t}var n;return Wl(t,e),n=t,t.prototype.init=function(){var e=this.gridOptionsWrapper.getDocument(),t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(e,"keydown",this.activateKeyboardMode.bind(this)),this.addManagedListener(e,"mousedown",this.activateMouseMode.bind(this))},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnController.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardFocus=function(){return this.keyboardFocusActive},t.prototype.activateMouseMode=function(){this.keyboardFocusActive&&(this.keyboardFocusActive=!1,this.eventService.dispatchEvent({type:Ue.EVENT_MOUSE_FOCUS}))},t.prototype.activateKeyboardMode=function(){this.keyboardFocusActive||(this.keyboardFocusActive=!0,this.eventService.dispatchEvent({type:Ue.EVENT_KEYBOARD_FOCUS}))},t.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},t.prototype.getGridCellForDomElement=function(e){for(var t=e;t;){var n=this.gridOptionsWrapper.getDomData(t,Ns.DOM_DATA_KEY_CELL_COMP);if(n)return n.getCellPosition();t=t.parentNode}return null},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e,t,n,o){void 0===o&&(o=!1);var r=this.columnController.getGridColumn(t);r?(this.focusedCellPosition={rowIndex:e,rowPinned:i(n),column:i(r)},this.onCellFocused(o)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumn(),n=e.getParentComponent().getRowIndex(),i=e.getPinned(),o=this.focusedHeaderPosition,r=o.column;return t===r&&n===o.headerRowIndex&&i==r.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e,t,n,i,o){if(void 0===t&&(t=null),void 0===n&&(n=!1),void 0===i&&(i=!1),i){var r,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();n?(r=s.getTabToNextHeaderFunc())&&(e=r({backwards:"Before"===t,previousHeaderPosition:a,nextHeaderPosition:e,headerRowCount:l})):(r=s.getNavigateToNextHeaderFunc())&&(e=r({key:o.key,previousHeaderPosition:a,nextHeaderPosition:e,headerRowCount:l,event:o}))}if(!e)return!1;if(-1===e.headerRowIndex)return this.focusGridView(e.column);this.headerNavigationService.scrollToColumn(e.column,t);var u=this.headerNavigationService.getHeaderContainer(e.column.getPinned()).getRowComps()[e.headerRowIndex].getHeaderComps()[e.column.getUniqueId()];return!!u&&(u.getFocusableElement().focus(),!0)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===i(t)},t.prototype.findFocusableElements=function(e,t,i){void 0===i&&(i=!1);var o=n.FOCUSABLE_EXCLUDE;t&&(o+=", "+t),i&&(o+=', [tabindex="-1"]');var r,s=Array.prototype.slice.apply(e.querySelectorAll(n.FOCUSABLE_SELECTOR)),a=Array.prototype.slice.apply(e.querySelectorAll(o));return a.length?(r=a,s.filter(function(e){return-1===r.indexOf(e)})):s},t.prototype.focusInto=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=this.findFocusableElements(e,null,n),o=t?m(i):i[0];return!!o&&(o.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,n){var i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=(t?O(i,function(e){return e.contains(document.activeElement)}):i.indexOf(document.activeElement))+(n?-1:1);return o<0||o>=i.length?null:i[o]},t.prototype.isFocusUnderManagedComponent=function(e){var t=e.querySelectorAll("."+eo.FOCUS_MANAGED_CLASS);if(!t.length)return!1;for(var n=0;n<t.length;n++)if(t[n].contains(document.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var n=0;e&&null===Mt(e)&&++n<=t;)e=e.parentElement;return null===Mt(e)?null:e},t.prototype.onCellFocused=function(e){var t={type:Ue.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(t.rowIndex=this.focusedCellPosition.rowIndex,t.column=this.focusedCellPosition.column,t.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(t)},t.prototype.focusGridView=function(e,t){var n=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var o=n.rowIndex,r=n.rowPinned,s=this.getFocusedHeader();return e||(e=s.column),null!=o&&(this.rowRenderer.ensureCellVisible({rowIndex:o,column:e,rowPinned:r}),this.setFocusedCell(o,e,i(r),!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:o,rowPinned:r,column:e}),!0)},t.prototype.focusNextGridCoreContainer=function(e){if(this.gridCore.focusNextInnerContainer(e))return!0;e||this.gridCore.forceFocusOutOfContainer()},t.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",t.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *",Bl([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Bl([le("columnController")],t.prototype,"columnController",void 0),Bl([le("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Bl([le("columnApi")],t.prototype,"columnApi",void 0),Bl([le("gridApi")],t.prototype,"gridApi",void 0),Bl([le("rowRenderer")],t.prototype,"rowRenderer",void 0),Bl([le("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Bl([ue("rangeController")],t.prototype,"rangeController",void 0),Bl([re],t.prototype,"init",null),n=Bl([ae("focusController")],t)}(We),zl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ul=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Kl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=n.gridInstanceSequence.next(),t}var n;return zl(t,e),n=t,t.prototype.init=function(){this.stampDomElementWithGridInstance()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[n.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return ke(this.gridOptionsWrapper,e)},t.prototype.isEventFromThisGrid=function(e){for(var t=Me(e),i=0;i<t.length;i++){var r=t[i][n.GRID_DOM_KEY];if(o(r))return r===this.gridInstanceId}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,n,i=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_NORMAL;if(null!=e.clientX||null!=e.clientY?(t=e.clientX,n=e.clientY):(t=e.x,n=e.y),i){var o=this.gridPanel.getVScrollPosition();t+=this.gridPanel.getHScrollPosition().left,n+=o.top}return{x:t,y:n}},t.gridInstanceSequence=new Ai,t.GRID_DOM_KEY="__ag_grid_instance",Ul([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ul([le("eGridDiv")],t.prototype,"eGridDiv",void 0),Ul([re],t.prototype,"init",null),n=Ul([ae("mouseEventService")],t)}(We),ql=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ql(t,e),t.prototype.getNextCellToFocus=function(e,t){for(var n=t,i=!1;!i;){switch(e){case Ki.UP:n=this.getCellAbove(n);break;case Ki.DOWN:n=this.getCellBelow(n);break;case Ki.RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case Ki.LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("ag-Grid: unknown key for navigation "+e)}i=!n||this.isCellGoodToFocusOn(n)}return n},t.prototype.isCellGoodToFocusOn=function(e){var t,n=e.column;switch(e.rowPinned){case ye.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case ye.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!n.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnController.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnController.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case ye.PINNED_BOTTOM:return null;case ye.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ye.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ye.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ye.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ye.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:n}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,n=e.rowIndex;return t===ye.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:t===ye.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},t.prototype.getRowAbove=function(e){var t=e.rowIndex,n=e.rowPinned;return(n?0===t:t===this.paginationProxy.getPageFirstRow())?n===ye.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ye.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:n}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ye.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.rowIndex,i=e.rowPinned,o=this.columnController.getDisplayedColAfter(e.column);if(!o){o=t[0];var s=this.getRowBelow(e);if(r(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.rowIndex,i=e.rowPinned,o=this.columnController.getDisplayedColBefore(e.column);if(!o){o=m(t);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(r(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}},Yl([le("columnController")],t.prototype,"columnController",void 0),Yl([le("rowModel")],t.prototype,"rowModel",void 0),Yl([le("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Yl([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Yl([le("paginationProxy")],t.prototype,"paginationProxy",void 0),Yl([ae("cellNavigationService")],t)}(We),Xl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ql=function(){function e(){this.cellRendererMap={}}var t;return t=e,e.prototype.init=function(){this.cellRendererMap[t.ANIMATE_SLIDE]=Xo,this.cellRendererMap[t.ANIMATE_SHOW_CHANGE]=Yo,this.cellRendererMap[t.GROUP]=Ko},e.prototype.addCellRenderer=function(e,t){this.cellRendererMap[e]=t},e.prototype.getCellRenderer=function(e){var t=this.cellRendererMap[e];return r(t)?(console.warn("ag-Grid: unable to find cellRenderer for key "+e),null):t},e.ANIMATE_SLIDE="animateSlide",e.ANIMATE_SHOW_CHANGE="animateShowChange",e.GROUP="group",Xl([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Xl([le("expressionService")],e.prototype,"expressionService",void 0),Xl([le("eventService")],e.prototype,"eventService",void 0),Xl([re],e.prototype,"init",null),t=Xl([ae("cellRendererFactory")],e)}(),Zl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zl(t,e),t.prototype.formatValue=function(e,t,n,i,o,r){void 0===r&&(r=!0);var s,a=null,l=e.getColDef();if(o?s=o:r&&(s=t&&t.rowPinned&&l.pinnedRowValueFormatter?l.pinnedRowValueFormatter:l.valueFormatter),s){var u={value:i,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};u.$scope=n,a=this.expressionService.evaluate(s,u)}else if(l.refData)return l.refData[i]||"";return null==a&&Array.isArray(i)&&(a=i.join(", ")),a},Jl([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Jl([le("expressionService")],t.prototype,"expressionService",void 0),Jl([ae("valueFormatterService")],t)}(We),tu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nu=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return tu(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Ue.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(ia),iu=function(){function e(){}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.addEventListenerOutsideAngular=function(e,t,n,i){e.addEventListener(t,n,i)},e}(),ou=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ru=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ou(t,e),t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:Ue.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},ru([le("columnController")],t.prototype,"columnController",void 0),ru([le("columnApi")],t.prototype,"columnApi",void 0),ru([le("gridApi")],t.prototype,"gridApi",void 0),ru([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ru([ae("scrollVisibleService")],t)}(We),au=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return au(t,e),t.prototype.processAllCellClasses=function(e,t,n,i){this.processClassRules(e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)},t.prototype.processClassRules=function(e,t,n,i){if(j(e))for(var o=Object.keys(e),r=0;r<o.length;r++){var s=o[r],a=e[s],l=void 0;"string"==typeof a?l=this.expressionService.evaluate(a,t):"function"==typeof a&&(l=a(t)),l?n(s):i&&i(s)}},t.prototype.processStaticCellClasses=function(e,t,n){if(e.cellClass){var i=void 0;"string"==typeof(i="function"==typeof e.cellClass?(0,e.cellClass)(t):e.cellClass)?n(i):Array.isArray(i)&&i.forEach(function(e){n(e)})}},lu([le("expressionService")],t.prototype,"expressionService",void 0),lu([ae("stylingService")],t)}(We),cu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cu(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Ue.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},hu([le("columnApi")],t.prototype,"columnApi",void 0),hu([le("gridApi")],t.prototype,"gridApi",void 0),hu([ae("columnHoverService")],t)}(We),du=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return du(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===t&&e.gridPanel.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout(function(){return e.forEach(function(e){return e()})},0),window.setTimeout(function(){return t.forEach(function(e){return e()})},300))},fu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fu([ae("columnAnimationService")],t)}(We),mu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return mu(t,e),n=t,t.prototype.createAutoGroupColumns=function(e){var t=this,n=[],i=this.gridOptionsWrapper.isTreeData(),o=this.gridOptionsWrapper.isGroupMultiAutoColumn();return i&&o&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),o=!1),o?e.forEach(function(e,i){n.push(t.createOneAutoGroupColumn(e,i))}):n.push(this.createOneAutoGroupColumn()),n},t.prototype.createOneAutoGroupColumn=function(e,t){var i,o=this.generateDefaultColDef(e);i=e?ye.GROUP_AUTO_COLUMN_ID+"-"+e.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,G(o,this.gridOptionsWrapper.getAutoGroupColumnDef()),(o=this.columnFactory.mergeColDefs(o)).colId=i,this.gridOptionsWrapper.isTreeData()||r(o.field)&&r(o.valueGetter)&&r(o.filterValueGetter)&&(o.filter=!1),t&&t>0&&(o.headerCheckboxSelection=!1);var s=new we(o,null,i,!0);return this.context.createBean(s),s},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework)||(n.cellRenderer="agGroupCellRenderer"),e){var i=e.getColDef();H(n,{headerName:this.columnController.getDisplayNameForColumn(e,"header"),headerValueGetter:i.headerValueGetter}),i.cellRenderer&&H(n,{cellRendererParams:{innerRenderer:i.cellRenderer,innerRendererParams:i.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n},t.GROUP_AUTO_COLUMN_BUNDLE_ID=ye.GROUP_AUTO_COLUMN_ID,yu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yu([le("columnController")],t.prototype,"columnController",void 0),yu([le("columnFactory")],t.prototype,"columnFactory",void 0),n=yu([ae("autoGroupColService")],t)}(We),Cu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},bu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return Cu(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Ue.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,n,i){var o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:Ue.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:Ue.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:Ue.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return r(this.topRowBounds)||r(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(o(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!st(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*(this.currentPage+1)-1;if(t>e&&(t=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),t===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(t+1);this.bottomDisplayedRowIndex=n-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!st(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},wu([le("rowModel")],t.prototype,"rowModel",void 0),wu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wu([le("columnApi")],t.prototype,"columnApi",void 0),wu([le("gridApi")],t.prototype,"gridApi",void 0),wu([re],t.prototype,"postConstruct",null),wu([ae("paginationProxy")],t)}(We),Su=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Su(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.addManagedListener(this.eventService,Ue.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.gridPanel.getBodyHeight();if(t>0){var n=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},Eu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Eu([ae("paginationAutoPageSizeService")],t)}(We),Ou=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return Ou(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},xu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xu([re],t.prototype,"init",null),xu([ae("valueCache")],t)}(We),Ru=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ru(t,e),t.prototype.init=function(){this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ue.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==ye.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),i=new Kr(n,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i)}this.rowRenderer.refreshCells()}},Pu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pu([le("rowModel")],t.prototype,"rowModel",void 0),Pu([le("rowRenderer")],t.prototype,"rowRenderer",void 0),Pu([re],t.prototype,"init",null),Pu([ae("changeDetectionService")],t)}(We),Au=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ku=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Iu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Au(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.init=function(){this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach(function(t){if(t.api){var n=t.api.__getAlignedGridService();e(n)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(t){t.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e)}):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach(function(e){t.push(e.getColId())}):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent(function(){switch(e.type){case Ue.EVENT_COLUMN_MOVED:case Ue.EVENT_COLUMN_VISIBLE:case Ue.EVENT_COLUMN_PINNED:case Ue.EVENT_COLUMN_RESIZED:t.processColumnEvent(e);break;case Ue.EVENT_COLUMN_GROUP_OPENED:t.processGroupOpenedEvent(e);break;case Ue.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var t,n=e.columnGroup;if(n){var i=n.getGroupId();t=this.columnController.getOriginalColumnGroup(i)}n&&!t||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+n.isExpanded()),this.columnController.setColumnGroupOpened(t,n.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,n=this,i=e.column;if(i&&(t=this.columnController.getPrimaryColumn(i.getColId())),!i||t){var o=this.getColumnIds(e),r=this.getMasterColumns(e);switch(e.type){case Ue.EVENT_COLUMN_MOVED:var s=e;this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(o,s.toIndex,"alignedGridChanged");break;case Ue.EVENT_COLUMN_VISIBLE:var a=e;this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+a.visible),this.columnController.setColumnsVisible(o,a.visible,"alignedGridChanged");break;case Ue.EVENT_COLUMN_PINNED:var l=e;this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(o,l.pinned,"alignedGridChanged");break;case Ue.EVENT_COLUMN_RESIZED:var u=e;r.forEach(function(t){n.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth());var i=[{key:t.getColId(),newWidth:t.getActualWidth()}];n.columnController.setColumnWidths(i,!1,u.finished,"alignedGridChanged")})}var c=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach(function(e){e.api.setAlwaysShowVerticalScroll(c)})}},ku([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ku([le("columnController")],t.prototype,"columnController",void 0),ku([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),ku([re],t.prototype,"init",null),ku([ae("alignedGridsService")],t);var n}(We),Fu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fu(t,e),t.prototype.adaptFunction=function(e,t,n,i){if(null==t)return{component:null,componentFromFramework:n,source:i,paramsFromSelector:null};var o=this.componentMetadataProvider.retrieve(e);return o&&o.functionAdapter?{componentFromFramework:n,component:o.functionAdapter(t),source:i,paramsFromSelector:null}:null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){var t=e(this.params),n=typeof t;return"string"===n||"number"===n||"boolean"===n?un("<span>"+t+"</span>"):t},t.prototype.init=function(e){this.params=e},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},Nu([le("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Nu([ae("agComponentUtils")],t)}(We),Lu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Vu([le("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Vu([re],t.prototype,"postConstruct",null),Vu([ae("componentMetadataProvider")],t)}(We),Hu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Wu=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Hu([le("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Hu([le("paginationProxy")],e.prototype,"paginationProxy",void 0),Hu([le("context")],e.prototype,"context",void 0),Hu([le("columnApi")],e.prototype,"columnApi",void 0),Hu([le("gridApi")],e.prototype,"gridApi",void 0),Hu([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Hu([le("expressionService")],e.prototype,"expressionService",void 0),Hu([le("rowRenderer")],e.prototype,"rowRenderer",void 0),Hu([le("$compile")],e.prototype,"$compile",void 0),Hu([le("templateService")],e.prototype,"templateService",void 0),Hu([le("valueService")],e.prototype,"valueService",void 0),Hu([le("eventService")],e.prototype,"eventService",void 0),Hu([le("columnController")],e.prototype,"columnController",void 0),Hu([le("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Hu([le("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Hu([ue("rangeController")],e.prototype,"rangeController",void 0),Hu([le("focusController")],e.prototype,"focusController",void 0),Hu([ue("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Hu([le("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),Hu([le("popupService")],e.prototype,"popupService",void 0),Hu([le("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Hu([le("stylingService")],e.prototype,"stylingService",void 0),Hu([le("columnHoverService")],e.prototype,"columnHoverService",void 0),Hu([le("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Hu([le("animationFrameService")],e.prototype,"taskQueue",void 0),Hu([le("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Hu([le("sortController")],e.prototype,"sortController",void 0),Hu([le("filterManager")],e.prototype,"filterManager",void 0),Hu([le("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),Hu([le("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Hu([le("detailRowCompCache")],e.prototype,"detailRowCompCache",void 0),Hu([le("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Hu([le("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Hu([le("selectionController")],e.prototype,"selectionController",void 0),Hu([ue("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),Hu([le("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Hu([le("rowModel")],e.prototype,"rowModel",void 0),Hu([re],e.prototype,"postConstruct",null),Hu([ae("beans")],e)}(),Bu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ju=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zu={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Uu={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ku={},qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bu(t,e),t.prototype.getSassVariable=function(e,t){var n="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),i=zu[n][t],o=0;if(Ku[e]||(Ku[e]={}),Ku[e][t])return Ku[e][t];if(Uu[t]){var r=Uu[t],s=document.createElement("div");jt(s,e),s.style.position="absolute";var a=r.reduce(function(e,t){var n=document.createElement("div");return n.style.position="static",jt(n,t),e.appendChild(n),n},s);if(document.body){document.body.appendChild(s);var l=-1!==t.toLowerCase().indexOf("height")?"height":"width";o=parseInt(window.getComputedStyle(a)[l],10),document.body.removeChild(s)}}return Ku[e][t]=o||i,Ku[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e,t=/\bag-(material|(?:theme-([\w\-]*)))\b/,n=this.eGridDiv;n&&!(e=t.exec(n.className));)n=n.parentElement;if(!e)return{};var i=e[0];if(void 0===e[2]){var o=i.replace("ag-","ag-theme-");Y(function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+i+" with "+o+".")},"using-old-theme")}return{theme:i,el:n,themeFamily:i.replace(/-dark$/,"")}},ju([le("eGridDiv")],t.prototype,"eGridDiv",void 0),ju([ae("environment")],t)}(We),Yu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$u=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Xu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return Yu(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,n){this.verifyAnimationFrameOn(n);var i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort(function(e,n){return e.index!==n.index?t*(n.index-e.index):n.createOrder-e.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,n=t.list,i=this.createTasksP2,o=i.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0;l||a<e;){var u=void 0;if(n.length)this.sortTaskList(t),u=n.pop().task;else if(o.length)this.sortTaskList(i),u=o.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u(),a=(new Date).getTime()-s}n.length||o.length||r.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1;var e={type:Ue.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},$u([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$u([re],t.prototype,"init",null),$u([ae("animationFrameService")],t)}(We),Qu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zu=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ju=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLastPageEventProcessed=0,t}return Qu(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.handlePageScrollingKey=function(e){var t=e.which||e.keyCode,n=e.altKey,i=e.ctrlKey,o=this.mouseEventService.getCellPositionForEvent(e);if(!o)return!1;var r=!1;switch(t){case Ki.PAGE_HOME:case Ki.PAGE_END:i||n||(this.onHomeOrEndKey(t),r=!0);break;case Ki.LEFT:case Ki.RIGHT:i&&!n&&(this.onCtrlLeftOrRight(t,o),r=!0);break;case Ki.UP:case Ki.DOWN:i&&!n&&(this.onCtrlUpOrDown(t,o),r=!0);break;case Ki.PAGE_DOWN:i||n||(this.onPageDown(o),r=!0);break;case Ki.PAGE_UP:i||n||(this.onPageUp(o),r=!0)}return r&&e.preventDefault(),r},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),i=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(i-=n);var o=this.paginationProxy.getPixelOffset(),r=this.paginationProxy.getRowIndexAtPixel(t.top+i+o),s=this.paginationProxy.getRow(e.rowIndex).rowTop,a=this.paginationProxy.getRowIndexAtPixel(s+i-o+o),l=this.paginationProxy.getPageLastRow();a>l&&(a=l),r>l&&(r=l),this.navigateTo(r,"top",null,a,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),i=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(i-=n);var o=this.paginationProxy.getPixelOffset(),r=this.paginationProxy.getRowIndexAtPixel(t.top+o),s=this.paginationProxy.getRow(e.rowIndex),a=this.paginationProxy.getRowIndexAtPixel(s.rowTop+s.rowHeight-i-o+o),l=this.paginationProxy.getPageFirstRow();a<l&&(a=l),r<l&&(r=l),this.navigateTo(r,"bottom",null,a,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.navigateTo=function(e,t,n,i,r){o(n)&&this.gridPanel.ensureColumnVisible(n),o(e)&&this.gridPanel.ensureIndexVisible(e,t),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(i,r,null,!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:i,rowPinned:null,column:r})},t.prototype.onCtrlUpOrDown=function(e,t){var n=e===Ki.UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(n,null,t.column,n,t.column)},t.prototype.onCtrlLeftOrRight=function(e,t){var n=e===Ki.LEFT,i=this.columnController.getAllDisplayedColumns(),o=n?i[0]:m(i);this.navigateTo(t.rowIndex,null,o,t.rowIndex,o)},t.prototype.onHomeOrEndKey=function(e){var t=e===Ki.PAGE_HOME,n=this.columnController.getAllDisplayedColumns(),i=t?n[0]:m(n),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo(o,null,i,o,i)},Zu([le("mouseEventService")],t.prototype,"mouseEventService",void 0),Zu([le("paginationProxy")],t.prototype,"paginationProxy",void 0),Zu([le("focusController")],t.prototype,"focusController",void 0),Zu([le("animationFrameService")],t.prototype,"animationFrameService",void 0),Zu([ue("rangeController")],t.prototype,"rangeController",void 0),Zu([le("columnController")],t.prototype,"columnController",void 0),Zu([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zu([ae("navigationService")],t)}(We),ec=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},nc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return ec(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ue.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Lt()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isScaling=function(){return this.scaling},t.prototype.getOffset=function(){return this.offset},t.prototype.updateOffset=function(){if(this.scaling){var e=this.gridPanel.getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight,this.setOffset(this.scrollY/this.maxScrollY*this.pixelsToShave)},t.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},t.prototype.setOffset=function(e){var t="number"==typeof e?Math.floor(e):null;this.offset!==t&&(this.offset=t,this.eventService.dispatchEvent({type:Ue.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.scaling=this.maxDivHeight>0&&e>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.offset},t.prototype.getUiBodyHeight=function(){var e=this.gridPanel.getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)},tc([re],t.prototype,"postConstruct",null),tc([ae("maxDivHeightScaler")],t)}(We),ic=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ic(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterGroup})},t.prototype.updateSelectableAfterFiltering=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(e){return e.childrenAfterFilter})},t.prototype.recurseDown=function(e,t){var n=this;e.forEach(function(e){var i;e.group&&(e.hasChildren()&&n.recurseDown(t(e),t),i=n.groupSelectsChildren?o(h(t(e),"selectable",!0)):!!n.isRowSelectableFunc&&n.isRowSelectableFunc(e),e.setRowSelectable(i))})},oc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),oc([re],t.prototype,"init",null),oc([ae("selectableService")],t)}(We),sc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ac=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sc(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.getPreferredHeightForRow=function(e){var t=this,n=document.createElement("div");this.addInRowCssClasses(e,n);var i=this.gridPanel.getCenterContainer();i.appendChild(n);var o=Ls.createChildScopeOrNull(e,this.$scope,this.beans.gridOptionsWrapper),r=o?o.scope:void 0,s=o?o.scopeDestroyFunc:void 0,a=[],l=this.columnController.getAllAutoRowHeightCols(),u=this.columnController.getAllDisplayedColumns();l.filter(function(e){return u.indexOf(e)>=0}).forEach(function(i){var o=new Ns(r,t.beans,i,e,null,!0,!1);o.setParentRow(n),a.push(o)});var c=a.map(function(e){return e.getCreateTemplate()}).join(" ");n.innerHTML=c,a.forEach(function(e){return e.afterAttached()}),r&&this.$compile(n)(r);for(var h=0,p=0;p<n.children.length;p++){var d=n.children[p];d.offsetHeight>h&&(h=d.offsetHeight)}return i.removeChild(n),a.forEach(function(e){e.detach(),e.destroy()}),s&&s(),h},t.prototype.addInRowCssClasses=function(e,t){var n=e.rowIndex,i={rowNode:e,rowIsEven:n%2==0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(e),firstRowOnPage:n===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:n===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:e.isExpandable()};jt(t,this.rowCssClassCalculator.getInitialRowClasses(i).join(" "))},ac([le("beans")],t.prototype,"beans",void 0),ac([le("$scope")],t.prototype,"$scope",void 0),ac([le("columnController")],t.prototype,"columnController",void 0),ac([le("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),ac([le("$compile")],t.prototype,"$compile",void 0),ac([ae("autoHeightCalculator")],t)}(We),uc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hc=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return uc(t,e),t.prototype.postConstruct=function(){var e=this,t=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",gi(t?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",gi(t?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",gi(t?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",gi(t?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===ye.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Ue.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(t){var n=t.el,i=t.fn;e.addManagedListener(n,"click",i),e.addManagedListener(n,"keydown",function(e){e.keyCode!==Ki.ENTER&&e.keyCode!==Ki.SPACE||(e.preventDefault(),i())})}),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return t?t({value:e}):ut(e)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),o=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'" aria-live="polite" aria-describedby="ag-'+l+"-start-page ag-"+l+"-start-page-number ag-"+l+"-of-page ag-"+l+"-of-page-number ag-"+l+"-first-row ag-"+l+"-to ag-"+l+"-last-row ag-"+l+"-of ag-"+l+'-row-count">\n                <span class="ag-paging-row-summary-panel" aria-hidden="true">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+n+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+i+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'" tabindex="0"></div>\n                    <span class="ag-paging-description" aria-hidden="true">\n                        <span id="ag-'+l+'-start-page">'+t+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+i+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'" tabindex="0"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,Ut(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),Bn(this.btFirst,this.previousAndFirstButtonsDisabled),Ut(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),Bn(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay();this.nextButtonDisabled=t&&e===n-1||i,Ut(this.btNext,"ag-disabled",this.nextButtonDisabled),Bn(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!t||i||e===n-1,Ut(this.btLast,"ag-disabled",this.lastButtonDisabled),Bn(this.btLast,this.lastButtonDisabled)},t.prototype.updateRowLabels=function(){var e,t,n=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?e=t=0:(t=(e=i*n+1)+i-1,o&&t>r&&(t=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.lbLastRowOnPage.innerHTML=this.serverSideRowModel&&this.serverSideRowModel.isLoading()?"?":this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var i=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=i,this.lbRecordCount.innerHTML=i}},cc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cc([le("paginationProxy")],t.prototype,"paginationProxy",void 0),cc([le("rowModel")],t.prototype,"rowModel",void 0),cc([Hi("btFirst")],t.prototype,"btFirst",void 0),cc([Hi("btPrevious")],t.prototype,"btPrevious",void 0),cc([Hi("btNext")],t.prototype,"btNext",void 0),cc([Hi("btLast")],t.prototype,"btLast",void 0),cc([Hi("lbRecordCount")],t.prototype,"lbRecordCount",void 0),cc([Hi("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),cc([Hi("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),cc([Hi("lbCurrent")],t.prototype,"lbCurrent",void 0),cc([Hi("lbTotal")],t.prototype,"lbTotal",void 0),cc([re],t.prototype,"postConstruct",null),t}(Li),pc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pc(t,e),t.prototype.observeResize=function(e,t,n){void 0===n&&(n=50);var i,o,r,s,a,l=this.getFrameworkOverrides(),u=ee(t,n),c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!c?((a=new window.ResizeObserver(u)).observe(e),function(){return a.disconnect()}):(i=pn(e),o=hn(e),r=!0,(s=function(){if(r){var a=pn(e),u=hn(e);(a!==i||u!==o)&&(i=a,o=u,t()),l.setTimeout(s,n)}})(),function(){return r=!1})},dc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),dc([ae("resizeObserverService")],t)}(We),gc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(Ga||(Ga={}));var yc=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return gc(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){Ut(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===Ga.Loading),Ut(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===Ga.NoRows)},t.prototype.showLoadingOverlay=function(){var e=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,Ga.Loading)},t.prototype.showNoRowsOverlay=function(){var e=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,Ga.NoRows)},t.prototype.showOverlay=function(e,t){var n=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e.then(function(e){n.inProgress=!1,n.eOverlayWrapper.appendChild(e.getGui()),n.activeOverlay=e,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())}),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),sn(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',mc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),mc([le("userComponentFactory")],t.prototype,"userComponentFactory",void 0),mc([Hi("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),mc([re],t.prototype,"postConstruct",null),t}(Li),vc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wc=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,t.getTemplate(n))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var o=n.enabled,r=n.items,s=n.suppressEnabledCheckbox,a=n.suppressOpenCloseIcons;return i.title=n.title,i.cssIdentifier=n.cssIdentifier||"default",i.enabled=null==o||o,i.items=r||[],i.alignItems=n.alignItems||"center",null!=s&&(i.suppressEnabledCheckbox=s),null!=a&&(i.suppressOpenCloseIcons=a),i}return vc(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(fi("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(fi("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(t){switch(t.keyCode){case Ki.ENTER:e.toggleGroupExpand();break;case Ki.RIGHT:e.toggleGroupExpand(!0);break;case Ki.LEFT:e.toggleGroupExpand(!1)}})},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;qt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),qt(this.eGroupOpenedIcon,e&&this.expanded),qt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){var t=this.getGui();return this.alignItems!==e&&zt(t,"ag-group-item-alignment-"+this.alignItems),this.alignItems=e,jt(t,"ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),qt(this.eContainer,!0),this):(this.expanded===(e=null!=e?e:!this.expanded)||(this.expanded=e,this.refreshChildDisplay(),qt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach(function(e){return t.addItem(e)})},t.prototype.addItem=function(e){var t=this.eContainer,n=e instanceof Li?e.getGui():e;jt(n,"ag-group-item"),jt(n,"ag-"+this.cssIdentifier+"-group-item"),t.appendChild(n),this.items.push(n)},t.prototype.hideItem=function(e,t){Ut(this.items[t],"ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){jt(this.eTitleBar,e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange(function(n){t.setEnabled(n,!0),e(n)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){Ut(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(jt(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(zt(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),Ut(this.eContainer,"ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Cc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Cc([Hi("eTitleBar")],t.prototype,"eTitleBar",void 0),Cc([Hi("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Cc([Hi("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Cc([Hi("eToolbar")],t.prototype,"eToolbar",void 0),Cc([Hi("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Cc([Hi("eTitle")],t.prototype,"eTitle",void 0),Cc([Hi("eContainer")],t.prototype,"eContainer",void 0),Cc([re],t.prototype,"postConstruct",null),t}(Li),bc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ec=function(e){function t(n){var i=e.call(this,t.getTemplate(n))||this;return i.closable=!0,i.positioned=!1,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.size={width:void 0,height:void 0},i.config=n,i}return bc(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,n=t.component,i=t.closable,o=t.hideTitleBar,r=t.title,s=t.minWidth,a=t.width,l=t.minHeight,u=t.height,c=t.centered,h=t.x,p=t.y,d=this.getGui();n&&this.setBodyComponent(n),o?jt(this.eTitleBar,"ag-hidden"):(r&&this.setTitle(r),this.setClosable(null!=i?i:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(t){if(d.contains(t.relatedTarget)||d.contains(document.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var n=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}}),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),u&&this.setHeight(u),this.renderComponent&&this.renderComponent(),a&&u||this.refreshSize(),c?this.center():(h||p)&&this.offsetElement(h,p),this.positioned=!0,this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=this.popupParent.getBoundingClientRect(),n=e.e,i=e.isLeft,o=e.isTop,r=e.anywhereWithin,s=e.topBuffer,a=n.clientX-this.dragStartPosition.x,l=n.clientY-this.dragStartPosition.y,u=this.getWidth(),c=this.getHeight(),h=t.left>=n.clientX&&this.position.x<=0||t.right<=n.clientX&&t.right<=this.position.x+t.left+u;return h||(h=i?a<0&&n.clientX>this.position.x+t.left||a>0&&n.clientX<this.position.x+t.left:r?a<0&&n.clientX>this.position.x+t.left+u||a>0&&n.clientX<this.position.x+t.left:a<0&&n.clientX>this.position.x+t.left+u||a>0&&n.clientX<this.position.x+t.left+u),{movementX:a=h?0:a,movementY:l=t.top>=n.clientY&&this.position.y<=0||t.bottom<=n.clientY&&t.bottom<=this.position.y+t.top+c||o&&(l<0&&n.clientY>this.position.y+t.top+(s||0)||l>0&&n.clientY<this.position.y+t.top)||!o&&(l<0&&n.clientY>this.position.y+t.top+c||l>0&&n.clientY<this.position.y+t.top+c)?0:l}},t.prototype.refreshSize=function(){var e=this.size,t=e.height;e.width||this.setWidth(this.getGui().offsetWidth),t||this.setHeight(this.getGui().offsetHeight)},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getGui();this.popupService.positionPopup({ePopup:n,x:e,y:t,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(n.style.left,10),this.position.y=parseInt(n.style.top,10)},t.prototype.getHeight=function(){return this.size.height},t.prototype.setHeight=function(e){var t=this.getGui(),n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))bn(t,e),e=en(t),n=!0;else{e=Math.max(this.minHeight,e);var i=t.offsetParent;i&&i.clientHeight&&e+this.position.y>i.clientHeight&&(e=i.clientHeight-this.position.y)}this.size.height!==e&&(this.size.height=e,n?(t.style.maxHeight="unset",t.style.minHeight="unset"):bn(t,e))},t.prototype.getWidth=function(){return this.size.width},t.prototype.setWidth=function(e){var t=this.getGui(),n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))wn(t,e),e=tn(t),n=!0;else{e=Math.max(this.minWidth,e);var i=t.offsetParent;i&&i.clientWidth&&e+this.position.x>i.clientWidth&&(e=i.clientWidth-this.position.x)}this.size.width!==e&&(this.size.width=e,n?(t.style.maxWidth="unset",t.style.minWidth="unset"):wn(t,e))},t.prototype.center=function(){var e=this.getGui(),t=e.offsetParent.clientWidth/2-this.getWidth()/2,n=e.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(t,n)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new Li(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n),(i=n.getGui()).appendChild(jt(gi("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i;(i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var n=this.eTitleBarButtons,i=n.children,o=i.length;null==t&&(t=o),t=Math.max(0,Math.min(t,o));var r=e.getGui();jt(r,"ag-panel-title-bar-button"),0===t?n.insertAdjacentElement("afterbegin",r):t===o?n.insertAdjacentElement("beforeend",r):i[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Zt(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return Jt(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Sc([le("popupService")],t.prototype,"popupService",void 0),Sc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sc([Hi("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Sc([Hi("eTitleBar")],t.prototype,"eTitleBar",void 0),Sc([Hi("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Sc([Hi("eTitle")],t.prototype,"eTitle",void 0),Sc([re],t.prototype,"postConstruct",null),t}(Li),_c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oc=function(e){function t(t){var n=e.call(this,t)||this;return n.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',n.resizable={},n.movable=!1,n.isMoving=!1,n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.isResizing=!1,n.lastPosition={x:0,y:0,width:0,height:0},n}return _c(t,e),t.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=this.config,o=i.movable,r=i.resizable,s=i.maximizable;jt(n,"ag-dialog"),this.moveElement=this.eTitleBar,e.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(e){n.contains(e.relatedTarget)||t.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),s&&this.setMaximizable(s),this.addResizers(),r&&this.setResizable(r)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,n=t.alwaysOnTop;this.close=this.popupService.addPopup({modal:t.modal,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n})},t.prototype.addResizers=function(){var e=this.getGui();if(e){var t=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;e.appendChild(t.firstChild),this.createMap()}},t.prototype.createMap=function(){var e=this.getGui();this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){if(this.isResizing){var n=!!t.match(/left/i),i=!!t.match(/right/i),o=!!t.match(/top/i),r=!!t.match(/bottom/i),s=n||i,a=o||r,l=this.calculateMouseMovement({e:e,isLeft:n,isTop:o}),u=l.movementX,c=l.movementY,h=0,p=0;if(s&&u){var d=n?-1:1,f=this.getWidth(),g=f+u*d,m=!1;n&&(this.position.x+(h=f-g)<=0||g<=this.minWidth)&&(m=!0,h=0),m||this.setWidth(g)}if(a&&c){d=o?-1:1;var y=this.getHeight(),v=y+c*d,C=!1;o&&(this.position.y+(p=y-v)<=0||v<=this.minHeight)&&(C=!0,p=0),C||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),(h||p)&&this.offsetElement(this.position.x+h,this.position.y+p)}},t.prototype.onResizeEnd=function(){this.isResizing=!1;var e={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(e)},t.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t=this.position,n=t.x,i=t.y,o=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()});this.offsetElement(n+o.movementX,i+o.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1},t.prototype.toggleMaximize=function(){if(this.isMaximized){var e=this.lastPosition,t=e.x,n=e.y,i=e.height;this.setWidth(e.width),this.setHeight(i),this.offsetElement(t,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){qt(this.maximizeIcon,!this.isMaximized),qt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){var t=this;"boolean"==typeof e&&(e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}),Object.keys(e).forEach(function(n){var i=n,o=!!e[i],r=t.getResizerElement(i),s=t.resizerMap[i].dragSource||{eElement:r,onDragStart:t.onResizeStart.bind(t),onDragging:function(e){return t.onResize(e,i)},onDragStop:t.onResizeEnd.bind(t)};!!t.resizable[i]===o&&(t.isAlive()||o)||(o?(t.dragService.addDragSource(s),r.style.pointerEvents="all"):(t.dragService.removeDragSource(s),r.style.pointerEvents="none"),t.resizerMap[i].dragSource=o?s:void 0)})},t.prototype.setMovable=function(e){if(e!==this.movable){this.movable=e;var t=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(t),this.moveElementDragListener=t):(this.dragService.removeDragSource(t),this.moveElementDragListener=void 0)}},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&e!==this.isMaximizable){var i=this.maximizeButtonComp=this.createBean(new Li('<div class="ag-dialog-button"></span>')),o=i.getGui();o.appendChild(this.maximizeIcon=gi("maximize",this.gridOptionsWrapper)),jt(this.maximizeIcon,"ag-panel-title-bar-button-icon"),o.appendChild(this.minimizeIcon=gi("minimize",this.gridOptionsWrapper)),jt(this.minimizeIcon,"ag-panel-title-bar-button-icon"),jt(this.minimizeIcon,"ag-hidden"),i.addManagedListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){t.isMaximized=!1,t.refreshMaximizeIcon()})}},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("dragService")],t.prototype,"dragService",void 0),t}(Ec),xc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tc=function(e){function t(t,n,i){return void 0===n&&(n="ag-text-field"),void 0===i&&(i="text"),e.call(this,t,n,i)||this}return xc(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,n){var i=e.prototype.setValue.call(this,t,n);return this.eInput.value!==t&&(this.eInput.value=o(t)?t:""),i},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(t){t.key&&!e.test(t.key)&&t.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(t){T(t.clipboardData.getData("text"),function(t){return!e.test(t)})&&t.preventDefault()})},t}(ta),Rc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pc=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return Rc(t,e),t.prototype.setValue=function(t,n){var i=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(ta),Dc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ac=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},kc=function(e){function t(n){var i=e.call(this,n,t.TEMPLATE)||this;return i.labelAlignment="top",i}return Dc(t,e),t.prototype.init=function(){jt(this.eSlider.getGui(),"ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,n=Zs.EVENT_CHANGED;return this.addManagedListener(this.eText,n,function(){var n=parseFloat(t.eText.getValue());t.eSlider.setValue(n.toString(),!0),e(n||0)}),this.addManagedListener(this.eSlider,n,function(){var n=t.eSlider.getValue();t.eText.setValue(n,!0),e(parseFloat(n))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Zs.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ac([Hi("eLabel")],t.prototype,"eLabel",void 0),Ac([Hi("eSlider")],t.prototype,"eSlider",void 0),Ac([Hi("eText")],t.prototype,"eText",void 0),Ac([re],t.prototype,"init",null),t}(Xs),Ic=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Nc=function(e){function t(n){var i=e.call(this,t.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=n.picker,i}return Ic(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var n=e.clientX-t.left,i=e.clientY-t.top;n=Math.max(n,0),n=Math.min(n,t.width),i=Math.max(i,0),i=Math.min(i,t.height),this.setSpectrumValue(n/t.width,1-i/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var n=this.spectrumHueSlider,i=n.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.H=1-o/t.width,n.style.left=o+i.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var n=this.spectrumAlphaSlider,i=n.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.A=o/t.width,n.style.left=o+i.width/2+"px",this.update()}},t.prototype.update=function(){var e=bt.fromHSB(360*this.H,this.S,this.B,this.A),t=bt.fromHSB(360*this.H,1,1),n=e.toRgbaString(),i=this.picker;bt.fromString(i.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),i.setValue(n),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},t.prototype.setSpectrumValue=function(e,t){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var i=this.spectrumDragger,o=i.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,i.style.left=e*n.width-o.width/2+"px",i.style.top=(1-t)*n.height-o.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map(function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'});this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=bt.fromString(e),n=t.toHSB(),i=n[0],o=n[1],r=n[2];this.H=(isNaN(i)?0:i)/360,this.A=t.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(o,r)},t.prototype.onRecentColorClick=function(e){var n=e.target;if(o(n.id)){var i=parseInt(n.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var e=bt.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=t.recentColors;this.colorChanged&&n[0]!==e&&(n=n.filter(function(t){return t!=e}),(n=[e].concat(n)).length>t.maxRecentColors&&(n=n.slice(0,t.maxRecentColors)),t.recentColors=n)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Fc([Hi("spectrumColor")],t.prototype,"spectrumColor",void 0),Fc([Hi("spectrumVal")],t.prototype,"spectrumVal",void 0),Fc([Hi("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Fc([Hi("spectrumHue")],t.prototype,"spectrumHue",void 0),Fc([Hi("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Fc([Hi("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Fc([Hi("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Fc([Hi("recentColors")],t.prototype,"recentColors",void 0),Fc([re],t.prototype,"postConstruct",null),t}(Li),Mc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Vc=function(e){function t(t,n,i,o){var r=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(o?'aria-haspopup="'+o+'"':"")+'>\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return r.pickerIcon=i,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return Mc(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),Wn(this.eWrapper,n);var i=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},o=this.getGui();this.addManagedListener(o,"mousedown",function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&ln(t.pickerComponent.getGui())&&o.contains(e.target)&&(t.skipClick=!0)}),this.addManagedListener(o,"keydown",function(e){switch(e.keyCode){case Ki.UP:case Ki.DOWN:case Ki.ENTER:case Ki.SPACE:i();case Ki.ESCAPE:t.isPickerDisplayed&&e.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon&&this.eIcon.appendChild(gi(this.pickerIcon,this.gridOptionsWrapper))},t.prototype.refreshLabel=function(){o(this.getLabel())?Hn(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return Gn(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return Cn(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},Lc([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lc([Hi("eLabel")],t.prototype,"eLabel",void 0),Lc([Hi("eWrapper")],t.prototype,"eWrapper",void 0),Lc([Hi("eDisplayField")],t.prototype,"eDisplayField",void 0),Lc([Hi("eIcon")],t.prototype,"eIcon",void 0),t}(Zs),Gc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hc=function(e){function t(t){var n=e.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(n.value=t.color),n}return Gc(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),n=this.createBean(new Oc({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250}));this.isPickerDisplayed=!0,jt(n.getGui(),"ag-color-dialog");var i=this.createBean(new Nc({picker:this}));return i.addDestroyFunc(function(){n.isAlive()&&e.destroyBean(n)}),n.setParentComponent(this),n.setBodyComponent(i),i.setValue(this.getValue()),n.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,i.isAlive()&&e.destroyBean(i)),e.isAlive()&&e.getFocusableElement().focus(),e.isPickerDisplayed=!1}),n},t.prototype.setValue=function(e){return this.value===e||(this.value=e,this.eDisplayField.style.backgroundColor=e,this.dispatchEvent({type:Zs.EVENT_CHANGED})),this},t.prototype.getValue=function(){return this.value},t}(Vc),Wc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bc=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return Wc(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var e=parseFloat(t.eInput.value),n=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==n&&t.setValue(n)})},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Rn(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Rn(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Rn(this.eInput,"step",e)),this},t.prototype.setValue=function(t,n){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,n)},t}(Tc),jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zc=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return jc(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,n=t.min,i=t.max,o=t.step;null!=n&&this.setMinValue(n),null!=i&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this,t=Dt();this.addManagedListener(this.eInput,t?"change":"input",function(t){e.setValue(t.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,n){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var i=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},t}(ta),Uc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kc=function(e){function t(t){void 0===t&&(t="default");var n=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return Uc(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.keyCode;switch(t){case Ki.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Ki.DOWN:case Ki.UP:var i=t===Ki.DOWN,o=void 0;if(e.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),o=this.itemEls[r]}else o=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(o)}},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){var t=e.value,n=Qe(e.text||t);return this.options.push({value:t,text:n}),this.renderOption(t,n),this},t.prototype.renderOption=function(e,t){var n=this,i=document.createElement("div");i.setAttribute("role","option"),jt(i,"ag-list-item"),jt(i,"ag-"+this.cssIdentifier+"-list-item"),i.innerHTML=t,i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",function(){return n.highlightItem(i)}),this.addManagedListener(i,"mouseleave",function(){return n.clearHighlighted()}),this.addManagedListener(i,"click",function(){return n.setValue(e)}),this.getGui().appendChild(i)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var n=O(this.options,function(t){return t.value===e});if(-1!==n){var i=this.options[n];this.value=i.value,this.displayValue=null!=i.text?i.text:i.value,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=O(this.options,function(t){return t.value===e.value});-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,jt(this.highlightedEl,t.ACTIVE_CLASS),ti(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(zt(this.highlightedEl,t.ACTIVE_CLASS),ti(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Zs.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([re],t.prototype,"init",null),t}(Li),qc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$c=function(e){function t(t){return e.call(this,t,"ag-select","smallDown","listbox")||this}return qc(t,e),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new Kc("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Kc.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,Zs.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),n=this.addManagedListener(document.body,"wheel",function(n){!t.contains(n.target)&&e.hideList&&e.hideList()}),i=this.addManagedListener(t,"focusout",function(n){!t.contains(n.relatedTarget)&&e.hideList&&e.hideList()});return this.hideList=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,i(),n(),e.isAlive()&&e.getFocusableElement().focus()}}),this.isPickerDisplayed=!0,Cn(t,tn(this.eWrapper)),t.style.maxHeight=Zt(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach(function(e){return t.addOption(e)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,n,i){return this.value===t?this:(i||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,n)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),e.prototype.destroy.call(this)},Yc([le("popupService")],t.prototype,"popupService",void 0),Yc([re],t.prototype,"init",null),t}(Vc),Xc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Zc=function(e){function t(n){var i=e.call(this,n,t.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return Xc(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var n=parseFloat(e);n>180&&(n-=360),t.setValue(n)}),this.updateNumberInput(),o(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Zs.EVENT_CHANGED,function(){t.eAngleValue.getInputElement().contains(document.activeElement)||t.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,i=t.height/2;n.style.left=t.width/2+8*Math.cos(e)+"px",n.style.top=i+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,n=Math.atan2(t,e);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(n)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,n=Math.atan2(e.clientY-t.top-t.height/2,e.clientX-t.left-t.width/2);this.setValue(n,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,Zs.EVENT_CHANGED,function(){e(t.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var n;return n=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(n),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:Zs.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return wn(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Qc([Hi("eLabel")],t.prototype,"eLabel",void 0),Qc([Hi("eParentCircle")],t.prototype,"eParentCircle",void 0),Qc([Hi("eChildCircle")],t.prototype,"eChildCircle",void 0),Qc([Hi("eAngleValue")],t.prototype,"eAngleValue",void 0),Qc([le("dragService")],t.prototype,"dragService",void 0),t}(Xs),Jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eh=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return Jc(t,e),t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,n),Ut(this.getGui(),"ag-selected",this.getValue()),this},t}(ia),th=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ih=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheItems=[],t}return th(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},t.prototype.addOrDestroy=function(e,t,n){if(this.active&&e.detail){var i=this.getCacheItem(e,!0);switch(t){case ye.PINNED_LEFT:this.destroyFullWidthRow(i.left),i.left=n;break;case ye.PINNED_RIGHT:this.destroyFullWidthRow(i.right),i.right=n;break;default:this.destroyFullWidthRow(i.center),i.center=n}this.cacheItems.sort(function(e,t){return t.lastAccessedTime-e.lastAccessedTime}),this.purgeCache(this.maxCacheSize)}else this.destroyFullWidthRow(n)},t.prototype.getCacheItem=function(e,t){var n;void 0===t&&(t=!1);for(var i=0;i<this.cacheItems.length;i++){var o=this.cacheItems[i];if(o.rowNode===e){n=o;break}}return!n&&t&&this.cacheItems.push(n={rowNode:e}),n&&this.stampCacheItem(n),n},t.prototype.stampCacheItem=function(e){e.lastAccessedTime=(new Date).getTime()},t.prototype.destroyFullWidthRow=function(e){this.getContext().destroyBean(e)},t.prototype.purgeCache=function(e){for(var t=e;t<this.cacheItems.length;t++){var n=this.cacheItems[t];this.destroyFullWidthRow(n.center),this.destroyFullWidthRow(n.left),this.destroyFullWidthRow(n.right)}this.cacheItems.length>e&&(this.cacheItems.length=e)},t.prototype.get=function(e,t){if(e.detail){var n,i=this.getCacheItem(e);if(i)switch(t){case ye.PINNED_LEFT:i.left&&(n=i.left,i.left=void 0);break;case ye.PINNED_RIGHT:i.right&&(n=i.right,i.right=void 0);break;default:i.center&&(n=i.center,i.center=void 0)}return n}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.purgeCache(0)},nh([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),nh([re],t.prototype,"postConstruct",null),nh([se],t.prototype,"destroy",null),nh([ae("detailRowCompCache")],t)}(We),oh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},sh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oh(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e=ye.PINNED_TOP:this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e=ye.PINNED_BOTTOM),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t,n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(t=ye.PINNED_BOTTOM,e=n-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):i&&(t=ye.PINNED_TOP,e=i-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ye.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ye.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned},t.prototype.before=function(e,t){switch(e.rowPinned){case ye.PINNED_TOP:if(t.rowPinned!==ye.PINNED_TOP)return!0;break;case ye.PINNED_BOTTOM:if(t.rowPinned!==ye.PINNED_BOTTOM)return!1;break;default:if(o(t.rowPinned))return t.rowPinned!==ye.PINNED_TOP}return e.rowIndex<t.rowIndex},rh([le("rowModel")],t.prototype,"rowModel",void 0),rh([le("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),rh([le("paginationProxy")],t.prototype,"paginationProxy",void 0),rh([ae("rowPositionUtils")],t)}(We),ah=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ah(t,e),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,t,n){return e+"."+(null==n?"null":n)+"."+t.getId()},t.prototype.equals=function(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ae("cellPositionUtils")],t)}(We),uh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ch=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uh(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return s(e===ye.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var n=t===ye.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(s(n))return 0;for(var i=0;i<n.length;i++){var o=n[i];if(o.rowTop+o.rowHeight-1>=e)return i}return n.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:Ue.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:Ue.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.createNodesFromData=function(e,t){var n=this,i=[];if(e){var o=0;e.forEach(function(e,r){var s=new So;n.context.createBean(s),s.data=e,s.id=(t?So.ID_PREFIX_TOP_PINNED:So.ID_PREFIX_BOTTOM_PINNED)+r,s.rowPinned=t?ye.PINNED_TOP:ye.PINNED_BOTTOM,s.setRowTop(o),s.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(r),o+=s.rowHeight,i.push(s)})}return i},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){s(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){s(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=m(e);return t.rowTop+t.rowHeight},ch([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ch([le("columnApi")],t.prototype,"columnApi",void 0),ch([le("gridApi")],t.prototype,"gridApi",void 0),ch([re],t.prototype,"init",null),ch([ae("pinnedRowModel")],t)}(We),ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dh=function(e){this.cellValueChanges=e},fh=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.initialRange=n,o.finalRange=i,o}return ph(t,e),t}(dh),gh=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),mh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},vh=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.isCellEditing=!1,t.isRowEditing=!1,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){if(t.isCellEditing||t.isRowEditing||t.isPasting||t.isFilling){var n=e.oldValue,i=e.value,o={rowPinned:e.rowPinned,rowIndex:e.rowIndex,columnId:e.column.getColId(),oldValue:n,newValue:i};t.cellValueChanges.push(o)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return mh(n,e),n.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new gh(e),this.redoStack=new gh(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Ue.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Ue.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_ROW_DRAG_END,this.clearStacks))}},n.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},n.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},n.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.oldValue}),e instanceof fh?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},n.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,function(e){return e.newValue}),e instanceof fh?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},n.prototype.processAction=function(e,t){var n=this;e.cellValueChanges.forEach(function(e){var i=e.columnId,o=n.getRowNode({rowIndex:e.rowIndex,rowPinned:e.rowPinned});null!=o.rowTop&&o.setDataValue(i,t(e))})},n.prototype.processRangeAndCellFocus=function(e,t){if(t){var n=t.startRow,i=t.endRow,o={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:t.startColumn.getColId()};return this.setLastFocusedCell(o),void this.gridApi.addCellRange({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:i.rowIndex,rowEndPinned:i.rowPinned,columnStart:t.startColumn,columns:t.columns})}var r=e[0],s=this.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});this.setLastFocusedCell({rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId})},n.prototype.setLastFocusedCell=function(e){var n=e.rowIndex,i=e.columnId,o=e.rowPinned;this.gridApi.ensureIndexVisible(n),this.gridApi.ensureColumnVisible(i),ve.isRegistered(t.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(n,i,o,!0)},n.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_ROW_EDITING_STARTED,function(){e.isRowEditing=!0}),this.addManagedListener(this.eventService,Ue.EVENT_ROW_EDITING_STOPPED,function(){var t=new dh(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isRowEditing=!1})},n.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_CELL_EDITING_STARTED,function(){e.isCellEditing=!0}),this.addManagedListener(this.eventService,Ue.EVENT_CELL_EDITING_STOPPED,function(){if(e.isCellEditing=!1,!e.isRowEditing&&!e.isPasting&&!e.isFilling){var t=new dh(e.cellValueChanges);e.pushActionsToUndoStack(t)}})},n.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,Ue.EVENT_PASTE_END,function(){var t=new dh(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1})},n.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,Ue.EVENT_FILL_END,function(t){var n=new fh(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(n),e.isFilling=!1})},n.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},n.prototype.getRowNode=function(e){switch(e.rowPinned){case ye.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ye.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},yh([le("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),yh([le("focusController")],n.prototype,"focusController",void 0),yh([le("gridApi")],n.prototype,"gridApi",void 0),yh([le("rowModel")],n.prototype,"rowModel",void 0),yh([le("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),yh([re],n.prototype,"init",null),yh([ae("undoRedoService")],n)}(We),Ch=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return Ch(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach(function(e){return t.addComponent(e)})},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ae("agStackComponentsRegistry")],t)}(We),bh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Eh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bh(t,e),t.prototype.findHeader=function(e,t){var n;if(n=e.column instanceof be?this.columnController["getDisplayedGroup"+t](e.column):this.columnController["getDisplayedCol"+t](e.column))return{column:n,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var n=this.columnController.getAllDisplayedColumns(),i=n["start"===t?0:n.length-1];if(i){var o=this.headerNavigationService.getHeaderContainer(i.getPinned()).getRowComps()[e];return(o&&o.getType())==vs.COLUMN_GROUP?{headerRowIndex:e,column:this.columnController.getColumnGroupAtLevel(i,e)}:{headerRowIndex:o?e:-1,column:i}}},Sh([le("columnController")],t.prototype,"columnController",void 0),Sh([le("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Sh([ae("headerPositionUtils")],t)}(We),_h=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,n){var i=this,o=[],r={};return e.forEach(function(e){for(var s=!0,a=i.createDefFromColumn(e,t,n),l=e;l.getParent();){var u=l.getParent(),c=void 0;if(u.isPadding())l=u;else{var h=r[u.getGroupId()];if(h){h.children.push(a),s=!1;break}(c=i.createDefFromGroup(u)).children=[a],r[c.groupId]=c,a=c,l=u}}s&&o.push(a)}),o},e.prototype.createDefFromGroup=function(e){var t=F(e.getColGroupDef(),["children"]);return t.groupId=e.getGroupId(),t},e.prototype.createDefFromColumn=function(e,t,n){var i=F(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=!e.isVisible()||void 0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,i},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ae("columnDefFactory")],e)}(),Oh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},xh=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return o(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),_(t,this.processClassesFromGridOptions(e.rowNode)),_(t,this.preProcessRowClassRules(e.rowNode,e.scope)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),t},e.prototype.processClassesFromGridOptions=function(e){var t=[],n=function(e){"string"==typeof e?t.push(e):Array.isArray(e)&&e.forEach(function(e){return t.push(e)})},i=this.gridOptionsWrapper.getRowClass();if(i){if("function"==typeof i)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");n(i)}var o=this.gridOptionsWrapper.getRowClassFunc();return o&&n(o({node:e,data:e.data,rowIndex:e.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()})),t},e.prototype.preProcessRowClassRules=function(e,t){var n=[];return this.processRowClassRules(e,t,function(e){n.push(e)},function(e){}),n},e.prototype.processRowClassRules=function(e,t,n,i){this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:t,context:this.gridOptionsWrapper.getContext()},n,i)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},Oh([le("stylingService")],e.prototype,"stylingService",void 0),Oh([le("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Oh([ae("rowCssClassCalculator")],e)}(),Th=function(){function e(e,n,i){if(e)if(n){var o=!!n.debug;this.gridOptions=n;var r=this.getRegisteredModules(i),s=this.createBeansList(r),a=this.createProvidedBeans(e,i);if(s){var l={providedBeanInstances:a,beanClasses:s,debug:o};this.logger=new Sl("ag-Grid",function(){return n.debug});var u=new Sl("Context",function(){return l.debug});this.context=new ie(l,u),this.registerModuleUserComponents(r),this.registerStackComponents(r);var c=new(i&&i.rootComponent||Al);this.context.createBean(c),this.setColumnsAndData(),this.dispatchGridReadyEvent(n);var h=ve.isRegistered(t.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+h)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return e.prototype.registerStackComponents=function(e){var t=this.createAgStackComponentsList(e);this.context.getBean("agStackComponentsRegistry").setupComponents(t)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,n=ve.getRegisteredModules(),i=[],o={};function r(e,t){!function(t){o[t.moduleName]||(o[t.moduleName]=!0,i.push(t),ve.register(t,e))}(t),t.dependantModules&&t.dependantModules.forEach(r.bind(null,e))}return t&&t.forEach(r.bind(null,!0)),n&&n.forEach(r.bind(null,!ve.isPackageBased())),i},e.prototype.registerModuleUserComponents=function(e){var t=this.context.getBean("userComponentRegistry");this.extractModuleEntity(e,function(e){return e.userComponents?e.userComponents:[]}).forEach(function(e){t.registerDefaultComponent(e.componentName,e.componentClass)})},e.prototype.createProvidedBeans=function(e,t){var n=t?t.frameworkOverrides:null;r(n)&&(n=new iu);var i={gridOptions:this.gridOptions,eGridDiv:e,$scope:t?t.$scope:null,$compile:t?t.$compile:null,quickFilterOnScope:t?t.quickFilterOnScope:null,globalEventListener:t?t.globalEventListener:null,frameworkOverrides:n};return t&&t.providedBeanInstances&&H(i,t.providedBeanInstances),i},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:ia},{componentName:"AgRadioButton",componentClass:nu},{componentName:"AgToggleButton",componentClass:eh},{componentName:"AgInputTextField",componentClass:Tc},{componentName:"AgInputTextArea",componentClass:Pc},{componentName:"AgInputNumberField",componentClass:Bc},{componentName:"AgInputRange",componentClass:zc},{componentName:"AgSelect",componentClass:$c},{componentName:"AgSlider",componentClass:kc},{componentName:"AgAngleSelect",componentClass:Zc},{componentName:"AgColorPicker",componentClass:Hc},{componentName:"AgGridComp",componentClass:al},{componentName:"AgHeaderRoot",componentClass:za},{componentName:"AgPagination",componentClass:hc},{componentName:"AgOverlayWrapper",componentClass:yc},{componentName:"AgGroupComponent",componentClass:wc},{componentName:"AgPanel",componentClass:Ec},{componentName:"AgDialog",componentClass:Oc}],n=this.extractModuleEntity(e,function(e){return e.agStackComponents?e.agStackComponents:[]});return t.concat(n)},e.prototype.createBeansList=function(e){var t=this.getRowModelClass(e);if(t){var n=[t,Wu,sh,lh,Eh,_u,ul,Lr,Mu,Gu,fc,jo,nc,lc,Ql,Rl,hh,Ll,mt,me,Ur,vl,$r,Ya,it,Ha,bu,Bs,pl,ze,gl,Iu,Ju,Tu,Qa,bl,dt,Ol,Fl,os,Qr,jl,Kl,qu,$l,eu,uu,su,Hl,pu,gu,rc,vu,Du,Xu,ih,vh,wh,_h,xh],i=this.extractModuleEntity(e,function(e){return e.beans?e.beans:[]});n.push.apply(n,i);var o=[];return n.forEach(function(e){o.indexOf(e)<0&&o.push(e)}),o}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],e.map(t))},e.prototype.setColumnsAndData=function(){var e=this.context.getBean("gridOptionsWrapper"),t=this.context.getBean("columnController"),n=e.getColumnDefs();t.setColumnDefs(n||[],"gridInitializing"),this.context.getBean("rowModel").start()},e.prototype.dispatchGridReadyEvent=function(e){this.context.getBean("eventService").dispatchEvent({type:Ue.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},e.prototype.getRowModelClass=function(e){var n=this.gridOptions.rowModelType;n||(n=ye.ROW_MODEL_TYPE_CLIENT_SIDE);var i={};e.forEach(function(e){k(e.rowModels,function(e,t){i[e]=t})});var r=i[n];if(o(r))return r;n===ye.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+t.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+n),n===ye.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+t.ModuleNames.ViewportRowModelModule+" is registered.';"),n===ye.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+t.ModuleNames.ServerSideRowModelModule+" is registered.';"),n===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+t.ModuleNames.ClientSideRowModelModule+" is registered.';")},e.prototype.destroy=function(){this.gridOptions.api.destroy()},e}();function Rh(e,t,n,i){var o,r,s=i.agGrid;if(r=s+".quickFilterText",o=t.$eval(s)){var a=new Th(e[0],o,{$scope:t,$compile:n,quickFilterOnScope:r});t.$on("$destroy",function(){a.destroy(),a=null})}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var Ph,Dh,Ah=!1,kh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ih=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Fh=function(e){function t(n){var i=e.call(this,t.getTemplate(n.cssClass))||this;return i.items=[],i.params=n,n.items&&n.items.forEach(function(e){return i.addItem(e)}),i}return kh(t,e),t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="menu" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case Ki.RIGHT:case Ki.LEFT:if(!this.eHeader.contains(document.activeElement))return;var t=this.items.indexOf(this.activeItem),n=e.keyCode===Ki.RIGHT?Math.min(t+1,this.items.length-1):Math.max(t-1,0);if(t===n)return;e.preventDefault();var i=this.items[n];this.showItemWrapper(i),i.eHeaderButton.focus();break;case Ki.UP:case Ki.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this,n=t.focusController,i=t.eHeader,o=t.eBody,r=t.activeItem,s=document.activeElement;if(e.preventDefault(),i.contains(s))n.focusInto(o,e.shiftKey);else if(n.isFocusUnderManagedComponent(o))r.eHeaderButton.focus();else{var a=n.findNextFocusableElement(o,!1,e.shiftKey);a?a.focus():r.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.getMinDimensions=function(){var e=this.getGui().cloneNode(!0),t=e.querySelector('[ref="eBody"]');e.style.position="fixed",this.getGui().appendChild(e);var n=0,i=0;return this.items.forEach(function(o){sn(t);var r=o.tabbedItem.bodyPromise.resolveNow(null,function(e){return e.cloneNode(!0)});null!=r&&(t.appendChild(r),n<e.offsetWidth&&(n=e.offsetWidth),i<e.offsetHeight&&(i=e.offsetHeight))}),this.getGui().removeChild(e),{height:i,width:n}},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");t.setAttribute("tabIndex","-1"),t.setAttribute("role","menuitem"),t.appendChild(e.title),jt(t,"ag-tab"),this.eHeader.appendChild(t),Gn(t,e.titleLabel);var n={tabbedItem:e,eHeaderButton:t};this.items.push(n),t.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(e){var t=h(this.items,function(t){return t.tabbedItem===e});t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this;this.params.onItemClicked&&this.params.onItemClicked({item:e.tabbedItem}),this.activeItem!==e?(sn(this.eBody),e.tabbedItem.bodyPromise.then(function(e){t.eBody.appendChild(e);var n=!t.focusController.isKeyboardFocus();t.focusController.focusInto(t.eBody,!1,n)}),this.activeItem&&zt(this.activeItem.eHeaderButton,"ag-tab-selected"),jt(e.eHeaderButton,"ag-tab-selected"),this.activeItem=e,e.tabbedItem.afterAttachedCallback&&e.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):te(this.params.onActiveItemClicked)},Ih([Hi("eHeader")],t.prototype,"eHeader",void 0),Ih([Hi("eBody")],t.prototype,"eBody",void 0),t}(eo),Nh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Lh=function(e){function t(n,i){var o=e.call(this)||this;return o.version=0,o.state=t.STATE_DIRTY,o.rowNodeCacheParams=i,o.blockNumber=n,o.startRow=n*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return Nh(t,e),t.prototype.isAnyNodeOpen=function(e){var t=!1;return this.forEachNodeCallback(function(e){e.expanded&&(t=!0)},e),t},t.prototype.forEachNodeCallback=function(e,t){for(var n=this.startRow;n<this.endRow;n++)n<t&&e(this.getRowUsingLocalIndex(n),n)},t.prototype.forEachNode=function(e,t,n,i){this.forEachNodeCallback(function(n){e(n,t.next()),i&&n.childrenCache&&n.childrenCache.forEachNodeDeep(e,t)},n)},t.prototype.forEachNodeDeep=function(e,t,n){this.forEachNode(e,t,n,!0)},t.prototype.forEachNodeShallow=function(e,t,n){this.forEachNode(e,t,n,!1)},t.prototype.getVersion=function(){return this.version},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.init=function(){this.createRowNodes()},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.getBlockNumber=function(){return this.blockNumber},t.prototype.setDirty=function(){this.version++,this.state=t.STATE_DIRTY},t.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach(function(e){return e.setData(null)})},t.prototype.getState=function(){return this.state},t.prototype.setRowNode=function(e,t){this.rowNodes[e-this.startRow]=t},t.prototype.setBlankRowNode=function(e){var t=this.createBlankRowNode(e);return this.rowNodes[e-this.startRow]=t,t},t.prototype.setNewData=function(e,t){var n=this.setBlankRowNode(e);return this.setDataAndId(n,t,this.startRow+e),n},t.prototype.createBlankRowNode=function(e){var t=this.getContext().createBean(new So);return t.setRowHeight(this.rowNodeCacheParams.rowHeight),t},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.rowNodeCacheParams.blockSize;e++){var t=this.createBlankRowNode(this.startRow+e);this.rowNodes.push(t)}},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.pageLoadFailed=function(){this.state=t.STATE_FAILED,this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null})},t.prototype.populateWithRowData=function(e){var t=this,n=[];this.rowNodes.forEach(function(i,o){var r=e[o];i.stub&&n.push(i),t.setDataAndId(i,r,t.startRow+o)}),n.length>0&&this.rowRenderer.redrawRows(n)},t.prototype.destroyRowNodes=function(){var e=this;this.rowNodes.forEach(function(t){t.childrenCache&&(e.destroyBean(t.childrenCache),t.childrenCache=null),t.clearRowTop()})},t.prototype.pageLoaded=function(e,n,i){e===this.version&&(this.state=t.STATE_LOADED,this.populateWithRowData(n)),i=lt(i),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:i})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_DIRTY="dirty",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",Mh([le("rowRenderer")],t.prototype,"rowRenderer",void 0),Mh([re],t.prototype,"init",null),Mh([se],t.prototype,"destroyRowNodes",null),t}(We),Vh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gh=function(e){function t(t,n){var i=e.call(this)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i.maxConcurrentRequests=t,n&&n>0&&(i.checkBlockToLoadDebounce=ee(i.performCheckBlocksToLoad.bind(i),n)),i}return Vh(t,e),t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e)},t.prototype.removeBlock=function(e){C(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach(function(t){t.getState()===Lh.STATE_DIRTY&&(e=t)}),e?(e.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+e.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach(function(t){var n=t.getNodeIdPrefix(),i={blockNumber:t.getBlockNumber(),startRow:t.getStartRow(),endRow:t.getEndRow(),pageStatus:t.getState()};o(n)?e[n+t.getBlockNumber()]=i:e[t.getBlockNumber()]=i}),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(We),Hh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Bh=function(e){function t(t){var n=e.call(this)||this;return n.maxRowFound=!1,n.blocks={},n.blockCount=0,n.virtualRowCount=t.initialRowCount,n.cacheParams=t,n}return Hh(t,e),t.prototype.destroyAllBlocks=function(){var e=this;this.forEachBlockInOrder(function(t){return e.destroyBlock(t)})},t.prototype.init=function(){var e=this;this.active=!0,this.addDestroyFunc(function(){return e.active=!1})},t.prototype.isActive=function(){return this.active},t.prototype.getVirtualRowCount=function(){return this.virtualRowCount},t.prototype.hack_setVirtualRowCount=function(e){this.virtualRowCount=e},t.prototype.isMaxRowFound=function(){return this.maxRowFound},t.prototype.onPageLoaded=function(e){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+e.page.getBlockNumber()+", lastRow = "+e.lastRow),e.success&&(this.checkVirtualRowCount(e.page,e.lastRow),this.onCacheUpdated()))},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,i=[];this.forEachBlockInOrder(function(t){t!==e&&i.push(t)}),i.sort(function(e,t){return t.getLastAccessed()-e.getLastAccessed()});var o=this.cacheParams.maxBlocksInCache>0,r=o?this.cacheParams.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(e,t){if(e.getState()===Lh.STATE_DIRTY&&t>=s||o&&t>=r){if(e.isAnyNodeOpen(n.virtualRowCount))return;if(n.isBlockCurrentlyDisplayed(e))return;n.removeBlockFromCache(e)}})},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=this.rowRenderer.getFirstVirtualRenderedRow(),n=this.rowRenderer.getLastVirtualRenderedRow(),i=e.getDisplayIndexStart(),o=e.getDisplayIndexEnd()-1;return!(null==i||null==o||i>n||o<t)},t.prototype.postCreateBlock=function(e){e.addEventListener(Lh.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(e.getBlockNumber(),e),this.purgeBlocksIfNeeded(e),this.checkBlockToLoad()},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.checkVirtualRowCount=function(e,t){if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.maxRowFound=!0;else if(!this.maxRowFound){var n=(e.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<n&&(this.virtualRowCount=n)}},t.prototype.setVirtualRowCount=function(e,t){this.virtualRowCount=e,o(t)&&(this.maxRowFound=t),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize==0&&this.virtualRowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e,t){var n=this;void 0===t&&(t=new Ai),this.forEachBlockInOrder(function(i){return i.forEachNodeDeep(e,t,n.virtualRowCount)})},t.prototype.forEachBlockInOrder=function(e){var t=this.getBlockIdsSorted();this.forEachBlockId(t,e)},t.prototype.forEachBlockInReverseOrder=function(e){var t=this.getBlockIdsSorted().reverse();this.forEachBlockId(t,e)},t.prototype.forEachBlockId=function(e,t){var n=this;e.forEach(function(e){t(n.blocks[e],e)})},t.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map(function(e){return parseInt(e,10)}).sort(function(e,t){return e-t})},t.prototype.getBlock=function(e){return this.blocks[e]},t.prototype.setBlock=function(e,t){this.blocks[e]=t,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(t)},t.prototype.destroyBlock=function(e){delete this.blocks[e.getBlockNumber()],this.destroyBean(e),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isActive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.dispatchEvent({type:t.EVENT_CACHE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.forEachBlockInOrder(function(n,i){i*e.cacheParams.blockSize>=e.virtualRowCount&&t.push(n)}),t.length>0&&t.forEach(function(t){return e.destroyBlock(t)})},t.prototype.purgeCache=function(){var e=this;this.forEachBlockInOrder(function(t){return e.removeBlockFromCache(t)}),this.maxRowFound=!1,0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var n=this,i=[],o=-1,s=!1,a=new Ai;r(e)&&(s=!0);var l=!1;return this.forEachBlockInOrder(function(r,u){l||(s&&o+1!==u?l=!0:(o=u,r.forEachNodeShallow(function(n){var o=n===e||n===t;(s||o)&&i.push(n),o&&(s=!s)},a,n.virtualRowCount)))}),l||s?[]:i},t.EVENT_CACHE_UPDATED="cacheUpdated",t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Wh([le("rowRenderer")],t.prototype,"rowRenderer",void 0),Wh([se],t.prototype,"destroyAllBlocks",null),Wh([re],t.prototype,"init",null),t}(We),jh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Uh=function(e){function t(n,i){void 0===n&&(n="default"),void 0===i&&(i="listbox");var o=e.call(this,t.getTemplate(n),!0)||this;return o.cssIdentifier=n,o.ariaRole=i,o.renderedRows=new Map,o.rowHeight=20,o.isDestroyed=!1,o}return jh(t,e),t.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),e.prototype.postConstruct.call(this)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(t){e.prototype.onFocusIn.call(this,t);var n=t.target;Kt(n,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=Vn(n)-1)},t.prototype.onFocusOut=function(t){e.prototype.onFocusOut.call(this,t),this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case Ki.UP:case Ki.DOWN:this.navigate(e.keyCode===Ki.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusController.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount()||(this.focusRow(t),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout(function(){var n=t.renderedRows.get(e);n&&n.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="listbox">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var n=e*this.rowHeight,i=n+this.rowHeight,o=this.getGui(),r=o.scrollTop,s=o.offsetHeight,a=r+s<i;r>n?o.scrollTop=n:a&&(o.scrollTop=i-s)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",setTimeout(function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())},0)}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(t,n){return e.removeRow(n)})},t.prototype.drawVirtualRows=function(){var e=this.getGui(),t=e.scrollTop,n=t+e.offsetHeight,i=Math.floor(t/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(i,o)},t.prototype.ensureRowsRendered=function(e,t){var n=this;this.renderedRows.forEach(function(i,o){(o<e||o>t)&&o!==n.lastFocusedRowIndex&&n.removeRow(o)});for(var i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)},t.prototype.insertRow=function(e){var t=this,n=this.model.getRow(e),i=document.createElement("div");if(jt(i,"ag-virtual-list-item"),jt(i,"ag-"+this.cssIdentifier+"-virtual-list-item"),i.setAttribute("role","tree"===this.ariaRole?"treeitem":"option"),Un(i,this.model.getRowCount()),Kn(i,e+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var o=this.model.isRowSelected(e);ti(i,!!o),ni(i,o)}i.style.height=this.rowHeight+"px",i.style.top=this.rowHeight*e+"px";var r=this.componentCreator(n,i);r.addGuiEventListener("focusin",function(){return t.lastFocusedRowIndex=e}),i.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:r,eDiv:i})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,e.prototype.destroy.call(this))},zh([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zh([le("resizeObserverService")],t.prototype,"resizeObserverService",void 0),zh([Hi("eContainer")],t.prototype,"eContainer",void 0),t}(eo),Kh=function(){function e(){}return e.prototype.wrap=function(e,t,n,i,o){var r=this;void 0===n&&(n=[]);var s=this.createWrapper(e,i,o);return t.forEach(function(e){r.createMethod(s,e,!0)}),n.forEach(function(e){r.createMethod(s,e,!1)}),s},e.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},e.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("ag-Grid: Framework component is missing the method "+t+"()"),null)}},e}();(Ph=t.ChartType||(t.ChartType={})).GroupedColumn="groupedColumn",Ph.StackedColumn="stackedColumn",Ph.NormalizedColumn="normalizedColumn",Ph.GroupedBar="groupedBar",Ph.StackedBar="stackedBar",Ph.NormalizedBar="normalizedBar",Ph.Line="line",Ph.Scatter="scatter",Ph.Bubble="bubble",Ph.Pie="pie",Ph.Doughnut="doughnut",Ph.Area="area",Ph.StackedArea="stackedArea",Ph.NormalizedArea="normalizedArea",Ph.Histogram="histogram",(Dh=t.LegendPosition||(t.LegendPosition={})).Top="top",Dh.Right="right",Dh.Bottom="bottom",Dh.Left="left";var qh="undefined"==typeof global?{}:global;qh.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,qh.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,qh.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,qh.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,qh.Node="undefined"==typeof Node?{}:Node,qh.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var Yh,$h=function(){function e(t,n,i,o,r,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=n,this.context=i,this.eventService=o,this.columnController=r,this.gridApi=s,this.columnApi=a,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return Di.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL)},e.prototype.updateRowData=function(e,t){var n={remove:[],update:[],add:[]},i=[];return this.executeAdd(e,n),this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.updateSelection(i),t&&Di.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},e.prototype.updateSelection=function(e){var t=e.length>0;t&&e.forEach(function(e){e.setSelected(!1,!1,!0)}),this.selectionController.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.executeAdd=function(e,t){var n=this,i=e.add,o=e.addIndex;Di.missingOrEmpty(i)||("number"==typeof o&&o>=0?i.reverse().forEach(function(e){var i=n.addRowNode(e,o);t.add.push(i)}):i.forEach(function(e){var i=n.addRowNode(e);t.add.push(i)}))},e.prototype.executeRemove=function(e,t,n){var i=this,o=e.remove;if(!Di.missingOrEmpty(o)){var r={};o.forEach(function(e){var o=i.lookupRowNode(e);o&&(o.isSelected()&&n.push(o),o.clearRowTop(),r[o.id]=!0,delete i.allNodesMap[o.id],t.remove.push(o))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(e){return!r[e.id]})}},e.prototype.executeUpdate=function(t,n,i){var o=this,r=t.update;Di.missingOrEmpty(r)||r.forEach(function(t){var r=o.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&i.push(r),o.setMasterForRow(r,t,e.TOP_LEVEL,!1),n.update.push(r))})},e.prototype.addRowNode=function(t,n){var i=this.createNode(t,this.rootNode,e.TOP_LEVEL);return Di.exists(n)?Di.insertIntoArray(this.rootNode.allLeafChildren,i,n):this.rootNode.allLeafChildren.push(i),i},e.prototype.lookupRowNode=function(e){var t,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(Di.exists(n)){var i=n(e);if(!(t=this.allNodesMap[i]))return console.error("ag-Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(t=Di.find(this.rootNode.allLeafChildren,function(t){return t.data===e})))return console.error("ag-Grid: could not find data item as object was not found",e),null;return t},e.prototype.recursiveFunction=function(e,t,n){var i=this;if("string"!=typeof e){var o=[];return e.forEach(function(e){var r=i.createNode(e,t,n);o.push(r)}),o}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,n){var i=new So;return this.context.createBean(i),i.group=!1,this.setMasterForRow(i,e,n,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("ag-grid: duplicate node id '"+i.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},e.prototype.setMasterForRow=function(e,t,n,i){if(this.doingTreeData)e.setMaster(!1),i&&(e.expanded=!1);else if(e.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),i){var o=this.columnController.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(n+(o?o.length:0))}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.prototype.setLeafChildren=function(e){e.allLeafChildren=[],e.childrenAfterGroup&&e.childrenAfterGroup.forEach(function(t){t.group?t.allLeafChildren&&t.allLeafChildren.forEach(function(t){return e.allLeafChildren.push(t)}):e.allLeafChildren.push(t)})},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),Xh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(Yh||(Yh={}));var Zh,Jh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xh(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:ye.STEP_EVERYTHING}),t=this.refreshModel.bind(this,{step:ye.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_EVERYTHING_CHANGED,t),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ye.STEP_PIVOT})),this.addManagedListener(this.eventService,Ue.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var n=this.refreshModel.bind(this,{step:ye.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_GROUP_REMOVE_SINGLE_CHILDREN,n),this.addManagedListener(this.gridOptionsWrapper,Ur.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,n),this.rootNode=new So,this.nodeManager=new $h(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,n,i){var o,r=!1;do{o=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),u=Math.min(a,i),c=l;c<=u;c++){var h=this.getRow(c);if(h.rowHeightEstimated){var p=this.gridOptionsWrapper.getRowHeightForNode(h);h.setRowHeight(p.height),o=!0,r=!0}}o&&this.setRowTops()}while(o);return r},t.prototype.setRowTops=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var n=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_NORMAL,i=this.rowsToDisplay[t];if(Di.missing(i.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(i,n);i.setRowHeight(o.height,o.estimated)}i.setRowTop(e),i.setRowIndex(t),e+=i.rowHeight}},t.prototype.resetRowTops=function(e,t){if(e.clearRowTop(),e.hasChildren()){if(e.childrenAfterGroup&&(!t.isActive()||e.expanded))for(var n=0;n<e.childrenAfterGroup.length;n++)this.resetRowTops(e.childrenAfterGroup[n],t);e.sibling&&e.sibling.clearRowTop()}e.detailNode&&e.detailNode.clearRowTop()},t.prototype.ensureRowsAtPixel=function(e,t,n){var i=this;void 0===n&&(n=0);var o=this.getRowIndexAtPixel(t);return this.getRow(o)!==e[0]&&(e.forEach(function(e){Di.removeFromArray(i.rootNode.allLeafChildren,e)}),e.forEach(function(e,t){Di.insertIntoArray(i.rootNode.allLeafChildren,e,Math.max(o+n,0)+t)}),this.refreshModel({step:ye.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var n=null!=t?this.getRowIndexAtPixel(t):null,i=null!=n?this.getRow(n):null;if(i&&e&&i!==e&&null!=t){var o=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(o),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var n=this.getRowIndexAtPixel(e);if(!(t=this.getRow(n||0)))return"below"}return e-t.rowTop<t.rowHeight/2?"above":"below"},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowFound=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},t.prototype.getRowBounds=function(e){if(Di.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ye.STEP_MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ye.STEP_FILTER,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ye.STEP_SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return ye.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:ye.STEP_PIVOT}):this.refreshModel({step:ye.STEP_AGGREGATE})},t.prototype.createChangePath=function(e){var t=Di.missingOrEmpty(e),n=new Kr(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},t.prototype.refreshModel=function(e){var t=this,n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case ye.STEP_EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,n,e.afterColumnsChanged);case ye.STEP_FILTER:this.doFilter(n);case ye.STEP_PIVOT:this.doPivot(n);case ye.STEP_AGGREGATE:this.doAggregate(n);case ye.STEP_SORT:this.doSort(e.rowNodeTransactions,n);case ye.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,n),this.setRowTops(),this.eventService.dispatchEvent({type:Ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){t.$scope.$apply()},0)},t.prototype.isEmpty=function(){var e=Di.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Di.missing(this.rootNode)||e||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return Di.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var n,i=!t,o=!1,r=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(a){var l=i&&!o;if(i||a!==t&&a!==e||(i=!0),!a.group||!s){var u=i&&!o,c=a.isParentOfNode(n);(u||c)&&r.push(a)}l&&(a!==t&&a!==e||(o=!0,n=a===t?t:e))}),r},t.prototype.setDatasource=function(e){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Di.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var i=Math.floor((t+n)/2),o=this.rowsToDisplay[i];if(this.isRowInPixel(o,e))return i;o.rowTop<e?t=i+1:o.rowTop>e&&(n=i-1)}},t.prototype.isRowInPixel=function(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t},t.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=Di.last(this.rowsToDisplay);return e.rowTop+e.rowHeight}return 0},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(t,n){return e(t,n)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Yh.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Yh.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Yh.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Yh.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,t,n,i){if(!e)return i;for(var o=0;o<e.length;o++){var r=e[o];if(t(r,i++),r.hasChildren()){var s=null;switch(n){case Yh.Normal:s=r.childrenAfterGroup;break;case Yh.AfterFilter:s=r.childrenAfterFilter;break;case Yh.AfterFilterAndSort:s=r.childrenAfterSort;break;case Yh.PivotNodes:s=r.leafGroup?null:r.childrenAfterSort}s&&(i=this.recursivelyWalkNodesAndCallback(s,t,n,i))}}return i},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData();this.rootNode&&function n(i){i&&i.forEach(function(i){(t?Di.exists(i.childrenAfterGroup):i.group)&&(i.expanded=e,n(i.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:ye.STEP_MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:Ue.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,n,i,o){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:i}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(i)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&Di.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,n){"boolean"==typeof e[n]&&(t.expanded=e[n])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return Di.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(t,n){return e[n]=t.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:Ue.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:ye.STEP_EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){n.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],n=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(i){var o=e.nodeManager.updateRowData(i.rowDataTransaction,null);n.push(o),i.callback&&t.push(i.callback.bind(null,o))}),this.commonUpdateRowData(n),t.length>0&&window.setTimeout(function(){t.forEach(function(e){return e()})},0),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,t);return"number"==typeof e.addIndex&&(t=this.createRowNodeOrder()),this.commonUpdateRowData([n],t),n},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!e){var t=e?null:{};if(this.rootNode&&this.rootNode.allLeafChildren)for(var n=0;n<this.rootNode.allLeafChildren.length;n++)t[this.rootNode.allLeafChildren[n].id]=n;return t}},t.prototype.commonUpdateRowData=function(e,t){this.refreshModel({step:ye.STEP_EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:Ue.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ye.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(t){t.setRowHeight(t.rowHeight,!0);var n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},Qh([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Qh([le("columnController")],t.prototype,"columnController",void 0),Qh([le("filterManager")],t.prototype,"filterManager",void 0),Qh([le("$scope")],t.prototype,"$scope",void 0),Qh([le("selectionController")],t.prototype,"selectionController",void 0),Qh([le("valueService")],t.prototype,"valueService",void 0),Qh([le("valueCache")],t.prototype,"valueCache",void 0),Qh([le("columnApi")],t.prototype,"columnApi",void 0),Qh([le("gridApi")],t.prototype,"gridApi",void 0),Qh([le("filterStage")],t.prototype,"filterStage",void 0),Qh([le("sortStage")],t.prototype,"sortStage",void 0),Qh([le("flattenStage")],t.prototype,"flattenStage",void 0),Qh([ue("groupStage")],t.prototype,"groupStage",void 0),Qh([ue("aggregationStage")],t.prototype,"aggregationStage",void 0),Qh([ue("pivotStage")],t.prototype,"pivotStage",void 0),Qh([re],t.prototype,"init",null),Qh([ae("rowModel")],t)}(We),ep=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ep(t,e),t.prototype.execute=function(e){var t=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(t)},tp([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tp([le("selectableService")],t.prototype,"selectableService",void 0),tp([le("filterService")],t.prototype,"filterService",void 0),tp([ae("filterStage")],t)}(We),ip=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),op=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ip(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortForRowController(),n=Di.exists(t)&&t.length>0,i=n&&Di.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=i?this.calculateDirtyNodes(e.rowNodeTransactions):null,r=this.columnController.getValueColumns(),s=Di.missingOrEmpty(r);this.sortService.sort(t,n,i,o,e.changedPath,s)},t.prototype.calculateDirtyNodes=function(e){var t={},n=function(e){e&&e.forEach(function(e){return t[e.id]=!0})};return e.forEach(function(e){n(e.add),n(e.update),n(e.remove)}),t},op([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),op([le("sortService")],t.prototype,"sortService",void 0),op([le("sortController")],t.prototype,"sortController",void 0),op([le("columnController")],t.prototype,"columnController",void 0),op([ae("sortStage")],t)}(We),sp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ap=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sp(t,e),t.prototype.execute=function(e){var t=e.rowNode,n=[],i={value:0},o=this.columnController.isPivotMode(),r=o&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(r?[t]:t.childrenAfterSort,n,i,o,0),!r&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,n,i,0)),n},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,n,i,o){if(!Di.missingOrEmpty(e))for(var r=this.gridOptionsWrapper.isGroupHideOpenParents(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=!s&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=0;l<e.length;l++){var u=e[l],c=u.hasChildren(),h=s&&c&&1===u.childrenAfterGroup.length,p=a&&c&&u.leafGroup&&1===u.childrenAfterGroup.length;if(!(i&&!c||r&&u.expanded&&(!i||!u.leafGroup)||h||p)&&this.addRowNodeToRowsToDisplay(u,t,n,o),!i||!u.leafGroup)if(c){var d=h||p;(u.expanded||d)&&(this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,t,n,i,d?o:o+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(u),this.addRowNodeToRowsToDisplay(u.sibling,t,n,o)))}else if(u.master&&u.expanded){var f=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(f,t,n,o)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,n,i){var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(o?0:i)},t.prototype.ensureFooterNodeExists=function(e){if(!Di.exists(e.sibling)){var t=new So;this.context.createBean(t),Object.keys(e).forEach(function(n){t[n]=e[n]}),t.footer=!0,t.rowTop=null,t.oldRowTop=null,Di.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(Di.exists(e.detailNode))return e.detailNode;var t=new So;return this.context.createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,Di.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},ap([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ap([le("selectionController")],t.prototype,"selectionController",void 0),ap([le("columnController")],t.prototype,"columnController",void 0),ap([ae("flattenStage")],t)}(We),up=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return up(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,n,i,o,r){var s=this;o.forEachChangedNodeDepthFirst(function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),t){var l=n?s.doDeltaSort(a,e,i,o,r):s.doFullSort(a,e);a.childrenAfterSort=l.map(function(e){return e.rowNode})}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)}),this.updateGroupDataForHiddenOpenParents(o)},t.prototype.doFullSort=function(e,t){var n=e.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return n.sort(this.compareRowNodes.bind(this,t)),n},t.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},t.prototype.doDeltaSort=function(e,t,n,i,o){var r=e.childrenAfterSort.filter(function(e){var t=!n[e.id],r=o||i.canSkip(e);return t&&r}).map(this.mapNodeToSortedNode.bind(this)),s={};r.forEach(function(e){return s[e.rowNode.id]=e.rowNode});var a=e.childrenAfterFilter.filter(function(e){return!s[e.id]}).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,t)),0===a.length?r:0===r.length?a:this.mergeSortedArrays(t,r,a)},t.prototype.mergeSortedArrays=function(e,t,n){for(var i=[],o=0,r=0;o<t.length&&r<n.length;){var s=this.compareRowNodes(e,t[o],n[r]);i.push(s<0?t[o++]:n[r++])}for(;o<t.length;)i.push(t[o++]);for(;r<n.length;)i.push(n[r++]);return i},t.prototype.compareRowNodes=function(e,t,n){for(var i=t.rowNode,o=n.rowNode,r=0,s=e.length;r<s;r++){var a,l=e[r],u=-1===l.inverter,c=this.getValue(i,l.column),h=this.getValue(o,l.column),p=l.column.getColDef().comparator;if(0!==(a=p?p(c,h,i,o,u):Di.defaultComparator(c,h,this.gridOptionsWrapper.isAccentedSort())))return a*l.inverter}return t.currentPos-n.currentPos},t.prototype.getValue=function(e,t){return this.valueService.getValue(t,e)},t.prototype.updateChildIndexes=function(e){if(!Di.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,n=0;n<t.length;n++){var i=t[n],o=n===e.childrenAfterSort.length-1;i.setFirstChild(0===n),i.setLastChild(o),i.setChildIndex(n)}},t.prototype.updateGroupDataForHiddenOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var n=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach(function(e){e.hasChildren()&&n(e)})};e.executeFromRootNode(function(e){return n(e)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var n=this;Di.missing(e)||this.gridOptionsWrapper.isGroupHideOpenParents()&&e.forEach(function(e){n.columnController.getGroupDisplayColumns().forEach(function(i){var o=i.getColDef().showRowGroup;if("string"==typeof o){var r=n.columnController.getPrimaryColumn(o);if(r!==e.rowGroupColumn)if(t)e.setGroupValue(i.getId(),null);else{var s=e.getFirstChildOfFirstChild(r);s&&e.setGroupValue(i.getId(),s.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},cp([le("sortController")],t.prototype,"sortController",void 0),cp([le("columnController")],t.prototype,"columnController",void 0),cp([le("valueService")],t.prototype,"valueService",void 0),cp([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cp([re],t.prototype,"init",null),cp([ae("sortService")],t)}(We),pp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pp(t,e),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var n=this,i=function(t,i){t.hasChildren()?(t.childrenAfterFilter=e&&!i?t.childrenAfterGroup.filter(function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&n.filterManager.doesRowPassFilter(e);return t||i}):t.childrenAfterGroup,n.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var o=function(e,t){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var s=e.childrenAfterGroup[r],a=t||n.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?o(e.childrenAfterGroup[r],a):i(s,a)}i(e,t)};t.executeFromRootNode(function(e){return o(e,!1)})}else t.forEachChangedNodeDepthFirst(function(e){return i(e,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){t++,t+=e.allChildrenCount}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach(function(e){e.group?t+=e.allChildrenCount:t++}),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},dp([le("filterManager")],t.prototype,"filterManager",void 0),dp([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),dp([re],t.prototype,"postConstruct",null),dp([ae("filterService")],t)}(We),gp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gp(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(Di.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!Di.missing(t)){var n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Di.exists(e)&&e.forEach(function(e,r){var s=t(e),a=i[s];o&&(o[s]=r),a?(a.data!==e&&n.update.push(e),i[s]=void 0):n.add.push(e)}),Di.iterateObject(i,function(e,t){t&&n.remove.push(t.data)}),[n,o]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},mp([le("rowModel")],t.prototype,"rowModel",void 0),mp([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),mp([re],t.prototype,"postConstruct",null),mp([ae("immutableService")],t)}(We),vp={moduleName:t.ModuleNames.ClientSideRowModelModule,beans:[np,rp,lp,hp,fp,yp],rowModels:{clientSide:Jh}},Cp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wp=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.cacheParams=n,i}return Cp(t,e),t.prototype.getDisplayIndexStart=function(){return this.getBlockNumber()*this.cacheParams.blockSize},t.prototype.getDisplayIndexEnd=function(){return this.getDisplayIndexStart()+this.cacheParams.blockSize},t.prototype.createBlankRowNode=function(t){var n=e.prototype.createBlankRowNode.call(this);return n.uiLevel=0,this.setIndexAndTopOnRowNode(n,t),n},t.prototype.setDataAndId=function(e,t,n){Di.exists(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.setRowNode=function(t,n){e.prototype.setRowNode.call(this,t,n),this.setIndexAndTopOnRowNode(n,t)},t.prototype.init=function(){e.prototype.init.call(this)},t.prototype.getNodeIdPrefix=function(){return null},t.prototype.getRow=function(e){return this.getRowUsingLocalIndex(e)},t.prototype.setIndexAndTopOnRowNode=function(e,t){e.setRowIndex(t),e.rowTop=this.cacheParams.rowHeight*t},t.prototype.loadFromDatasource=function(){var e=this,t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};Di.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout(function(){e.cacheParams.datasource.getRows(t)},0)},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Lh),bp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ep=function(e){function t(t){return e.call(this,t)||this}return bp(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.moveItemsDown=function(e,t,n){for(var i=e.getStartRow(),o=t+n,r=e.getEndRow()-1;r>=i;r--)if(!(r<o)){var s=this.getRow(r-n,!0);s?e.setRowNode(r,s):(e.setBlankRowNode(r),e.setDirty())}},t.prototype.insertItems=function(e,t,n){for(var i=e.getStartRow(),o=e.getEndRow(),r=[],s=0;s<n.length;s++){var a=t+s;if(a>=i&&a<o){var l=e.setNewData(a,n[s]);r.push(l)}}return r},t.prototype.insertItemsAtIndex=function(e,t){var n=this,i=[];this.forEachBlockInReverseOrder(function(o){o.getEndRow()<=e||(n.moveItemsDown(o,e,t.length),n.insertItems(o,e,t).forEach(function(e){return i.push(e)}))}),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+t.length),this.onCacheUpdated(),this.eventService.dispatchEvent({type:Ue.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var n=Math.floor(e/this.cacheParams.blockSize),i=this.getBlock(n);if(!i){if(t)return null;i=this.createBlock(n)}return i.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new wp(e,this.cacheParams));return this.postCreateBlock(t),t},t.prototype.refreshCache=function(){this.forEachBlockInOrder(function(e){return e.setDirty()}),this.checkBlockToLoad()},Sp([le("columnApi")],t.prototype,"columnApi",void 0),Sp([le("gridApi")],t.prototype,"gridApi",void 0),Sp([(0,n=he("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),t;var n}(Bh),_p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Op=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},xp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _p(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,n,i){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}))},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.isLastRowFound=function(){return null!=this.infiniteCache&&this.infiniteCache.isMaxRowFound()},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!Di.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return ye.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){Di.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:Ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=this.createBean(new Gh(e,t)),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(e,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Ai},this.infiniteCache=this.createBean(new Ep(this.cacheParams)),this.infiniteCache.addEventListener(Bh.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache)),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader=this.destroyBean(this.rowNodeBlockLoader))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){return this.infiniteCache?this.infiniteCache.getRow(e):null},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode(function(n){n.id===e&&(t=n)}),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e,new Ai)},t.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},t.prototype.updateRowData=function(e){Di.exists(e.remove)||Di.exists(e.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):Di.missing(e.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(e.addIndex,e.add)},t.prototype.isRowPresent=function(e){return!1},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},t.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},t.prototype.setVirtualRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(e,t)},t.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},Op([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Op([le("filterManager")],t.prototype,"filterManager",void 0),Op([le("sortController")],t.prototype,"sortController",void 0),Op([le("selectionController")],t.prototype,"selectionController",void 0),Op([le("gridApi")],t.prototype,"gridApi",void 0),Op([le("columnApi")],t.prototype,"columnApi",void 0),Op([le("rowRenderer")],t.prototype,"rowRenderer",void 0),Op([re],t.prototype,"init",null),Op([se],t.prototype,"destroyDatasource",null),Op([ae("rowModel")],t)}(We),Tp={moduleName:t.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:xp}},Rp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pp=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Dp=function(){function e(e){this.groupColumns=[];var t=e.valueService,n=e.gridOptionsWrapper,i=e.processCellCallback,o=e.processHeaderCallback,r=e.processGroupHeaderCallback,s=e.processRowGroupCallback;this.columnController=e.columnController,this.valueService=t,this.gridOptionsWrapper=n,this.processCellCallback=i,this.processHeaderCallback=o,this.processGroupHeaderCallback=r,this.processRowGroupCallback=s}return e.prototype.prepare=function(e){this.groupColumns=Di.filter(e,function(e){return!!e.getColDef().showRowGroup})},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,n,i){var o,r=this.gridOptionsWrapper.isGroupMultiAutoColumn()?i.rowGroupIndex:0;o=i&&i.group&&(t===r&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(i):this.valueService.getValue(e,i);var s=this.processCell(i,e,o,this.processCellCallback,n);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,n,i,o){return i?i({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},e}(),Ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rp(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var n=t.shouldRowBeSkipped||function(){return!1},i=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),r=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),s=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),a=this.gridOptionsWrapper.getContext(),l=this.columnController.isPivotMode(),u=this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE,c=!u&&t.onlySelected,h=[];if(h=Di.existsAndNotEmpty(t.columnKeys)?this.columnController.getGridColumns(t.columnKeys):t.allColumns&&!l?(h=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([ye.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),t.customHeader&&e.addCustomContent(t.customHeader),e.prepare(h),t.columnGroups){var p=new Ke,d=this.displayedGroupCreator.createDisplayedGroups(h,this.columnController.getGridBalancedTree(),p,null);this.recursivelyAddHeaderGroups(d,e,t.processGroupHeaderCallback)}if(!t.skipHeader){var f=e.onNewHeaderRow();h.forEach(function(e,t){f.onColumn(e,t,void 0)})}function g(l){if((!l.group||!t.skipGroups&&(1!==l.allChildrenCount||!(r||s&&l.leafGroup)))&&(!t.skipFooters||!l.footer)&&(!t.onlySelected||l.isSelected())&&(!t.skipPinnedTop||"top"!==l.rowPinned)&&(!t.skipPinnedBottom||"bottom"!==l.rowPinned)&&(-1!==l.level||l.leafGroup)&&!n({node:l,api:i,context:a})){var u=e.onNewBodyRow();if(h.forEach(function(e,t){u.onColumn(e,t,l)}),t.getCustomContentBelowRow){var c=t.getCustomContentBelowRow({node:l,api:i,columnApi:o,context:a});c&&e.addCustomContent(c)}}}return this.pinnedRowModel.forEachPinnedTopRow(g),l?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(g):this.rowModel.forEachNode(g):t.onlySelectedAllPages||c?this.selectionController.getSelectedNodes().forEach(function(e){g(e)}):u?this.rowModel.forEachNodeAfterFilterAndSort(g):this.rowModel.forEachNode(g),this.pinnedRowModel.forEachPinnedBottomRow(g),t.customFooter&&e.addCustomContent(t.customFooter),e.parse()},t.prototype.recursivelyAddHeaderGroups=function(e,t,n){var i=[];e.forEach(function(e){e.getChildren&&e.getChildren().forEach(function(e){return i.push(e)})}),e.length>0&&e[0]instanceof be&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)},t.prototype.doAddHeaderHeader=function(e,t,n){var i=this,o=e.onNewHeaderGroupingRow(),r=0;t.forEach(function(e){var t,s=e;t=n?n({columnGroup:s,api:i.gridOptionsWrapper.getApi(),columnApi:i.gridOptionsWrapper.getColumnApi(),context:i.gridOptionsWrapper.getContext()}):i.columnController.getDisplayNameForColumnGroup(s,"header"),o.onColumn(t||"",r++,s.getLeafColumns().length-1)})},Pp([le("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Pp([le("columnController")],t.prototype,"columnController",void 0),Pp([le("rowModel")],t.prototype,"rowModel",void 0),Pp([le("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Pp([le("selectionController")],t.prototype,"selectionController",void 0),Pp([le("columnFactory")],t.prototype,"columnFactory",void 0),Pp([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pp([ae("gridSerializer")],t)}(We);!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(Zh||(Zh={}));var kp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ip=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Fp=function(e){function t(t){var n=e.call(this,t)||this;n.isFirstLine=!0,n.result="";var i=t.columnSeparator;return n.suppressQuotes=t.suppressQuotes,n.columnSeparator=i,n}return kp(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(e){t.beginNewLine(),e.forEach(function(e,n){0!==n&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,ye.EXPORT_TYPE_CSV,n))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Dp),Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kp(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this;return new Fp({columnController:t.columnController,valueService:t.valueService,gridOptionsWrapper:t.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Ip([le("columnController")],t.prototype,"columnController",void 0),Ip([le("valueService")],t.prototype,"valueService",void 0),Ip([le("downloader")],t.prototype,"downloader",void 0),Ip([le("gridSerializer")],t.prototype,"gridSerializer",void 0),Ip([le("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ip([re],t.prototype,"postConstruct",null),Ip([ae("csvCreator")],t)}(function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,i=t.data,o=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(i)),i},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return Di.assign(n,t),Di.assign(n,e),n},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}()),Mp=function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var n=document.createElement("a"),i=window.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout(function(){window.URL.revokeObjectURL(i)},0)}},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ae("downloader")],e)}(),Lp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vp="\r\n",Gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lp(t,e),t.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map(function(t){return t+'="'+e[t]+'"'}).join(" ")+" ?>"},t.prototype.createXml=function(e,t){var n=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(e){Object.keys(e.map).forEach(function(o){i+=n.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(o){i+=n.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)}));var o="<"+e.name+i;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">"+Vp:(o+=">\r\n",e.children&&e.children.forEach(function(e){o+=n.createXml(e,t)}),o+"</"+e.name+">"+Vp):o+"/>"+Vp},t.prototype.returnAttributeIfPopulated=function(e,t,n){if(!t&&""!==t&&0!==t)return"";var i=t;return"boolean"==typeof t&&n&&(i=n(t))," "+e+'="'+i+'"'},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ae("xmlFactory")],t)}(We),Hp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wp=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],Bp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.folders=[],t.files=[],t.addFolder=function(e){t.folders.push({path:e,created:new Date})},t}return Hp(t,e),t.prototype.addFolders=function(e){e.forEach(this.addFolder)},t.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},t.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),n=t.length,i="",o=0,r=0,s=0,a=t;s<a.length;s++){var l=this.getHeader(a[s],o),u=l.fileHeader,c=l.folderHeader,h=l.content;o+=u.length+h.length,r+=c.length,e+=u+h,i+=c}return e+i+this.buildFolderEnd(n,r,o)},t.prototype.getHeader=function(e,t){var n=e.content,i=e.path,o=e.created,r=Di.decToHex,s=(0,Di.utf8_encode)(i),a=s!==i,l=this.convertTime(o),u=this.convertDate(o),c="";if(a){var h=r(1,1)+r(this.getFromCrc32Table(s),4)+s;c="up"+r(h.length,2)+h}var p="\n\0"+(a?"\0\b":"\0\0")+"\0\0"+r(l,2)+r(u,2)+r(n?this.getFromCrc32Table(n):0,4)+r(n?n.length:0,4)+r(n?n.length:0,4)+r(s.length,2)+r(c.length,2);return{fileHeader:"PK\x03\x04"+p+s+c,folderHeader:"PK\x01\x02\x14\0"+p+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+r(t,4)+s+c,content:n||""}},t.prototype.buildFolderEnd=function(e,t,n){var i=Di.decToHex;return"PK\x05\x06\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+"\0\0"},t.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},t.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var n=0,i=0;i<e.length;i++)n=e.charCodeAt(i),t=t>>>8^Wp[255&(t^n)];return-1^t},t.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},t.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}([ae("zipContainer")],t)}(We),jp={moduleName:t.ModuleNames.CsvExportModule,beans:[Np,Mp,Gp,Ap,Bp]};ve.register(vp,!1),ve.register(Tp,!1),ve.register(jp,!1),t.AgAbstractField=Zs,t.AgAngleSelect=Zc,t.AgCheckbox=ia,t.AgColorPicker=Hc,t.AgDialog=Oc,t.AgGroupComponent=wc,t.AgInputNumberField=Bc,t.AgInputRange=zc,t.AgInputTextArea=Pc,t.AgInputTextField=Tc,t.AgPanel=Ec,t.AgRadioButton=nu,t.AgSelect=$c,t.AgSlider=kc,t.AgToggleButton=eh,t.AlignedGridsService=Iu,t.AnimateShowChangeCellRenderer=Yo,t.AnimateSlideCellRenderer=Xo,t.AutoWidthCalculator=Ol,t.Autowired=le,t.BaseComponentWrapper=Kh,t.Bean=ae,t.BeanStub=We,t.BodyDropPivotTarget=Pa,t.BodyDropTarget=Ia,t.CellComp=Ns,t.CellNavigationService=$l,t.CellPositionUtils=lh,t.CellRendererFactory=Ql,t.ChangedPath=Kr,t.CheckboxSelectionComponent=Oo,t.ColDefUtil=wt,t.Color=bt,t.Column=we,t.ColumnApi=Qr,t.ColumnController=it,t.ColumnFactory=ze,t.ColumnGroup=be,t.ColumnKeyCreator=f,t.ColumnUtils=dt,t.Component=Li,t.ComponentUtil=Ct,t.Constants=ye,t.Context=ie,t.CssClassApplier=js,t.DateFilter=po,t.DisplayedGroupCreator=mt,t.DragAndDropService=os,t.DragService=Ll,t.Environment=qu,t.EventService=me,t.Events=Ue,t.ExpressionService=pl,t.FilterManager=Ya,t.FloatingFilterMapper=va,t.FloatingFilterWrapper=ba,t.FocusController=jl,t.Grid=Th,t.GridApi=ul,t.GridCore=Al,t.GridListener=function(e){return Bi.bind(this,e)},t.GridOptionsWrapper=Ur,t.GridPanel=al,t.GroupCellRenderer=Ko,t.GroupInstanceIdCreator=Ke,t.GuiListener=function(e,t){return ji.bind(this,e,t)},t.HeaderContainer=Ma,t.HeaderNavigationService=Ha,t.HeaderPositionUtils=Eh,t.HeaderRootComp=za,t.HeaderRowComp=Oa,t.HorizontalResizeService=Rl,t.KeyCode=Ki,t.KeyName=Wa,t.LargeTextCellEditor=lr,t.Logger=Sl,t.LoggerFactory=bl,t.ManagedFocusComponent=eo,t.ModuleRegistry=ve,t.MouseEventService=Kl,t.MoveColumnController=Ta,t.NumberFilter=hr,t.NumberSequence=Ai,t.Optional=ue,t.OriginalColumnGroup=Se,t.PaginationProxy=bu,t.PinnedRowModel=hh,t.PopupComponent=Gi,t.PopupEditorWrapper=ps,t.PopupSelectCellEditor=sr,t.PopupService=vl,t.PopupTextCellEditor=or,t.PostConstruct=re,t.PreConstruct=oe,t.PreDestroy=se,t.Promise=ki,t.PropertyKeys=yt,t.ProvidedFilter=io,t.Qualifier=he,t.QuerySelector=function(e){return Wi.bind(this,e)},t.RefSelector=Hi,t.ResizeObserverService=fc,t.RowComp=Gs,t.RowNode=So,t.RowNodeBlock=Lh,t.RowNodeBlockLoader=Gh,t.RowNodeCache=Bh,t.RowPositionUtils=sh,t.RowRenderer=Bs,t.ScalarFilter=uo,t.ScrollVisibleService=su,t.SelectCellEditor=nr,t.SelectableService=rc,t.SelectionController=$r,t.SetLeftFeature=Ys,t.SimpleFilter=ao,t.SortController=Hl,t.StandardMenuFactory=Fl,t.StylingService=uu,t.TabbedLayout=Fh,t.TemplateService=gl,t.TextCellEditor=Yi,t.TextFilter=Tr,t.TextFloatingFilter=Fr,t.Timer=Ii,t.TooltipFeature=Cs,t.TouchListener=fo,t.UserComponentFactory=jo,t.UserComponentRegistry=Lr,t.ValueCache=Tu,t.ValueFormatterService=eu,t.ValueService=Qa,t.VanillaFrameworkOverrides=iu,t.VirtualList=Uh,t._=Di,t.defaultGroupComparator=function(e,t,n,i,r){void 0===r&&(r=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var s=o(n)&&n.group,a=o(i)&&i.group,l=!s&&!a;return s&&a?c(n.key,i.key,r):l?c(e,t,r):s?1:-1},t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",Rh],scope:!0}})},t.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!Ah){Ah=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);Ct.ALL_PROPERTIES.forEach(function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)},enumerable:!0,configurable:!0})});var t=e;t.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var n={};n[e]={currentValue:t},this.onChange(n)},t.onChange=function(e){this._initialised&&Ct.processOnChange(e,this._gridOptions,this.api,this.columnApi)},t.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},t.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=Ct.copyAttributesToGridOptions(e,this),this._agGrid=new Th(this,this._gridOptions,{globalEventListener:t}),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},t.createdCallback=function(){for(var e=0;e<this.attributes.length;e++)this.setPropertyFromAttribute(this.attributes[e])},t.setPropertyFromAttribute=function(e){var t,n="string"==typeof(t=e.nodeName)?t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}):t,i=e.nodeValue;Ct.ALL_PROPERTIES.indexOf(n)>=0&&(this[n]=i)},t.attachedCallback=function(e){},t.detachedCallback=function(e){},t.attributeChangedCallback=function(e){this.setPropertyFromAttribute(this.attributes[e])},t.globalEventListener=function(e,t){var n=e.toLowerCase(),i=new Event(n);i.agGridDetails=t,this.dispatchEvent(i);var o="on"+n;"function"==typeof this[o]&&this[o](i)},document.registerElement("ag-grid",{prototype:e})}},t.simpleHttpRequest=function(e){return new ki(function(t){var n=new XMLHttpRequest;n.open("GET",e.url),n.send(),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(JSON.parse(n.responseText))}})},t.stringToArray=St},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let o=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=e},get useDeprecatedSynchronousErrorHandling(){return o}};function s(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function u(e){return null!==e&&"object"==typeof e}const c=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:o,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(r)){o&&(this._unsubscribe=void 0);try{r.call(this)}catch(a){t=a instanceof c?p(a.errors):[a]}}if(l(s)){let e=-1,n=s.length;for(;++e<n;){const n=s[e];if(u(n))try{n.unsubscribe()}catch(a){t=t||[],a instanceof c?t=t.concat(p(a.errors)):t.push(a)}}}if(t)throw new c(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof c?t.errors:t),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[d](){return this}static create(e,t,n){const i=new f(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends f{constructor(e,t,n,o){let r;super(),this._parentSubscriber=e;let s=this;i(t)?r=t:t&&(r=t.next,n=t.error,o=t.complete,t!==a&&(s=Object.create(t),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=r,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=r;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(e){return e}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,o=function(e,t,n){if(e){if(e instanceof f)return e;if(e[d])return e[d]()}return e||t||n?new f(e,t,n):new f(a)}(e,t,n);if(o.add(i?i.call(o,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),r.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(o){n(o),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const w=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class b extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class S extends f{constructor(e){super(e),this.destination=e}}let E=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new S(this)}lift(e){const t=new _(this,this);return t.operator=e,t}next(e){if(this.closed)throw new w;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let o=0;o<n;o++)i[o].next(e)}}error(e){if(this.closed)throw new w;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let o=0;o<n;o++)i[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new w;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new w;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new b(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new _(e,t),e})();class _ extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function O(e){return e&&"function"==typeof e.schedule}function x(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(e,t))}}class T{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new R(e,this.project,this.thisArg))}}class R extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const P=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=D(),k=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function I(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const F=e=>{if(e&&"function"==typeof e[m])return i=e,e=>{const t=i[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(k(e))return P(e);if(I(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);if(e&&"function"==typeof e[A])return t=e,e=>{const n=t[A]();for(;;){let t;try{t=n.next()}catch(i){return e.error(i),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function N(e,t){return new v(n=>{const i=new h;let o=0;return i.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function M(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new v(n=>{const i=new h;return i.add(t.schedule(()=>{const o=e[m]();i.add(o.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(I(e))return function(e,t){return new v(n=>{const i=new h;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(k(e))return N(e,t);if(function(e){return e&&"function"==typeof e[A]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new v(n=>{const i=new h;let o;return i.add(()=>{o&&"function"==typeof o.return&&o.return()}),i.add(t.schedule(()=>{o=e[A](),i.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=o.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof v?e:new v(F(e))}class L extends f{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends f{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function G(e,t){if(!t.closed)return e instanceof v?e.subscribe(t):F(e)(t)}function H(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(H((n,i)=>M(e(n,i)).pipe(x((e,o)=>t(n,e,i,o))),n)):("number"==typeof t&&(n=t),t=>t.lift(new W(e,n)))}class W{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new B(e,this.project,this.concurrent))}}class B extends V{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new L(this),n=this.destination;n.add(t);const i=G(e,t);i!==t&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function j(e=Number.POSITIVE_INFINITY){return H(y,e)}function z(e,t){return t?N(e,t):new v(P(e))}function U(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return O(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof v?e[0]:j(t)(z(e,n))}function K(){return function(e){return e.lift(new q(e))}}class q{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new Y(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o}}class Y extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class $ extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return K()(this)}}const X=(()=>{const e=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Q extends S{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Z(){return new E}function J(e){return{toString:e}.toString()}const ee="__parameters__";function te(e,t,n){return J(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return n.annotation=t,n;function n(e,n,i){const o=e.hasOwnProperty(ee)?e[ee]:Object.defineProperty(e,ee,{value:[]})[ee];for(;o.length<=i;)o.push(null);return(o[i]=o[i]||[]).push(t),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const ne=te("Inject",e=>({token:e})),ie=te("Optional"),oe=te("Self"),re=te("SkipSelf");function se(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(se).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ae(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ue(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const he=ce;function pe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return fe(e,me)||fe(e,ve)}function fe(e,t){return e.hasOwnProperty(t)?e[t]:null}function ge(e){return e&&(e.hasOwnProperty(ye)||e.hasOwnProperty(Ce))?e[ye]:null}const me=le({"\u0275prov":le}),ye=le({"\u0275inj":le}),ve=le({ngInjectableDef:le}),Ce=le({ngInjectorDef:le});class we{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const be=new we("AnalyzeForEntryComponents");var Se=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({});const Ee="undefined"!=typeof globalThis&&globalThis,_e="undefined"!=typeof window&&window,Oe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe="undefined"!=typeof global&&global,Te=Ee||xe||_e||Oe,Re=le({__forward_ref__:le});function Pe(e){return e.__forward_ref__=Pe,e.toString=function(){return se(this())},e}function De(e){return Ae(e)?e():e}function Ae(e){return"function"==typeof e&&e.hasOwnProperty(Re)&&e.__forward_ref__===Pe}const ke=Function;function Ie(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ie(i,t)):t!==e&&t.push(i)}return t}function Fe(e,t){e.forEach(e=>Array.isArray(e)?Fe(e,t):t(e))}function Ne(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Me(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Le(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Ve(e,t,n){let i=He(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let o=e.length;if(o==t)e.push(n,i);else if(1===o)e.push(i,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Ge(e,t){const n=He(e,t);if(n>=0)return e[1|n]}function He(e,t){return function(e,t,n){let i=0,o=e.length>>1;for(;o!==i;){const n=i+(o-i>>1),r=e[n<<1];if(t===r)return n<<1;r>t?o=n:i=n+1}return~(o<<1)}(e,t)}var We=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Be={},je=[],ze=le({"\u0275cmp":le}),Ue=le({"\u0275dir":le}),Ke=le({"\u0275pipe":le}),qe=le({"\u0275mod":le}),Ye=le({"\u0275loc":le}),$e=le({"\u0275fac":le}),Xe=le({__NG_ELEMENT_ID__:le});let Qe=0;function Ze(e){return J(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||We.Emulated,id:"c",styles:e.styles||je,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,r=e.pipes;return n.id+=Qe++,n.inputs=it(e.inputs,t),n.outputs=it(e.outputs),o&&o.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Je):null,n.pipeDefs=r?()=>("function"==typeof r?r():r).map(et):null,n})}function Je(e){return st(e)||function(e){return e[Ue]||null}(e)}function et(e){return function(e){return e[Ke]||null}(e)}const tt={};function nt(e){const t={type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&J(()=>{tt[e.id]=e.type}),t}function it(e,t){if(null==e)return Be;const n={};for(const i in e)if(e.hasOwnProperty(i)){let o=e[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),n[o]=i,t&&(t[o]=r)}return n}const ot=Ze;function rt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function st(e){return e[ze]||null}function at(e,t){const n=e[qe]||null;if(!n&&!0===t)throw new Error(`Type ${se(e)} does not have '\u0275mod' property.`);return n}function lt(e){return"string"==typeof e?e:null==e?"":""+e}function ut(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():lt(e)}var ct=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let ht;function pt(e){const t=ht;return ht=e,t}function dt(e,t,n){const i=de(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ct.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${se(e)}]`)}const ft={},gt=/\n/gm,mt="__source",yt=le({provide:String,useValue:le});let vt=void 0;function Ct(e){const t=vt;return vt=e,t}function wt(e,t=ct.Default){if(void 0===vt)throw new Error("inject() must be called from an injection context");return null===vt?dt(e,void 0,t):vt.get(e,t&ct.Optional?null:void 0,t)}function bt(e,t=ct.Default){return(ht||wt)(De(e),t)}const St=bt;function Et(e){const t=[];for(let n=0;n<e.length;n++){const i=De(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ct.Default;for(let t=0;t<i.length;t++){const o=i[t];o instanceof ie||"Optional"===o.ngMetadataName||o===ie?n|=ct.Optional:o instanceof re||"SkipSelf"===o.ngMetadataName||o===re?n|=ct.SkipSelf:o instanceof oe||"Self"===o.ngMetadataName||o===oe?n|=ct.Self:e=o instanceof ne||o===ne?o.token:o}t.push(bt(e,n))}else t.push(bt(i))}return t}let _t=void 0;function Ot(){return void 0!==_t?_t:"undefined"!=typeof document?document:void 0}const xt=20,Tt=10;function Rt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Pt(e){return Array.isArray(e)&&!0===e[1]}function Dt(e){return 0!=(8&e.flags)}function At(e){return 2==(2&e.flags)}function kt(e){return 1==(1&e.flags)}function It(e){return null!==e.template}function Ft(e){return!!e.listen}const Nt={createRenderer:(e,t)=>Ot()};function Mt(e){for(;Array.isArray(e);)e=e[0];return e}function Lt(e,t){return Mt(t[e])}function Vt(e,t){return Mt(t[e.index])}function Gt(e,t){return e.data[t]}function Ht(e,t){return e[t]}function Wt(e,t){const n=t[e];return Rt(n)?n:n[0]}function Bt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function jt(e){return 4==(4&e[2])}function zt(e){return 128==(128&e[2])}function Ut(e,t){return null==t?null:e[t]}function Kt(e){e[18]=0}function qt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Yt={lFrame:Cn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Yt.bindingsEnabled}function Xt(){return Yt.lFrame.lView}function Qt(){return Yt.lFrame.tView}function Zt(e){Yt.lFrame.contextLView=e}function Jt(){let e=en();for(;null!==e&&64===e.type;)e=e.parent;return e}function en(){return Yt.lFrame.currentTNode}function tn(e,t){const n=Yt.lFrame;n.currentTNode=e,n.isParent=t}function nn(){return Yt.lFrame.isParent}function on(){Yt.lFrame.isParent=!1}function rn(){return Yt.isInCheckNoChangesMode}function sn(e){Yt.isInCheckNoChangesMode=e}function an(){const e=Yt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ln(){return Yt.lFrame.bindingIndex}function un(){return Yt.lFrame.bindingIndex++}function cn(e){const t=Yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function hn(e,t){const n=Yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,pn(t)}function pn(e){Yt.lFrame.currentDirectiveIndex=e}function dn(){return Yt.lFrame.currentQueryIndex}function fn(e){Yt.lFrame.currentQueryIndex=e}function gn(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function mn(e,t,n){if(n&ct.SkipSelf){let i=t,o=e;for(;i=i.parent,!(null!==i||n&ct.Host||(i=gn(o),null===i)||(o=o[15],10&i.type)););if(null===i)return!1;t=i,e=o}const i=Yt.lFrame=vn();return i.currentTNode=t,i.lView=e,!0}function yn(e){const t=vn(),n=e[1];Yt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vn(){const e=Yt.lFrame,t=null===e?null:e.child;return null===t?Cn(e):t}function Cn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function wn(){const e=Yt.lFrame;return Yt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const bn=wn;function Sn(){const e=wn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function En(){return Yt.lFrame.selectedIndex}function _n(e){Yt.lFrame.selectedIndex=e}function On(){const e=Yt.lFrame;return Gt(e.tView,e.selectedIndex)}let xn;function Tn(e){var t;return(null===(t=function(){if(void 0===xn&&(xn=null,Te.trustedTypes))try{xn=Te.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return xn}())||void 0===t?void 0:t.createHTML(e))||e}class Rn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Pn extends Rn{getTypeName(){return"HTML"}}class Dn extends Rn{getTypeName(){return"Style"}}class An extends Rn{getTypeName(){return"Script"}}class kn extends Rn{getTypeName(){return"URL"}}class In extends Rn{getTypeName(){return"ResourceURL"}}function Fn(e){return e instanceof Rn?e.changingThisBreaksApplicationSecurity:e}function Nn(e,t){const n=Mn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function Mn(e){return e instanceof Rn&&e.getTypeName()||null}let Ln=!0,Vn=!1;function Gn(){return Vn=!0,Ln}class Hn{getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Tn(e),"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class Wn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Tn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Tn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(e){return(e=String(e)).match(Bn)||e.match(jn)?e:(Gn()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Un(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Kn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const qn=Un("area,br,col,hr,img,wbr"),Yn=Un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$n=Un("rp,rt"),Xn=Kn($n,Yn),Qn=Kn(qn,Kn(Yn,Un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn($n,Un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),Zn=Un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jn=Un("srcset"),ei=Kn(Zn,Jn,Un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ti=Un("script,style,template");class ni{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Qn.hasOwnProperty(t))return this.sanitizedSomething=!0,!ti.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let o=0;o<n.length;o++){const e=n.item(o),t=e.name,r=t.toLowerCase();if(!ei.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=e.value;Zn[r]&&(s=zn(s)),Jn[r]&&(i=s,s=(i=String(i)).split(",").map(e=>zn(e.trim())).join(", ")),this.buf.push(" ",t,'="',ri(s),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Qn.hasOwnProperty(t)&&!qn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ri(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const ii=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oi=/([^\#-~ |!])/g;function ri(e){return e.replace(/&/g,"&amp;").replace(ii,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(oi,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let si;function ai(e,t){let n=null;try{si=si||function(e){return function(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(e){return!1}}()?new Hn:new Wn(e)}(e);let i=t?String(t):"";n=si.getInertBodyElement(i);let o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=n.innerHTML,n=si.getInertBodyElement(i)}while(i!==r);const s=new ni,a=s.sanitizeChildren(li(n)||n);return Gn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=li(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function li(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ui=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ci(e){const t=function(){const e=Xt();return e&&e[12]}();return t?t.sanitize(ui.HTML,e)||"":Nn(e,"HTML")?Fn(e):ai(Ot(),lt(e))}function hi(e,t){return e.hasOwnProperty($e)?e[$e]:null}class pi extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function di(e,t){const n=t?" in "+t:"";throw new pi("201",`No provider for ${ut(e)} found${n}`)}class fi{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function gi(){return mi}function mi(e){return e.type.prototype.ngOnChanges&&(e.setInput=vi),yi}function yi(){const e=Ci(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Be)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function vi(e,t,n,i){const o=Ci(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Be,current:null}),r=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],l=s[a];r[a]=new fi(l&&l.currentValue,t,s===Be),e[i]=t}function Ci(e){return e.__ngSimpleChanges__||null}function wi(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:o,ngAfterViewInit:r,ngAfterViewChecked:s,ngOnDestroy:a}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),r&&(e.viewHooks||(e.viewHooks=[])).push(-n,r),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function bi(e,t,n){_i(e,t,3,n)}function Si(e,t,n,i){(3&e[2])===n&&_i(e,t,n,i)}function Ei(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _i(e,t,n,i){const o=null!=i?i:-1;let r=0;for(let s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(r=t[s],null!=i&&r>=i)break}else t[s]<0&&(e[18]+=65536),(r<o||-1==o)&&(Oi(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Oi(e,t,n,i){const o=n[i]<0,r=n[i+1],s=e[o?-n[i]:n[i]];o?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(s)):r.call(s)}gi.ngInherit=!0;const xi=-1;class Ti{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Ri(e,t,n){const i=Ft(e);let o=0;for(;o<n.length;){const r=n[o];if("number"==typeof r){if(0!==r)break;o++;const s=n[o++],a=n[o++],l=n[o++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=r,a=n[++o];Di(s)?i&&e.setProperty(t,s,a):i?e.setAttribute(t,s,a):t.setAttribute(s,a),o++}}return o}function Pi(e){return 3===e||4===e||6===e}function Di(e){return 64===e.charCodeAt(0)}function Ai(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?n=o:0===n||ki(e,n,o,null,-1===n||2===n?t[++i]:null)}}return e}function ki(e,t,n,i,o){let r=0,s=e.length;if(-1===t)s=-1;else for(;r<e.length;){const n=e[r++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==o&&(e[r+1]=o));if(i===e[r+1])return void(e[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==s&&(e.splice(s,0,t),r=s+1),e.splice(r++,0,n),null!==i&&e.splice(r++,0,i),null!==o&&e.splice(r++,0,o)}function Ii(e){return e!==xi}function Fi(e){return 32767&e}function Ni(e,t){let n=e>>16,i=t;for(;n>0;)i=i[15],n--;return i}let Mi=!0;function Li(e){const t=Mi;return Mi=e,t}let Vi=0;function Gi(e,t){const n=Wi(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Hi(i.data,e),Hi(t,null),Hi(i.blueprint,null));const o=Bi(e,t),r=e.injectorIndex;if(Ii(o)){const e=Fi(o),n=Ni(o,t),i=n[1].data;for(let o=0;o<8;o++)t[r+o]=n[e+o]|i[e+o]}return t[r+8]=o,r}function Hi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,o=t;for(;null!==o;){const e=o[1],t=e.type;if(i=2===t?e.declTNode:1===t?o[6]:null,null===i)return xi;if(n++,o=o[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return xi}function ji(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Xe)&&(i=n[Xe]),null==i&&(i=n[Xe]=Vi++);const o=255&i,r=1<<o,s=64&o,a=32&o,l=t.data;128&o?s?a?l[e+7]|=r:l[e+6]|=r:a?l[e+5]|=r:l[e+4]|=r:s?a?l[e+3]|=r:l[e+2]|=r:a?l[e+1]|=r:l[e]|=r}(e,t,n)}function zi(e,t,n){if(n&ct.Optional)return e;di(t,"NodeInjector")}function Ui(e,t,n,i){if(n&ct.Optional&&void 0===i&&(i=null),0==(n&(ct.Self|ct.Host))){const o=e[9],r=pt(void 0);try{return o?o.get(t,i,n&ct.Optional):dt(t,i,n&ct.Optional)}finally{pt(r)}}return zi(i,t,n)}function Ki(e,t,n,i=ct.Default,o){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xe)?e[Xe]:void 0;return"number"==typeof t?t>=0?255&t:Yi:t}(n);if("function"==typeof r){if(!mn(t,e,i))return i&ct.Host?zi(o,n,i):Ui(t,n,i,o);try{const e=r();if(null!=e||i&ct.Optional)return e;di(n)}finally{bn()}}else if("number"==typeof r){let o=null,s=Wi(e,t),a=xi,l=i&ct.Host?t[16][6]:null;for((-1===s||i&ct.SkipSelf)&&(a=-1===s?Bi(e,t):t[s+8],a!==xi&&Ji(i,!1)?(o=t[1],s=Fi(a),t=Ni(a,t)):s=-1);-1!==s;){const e=t[1];if(Zi(r,s,e.data)){const e=$i(s,t,n,o,i,l);if(e!==qi)return e}a=t[s+8],a!==xi&&Ji(i,t[1].data[s+8]===l)&&Zi(r,s,t)?(o=e,s=Fi(a),t=Ni(a,t)):s=-1}}}return Ui(t,n,i,o)}const qi={};function Yi(){return new eo(Jt(),Xt())}function $i(e,t,n,i,o,r){const s=t[1],a=s.data[e+8],l=Xi(a,s,n,null==i?At(a)&&Mi:i!=s&&0!=(3&a.type),o&ct.Host&&r===a);return null!==l?Qi(t,s,l,a):qi}function Xi(e,t,n,i,o){const r=e.providerIndexes,s=t.data,a=1048575&r,l=e.directiveStart,u=r>>20,c=o?a+u:e.directiveEnd;for(let h=i?a:a+u;h<c;h++){const e=s[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(o){const e=s[l];if(e&&It(e)&&e.type===n)return l}return null}function Qi(e,t,n,i){let o=e[n];const r=t.data;if(o instanceof Ti){const s=o;s.resolving&&function(e,t){throw new pi("200","Circular dependency in DI detected for "+e)}(ut(r[n]));const a=Li(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?pt(s.injectImpl):null;mn(e,i,ct.Default);try{o=e[n]=s.factory(void 0,r,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=t.type.prototype;if(i){const i=mi(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r))}(n,r[n],t)}finally{null!==l&&pt(l),Li(a),s.resolving=!1,bn()}}return o}function Zi(e,t,n){const i=64&e,o=32&e;let r;return r=128&e?i?o?n[t+7]:n[t+6]:o?n[t+5]:n[t+4]:i?o?n[t+3]:n[t+2]:o?n[t+1]:n[t],!!(r&1<<e)}function Ji(e,t){return!(e&ct.Self||e&ct.Host&&t)}class eo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Ki(this._tNode,this._lView,e,void 0,t)}}function to(e){const t=e;if(Ae(e))return()=>{const e=to(De(t));return e?e():null};let n=hi(t);if(null===n){const e=ge(t);n=e&&e.factory}return n||null}function no(e){return J(()=>{const t=e.prototype.constructor,n=t[$e]||to(t),i=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==i;){const e=o[$e]||to(o);if(e&&e!==n)return e;o=Object.getPrototypeOf(o)}return e=>new e})}function io(e){return e.ngDebugContext}function oo(e){return e.ngOriginalError}function ro(e,...t){e.error(...t)}class so{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||ro}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?io(e)?io(e):this._findContext(oo(e)):null}_findOriginalError(e){let t=oo(e);for(;t&&oo(t);)t=oo(t);return t}}function ao(e,t){e.__ngContext__=t}const lo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te))();function uo(e){return e instanceof Function?e():e}var co=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function ho(e,t){return(void 0)(e,t)}function po(e){const t=e[3];return Pt(t)?t[3]:t}function fo(e){return mo(e[13])}function go(e){return mo(e[4])}function mo(e){for(;null!==e&&!Pt(e);)e=e[4];return e}function yo(e,t,n,i,o){if(null!=i){let r,s=!1;Pt(i)?r=i:Rt(i)&&(s=!0,i=i[0]);const a=Mt(i);0===e&&null!==n?null==o?Oo(t,n,a):_o(t,n,a,o||null,!0):1===e&&null!==n?_o(t,n,a,o||null,!0):2===e?function(e,t,n){const i=To(e,t);i&&function(e,t,n,i){Ft(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=r&&function(e,t,n,i,o){const r=n[7];r!==Mt(n)&&yo(t,e,i,r,o);for(let s=Tt;s<n.length;s++){const o=n[s];Fo(o[1],o,e,t,i,r)}}(t,e,r,n,o)}}function vo(e,t,n){return Ft(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Co(e,t){const n=e[9],i=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,qt(o,-1)),n.splice(i,1)}function wo(e,t){if(e.length<=Tt)return;const n=Tt+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&Co(r,i),t>0&&(e[n-1][4]=i[4]);const s=Me(e,Tt+t);Fo(i[1],o=i,o[11],2,null,null),o[0]=null,o[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var o;return i}function bo(e,t){if(!(256&t[2])){const n=t[11];Ft(n)&&n.destroyNode&&Fo(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return So(e[1],e);for(;t;){let n=null;if(Rt(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Rt(t)&&So(t[1],t),t=t[3];null===t&&(t=e),Rt(t)&&So(t[1],t),n=t&&t[4]}t=n}}(t)}}function So(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof Ti)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const o=n[i+1],r="function"==typeof o?o(t):Mt(t[o]),s=e[n[i+2]],a=n[i+3];"boolean"==typeof a?r.removeEventListener(n[i],s,a):a>=0?e[a]():e[-a].unsubscribe(),i+=2}else n[i].call(e[n[i+1]]);t[7]=null}}(e,t),1===t[1].type&&Ft(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Pt(t[3])){n!==t[3]&&Co(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Eo(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const t=e.data[i.directiveStart].encapsulation;if(t===We.None||t===We.Emulated)return null}return Vt(i,n)}(e,t.parent,n)}function _o(e,t,n,i,o){Ft(e)?e.insertBefore(t,n,i,o):t.insertBefore(n,i,o)}function Oo(e,t,n){Ft(e)?e.appendChild(t,n):t.appendChild(n)}function xo(e,t,n,i,o){null!==i?_o(e,t,n,i,o):Oo(e,t,n)}function To(e,t){return Ft(e)?e.parentNode(t):t.parentNode}function Ro(e,t,n){return Po(e,t,n)}let Po=function(e,t,n){return 40&e.type?Vt(e,n):null};function Do(e,t,n,i){const o=Eo(e,i,t),r=t[11],s=Ro(i.parent||t[6],i,t);if(null!=o)if(Array.isArray(n))for(let a=0;a<n.length;a++)xo(r,o,n[a],s,!1);else xo(r,o,n,s,!1)}function Ao(e,t){if(null!==t){const n=t.type;if(3&n)return Vt(t,e);if(4&n)return ko(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Ao(e,n);{const n=e[t.index];return Pt(n)?ko(-1,n):Mt(n)}}if(32&n)return ho(t,e)()||Mt(e[t.index]);{const n=e[16],i=n[6],o=po(n),r=i.projection[t.projection];return null!=r?Ao(o,r):Ao(e,t.next)}}return null}function ko(e,t){const n=Tt+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return Ao(e,i)}return t[7]}function Io(e,t,n,i,o,r,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&ao(Mt(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)Io(e,t,n.child,i,o,r,!1),yo(t,e,o,a,r);else if(32&l){const s=ho(n,i);let l;for(;l=s();)yo(t,e,o,l,r);yo(t,e,o,a,r)}else 16&l?No(e,t,i,n,o,r):yo(t,e,o,a,r);n=s?n.projectionNext:n.next}}function Fo(e,t,n,i,o,r){Io(n,i,e.firstChild,t,o,r,!1)}function No(e,t,n,i,o,r){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)yo(t,e,o,a[l],r);else Io(e,t,a,s[3],o,r,!0)}function Mo(e,t,n){Ft(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Lo(e,t,n){Ft(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Vo(e,t,n){let i=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const n=t.length;if(o+n===i||e.charCodeAt(o+n)<=32)return o}n=o+1}}const Go="ng-template";function Ho(e,t,n){let i=0;for(;i<e.length;){let o=e[i++];if(n&&"class"===o){if(o=e[i],-1!==Vo(o.toLowerCase(),t,0))return!0}else if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Wo(e){return 4===e.type&&e.value!==Go}function Bo(e,t,n){return t===(4!==e.type||n?e.value:Go)}function jo(e,t,n){let i=4;const o=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(Pi(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Bo(e,l,n)||""===l&&1===t.length){if(zo(i))return!1;s=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!Ho(e.attrs,u,n)){if(zo(i))return!1;s=!0}continue}const c=Uo(8&i?"class":l,o,Wo(e),n);if(-1===c){if(zo(i))return!1;s=!0;continue}if(""!==u){let e;e=c>r?"":o[c+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==Vo(t,u,0)||2&i&&u!==e){if(zo(i))return!1;s=!0}}}}else{if(!s&&!zo(i)&&!zo(l))return!1;if(s&&zo(l))continue;s=!1,i=l|1&i}}return zo(i)||s}function zo(e){return 0==(1&e)}function Uo(e,t,n,i){if(null===t)return-1;let o=0;if(i||!n){let n=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++o];for(;"string"==typeof e;)e=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Ko(e,t,n=!1){for(let i=0;i<t.length;i++)if(jo(e,t[i],n))return!0;return!1}function qo(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function Yo(e,t){return e?":not("+t.trim()+")":t}function $o(e){let t=e[0],n=1,i=2,o="",r=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const t=e[++n];o+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?o+="."+s:4&i&&(o+=" "+s);else""===o||zo(s)||(t+=Yo(r,o),o=""),i=s,r=r||!zo(i);n++}return""!==o&&(t+=Yo(r,o)),t}const Xo={};function Qo(e){Zo(Qt(),Xt(),En()+e,rn())}function Zo(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&bi(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Si(t,i,0,n)}_n(n)}function Jo(e,t){return e<<17|t<<2}function er(e){return e>>17&32767}function tr(e){return 2|e}function nr(e){return(131068&e)>>2}function ir(e,t){return-131069&e|t<<2}function or(e){return 1|e}function rr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i],r=n[i+1];if(-1!==r){const n=e.data[r];fn(o),n.contentQueries(2,t[r],r)}}}function sr(e,t,n,i,o,r,s,a,l,u){const c=t.blueprint.slice();return c[0]=o,c[2]=140|i,Kt(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=r,c[16]=2==t.type?e[16]:c,c}function ar(e,t,n,i,o){let r=e.data[t];if(null===r)r=function(e,t,n,i,o){const r=en(),s=nn(),a=e.data[t]=function(e,t,n,i,o,r){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,n,t,i,o);return null===e.firstChild&&(e.firstChild=a),null!==r&&(s?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}(e,t,n,i,o),Yt.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=n,r.value=i,r.attrs=o;const e=function(){const e=Yt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();r.injectorIndex=null===e?-1:e.injectorIndex}return tn(r,!0),r}function lr(e,t,n,i){if(0===n)return-1;const o=t.length;for(let r=0;r<n;r++)t.push(i),e.blueprint.push(i),e.data.push(null);return o}function ur(e,t,n){yn(t);try{const i=e.viewQuery;null!==i&&Vr(1,i,n);const o=e.template;null!==o&&pr(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&rr(e,t),e.staticViewQueries&&Vr(2,e.viewQuery,n);const r=e.components;null!==r&&function(e,t){for(let n=0;n<t.length;n++)Ir(e,t[n])}(t,r)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,Sn()}}function cr(e,t,n,i){const o=t[2];if(256==(256&o))return;yn(t);const r=rn();try{Kt(t),Yt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&pr(e,t,n,2,i);const s=3==(3&o);if(!r)if(s){const n=e.preOrderCheckHooks;null!==n&&bi(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Si(t,n,0,null),Ei(t,0)}if(function(e){for(let t=fo(e);null!==t;t=go(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&qt(i,1),n[2]|=1024}}}(t),function(e){for(let t=fo(e);null!==t;t=go(t))for(let e=Tt;e<t.length;e++){const n=t[e],i=n[1];zt(n)&&cr(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&rr(e,t),!r)if(s){const n=e.contentCheckHooks;null!==n&&bi(t,n)}else{const n=e.contentHooks;null!==n&&Si(t,n,1),Ei(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const i=n[e];if(i<0)_n(~i);else{const o=i,r=n[++e],s=n[++e];hn(r,o),s(2,t[o])}}}finally{_n(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Ar(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Vr(2,l,i),!r)if(s){const n=e.viewCheckHooks;null!==n&&bi(t,n)}else{const n=e.viewHooks;null!==n&&Si(t,n,2),Ei(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qt(t[3],-1))}finally{Sn()}}function hr(e,t,n,i){const o=t[10],r=!rn(),s=jt(t);try{r&&!s&&o.begin&&o.begin(),s&&ur(e,t,i),cr(e,t,n,i)}finally{r&&!s&&o.end&&o.end()}}function pr(e,t,n,i,o){const r=En();try{_n(-1),2&i&&t.length>xt&&Zo(e,t,xt,rn()),n(i,o)}finally{_n(r)}}function dr(e,t,n){if(Dt(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const t=e.data[o];t.contentQueries&&t.contentQueries(1,n[o],o)}}}function fr(e,t,n){$t()&&(function(e,t,n,i){const o=n.directiveStart,r=n.directiveEnd;e.firstCreatePass||Gi(n,t),ao(i,t);const s=n.initialInputs;for(let a=o;a<r;a++){const i=e.data[a],r=It(i);r&&Tr(t,n,i);const l=Qi(t,e,a,n);ao(l,t),null!==s&&Rr(0,a-o,l,i,0,s),r&&(Wt(n.index,t)[8]=l)}}(e,t,n,Vt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,o=n.directiveEnd,r=n.index,s=Yt.lFrame.currentDirectiveIndex;try{_n(r);for(let n=i;n<o;n++){const i=e.data[n],o=t[n];pn(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Sr(i,o)}}finally{_n(-1),pn(s)}}(e,t,n))}function gr(e,t,n=Vt){const i=t.localNames;if(null!==i){let o=t.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function mr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yr(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function yr(e,t,n,i,o,r,s,a,l,u){const c=xt+i,h=c+o,p=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Xo);return n}(c,h),d="function"==typeof u?u():u;return p[1]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:d,incompleteFirstPass:!1}}function vr(e,t,n,i){const o=Hr(t);o.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(i,o.length-1)}function Cr(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const o=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,o):n[i]=[t,o]}return n}function wr(e,t,n,i){let o=!1;if($t()){const r=function(e,t,n){const i=e.directiveRegistry;let o=null;if(i)for(let r=0;r<i.length;r++){const s=i[r];Ko(n,s.selectors,!1)&&(o||(o=[]),ji(Gi(n,t),e,s.type),It(s)?(Er(e,n),o.unshift(s)):o.push(s))}return o}(e,t,n),s=null===i?null:{"":-1};if(null!==r){o=!0,Or(n,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}let i=!1,a=!1,l=lr(e,t,r.length,null);for(let o=0;o<r.length;o++){const u=r[o];n.mergedAttrs=Ai(n.mergedAttrs,u.hostAttrs),xr(e,n,t,l,u),_r(l,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!i&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),i=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,i=e.data,o=t.attrs,r=[];let s=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=i[l],n=e.inputs,u=null===o||Wo(t)?null:Pr(n,o);r.push(u),s=Cr(n,l,s),a=Cr(e.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const o=n[t[e+1]];if(null==o)throw new pi("301",`Export of name '${t[e+1]}' not found!`);i.push(t[e],o)}}}(n,i,s)}return n.mergedAttrs=Ai(n.mergedAttrs,n.attrs),o}function br(e,t,n,i,o,r){const s=r.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const r=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=r&&n.push(r),n.push(i,o,s)}}function Sr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Er(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function _r(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;It(t)&&(n[""]=e)}}function Or(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function xr(e,t,n,i,o){e.data[i]=o;const r=o.factory||(o.factory=hi(o.type)),s=new Ti(r,It(o),null);e.blueprint[i]=s,n[i]=s,br(e,t,0,i,lr(e,n,o.hostVars,Xo),o)}function Tr(e,t,n){const i=Vt(t,e),o=mr(n),r=e[10],s=Fr(e,sr(e,o,null,n.onPush?64:16,i,t,r,r.createRenderer(i,n),null,null));e[t.index]=s}function Rr(e,t,n,i,o,r){const s=r[t];if(null!==s){const e=i.setInput;for(let t=0;t<s.length;){const o=s[t++],r=s[t++],a=s[t++];null!==e?i.setInput(n,a,o,r):n[r]=a}}}function Pr(e,t){let n=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Dr(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function Ar(e,t){const n=Wt(t,e);if(zt(n)){const e=n[1];80&n[2]?cr(e,n,e.template,n[8]):n[5]>0&&kr(n)}}function kr(e){for(let n=fo(e);null!==n;n=go(n))for(let e=Tt;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];cr(e,t,e.template,t[8])}else t[5]>0&&kr(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const i=Wt(t[n],e);zt(i)&&i[5]>0&&kr(i)}}function Ir(e,t){const n=Wt(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),ur(i,n,n[8])}function Fr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Nr(e){for(;e;){e[2]|=64;const t=po(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Mr(e,t,n){const i=t[10];i.begin&&i.begin();try{cr(e,t,e.template,n)}catch(o){throw Wr(t,o),o}finally{i.end&&i.end()}}function Lr(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Bt(n),o=i[1];hr(o,i,o.template,n)}}(e[8])}function Vr(e,t,n){fn(0),t(e,n)}const Gr=(()=>Promise.resolve(null))();function Hr(e){return e[7]||(e[7]=[])}function Wr(e,t){const n=e[9],i=n?n.get(so,null):null;i&&i.handleError(t)}function Br(e,t,n,i,o){for(let r=0;r<n.length;){const s=n[r++],a=n[r++],l=t[s],u=e.data[s];null!==u.setInput?u.setInput(l,o,i,a):l[a]=o}}function jr(e,t,n){const i=Lt(t,e);!function(e,t,n){Ft(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function zr(e,t,n){let i=n?e.styles:null,o=n?e.classes:null,r=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?r=e:1==r?o=ae(o,e):2==r&&(i=ae(i,e+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=o:e.classesWithoutHost=o}const Ur=new we("INJECTOR",-1);class Kr{get(e,t=ft){if(t===ft){const t=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw t.name="NullInjectorError",t}return t}}const qr=new we("Set Injector scope."),Yr={},$r={},Xr=[];let Qr=void 0;function Zr(){return void 0===Qr&&(Qr=new Kr),Qr}function Jr(e,t=null,n=null,i){return new es(e,n,t||Zr(),i)}class es{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Fe(t,n=>this.processProvider(n,e,t)),Fe([e],e=>this.processInjectorType(e,[],o)),this.records.set(Ur,is(void 0,this));const r=this.records.get(qr);this.scope=null!=r?r.value:null,this.source=i||("object"==typeof e?null:se(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ft,n=ct.Default){this.assertNotDestroyed();const i=Ct(this);try{if(!(n&ct.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(o=e)||"object"==typeof o&&o instanceof we)&&de(e);t=n&&this.injectableDefInScope(n)?is(ts(e),Yr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ct.Self?Zr():this.parent).get(e,t=n&ct.Optional&&t===ft?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(se(e)),i)throw r;return function(e,t,n,i){const o=e.ngTempTokenPath;throw t[mt]&&o.unshift(t[mt]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=se(t);if(Array.isArray(t))o=t.map(se).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):se(i)))}o=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${o}]: ${e.replace(gt,"\n  ")}`}("\n"+e.message,o,n,i),e.ngTokenPath=o,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{Ct(i)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(se(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=De(e)))return!1;let i=ge(e);const o=null==i&&e.ngModule||void 0,r=void 0===o?e:o,s=-1!==n.indexOf(r);if(void 0!==o&&(i=ge(o)),null==i)return!1;if(null!=i.imports&&!s){let e;n.push(r);try{Fe(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];Fe(i,e=>this.processProvider(e,n,i||Xr))}}this.injectorDefTypes.add(r),this.records.set(r,is(i.factory,Yr));const a=i.providers;if(null!=a&&!s){const t=e;Fe(a,e=>this.processProvider(e,t,a))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,n){let i=rs(e=De(e))?e:De(e&&e.provide);const o=function(e,t,n){return os(e)?is(void 0,e.useValue):is(ns(e),Yr)}(e);if(rs(e)||!0!==e.multi)this.records.get(i);else{let t=this.records.get(i);t||(t=is(void 0,Yr,!0),t.factory=()=>Et(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,o)}hydrate(e,t){var n;return t.value===Yr&&(t.value=$r,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function ts(e){const t=de(e),n=null!==t?t.factory:hi(e);if(null!==n)return n;const i=ge(e);if(null!==i)return i.factory;if(e instanceof we)throw new Error(`Token ${se(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Le(t,"?");throw new Error(`Can't resolve all parameters for ${se(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[me]||e[ve]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ns(e,t,n){let i=void 0;if(rs(e)){const t=De(e);return hi(t)||ts(t)}if(os(e))i=()=>De(e.useValue);else if((o=e)&&o.useFactory)i=()=>e.useFactory(...Et(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>bt(De(e.useExisting));else{const t=De(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return hi(t)||ts(t);i=()=>new t(...Et(e.deps))}var o;return i}function is(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function os(e){return null!==e&&"object"==typeof e&&yt in e}function rs(e){return"function"==typeof e}const ss=function(e,t,n){return function(e,t=null,n=null,i){const o=Jr(e,t,n,i);return o._resolveInjectorDefTypes(),o}({name:n},t,e,n)};let as=(()=>{class e{static create(e,t){return Array.isArray(e)?ss(e,t,""):ss(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ft,e.NULL=new Kr,e.\u0275prov=ce({token:e,providedIn:"any",factory:()=>bt(Ur)}),e.__NG_ELEMENT_ID__=-1,e})();function ls(e,t){wi(Bt(e)[1],Jt())}function us(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let o=void 0;if(It(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){i.push(o);const t=e;t.inputs=cs(e.inputs),t.declaredInputs=cs(e.declaredInputs),t.outputs=cs(e.outputs);const n=o.hostBindings;n&&ds(e,n);const r=o.viewQuery,s=o.contentQueries;if(r&&hs(e,r),s&&ps(e,s),ue(e.inputs,o.inputs),ue(e.declaredInputs,o.declaredInputs),ue(e.outputs,o.outputs),It(o)&&o.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(o.data.animation)}}const t=o.features;if(t)for(let i=0;i<t.length;i++){const o=t[i];o&&o.ngInherit&&o(e),o===us&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const o=e[i];o.hostVars=t+=o.hostVars,o.hostAttrs=Ai(o.hostAttrs,n=Ai(n,o.hostAttrs))}}(i)}function cs(e){return e===Be?{}:e===je?[]:e}function hs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function ps(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,o)=>{t(e,i,o),n(e,i,o)}:t}function ds(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}let fs=null;function gs(){if(!fs){const e=Te.Symbol;if(e&&e.iterator)fs=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(fs=n)}}}return fs}class ms{constructor(e){this.wrapped=e}static wrap(e){return new ms(e)}static unwrap(e){return ms.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof ms}}function ys(e){return!!vs(e)&&(Array.isArray(e)||!(e instanceof Map)&&gs()in e)}function vs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Cs(e,t,n){return e[t]=n}function ws(e,t){return e[t]}function bs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ss(e,t,n,i){const o=bs(e,t,n);return bs(e,t+1,i)||o}function Es(e,t,n,i,o){const r=Ss(e,t,n,i);return bs(e,t+2,o)||r}function _s(e,t,n,i,o,r){const s=Ss(e,t,n,i);return Ss(e,t+2,o,r)||s}function Os(e,t,n,i){const o=Xt();return bs(o,un(),t)&&(Qt(),function(e,t,n,i,o,r){const s=Vt(e,t);!function(e,t,n,i,o,r,s){if(null==r)Ft(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{const a=null==s?lt(r):s(r,i||"",o);Ft(e)?e.setAttribute(t,o,a,n):n?t.setAttributeNS(n,o,a):t.setAttribute(o,a)}}(t[11],s,r,e.value,n,i,o)}(On(),o,e,t,n,i)),Os}function xs(e,t,n,i,o,r,s,a){const l=Xt(),u=Qt(),c=e+xt,h=u.firstCreatePass?function(e,t,n,i,o,r,s,a,l){const u=t.consts,c=ar(t,e,4,s||null,Ut(u,a));wr(t,n,c,Ut(u,l)),wi(t,c);const h=c.tViews=yr(2,c,i,o,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,i,o,r,s):u.data[c];tn(h,!1);const p=l[11].createComment("");Do(u,l,p,h),ao(p,l),Fr(l,l[c]=Dr(p,l,p,h)),kt(h)&&fr(u,l,h),null!=s&&gr(l,h,a)}function Ts(e){return Ht(Yt.lFrame.contextLView,xt+e)}function Rs(e,t=ct.Default){const n=Xt();return null===n?bt(e,t):Ki(Jt(),n,De(e),t)}function Ps(){throw new Error("invalid")}function Ds(e,t,n){const i=Xt();return bs(i,un(),t)&&function(e,t,n,i,o,r,s,a){const l=Vt(t,n);let u,c=t.inputs;var h;null!=c&&(u=c[i])?(Br(e,n,u,i,o),At(t)&&function(e,t){const n=Wt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,o=null!=s?s(o,t.value||"",i):o,Ft(r)?r.setProperty(l,i,o):Di(i)||(l.setProperty?l.setProperty(i,o):l[i]=o))}(Qt(),On(),i,e,t,i[11],n),Ds}function As(e,t,n,i,o){const r=o?"class":"style";Br(e,n,t.inputs[r],r,i)}function ks(e,t,n,i){const o=Xt(),r=Qt(),s=xt+e,a=o[11],l=o[s]=vo(a,t,Yt.lFrame.currentNamespace),u=r.firstCreatePass?function(e,t,n,i,o,r,s){const a=t.consts,l=ar(t,e,2,o,Ut(a,r));return wr(t,n,l,Ut(a,s)),null!==l.attrs&&zr(l,l.attrs,!1),null!==l.mergedAttrs&&zr(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,o,0,t,n,i):r.data[s];tn(u,!0);const c=u.mergedAttrs;null!==c&&Ri(a,l,c);const h=u.classes;null!==h&&Lo(a,l,h);const p=u.styles;null!==p&&Mo(a,l,p),64!=(64&u.flags)&&Do(r,o,l,u),0===Yt.lFrame.elementDepthCount&&ao(l,o),Yt.lFrame.elementDepthCount++,kt(u)&&(fr(r,o,u),dr(r,u,o)),null!==i&&gr(o,u)}function Is(){let e=Jt();nn()?on():(e=e.parent,tn(e,!1));const t=e;Yt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(wi(n,e),Dt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&As(n,t,Xt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&As(n,t,Xt(),t.stylesWithoutHost,!1)}function Fs(e,t,n,i){ks(e,t,n,i),Is()}function Ns(e,t,n){const i=Xt(),o=Qt(),r=e+xt,s=o.firstCreatePass?function(e,t,n,i,o){const r=t.consts,s=Ut(r,i),a=ar(t,e,8,"ng-container",s);return null!==s&&zr(a,s,!0),wr(t,n,a,Ut(r,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,o,i,t,n):o.data[r];tn(s,!0);const a=i[r]=i[11].createComment("");Do(o,i,a,s),ao(a,i),kt(s)&&(fr(o,i,s),dr(o,s,i)),null!=n&&gr(i,s)}function Ms(){let e=Jt();const t=Qt();nn()?on():(e=e.parent,tn(e,!1)),t.firstCreatePass&&(wi(t,e),Dt(e)&&t.queries.elementEnd(e))}function Ls(e,t,n){Ns(e,t,n),Ms()}function Vs(){return Xt()}function Gs(e){return!!e&&"function"==typeof e.then}function Hs(e){return!!e&&"function"==typeof e.subscribe}function Ws(e,t,n=!1,i){const o=Xt(),r=Qt(),s=Jt();return function(e,t,n,i,o,r,s=!1,a){const l=kt(i),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Hr(t);let h=!0;if(3&i.type){const p=Vt(i,t),d=a?a(p):Be,f=d.target||p,g=c.length,m=a?e=>a(Mt(e[i.index])).target:i.index;if(Ft(n)){let s=null;if(!a&&l&&(s=function(e,t,n,i){const o=e.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const e=o[r];if(e===n&&o[r+1]===i){const e=t[7],n=o[r+2];return e.length>n?e[n]:null}"string"==typeof e&&(r+=2)}return null}(e,t,o,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=r,s.__ngLastListenerFn__=r,h=!1;else{r=js(i,t,r,!1);const e=n.listen(d.name||f,o,r);c.push(r,e),u&&u.push(o,m,g,g+1)}}else r=js(i,t,r,!0),f.addEventListener(o,r,s),c.push(r),u&&u.push(o,m,g,s)}const p=i.outputs;let d;if(h&&null!==p&&(d=p[o])){const e=d.length;if(e)for(let n=0;n<e;n+=2){const e=t[d[n]][d[n+1]].subscribe(r),s=c.length;c.push(r,e),u&&u.push(o,i.index,s,-(s+1))}}}(r,o,o[11],s,e,t,n,i),Ws}function Bs(e,t,n){try{return!1!==t(n)}catch(i){return Wr(e,i),!1}}function js(e,t,n,i){return function o(r){if(r===Function)return n;const s=2&e.flags?Wt(e.index,t):t;0==(32&t[2])&&Nr(s);let a=Bs(t,n,r),l=o.__ngNextListenerFn__;for(;l;)a=Bs(t,l,r)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function zs(e=1){return function(e){return(Yt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Yt.lFrame.contextLView))[8]}(e)}function Us(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let o=0;o<t.length;o++){const r=t[o];if("*"!==r){if(null===i?Ko(e,r,!0):qo(i,r))return o}else n=o}return n}function Ks(e){const t=Xt()[16][6];if(!t.projection){const n=t.projection=Le(e?e.length:1,null),i=n.slice();let o=t.child;for(;null!==o;){const t=e?Us(o,e):0;null!==t&&(i[t]?i[t].projectionNext=o:n[t]=o,i[t]=o),o=o.next}}}function qs(e,t=0,n){const i=Xt(),o=Qt(),r=ar(o,xt+e,16,null,n||null);null===r.projection&&(r.projection=t),on(),64!=(64&r.flags)&&function(e,t,n){No(t[11],0,t,n,Eo(e,n,t),Ro(n.parent||t[6],n,t))}(o,i,r)}const Ys=[];function $s(e,t,n,i,o){const r=e[n+1],s=null===t;let a=i?er(r):nr(r),l=!1;for(;0!==a&&(!1===l||s);){const n=e[a+1];Xs(e[a],t)&&(l=!0,e[a+1]=i?or(n):tr(n)),a=i?er(n):nr(n)}l&&(e[n+1]=i?tr(r):or(r))}function Xs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&He(e,t)>=0}const Qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zs(e){return e.substring(Qs.key,Qs.keyEnd)}function Js(e,t){const n=Qs.textEnd;return n===t?-1:(t=Qs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Qs.key=t,n),ea(e,t,n))}function ea(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ta(e,t,n){return ra(e,t,n,!1),ta}function na(e,t){return ra(e,t,null,!0),na}function ia(e){!function(e,t,n,i){const o=Qt(),r=cn(2);o.firstUpdatePass&&aa(o,null,r,i);const s=Xt();if(n!==Xo&&bs(s,r,n)){const a=o.data[En()];if(da(a,i)&&!sa(o,r)){let e=a.classesWithoutHost;null!==e&&(n=ae(e,n||"")),As(o,a,s,n,i)}else!function(e,t,n,i,o,r,s,a){o===Xo&&(o=Ys);let l=0,u=0,c=0<o.length?o[0]:null,h=0<r.length?r[0]:null;for(;null!==c||null!==h;){const s=l<o.length?o[l+1]:void 0,p=u<r.length?r[u+1]:void 0;let d=null,f=void 0;c===h?(l+=2,u+=2,s!==p&&(d=h,f=p)):null===h||null!==c&&c<h?(l+=2,d=c):(u+=2,d=h,f=p),null!==d&&ca(e,t,n,i,d,f,true,a),c=l<o.length?o[l]:null,h=u<r.length?r[u]:null}}(o,a,s,s[11],s[r+1],s[r+1]=function(e,t,n){if(null==n||""===n)return Ys;const i=[],o=Fn(n);if(Array.isArray(o))for(let r=0;r<o.length;r++)e(i,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&e(i,r,o[r]);else"string"==typeof o&&t(i,o);return i}(e,t,n),0,r)}}(Ve,oa,e,!0)}function oa(e,t){for(let n=function(e){return function(e){Qs.key=0,Qs.keyEnd=0,Qs.value=0,Qs.valueEnd=0,Qs.textEnd=e.length}(e),Js(e,ea(e,0,Qs.textEnd))}(t);n>=0;n=Js(t,n))Ve(e,Zs(t),!0)}function ra(e,t,n,i){const o=Xt(),r=Qt(),s=cn(2);r.firstUpdatePass&&aa(r,e,s,i),t!==Xo&&bs(o,s,t)&&ca(r,r.data[En()],o,o[11],e,o[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=se(Fn(e)))),e}(t,n),i,s)}function sa(e,t){return t>=e.expandoStartIndex}function aa(e,t,n,i){const o=e.data;if(null===o[n+1]){const r=o[En()],s=sa(e,n);da(r,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){const o=function(e){const t=Yt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=i?t.residualClasses:t.residualStyles;if(null===o)0===(i?t.classBindings:t.styleBindings)&&(n=ua(n=la(null,e,t,n,i),t.attrs,i),r=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=la(o,e,t,n,i),null===r){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==nr(i))return e[er(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=la(null,e,t,n[1],i),n=ua(n,t.attrs,i),function(e,t,n,i){e[er(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else r=function(e,t,n){let i=void 0;const o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++)i=ua(i,e[r].hostAttrs,n);return ua(i,t.attrs,n)}(e,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),n}(o,r,t,i),function(e,t,n,i,o,r){let s=r?t.classBindings:t.styleBindings,a=er(s),l=nr(s);e[i]=n;let u,c=!1;if(Array.isArray(n)){const e=n;u=e[1],(null===u||He(e,u)>0)&&(c=!0)}else u=n;if(o)if(0!==l){const t=er(e[a+1]);e[i+1]=Jo(t,a),0!==t&&(e[t+1]=ir(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=Jo(a,0),0!==a&&(e[a+1]=ir(e[a+1],i)),a=i;else e[i+1]=Jo(l,0),0===a?a=i:e[l+1]=ir(e[l+1],i),l=i;c&&(e[i+1]=tr(e[i+1])),$s(e,u,i,!0),$s(e,u,i,!1),function(e,t,n,i,o){const r=o?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&He(r,t)>=0&&(n[i+1]=or(n[i+1]))}(t,u,e,i,r),s=Jo(a,l),r?t.classBindings=s:t.styleBindings=s}(o,r,t,n,s,i)}}function la(e,t,n,i,o){let r=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=t[a],i=ua(i,r.hostAttrs,o),r!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function ua(e,t,n){const i=n?1:2;let o=-1;if(null!==t)for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?o=s:o===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ve(e,s,!!n||t[++r]))}return void 0===e?null:e}function ca(e,t,n,i,o,r,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1];pa(1==(1&u)?ha(l,t,n,o,nr(u),s):void 0)||(pa(r)||2==(2&u)&&(r=ha(l,null,n,o,a,s)),function(e,t,n,i,o){const r=Ft(e);if(t)o?r?e.addClass(n,i):n.classList.add(i):r?e.removeClass(n,i):n.classList.remove(i);else{let t=-1===i.indexOf("-")?void 0:co.DashCase;if(null==o)r?e.removeStyle(n,i,t):n.style.removeProperty(i);else{const s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),t|=co.Important),r?e.setStyle(n,i,o,t):n.style.setProperty(i,o,s?"important":"")}}}(i,s,Lt(En(),n),o,r))}function ha(e,t,n,i,o,r){const s=null===t;let a=void 0;for(;o>0;){const t=e[o],r=Array.isArray(t),l=r?t[1]:t,u=null===l;let c=n[o+1];c===Xo&&(c=u?Ys:void 0);let h=u?Ge(c,i):l===i?c:void 0;if(r&&!pa(h)&&(h=Ge(t,i)),pa(h)&&(a=h,s))return a;const p=e[o+1];o=s?er(p):nr(p)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=Ge(e,i))}return a}function pa(e){return void 0!==e}function da(e,t){return 0!=(e.flags&(t?16:32))}function fa(e,t=""){const n=Xt(),i=Qt(),o=e+xt,r=i.firstCreatePass?ar(i,o,1,t,null):i.data[o],s=n[o]=function(e,t){return Ft(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Do(i,n,s,r),tn(r,!1)}function ga(e){return ma("",e,""),ga}function ma(e,t,n){const i=Xt(),o=function(e,t,n,i){return bs(e,un(),n)?t+lt(n)+i:Xo}(i,e,t,n);return o!==Xo&&jr(i,En(),o),ma}function ya(e,t,n,i,o){const r=Xt(),s=function(e,t,n,i,o,r){const s=Ss(e,ln(),n,o);return cn(2),s?t+lt(n)+i+lt(o)+r:Xo}(r,e,t,n,i,o);return s!==Xo&&jr(r,En(),s),ya}function va(e,t,n,i,o,r,s,a,l,u,c,h,p){const d=Xt(),f=function(e,t,n,i,o,r,s,a,l,u,c,h,p,d){const f=ln();let g=_s(e,f,n,o,s,l);return g=Ss(e,f+4,c,p)||g,cn(6),g?t+lt(n)+i+lt(o)+r+lt(s)+a+lt(l)+u+lt(c)+h+lt(p)+d:Xo}(d,e,t,n,i,o,r,s,a,l,u,c,h,p);return f!==Xo&&jr(d,En(),f),va}const Ca=void 0;var wa=["en",[["a","p"],["AM","PM"],Ca],[["AM","PM"],Ca,Ca],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ca,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ca,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ca,"{1} 'at' {0}",Ca],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ba={};function Sa(e){return e in ba||(ba[e]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[e]),ba[e]}var Ea=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const _a="en-US";let Oa=_a;function xa(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Oa=e.toLowerCase().replace(/_/g,"-"))}function Ta(e,t,n,i,o){if(e=De(e),Array.isArray(e))for(let r=0;r<e.length;r++)Ta(e[r],t,n,i,o);else{const r=Qt(),s=Xt();let a=rs(e)?e:De(e.provide),l=ns(e);const u=Jt(),c=1048575&u.providerIndexes,h=u.directiveStart,p=u.providerIndexes>>20;if(rs(e)||!e.multi){const i=new Ti(l,o,Rs),d=Da(a,t,o?c:c+p,h);-1===d?(ji(Gi(u,s),r,a),Ra(r,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),n.push(i),s.push(i)):(n[d]=i,s[d]=i)}else{const d=Da(a,t,c+p,h),f=Da(a,t,c,c+p),g=d>=0&&n[d],m=f>=0&&n[f];if(o&&!m||!o&&!g){ji(Gi(u,s),r,a);const c=function(e,t,n,i,o){const r=new Ti(e,n,Rs);return r.multi=[],r.index=t,r.componentProviders=0,Pa(r,o,i&&!n),r}(o?ka:Aa,n.length,o,i,l);!o&&m&&(n[f].providerFactory=c),Ra(r,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),n.push(c),s.push(c)}else Ra(r,e,d>-1?d:f,Pa(n[o?f:d],l,!o&&i));!o&&i&&m&&n[f].componentProviders++}}}function Ra(e,t,n,i){const o=rs(t);if(o||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const s=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[i,r]):s[e+1].push(i,r)}else s.push(n,r)}}}function Pa(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Da(e,t,n,i){for(let o=n;o<i;o++)if(t[o]===e)return o;return-1}function Aa(e,t,n,i){return Ia(this.multi,[])}function ka(e,t,n,i){const o=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Qi(n,n[1],this.providerFactory.index,i);r=t.slice(0,e),Ia(o,r);for(let n=e;n<t.length;n++)r.push(t[n])}else r=[],Ia(o,r);return r}function Ia(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Fa(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=Qt();if(i.firstCreatePass){const o=It(e);Ta(n,i.data,i.blueprint,o,!0),Ta(t,i.data,i.blueprint,o,!1)}}(n,i?i(e):e,t)}}class Na{}class Ma{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${se(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let La=(()=>{class e{}return e.NULL=new Ma,e})();function Va(...e){}function Ga(e,t){return new Wa(Vt(e,t))}const Ha=function(){return Ga(Jt(),Xt())};let Wa=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Ha,e})();class Ba{}let ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>za(),e})();const za=function(){const e=Xt(),t=Wt(Jt().index,e);return function(e){return e[11]}(Rt(t)?t:e)};let Ua=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class Ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qa=new Ka("11.0.2");class Ya{constructor(){}supports(e){return ys(e)}create(e){return new Xa(e)}}const $a=(e,t)=>t;class Xa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$a}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,o=null;for(;t||n;){const r=!n||t&&t.currentIndex<el(n,i,o)?t:n,s=el(r,i,o),a=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{o||(o=[]);const e=s-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<o.length?o[n]:o[n]=0,r=i+n;t<=r&&r<e&&(o[n]=i+1)}o[r.previousIndex]=t-e}}s!==a&&e(r,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ys(e))throw new Error(`Error trying to diff '${se(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,o=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==o&&Object.is(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,n,i,t)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,i,t),r=!0),o=o._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[gs()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==o&&Object.is(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,e,i,t)),Object.is(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,i,t),r=!0),o=o._next,t++}),this.length=t;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):e=this._addAfter(new Qa(t,n),o,i),e}_verifyReinsertion(e,t,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ja),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Qa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Za{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ja{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Za,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function el(e,t,n){const i=e.previousIndex;if(null===i)return i;let o=0;return n&&i<n.length&&(o=n[i]),i+t+o}class tl{constructor(){}supports(e){return e instanceof Map||vs(e)}create(){return new nl}}class nl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||vs(e)))throw new Error(`Error trying to diff '${se(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,o=n._next;return i&&(i._next=o),o&&(o._prev=i),n._next=null,n._prev=null,n}const n=new il(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class il{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ol=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new re,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e([new Ya])}),e})(),rl=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new re,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e([new tl])}),e})();function sl(e,t,n,i,o=!1){for(;null!==n;){const r=t[n.index];if(null!==r&&i.push(Mt(r)),Pt(r))for(let e=Tt;e<r.length;e++){const t=r[e],n=t[1].firstChild;null!==n&&sl(t[1],t,n,i)}const s=n.type;if(8&s)sl(e,t,n.child,i);else if(32&s){const e=ho(n,t);let o;for(;o=e();)i.push(o)}else if(16&s){const e=t[16],o=e[6].projection[n.projection];if(Array.isArray(o))i.push(...o);else{const t=po(e);sl(t[1],t,o,i,!0)}}n=o?n.projectionNext:n.next}return i}class al{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return sl(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}bo(this._lView[1],this._lView)}onDestroy(e){vr(this._lView[1],this._lView,null,e)}markForCheck(){Nr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){sn(!0);try{Mr(e,t,n)}finally{sn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Fo(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ll extends al{constructor(e){super(e),this._view=e}detectChanges(){Lr(this._view)}checkNoChanges(){!function(e){sn(!0);try{Lr(e)}finally{sn(!1)}}(this._view)}get context(){return null}}const ul=hl;let cl=(()=>{class e{}return e.__NG_ELEMENT_ID__=ul,e.__ChangeDetectorRef__=!0,e})();function hl(e=!1){return function(e,t,n){if(!n&&At(e)){const n=Wt(e.index,t);return new al(n,n)}return 47&e.type?new al(t[16],t):null}(Jt(),Xt(),e)}const pl=[new tl],dl=new ol([new Ya]),fl=new rl(pl),gl=function(){return Cl(Jt(),Xt())};let ml=(()=>{class e{}return e.__NG_ELEMENT_ID__=gl,e})();const yl=ml,vl=class extends yl{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=sr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),ur(t,n,e),new al(n)}};function Cl(e,t){return 4&e.type?new vl(t,e,Ga(e,t)):null}class wl{}class bl{}const Sl=function(){return Rl(Jt(),Xt())};let El=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sl,e})();const _l=El,Ol=class extends _l{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Ga(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bi(this._hostTNode,this._hostLView);if(Ii(e)){const t=Ni(e,this._hostLView),n=Fi(e);return new eo(t[1].data[n+8],t)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xl(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,o){const r=n||this.parentInjector;if(!o&&null==e.ngModule&&r){const e=r.get(wl,null);e&&(o=e)}const s=e.create(r,i,void 0,o);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,i=n[1];if(Pt(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new Ol(t,t[6],t[3]);i.detach(i.indexOf(e))}}const o=this._adjustIndex(t),r=this._lContainer;!function(e,t,n,i){const o=Tt+i,r=n.length;i>0&&(n[o-1][4]=t),i<r-Tt?(t[4]=n[o],Ne(n,Tt+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,r,o);const s=ko(o,r),a=n[11],l=To(a,r[7]);return null!==l&&function(e,t,n,i,o,r){i[0]=o,i[6]=t,Fo(e,i,n,1,o,r)}(i,r[6],a,n,l,s),e.attachToViewContainerRef(this),Ne(Tl(r),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xl(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=wo(this._lContainer,t);n&&(Me(Tl(this._lContainer),t),bo(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=wo(this._lContainer,t);return n&&null!=Me(Tl(this._lContainer),t)?new al(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function xl(e){return e[8]}function Tl(e){return e[8]||(e[8]=[])}function Rl(e,t){let n;const i=t[e.index];if(Pt(i))n=i;else{let o;if(8&e.type)o=Mt(i);else{const n=t[11];o=n.createComment("");const i=Vt(e,t);_o(n,To(n,i),o,function(e,t){return Ft(e)?e.nextSibling(t):t.nextSibling}(n,i),!1)}t[e.index]=n=Dr(i,t,o,e),Fr(t,n)}return new Ol(n,e,t)}const Pl={};class Dl extends La{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=st(e);return new Il(t,this.ngModule)}}function Al(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const kl=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lo});class Il extends Na{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map($o).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Al(this.componentDef.inputs)}get outputs(){return Al(this.componentDef.outputs)}create(e,t,n,i){const o=(i=i||this.ngModule)?function(e,t){return{get:(n,i,o)=>{const r=e.get(n,Pl,o);return r!==Pl||i===Pl?r:t.get(n,i,o)}}}(e,i.injector):e,r=o.get(Ba,Nt),s=o.get(Ua,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){if(Ft(e))return e.selectRootElement(t,n===We.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):vo(r.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:lo,clean:Gr,playerHandler:null,flags:0},p=yr(0,null,null,1,0,null,null,null,null,null),d=sr(null,p,h,c,null,null,r,a,s,o);let f,g;yn(d);try{const e=function(e,t,n,i,o,r){const s=n[1];n[20]=e;const a=ar(s,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(zr(a,l,!0),null!==e&&(Ri(o,e,l),null!==a.classes&&Lo(o,e,a.classes),null!==a.styles&&Mo(o,e,a.styles)));const u=i.createRenderer(e,t),c=sr(n,mr(t),null,t.onPush?64:16,n[20],a,i,u,null,null);return s.firstCreatePass&&(ji(Gi(a,n),s,t.type),Er(s,a),Or(a,n.length,1)),Fr(n,c),n[20]=c}(u,this.componentDef,d,r,a);if(u)if(n)Ri(a,u,["ng-version",qa.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,o=2;for(;i<e.length;){let r=e[i];if("string"==typeof r)2===o?""!==r&&t.push(r,e[++i]):8===o&&n.push(r);else{if(!zo(o))break;o=r}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Ri(a,u,e),t&&t.length>0&&Lo(a,u,t.join(" "))}if(g=Gt(p,xt),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}f=function(e,t,n,i,o){const r=n[1],s=function(e,t,n){const i=Jt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xr(e,i,t,lr(e,t,1,null),n));const o=Qi(t,e,i.directiveStart,i);ao(o,t);const r=Vt(i,t);return r&&ao(r,t),o}(r,n,t);if(i.components.push(s),e[8]=s,o&&o.forEach(e=>e(s,t)),t.contentQueries){const e=Jt();t.contentQueries(1,s,e.directiveStart)}const a=Jt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(_n(a.index),br(n[1],a,0,a.directiveStart,a.directiveEnd,t),Sr(t,s)),s}(e,this.componentDef,d,h,[ls]),ur(p,d,null)}finally{Sn()}return new Fl(this.componentType,f,Ga(g,d),d,g)}}class Fl extends class{}{constructor(e,t,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new ll(i),this.componentType=e}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const Nl=new Map;class Ml extends wl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Dl(this);const n=at(e),i=e[Ye]||null;i&&xa(i),this._bootstrapComponents=uo(n.bootstrap),this._r3Injector=Jr(e,t,[{provide:wl,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],se(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=as.THROW_IF_NOT_FOUND,n=ct.Default){return e===as||e===wl||e===Ur?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ll extends bl{constructor(e){super(),this.moduleType=e,null!==at(e)&&function(e){const t=new Set;!function e(n){const i=at(n,!0),o=i.id;null!==o&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${se(t)} vs ${se(t.name)}`)}(o,Nl.get(o),n),Nl.set(o,n));const r=uo(i.imports);for(const s of r)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new Ml(this.moduleType,e)}}function Vl(e,t,n){const i=an()+e,o=Xt();return o[i]===Xo?Cs(o,i,n?t.call(n):t()):ws(o,i)}function Gl(e,t,n,i){return Ul(Xt(),an(),e,t,n,i)}function Hl(e,t,n,i,o){return Kl(Xt(),an(),e,t,n,i,o)}function Wl(e,t,n,i,o,r){return ql(Xt(),an(),e,t,n,i,o,r)}function Bl(e,t,n,i,o,r,s){return function(e,t,n,i,o,r,s,a,l){const u=t+n;return _s(e,u,o,r,s,a)?Cs(e,u+4,l?i.call(l,o,r,s,a):i(o,r,s,a)):zl(e,u+4)}(Xt(),an(),e,t,n,i,o,r,s)}function jl(e,t,n,i,o,r,s,a,l,u){const c=an()+e,h=Xt();let p=_s(h,c,n,i,o,r);return Es(h,c+4,s,a,l)||p?Cs(h,c+7,u?t.call(u,n,i,o,r,s,a,l):t(n,i,o,r,s,a,l)):ws(h,c+7)}function zl(e,t){const n=e[t];return n===Xo?void 0:n}function Ul(e,t,n,i,o,r){const s=t+n;return bs(e,s,o)?Cs(e,s+1,r?i.call(r,o):i(o)):zl(e,s+1)}function Kl(e,t,n,i,o,r,s){const a=t+n;return Ss(e,a,o,r)?Cs(e,a+2,s?i.call(s,o,r):i(o,r)):zl(e,a+2)}function ql(e,t,n,i,o,r,s,a){const l=t+n;return Es(e,l,o,r,s)?Cs(e,l+3,a?i.call(a,o,r,s):i(o,r,s)):zl(e,l+3)}function Yl(e,t){const n=Qt();let i;const o=e+xt;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new pi("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[o]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,i.onDestroy)):i=n.data[o];const r=i.factory||(i.factory=hi(i.type)),s=pt(Rs);try{const e=Li(!1),t=r();return Li(e),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,Xt(),o,t),t}finally{pt(s)}}function $l(e,t,n){const i=e+xt,o=Xt(),r=Ht(o,i);return Zl(o,Ql(o,i)?Ul(o,an(),t,r.transform,n,r):r.transform(n))}function Xl(e,t,n,i,o){const r=e+xt,s=Xt(),a=Ht(s,r);return Zl(s,Ql(s,r)?ql(s,an(),t,a.transform,n,i,o,a):a.transform(n,i,o))}function Ql(e,t){return e[1].data[t].pure}function Zl(e,t){return ms.isWrapped(t)&&(t=ms.unwrap(t),e[ln()]=Xo),t}const Jl=class extends E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,o=e=>null,r=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(o=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(o=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(r=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,o,r);return e instanceof h&&e.add(s),s}};function eu(){return this._results[gs()]()}class tu{constructor(){this.dirty=!0,this._results=[],this.changes=new Jl,this.length=0;const e=gs(),t=tu.prototype;t[e]||(t[e]=eu)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=Ie(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class nu{constructor(e){this.queryList=e,this.matches=null}clone(){return new nu(this.queryList)}setDirty(){this.queryList.setDirty()}}class iu{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new iu(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==bu(e,t).matches&&this.queries[t].setDirty()}}class ou{constructor(e,t,n,i=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}class ru{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new ru(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class su{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new su(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=n[i];this.matchTNodeWithReadOption(e,t,au(t,o)),this.matchTNodeWithReadOption(e,t,Xi(t,e,o,!1,!1))}else n===ml?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xi(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Wa||i===El||i===ml&&4&t.type)this.addMatch(t.index,-2);else{const n=Xi(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function au(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function lu(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Ga(e,t):4&e.type?Cl(e,t):null}(t,e):-2===n?function(e,t,n){return n===Wa?Ga(t,e):n===ml?Cl(t,e):n===El?Rl(t,e):void 0}(e,t,i):Qi(e,e[1],n,t)}function uu(e,t,n,i){const o=t[19].queries[i];if(null===o.matches){const i=e.data,r=n.matches,s=[];for(let e=0;e<r.length;e+=2){const o=r[e];s.push(o<0?null:lu(t,i[o],r[e+1],n.metadata.read))}o.matches=s}return o.matches}function cu(e,t,n,i){const o=e.queries.getByIndex(n),r=o.matches;if(null!==r){const s=uu(e,t,o,n);for(let e=0;e<r.length;e+=2){const n=r[e];if(n>0)i.push(s[e/2]);else{const o=r[e+1],s=t[-n];for(let e=Tt;e<s.length;e++){const t=s[e];t[17]===t[3]&&cu(t[1],t,o,i)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];cu(n[1],n,o,i)}}}}}return i}function hu(e){const t=Xt(),n=Qt(),i=dn();fn(i+1);const o=bu(n,i);if(e.dirty&&jt(t)===o.metadata.isStatic){if(null===o.matches)e.reset([]);else{const r=o.crossesNgTemplate?cu(n,t,i,[]):uu(n,t,o,i);e.reset(r),e.notifyOnChanges()}return!0}return!1}function pu(e,t,n){fu(Qt(),Xt(),e,t,n,!0)}function du(e,t,n){fu(Qt(),Xt(),e,t,n,!1)}function fu(e,t,n,i,o,r){e.firstCreatePass&&(wu(e,new ou(n,i,r,o),-1),r&&(e.staticViewQueries=!0)),Cu(e,t)}function gu(e,t,n,i){yu(Qt(),Xt(),t,n,i,!1,Jt(),e)}function mu(e,t,n,i){yu(Qt(),Xt(),t,n,i,!0,Jt(),e)}function yu(e,t,n,i,o,r,s,a){e.firstCreatePass&&(wu(e,new ou(n,i,r,o),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),r&&(e.staticContentQueries=!0)),Cu(e,t)}function vu(){return e=Xt(),t=dn(),e[19].queries[t].queryList;var e,t}function Cu(e,t){const n=new tu;vr(e,t,n,n.destroy),null===t[19]&&(t[19]=new iu),t[19].queries.push(new nu(n))}function wu(e,t,n){null===e.queries&&(e.queries=new ru),e.queries.track(new su(t,n))}function bu(e,t){return e.queries.getByIndex(t)}function Su(e,t){return Cl(e,t)}const Eu=new we("Application Initializer");let _u=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Va,this.reject=Va,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Gs(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(bt(Eu,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Ou=new we("AppId"),xu={provide:Ou,useFactory:function(){return`${Tu()}${Tu()}${Tu()}`},deps:[]};function Tu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ru=new we("Platform Initializer"),Pu=new we("Platform ID"),Du=new we("appBootstrapListener");let Au=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const ku=new we("LocaleId"),Iu=new we("DefaultCurrencyCode");class Fu{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Nu=function(e){return new Ll(e)},Mu=Nu,Lu=function(e){return Promise.resolve(Nu(e))},Vu=function(e){const t=Nu(e),n=uo(at(e).declarations).reduce((e,t)=>{const n=st(t);return n&&e.push(new Il(n)),e},[]);return new Fu(t,n)},Gu=Vu,Hu=function(e){return Promise.resolve(Vu(e))};let Wu=(()=>{class e{constructor(){this.compileModuleSync=Mu,this.compileModuleAsync=Lu,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=Hu}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Bu=(()=>Promise.resolve(0))();function ju(e){"undefined"==typeof Zone?Bu.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class zu{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=t,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=Te.requestAnimationFrame,t=Te.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Te,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yu(e),qu(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yu(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,o,r,s,a)=>{try{return $u(e),n.invokeTask(o,r,s,a)}finally{t&&"eventTask"===r.type&&t(),Xu(e)}},onInvoke:(t,n,i,o,r,s,a)=>{try{return $u(e),t.invoke(i,o,r,s,a)}finally{Xu(e)}},onHasTask:(t,n,i,o)=>{t.hasTask(i,o),n===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Yu(e),qu(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,e,Ku,Uu,Uu);try{return o.runTask(r,t,n)}finally{o.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Uu(){}const Ku={};function qu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function $u(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Xu(e){e._nesting--,qu(e)}class Qu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let Zu=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zu.assertNotInAngularZone(),ju(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ju(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ju=(()=>{class e{constructor(){this._applications=new Map,nc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return nc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class ec{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let tc,nc=new ec;const ic=new we("AllowMultipleToken");class oc{constructor(e,t){this.name=e,this.token=t}}function rc(e,t,n=[]){const i="Platform: "+t,o=new we(i);return(t=[])=>{let r=sc();if(!r||r.injector.get(ic,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{const e=n.concat(t).concat({provide:o,useValue:!0},{provide:qr,useValue:"platform"});!function(e){if(tc&&!tc.destroyed&&!tc.injector.get(ic,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tc=e.get(ac);const t=e.get(Ru,null);t&&t.forEach(e=>e())}(as.create({providers:e,name:i}))}return function(e){const t=sc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function sc(){return tc&&!tc.destroyed?tc:null}let ac=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Qu:("zone.js"===e?void 0:e)||new zu({enableLongStackTrace:Gn(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:zu,useValue:n}];return n.run(()=>{const t=as.create({providers:i,parent:this.injector,name:e.moduleType.name}),o=e.create(t),r=o.injector.get(so,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(()=>cc(this._modules,o)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,n){try{const i=n();return Gs(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(r,n,()=>{const e=o.injector.get(_u);return e.runInitializers(),e.donePromise.then(()=>(xa(o.injector.get(ku,_a)||_a),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,t=[]){const n=lc({},t);return function(e,t,n){const i=new Ll(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(uc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${se(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(bt(as))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function lc(e,t){return Array.isArray(t)?t.reduce(lc,e):Object.assign(Object.assign({},e),t)}let uc=(()=>{class e{constructor(e,t,n,i,o,r){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Gn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{zu.assertNotInAngularZone(),ju(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=U(s,a.pipe(e=>{return K()((t=Z,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,X);return i.source=e,i.subjectFactory=n,i})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Na?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(wl),o=n.create(as.NULL,[],t||n.selector,i);o.onDestroy(()=>{this._unloadComponent(o)});const r=o.injector.get(Zu,null);return r&&o.injector.get(Ju).registerApplication(o.location.nativeElement,r),this._loadComponent(o),Gn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;cc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Du,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),cc(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(bt(zu),bt(Au),bt(as),bt(so),bt(La),bt(_u))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function cc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class hc{}class pc{}const dc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let fc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||dc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>gc(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+o]).then(e=>gc(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(bt(Wu),bt(pc,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function gc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const mc=rc(null,"core",[{provide:Pu,useValue:"unknown"},{provide:ac,deps:[as]},{provide:Ju,deps:[]},{provide:Au,deps:[]}]),yc=[{provide:uc,useClass:uc,deps:[zu,Au,as,so,La,_u]},{provide:kl,deps:[zu],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:_u,useClass:_u,deps:[[new ie,Eu]]},{provide:Wu,useClass:Wu,deps:[]},xu,{provide:ol,useFactory:function(){return dl},deps:[]},{provide:rl,useFactory:function(){return fl},deps:[]},{provide:ku,useFactory:function(e){return xa(e=e||"undefined"!=typeof $localize&&$localize.locale||_a),e},deps:[[new ne(ku),new ie,new re]]},{provide:Iu,useValue:"USD"}];let vc=(()=>{class e{constructor(e){}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)(bt(uc))},providers:yc}),e})(),Cc=null;function wc(){return Cc}const bc=new we("DocumentToken");let Sc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:Ec,token:e,providedIn:"platform"}),e})();function Ec(){return bt(Oc)}const _c=new we("Location Initialized");let Oc=(()=>{class e extends Sc{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=wc().getLocation(),this._history=wc().getHistory()}getBaseHrefFromDOM(){return wc().getBaseHref(this._doc)}onPopState(e){wc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){wc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){xc()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){xc()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(bt(bc))},e.\u0275prov=ce({factory:Tc,token:e,providedIn:"platform"}),e})();function xc(){return!!window.history.pushState}function Tc(){return new Oc(bt(bc))}function Rc(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Pc(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Dc(e){return e&&"?"!==e[0]?"?"+e:e}let Ac=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:kc,token:e,providedIn:"root"}),e})();function kc(e){const t=bt(bc).location;return new Fc(bt(Sc),t&&t.origin||"")}const Ic=new we("appBaseHref");let Fc=(()=>{class e extends Ac{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rc(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Dc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const o=this.prepareExternalUrl(n+Dc(i));this._platformLocation.pushState(e,t,o)}replaceState(e,t,n,i){const o=this.prepareExternalUrl(n+Dc(i));this._platformLocation.replaceState(e,t,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(bt(Sc),bt(Ic,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Nc=(()=>{class e extends Ac{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Rc(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let o=this.prepareExternalUrl(n+Dc(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)}replaceState(e,t,n,i){let o=this.prepareExternalUrl(n+Dc(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(bt(Sc),bt(Ic,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Mc=(()=>{class e{constructor(e,t){this._subject=new Jl,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Pc(Vc(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Dc(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Vc(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dc(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dc(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(bt(Ac),bt(Sc))},e.normalizeQueryParams=Dc,e.joinWithSlash=Rc,e.stripTrailingSlash=Pc,e.\u0275prov=ce({factory:Lc,token:e,providedIn:"root"}),e})();function Lc(){return new Mc(bt(Ac),bt(Sc))}function Vc(e){return e.replace(/\/index.html$/,"")}var Gc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class Hc{}let Wc=(()=>{class e extends Hc{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Sa(t);if(n)return n;const i=t.split("-")[0];if(n=Sa(i),n)return n;if("en"===i)return wa;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Ea.PluralCase]}(t||this.locale)(e)){case Gc.Zero:return"zero";case Gc.One:return"one";case Gc.Two:return"two";case Gc.Few:return"few";case Gc.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(bt(ku))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Bc(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,o]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let jc=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ys(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+se(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Rs(ol),Rs(rl),Rs(Wa),Rs(ja))},e.\u0275dir=ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class zc{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uc=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Gn()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new zc(null,this._ngForOf,-1,-1),null===i?void 0:i),o=new Kc(e,n);t.push(o)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const o=this._viewContainer.get(n);this._viewContainer.move(o,i);const r=new Kc(e,o);t.push(r)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(ml),Rs(ol))},e.\u0275dir=ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Kc{constructor(e,t){this.record=e,this.view=t}}let qc=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Yc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$c("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$c("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Yc{constructor(){this.$implicit=null,this.ngIf=null}}function $c(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${se(t)}'.`)}class Xc{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Qc=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ot({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Zc=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Xc(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(ml),Rs(Qc,1))},e.\u0275dir=ot({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Jc=(()=>{class e{constructor(e,t,n){n._addDefault(new Xc(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(ml),Rs(Qc,1))},e.\u0275dir=ot({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),eh=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(rl),Rs(ja))},e.\u0275dir=ot({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),th=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Rs(El))},e.\u0275dir=ot({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[gi]}),e})();class nh{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ih{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const oh=new ih,rh=new nh;let sh=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Gs(t))return oh;if(Hs(t))return rh;throw Error(`InvalidPipeArgument: '${t}' for pipe '${se(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(function(e=ct.Default){const t=hl(!0);if(null!=t||e&ct.Optional)return t;di("ChangeDetectorRef")}())},e.\u0275pipe=rt({name:"async",type:e,pure:!1}),e})(),ah=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[{provide:Hc,useClass:Wc}]}),e})(),lh=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new uh(bt(bc),window,bt(so))}),e})();class uh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=ch(this.window.history)||ch(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function ch(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class hh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new hh,Cc||(Cc=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=dh||(dh=document.querySelector("base"),dh)?dh.getAttribute("href"):null;return null==t?null:(n=t,ph||(ph=document.createElement("a")),ph.setAttribute("href",n),"/"===ph.pathname.charAt(0)?ph.pathname:"/"+ph.pathname);var n}resetBaseElement(){dh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Bc(document.cookie,e)}}let ph,dh=null;const fh=new we("TRANSITION_ID"),gh=[{provide:Eu,useFactory:function(e,t,n){return()=>{n.get(_u).donePromise.then(()=>{const n=wc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[fh,bc,as],multi:!0}];class mh{static init(){!function(e){nc=e}(new mh)}addToWindow(e){Te.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(e=>{const t=Te.getAllAngularTestabilities();let n=t.length,i=!1;const o=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(o)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?wc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const yh=new we("EventManagerPlugins");let vh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(bt(yh),bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Ch{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=wc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let wh=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),bh=(()=>{class e extends wh{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>wc().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(bt(bc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Sh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Eh=/%COMP%/g;function _h(e,t,n){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?_h(e,o,n):(o=o.replace(Eh,e),n.push(o))}return n}function Oh(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let xh=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Th(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case We.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Rh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case We.ShadowDom:return new Ph(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_h(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(bt(vh),bt(bh),bt(Ou))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Th{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Sh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const o=Sh[i];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Sh[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(co.DashCase|co.Important)?e.style.setProperty(t,n,i&co.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&co.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oh(n)):this.eventManager.addEventListener(e,t,Oh(n))}}class Rh extends Th{constructor(e,t,n,i){super(e),this.component=n;const o=_h(i+"-"+n.id,n.styles,[]);t.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Eh,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Eh,i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Ph extends Th{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=_h(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const e=document.createElement("style");e.textContent=o[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Dh=(()=>{class e extends Ch{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(bt(bc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Ah=["alt","control","meta","shift"],kh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ih={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fh={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Nh=(()=>{class e extends Ch{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const o=e.parseEventName(n),r=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wc().onAndCancel(t,o.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(n.pop());let r="";if(Ah.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")}),r+=o,0!=n.length||0===o.length)return null;const s={};return s.domEventName=i,s.fullKey=r,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ih.hasOwnProperty(t)&&(t=Ih[t]))}return kh[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ah.forEach(i=>{i!=n&&(0,Fh[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return o=>{e.getEventFullKey(o)===t&&i.runGuarded(()=>n(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(bt(bc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Mh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return bt(Lh)},token:e,providedIn:"root"}),e})(),Lh=(()=>{class e extends Mh{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case ui.NONE:return t;case ui.HTML:return Nn(t,"HTML")?Fn(t):ai(this._doc,String(t));case ui.STYLE:return Nn(t,"Style")?Fn(t):t;case ui.SCRIPT:if(Nn(t,"Script"))return Fn(t);throw new Error("unsafe value used in a script context");case ui.URL:return Mn(t),Nn(t,"URL")?Fn(t):zn(String(t));case ui.RESOURCE_URL:if(Nn(t,"ResourceURL"))return Fn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new Pn(e)}bypassSecurityTrustStyle(e){return new Dn(e)}bypassSecurityTrustScript(e){return new An(e)}bypassSecurityTrustUrl(e){return new kn(e)}bypassSecurityTrustResourceUrl(e){return new In(e)}}return e.\u0275fac=function(t){return new(t||e)(bt(bc))},e.\u0275prov=ce({factory:function(){return e=bt(Ur),new Lh(e.get(bc));var e},token:e,providedIn:"root"}),e})();const Vh=rc(mc,"browser",[{provide:Pu,useValue:"browser"},{provide:Ru,useValue:function(){hh.makeCurrent(),mh.init()},multi:!0},{provide:bc,useFactory:function(){return function(e){_t=e}(document),document},deps:[]}]),Gh=[[],{provide:qr,useValue:"root"},{provide:so,useFactory:function(){return new so},deps:[]},{provide:yh,useClass:Dh,multi:!0,deps:[bc,zu,Pu]},{provide:yh,useClass:Nh,multi:!0,deps:[bc]},[],{provide:xh,useClass:xh,deps:[vh,bh,Ou]},{provide:Ba,useExisting:xh},{provide:wh,useExisting:bh},{provide:bh,useClass:bh,deps:[bc]},{provide:Zu,useClass:Zu,deps:[zu]},{provide:vh,useClass:vh,deps:[yh,zu]},[]];let Hh=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ou,useValue:t.appId},{provide:fh,useExisting:Ou},gh]}}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)(bt(e,12))},providers:Gh,imports:[ah,vc]}),e})();function Wh(...e){let t=e[e.length-1];return O(t)?(e.pop(),N(e,t)):z(e)}"undefined"!=typeof window&&window;class Bh extends E{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(e){super.next(this._value=e)}}class jh extends f{notifyNext(e,t,n,i,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class zh extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Uh(e,t,n,i,o=new zh(e,n,i)){if(!o.closed)return t instanceof v?t.subscribe(o):F(t)(o)}const Kh={};function qh(...e){let t=void 0,n=void 0;return O(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),z(e,n).lift(new Yh(t))}class Yh{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new $h(e,this.resultSelector))}}class $h extends jh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Kh),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Uh(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const i=this.values,o=this.toRespond?i[n]===Kh?--this.toRespond:this.toRespond:0;i[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Xh=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Qh=new v(e=>e.complete());function Zh(e){return e?function(e){return new v(t=>e.schedule(()=>t.complete()))}(e):Qh}function Jh(e){return new v(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?M(n):Zh()).subscribe(t)})}function ep(){return j(1)}function tp(e,t){return function(n){return n.lift(new np(e,t))}}class np{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ip(e,this.predicate,this.thisArg))}}class ip extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const op=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function rp(e){return function(t){return 0===e?Zh():t.lift(new sp(e))}}class sp{constructor(e){if(this.total=e,this.total<0)throw new op}call(e,t){return t.subscribe(new ap(e,this.total))}}class ap extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<n;o++){const o=t++%n;e.next(i[o])}}e.complete()}}function lp(e=hp){return t=>t.lift(new up(e))}class up{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new cp(e,this.errorFactory))}}class cp extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function hp(){return new Xh}function pp(e=null){return t=>t.lift(new dp(e))}class dp{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new fp(e,this.defaultValue))}}class fp extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function gp(e,t){return"function"==typeof t?n=>n.pipe(gp((n,i)=>M(e(n,i)).pipe(x((e,o)=>t(n,e,i,o))))):t=>t.lift(new mp(e))}class mp{constructor(e){this.project=e}call(e,t){return t.subscribe(new yp(e,this.project))}}class yp extends V{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new L(this),i=this.destination;i.add(n),this.innerSubscription=G(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function vp(e){return t=>0===e?Zh():t.lift(new Cp(e))}class Cp{constructor(e){if(this.total=e,this.total<0)throw new op}call(e,t){return t.subscribe(new wp(e,this.total))}}class wp extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function bp(...e){return ep()(Wh(...e))}function Sp(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Ep(e,t,n))}}class Ep{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new _p(e,this.accumulator,this.seed,this.hasSeed))}}class _p extends f{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Op(e){return function(t){const n=new xp(e),i=t.lift(n);return n.caught=i}}class xp{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Tp(e,this.selector,this.caught))}}class Tp extends V{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new L(this);this.add(i);const o=G(n,i);o!==i&&this.add(o)}}}function Rp(e,t){return H(e,t,1)}function Pp(e,t){const n=arguments.length>=2;return i=>i.pipe(e?tp((t,n)=>e(t,n,i)):y,vp(1),n?pp(t):lp(()=>new Xh))}function Dp(){}function Ap(e,t,n){return function(i){return i.lift(new kp(e,t,n))}}class kp{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Ip(e,this.nextOrObserver,this.error,this.complete))}}class Ip extends f{constructor(e,t,n,o){super(e),this._tapNext=Dp,this._tapError=Dp,this._tapComplete=Dp,this._tapError=n||Dp,this._tapComplete=o||Dp,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Dp,this._tapError=t.error||Dp,this._tapComplete=t.complete||Dp)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Fp{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Np(e,this.callback))}}class Np extends f{constructor(e,t){super(e),this.add(new h(t))}}class Mp{constructor(e,t){this.id=e,this.url=t}}class Lp extends Mp{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vp extends Mp{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gp extends Mp{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hp extends Mp{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wp extends Mp{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bp extends Mp{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jp extends Mp{constructor(e,t,n,i,o){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zp extends Mp{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Up extends Mp{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qp{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yp{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $p{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xp{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qp{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zp{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jp="primary";class ed{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function td(e){return new ed(e)}function nd(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function id(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const o={};for(let r=0;r<i.length;r++){const t=i[r],n=e[r];if(t.startsWith(":"))o[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}function od(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let o;for(let r=0;r<n.length;r++)if(o=n[r],!rd(e[o],t[o]))return!1;return!0}function rd(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((e,t)=>i[t]===e)}return e===t}function sd(e){return Array.prototype.concat.apply([],e)}function ad(e){return e.length>0?e[e.length-1]:null}function ld(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ud(e){return Hs(e)?e:Gs(e)?M(Promise.resolve(e)):Wh(e)}function cd(e,t,n){return n?function(e,t){return od(e,t)}(e.queryParams,t.queryParams)&&hd(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>rd(e[n],t[n]))}(e.queryParams,t.queryParams)&&pd(e.root,t.root)}function hd(e,t){if(!yd(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!hd(e.children[n],t.children[n]))return!1}return!0}function pd(e,t){return dd(e,t,t.segments)}function dd(e,t,n){if(e.segments.length>n.length)return!!yd(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!yd(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!pd(e.children[n],t.children[n]))return!1}return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!yd(e.segments,i)&&!!e.children.primary&&dd(e.children.primary,t,o)}}class fd{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=td(this.queryParams)),this._queryParamMap}toString(){return bd.serialize(this)}}class gd{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ld(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sd(this)}}class md{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=td(this.parameters)),this._parameterMap}toString(){return Pd(this)}}function yd(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function vd(e,t){let n=[];return ld(e.children,(e,i)=>{i===Jp&&(n=n.concat(t(e,i)))}),ld(e.children,(e,i)=>{i!==Jp&&(n=n.concat(t(e,i)))}),n}class Cd{}class wd{parse(e){const t=new Fd(e);return new fd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+Ed(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Od(t)}=${Od(e)}`).join("&"):`${Od(t)}=${Od(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const bd=new wd;function Sd(e){return e.segments.map(e=>Pd(e)).join("/")}function Ed(e,t){if(!e.hasChildren())return Sd(e);if(t){const t=e.children.primary?Ed(e.children.primary,!1):"",n=[];return ld(e.children,(e,t)=>{t!==Jp&&n.push(`${t}:${Ed(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=vd(e,(t,n)=>n===Jp?[Ed(e.children.primary,!1)]:[`${n}:${Ed(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Sd(e)}/${t[0]}`:`${Sd(e)}/(${t.join("//")})`}}function _d(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(e){return _d(e).replace(/%3B/gi,";")}function xd(e){return _d(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Td(e){return decodeURIComponent(e)}function Rd(e){return Td(e.replace(/\+/g,"%20"))}function Pd(e){return`${xd(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${xd(e)}=${xd(t[e])}`).join("")}`;var t}const Dd=/^[^\/()?;=#]+/;function Ad(e){const t=e.match(Dd);return t?t[0]:""}const kd=/^[^=?&#]+/,Id=/^[^?&#]+/;class Fd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gd([],{}):new gd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new gd(e,t)),n}parseSegment(){const e=Ad(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new md(Td(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ad(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ad(this.remaining);e&&(n=e,this.capture(n))}e[Td(t)]=Td(n)}parseQueryParam(e){const t=function(e){const t=e.match(kd);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Id);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=Rd(t),o=Rd(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ad(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Jp);const r=this.parseChildren();t[o]=1===Object.keys(r).length?r.primary:new gd([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Nd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Md(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Md(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ld(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ld(e,this._root).map(e=>e.value)}}function Md(e,t){if(e===t.value)return t;for(const n of t.children){const t=Md(e,n);if(t)return t}return null}function Ld(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Ld(e,n);if(i.length)return i.unshift(t),i}return[]}class Vd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gd(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Hd extends Nd{constructor(e,t){super(e),this.snapshot=t,Kd(this,e)}toString(){return this.snapshot.toString()}}function Wd(e,t){const n=function(e,t){const n=new zd([],{},{},"",{},Jp,t,null,e.root,-1,{});return new Ud("",new Vd(n,[]))}(e,t),i=new Bh([new md("",{})]),o=new Bh({}),r=new Bh({}),s=new Bh({}),a=new Bh(""),l=new Bd(i,o,s,a,r,Jp,t,n.root);return l.snapshot=n.root,new Hd(new Vd(l,[]),n)}class Bd{constructor(e,t,n,i,o,r,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(x(e=>td(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(x(e=>td(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jd(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class zd{constructor(e,t,n,i,o,r,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=td(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=td(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ud extends Nd{constructor(e,t){super(t),this.url=e,Kd(this,t)}toString(){return qd(this._root)}}function Kd(e,t){t.value._routerState=e,t.children.forEach(t=>Kd(e,t))}function qd(e){const t=e.children.length>0?` { ${e.children.map(qd).join(", ")} } `:"";return`${e.value}${t}`}function Yd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,od(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),od(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!od(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),od(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function $d(e,t){var n,i;return od(e.params,t.params)&&yd(n=e.url,i=t.url)&&n.every((e,t)=>od(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||$d(e.parent,t.parent))}function Xd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const o=function(e,t,n){return t.children.map(t=>{for(const i of n.children)if(e.shouldReuseRoute(t.value,i.value.snapshot))return Xd(e,t,i);return Xd(e,t)})}(e,t,n);return new Vd(i,o)}{const n=e.retrieve(t.value);if(n){const e=n.route;return Qd(t,e),e}{const n=new Bd(new Bh((i=t.value).url),new Bh(i.params),new Bh(i.queryParams),new Bh(i.fragment),new Bh(i.data),i.outlet,i.component,i),o=t.children.map(t=>Xd(e,t));return new Vd(n,o)}}var i}function Qd(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Qd(e.children[n],t.children[n])}function Zd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Jd(e){return"object"==typeof e&&null!=e&&e.outlets}function ef(e,t,n,i,o){let r={};return i&&ld(i,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new fd(n.root===e?t:tf(n.root,e,t),r,o)}function tf(e,t,n){const i={};return ld(e.children,(e,o)=>{i[o]=e===t?n:tf(e,t,n)}),new gd(e.segments,i)}class nf{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Zd(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Jd);if(i&&i!==ad(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class of{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function rf(e,t,n){if(e||(e=new gd([],{})),0===e.segments.length&&e.hasChildren())return sf(e,t,n);const i=function(e,t,n){let i=0,o=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(i>=n.length)return r;const t=e.segments[o],s=n[i];if(Jd(s))break;const a=""+s,l=i<n.length-1?n[i+1]:null;if(o>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!cf(a,l,t))return r;i+=2}else{if(!cf(a,{},t))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(e,t,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new gd(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new gd(e.segments.slice(i.pathIndex),e.children),sf(t,0,o)}return i.match&&0===o.length?new gd(e.segments,{}):i.match&&!e.hasChildren()?af(e,t,n):i.match?sf(e,0,o):af(e,t,n)}function sf(e,t,n){if(0===n.length)return new gd(e.segments,{});{const i=function(e){return Jd(e[0])?e[0].outlets:{[Jp]:e}}(n),o={};return ld(i,(n,i)=>{null!==n&&(o[i]=rf(e.children[i],t,n))}),ld(e.children,(e,t)=>{void 0===i[t]&&(o[t]=e)}),new gd(e.segments,o)}}function af(e,t,n){const i=e.segments.slice(0,t);let o=0;for(;o<n.length;){const r=n[o];if(Jd(r)){const e=lf(r.outlets);return new gd(i,e)}if(0===o&&Zd(n[0])){i.push(new md(e.segments[t].path,n[0])),o++;continue}const s=Jd(r)?r.outlets.primary:""+r,a=o<n.length-1?n[o+1]:null;s&&a&&Zd(a)?(i.push(new md(s,uf(a))),o+=2):(i.push(new md(s,{})),o++)}return new gd(i,{})}function lf(e){const t={};return ld(e,(e,n)=>{null!==e&&(t[n]=af(new gd([],{}),0,e))}),t}function uf(e){const t={};return ld(e,(e,n)=>t[n]=""+e),t}function cf(e,t,n){return e==n.path&&od(t,n.parameters)}class hf{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Yd(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Gd(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),ld(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Gd(e),o=e.value.component?n.children:t;ld(i,(e,t)=>this.deactivateRouteAndItsChildren(e,o)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Gd(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new Qp(e.value.snapshot))}),e.children.length&&this.forwardEvent(new $p(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,o=t?t.value:null;if(Yd(i),i===o)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),pf(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),o=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=o,t.outlet&&t.outlet.activateWith(i,o),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function pf(e){Yd(e.value),e.children.forEach(pf)}class df{constructor(e,t){this.routes=e,this.module=t}}function ff(e){return"function"==typeof e}function gf(e){return e instanceof fd}const mf=Symbol("INITIAL_VALUE");function yf(){return gp(e=>qh(...e.map(e=>e.pipe(vp(1),function(...e){const t=e[e.length-1];return O(t)?(e.pop(),n=>bp(e,n,t)):t=>bp(e,t)}(mf)))).pipe(Sp((e,t)=>{let n=!1;return t.reduce((e,i,o)=>{if(e!==mf)return e;if(i===mf&&(n=!0),!n){if(!1===i)return i;if(o===t.length-1||gf(i))return i}return e},e)},mf),tp(e=>e!==mf),x(e=>gf(e)?e:!0===e),vp(1)))}let vf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Fs(0,"router-outlet")},directives:function(){return[ug]},encapsulation:2}),e})();function Cf(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];wf(i,bf(t,i))}}function wf(e,t){e.children&&Cf(e.children,t)}function bf(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Sf(e){const t=e.children&&e.children.map(Sf),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Jp&&(n.component=vf),n}function Ef(e){return e.outlet||Jp}class _f{constructor(e){this.segmentGroup=e||null}}class Of{constructor(e){this.urlTree=e}}function xf(e){return new v(t=>t.error(new _f(e)))}function Tf(e){return new v(t=>t.error(new Of(e)))}function Rf(e){return new v(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Pf{constructor(e,t,n,i,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(wl)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Jp).pipe(x(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Op(e=>{if(e instanceof Of)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof _f)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Jp).pipe(x(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Op(e=>{if(e instanceof _f)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new gd([],{[Jp]:e}):e;return new fd(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(x(e=>new gd([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Wh({});const n=[],i=[],o={};return ld(e,(e,r)=>{const s=t(r,e).pipe(x(e=>o[r]=e));r===Jp?n.push(s):i.push(s)}),Wh.apply(null,n.concat(i)).pipe(ep(),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?tp((t,n)=>e(t,n,i)):y,rp(1),n?pp(t):lp(()=>new Xh))}(),x(()=>o))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,o,r){const s=function(e){return e.reduce((e,t)=>{const n=Ef(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);s.has(o)||s.set(o,[]);const a=n=>M(n).pipe(Rp(s=>this.expandSegmentAgainstRoute(e,t,n,s,i,o,r).pipe(Op(e=>{if(e instanceof _f)return Wh(null);throw e}))),Pp(e=>null!==e),Op(e=>{if(e instanceof Xh||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,o))return Wh(new gd([],{}));throw new _f(t)}throw e}));return M(Array.from(s.entries()).map(([e,t])=>{const n=a(t);return e===o?n:n.pipe(x(()=>null),Op(()=>Wh(null)))})).pipe(e=>e.lift(new Yh(void 0)),Pp(),x(e=>e.find(e=>null!==e)))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,o,r,s){return Ef(i)!==r&&""!==i.path?xf(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r):xf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Tf(o):this.lineralizeSegments(n,o).pipe(H(n=>{const o=new gd(n,{});return this.expandSegment(e,o,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,r){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Df(t,i,o);if(!s)return xf(t);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?Tf(c):this.lineralizeSegments(i,c).pipe(H(i=>this.expandSegment(e,t,n,i.concat(o.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(x(e=>(n._loadedConfig=e,new gd(i,{})))):Wh(new gd(i,{}));const{matched:o,consumedSegments:r,lastChild:s}=Df(t,n,i);if(!o)return xf(t);const a=i.slice(s);return this.getChildConfig(e,n,i).pipe(H(e=>{const n=e.module,i=e.routes,{segmentGroup:o,slicedSegments:s}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>kf(e,t,n)&&Ef(n)!==Jp)}(e,n,i)?{segmentGroup:Af(new gd(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&Ef(i)!==Jp&&(n[Ef(i)]=new gd([],{}));return n}(i,new gd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>kf(e,t,n))}(e,n,i)?{segmentGroup:Af(new gd(e.segments,function(e,t,n,i){const o={};for(const r of n)kf(e,t,r)&&!i[Ef(r)]&&(o[Ef(r)]=new gd([],{}));return Object.assign(Object.assign({},i),o)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,r,a,i);return 0===s.length&&o.hasChildren()?this.expandChildren(n,i,o).pipe(x(e=>new gd(r,e))):0===i.length&&0===s.length?Wh(new gd(r,{})):this.expandSegment(n,o,i,s,Jp,!0).pipe(x(e=>new gd(r.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Wh(new df(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Wh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(H(n=>n?this.configLoader.load(e.injector,t).pipe(x(e=>(t._loadedConfig=e,e))):function(e){return new v(t=>t.error(nd(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Wh(new df([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;return i&&0!==i.length?Wh(i.map(i=>{const o=e.get(i);let r;if(function(e){return e&&ff(e.canLoad)}(o))r=o.canLoad(t,n);else{if(!ff(o))throw new Error("Invalid CanLoad guard");r=o(t,n)}return ud(r)})).pipe(yf(),Ap(e=>{if(!gf(e))return;const t=nd(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),x(e=>!0===e)):Wh(!0)}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Wh(n);if(i.numberOfChildren>1||!i.children.primary)return Rf(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const o=this.createSegmentGroup(e,t.root,n,i);return new fd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return ld(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const o=e.substring(1);n[i]=t[o]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const o=this.createSegments(e,t.segments,n,i);let r={};return ld(t.children,(t,o)=>{r[o]=this.createSegmentGroup(e,t,n,i)}),new gd(o,r)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function Df(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||id)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Af(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new gd(e.segments.concat(t.segments),t.children)}return e}function kf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class If{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ff{constructor(e,t){this.component=e,this.route=t}}function Nf(e,t,n){const i=e._root;return Lf(i,t?t._root:null,n,[i.value])}function Mf(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Lf(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=Gd(t);return e.children.forEach(e=>{!function(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!yd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yd(e.url,t.url)||!od(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$d(e,t)||!od(e.queryParams,t.queryParams);case"paramsChange":default:return!$d(e,t)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new If(i)):(r.data=s.data,r._resolvedData=s._resolvedData),Lf(e,t,r.component?a?a.children:null:n,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ff(a.outlet.component,s))}else s&&Vf(t,a,o),o.canActivateChecks.push(new If(i)),Lf(e,null,r.component?a?a.children:null:n,i,o)}(e,r[e.value.outlet],n,i.concat([e.value]),o),delete r[e.value.outlet]}),ld(r,(e,t)=>Vf(e,n.getContext(t),o)),o}function Vf(e,t,n){const i=Gd(e),o=e.value;ld(i,(e,i)=>{Vf(e,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Ff(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Gf(e,t){return null!==e&&t&&t(new Xp(e)),Wh(!0)}function Hf(e,t){return null!==e&&t&&t(new Yp(e)),Wh(!0)}function Wf(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?Wh(i.map(i=>Jh(()=>{const o=Mf(i,t,n);let r;if(function(e){return e&&ff(e.canActivate)}(o))r=ud(o.canActivate(t,e));else{if(!ff(o))throw new Error("Invalid CanActivate guard");r=ud(o(t,e))}return r.pipe(Pp())}))).pipe(yf()):Wh(!0)}function Bf(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Jh(()=>Wh(t.guards.map(o=>{const r=Mf(o,t.node,n);let s;if(function(e){return e&&ff(e.canActivateChild)}(r))s=ud(r.canActivateChild(i,e));else{if(!ff(r))throw new Error("Invalid CanActivateChild guard");s=ud(r(i,e))}return s.pipe(Pp())})).pipe(yf())));return Wh(o).pipe(yf())}class jf{}class zf{constructor(e,t,n,i,o,r){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){try{const e=qf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Jp),n=new zd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jp,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Vd(n,t),o=new Ud(this.url,i);return this.inheritParamsAndData(o._root),Wh(o)}catch(e){return new v(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=jd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=vd(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Jp?-1:t.value.outlet===Jp?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,n,i)}catch(o){if(!(o instanceof jf))throw o}if(this.noLeftoversInUrl(t,n,i))return[];throw new jf}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new jf;if((e.outlet||Jp)!==i)throw new jf;let o,r=[],s=[];if("**"===e.path){const r=n.length>0?ad(n).parameters:{};o=new zd(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xf(e),i,e.component,e,Uf(t),Kf(t)+n.length,Qf(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new jf;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||id)(n,e,t);if(!i)throw new jf;const o={};ld(i.posParams,(e,t)=>{o[t]=e.path});const r=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(t,e,n);r=a.consumedSegments,s=n.slice(a.lastChild),o=new zd(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xf(e),i,e.component,e,Uf(t),Kf(t)+r.length,Qf(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=qf(t,r,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Vd(o,e)]}if(0===a.length&&0===u.length)return[new Vd(o,[])];const c=this.processSegment(a,l,u,Jp);return[new Vd(o,c)]}}function Uf(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Kf(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function qf(e,t,n,i,o){if(n.length>0&&function(e,t,n){return n.some(n=>Yf(e,t,n)&&$f(n)!==Jp)}(e,n,i)){const o=new gd(t,function(e,t,n,i){const o={};o.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const r of n)if(""===r.path&&$f(r)!==Jp){const n=new gd([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,o[$f(r)]=n}return o}(e,t,i,new gd(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Yf(e,t,n))}(e,n,i)){const r=new gd(e.segments,function(e,t,n,i,o,r){const s={};for(const a of i)if(Yf(e,n,a)&&!o[$f(a)]){const n=new gd([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===r?e.segments.length:t.length,s[$f(a)]=n}return Object.assign(Object.assign({},o),s)}(e,t,n,i,e.children,o));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}const r=new gd(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function Yf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $f(e){return e.outlet||Jp}function Xf(e){return e.data||{}}function Qf(e){return e.resolve||{}}function Zf(e){return function(t){return t.pipe(gp(t=>{const n=e(t);return n?M(n).pipe(x(()=>t)):M([t])}))}}class Jf extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const eg=new we("ROUTES");class tg{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(x(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new df(sd(i.injector.get(eg)).map(Sf),i)}))}loadModuleFactory(e){return"string"==typeof e?M(this.loader.load(e)):ud(e()).pipe(H(e=>e instanceof bl?Wh(e):M(this.compiler.compileModuleAsync(e))))}}class ng{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ig,this.attachRef=null}}class ig{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ng,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class og{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rg(e){throw e}function sg(e,t,n){return t.parse("/")}function ag(e,t){return Wh(null)}let lg=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=rg,this.malformedUriErrorHandler=sg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ag,afterPreactivation:ag},this.urlHandlingStrategy=new og,this.routeReuseStrategy=new Jf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(wl),this.console=o.get(Au);const l=o.get(zu);this.isNgZoneEnabled=l instanceof zu,this.resetConfig(a),this.currentUrlTree=new fd(new gd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tg(r,s,e=>this.triggerEvent(new Kp(e)),e=>this.triggerEvent(new qp(e))),this.routerState=Wd(this.currentUrlTree,this.rootComponentType),this.transitions=new Bh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(tp(e=>0!==e.id),x(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),gp(e=>{let n=!1,i=!1;return Wh(e).pipe(Ap(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gp(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Wh(e).pipe(gp(e=>{const n=this.transitions.getValue();return t.next(new Lp(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Qh:[e]}),gp(e=>Promise.resolve(e)),(i=this.ngModule.injector,o=this.configLoader,r=this.urlSerializer,s=this.config,function(e){return e.pipe(gp(e=>function(e,t,n,i,o){return new Pf(e,t,n,i,o).apply()}(i,o,r,e.extractedUrl,s).pipe(x(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Ap(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,o){return function(r){return r.pipe(H(r=>function(e,t,n,i,o="emptyOnly",r="legacy"){return new zf(e,t,n,i,o,r).recognize()}(e,t,r.urlAfterRedirects,n(r.urlAfterRedirects),i,o).pipe(x(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ap(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Ap(e=>{const n=new Wp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,o,r,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:o,restoredState:r,extras:s}=e,a=new Lp(n,this.serializeUrl(i),o,r);t.next(a);const l=Wd(i,this.rootComponentType).snapshot;return Wh(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Qh}),Zf(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),Ap(e=>{const t=new Bp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),x(e=>Object.assign(Object.assign({},e),{guards:Nf(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(H(n=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=n;return 0===s.length&&0===r.length?Wh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return M(e).pipe(H(e=>function(e,t,n,i,o){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Wh(r.map(r=>{const s=Mf(r,t,o);let a;if(function(e){return e&&ff(e.canDeactivate)}(s))a=ud(s.canDeactivate(e,t,n,i));else{if(!ff(s))throw new Error("Invalid CanDeactivate guard");a=ud(s(e,t,n,i))}return a.pipe(Pp())})).pipe(yf()):Wh(!0)}(e.component,e.route,n,t,i)),Pp(e=>!0!==e,!0))}(s,i,o,e).pipe(H(n=>n&&"boolean"==typeof n?function(e,t,n,i){return M(t).pipe(Rp(t=>M([Hf(t.route.parent,i),Gf(t.route,i),Bf(e,t.path,n),Wf(e,t.route,n)]).pipe(ep(),Pp(e=>!0!==e,!0))),Pp(e=>!0!==e,!0))}(i,r,e,t):Wh(n)),x(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Ap(e=>{if(gf(e.guardsResult)){const t=nd(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Ap(e=>{const t=new jp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),tp(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Gp(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Zf(e=>{if(e.guards.canActivateChecks.length)return Wh(e).pipe(Ap(e=>{const t=new zp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),gp(e=>{let n=!1;return Wh(e).pipe((i=this.paramsInheritanceStrategy,o=this.ngModule.injector,function(e){return e.pipe(H(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return Wh(e);let r=0;return M(n).pipe(Rp(e=>function(e,t,n,i){return function(e,t,n,i){const o=Object.keys(e);if(0===o.length)return Wh({});const r={};return M(o).pipe(H(o=>function(e,t,n,i){const o=Mf(e,t,i);return ud(o.resolve?o.resolve(t,n):o(t,n))}(e[o],t,n,i).pipe(Ap(e=>{r[o]=e}))),rp(1),H(()=>Object.keys(r).length===o.length?Wh(r):Qh))}(e._resolve,e,t,i).pipe(x(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),jd(e,n).resolve),null)))}(e.route,t,i,o)),Ap(()=>r++),rp(1),H(t=>r===n.length?Wh(e):Qh))}))}),Ap({next:()=>n=!0,complete:()=>{if(!n){const n=new Gp(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var i,o}),Ap(e=>{const t=new Up(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Zf(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),x(e=>{const t=function(e,t,n){const i=Xd(e,t._root,n?n._root:void 0);return new Hd(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Ap(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,a=e=>this.triggerEvent(e),x(e=>(new hf(s,e.targetRouterState,e.currentRouterState,a).activate(r),e))),Ap({next(){n=!0},complete(){n=!0}}),(o=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Gp(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Fp(o))),Op(n=>{if(i=!0,(o=n)&&o.ngNavigationCancelingError){const i=gf(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const o=new Gp(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(o),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new Hp(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}var o;return Qh}));var o,r,s,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:i}=t,o={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(o.state=e)}this.scheduleNavigation(i,e,n,o)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Cf(e),this.config=e.map(Sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:o,queryParamsHandling:r,preserveFragment:s}=t,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:o;let u=null;switch(r){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,i,o){if(0===n.length)return ef(t.root,t.root,t,i,o);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new nf(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return ld(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===o?(i.split("/").forEach((i,o)=>{0==o&&"."===i||(0==o&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new nf(n,t,i)}(n);if(r.toRoot())return ef(t.root,new gd([],{}),t,i,o);const s=function(e,t,n){if(e.isAbsolute)return new of(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new of(e,e===t.root,0)}const i=Zd(e.commands[0])?0:1;return function(e,t,n){let i=e,o=t,r=n;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new of(i,!1,o-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(r,t,e),a=s.processChildren?sf(s.segmentGroup,s.index,r.commands):rf(s.segmentGroup,s.index,r.commands);return ef(s.segmentGroup,a,t,i,o)}(a,this.currentUrlTree,e,u,l)}navigateByUrl(e,t={skipLocationChange:!1}){const n=gf(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(gf(e))return cd(this.currentUrlTree,e,t);const n=this.parseUrl(e);return cd(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Vp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,o){const r=this.getTransition(),s="imperative"!==t&&"imperative"===(null==r?void 0:r.source),a=(this.lastSuccessfulId===r.id||this.currentNavigation?r.rawUrl:r.urlAfterRedirects).toString()===e.toString();if(s&&a)return Promise.resolve(!0);let l,u,c;o?(l=o.resolve,u=o.reject,c=o.promise):c=new Promise((e,t)=>{l=e,u=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const o=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(bt(ke),bt(Cd),bt(ig),bt(Mc),bt(as),bt(hc),bt(Wu),bt(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),ug=(()=>{class e{constructor(e,t,n,i,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Jl,this.deactivateEvents=new Jl,this.name=i||Jp,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new cg(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Rs(ig),Rs(El),Rs(La),("name",function(e,t){const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const o=n[i];if(Pi(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Jt(),"name")),Rs(cl))},e.\u0275dir=ot({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class cg{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Bd?this.route:e===ig?this.childContexts:this.parent.get(e,t)}}class hg{}class pg{preload(e,t){return Wh(null)}}let dg=(()=>{class e{constructor(e,t,n,i,o){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new tg(t,n,t=>e.triggerEvent(new Kp(t)),t=>e.triggerEvent(new qp(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(tp(e=>e instanceof Vp),Rp(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(wl);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return M(n).pipe(j(),x(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(H(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(bt(lg),bt(hc),bt(Wu),bt(as),bt(hg))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),fg=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Zp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(bt(lg),bt(lh),bt(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const gg=new we("ROUTER_CONFIGURATION"),mg=new we("ROUTER_FORROOT_GUARD"),yg=[Mc,{provide:Cd,useClass:wd},{provide:lg,useFactory:function(e,t,n,i,o,r,s,a={},l,u){const c=new lg(null,e,t,n,i,o,r,sd(s));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,c),a.enableTracing){const e=wc();c.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return c},deps:[Cd,ig,Mc,as,hc,Wu,eg,gg,[class{},new ie],[class{},new ie]]},ig,{provide:Bd,useFactory:function(e){return e.routerState.root},deps:[lg]},{provide:hc,useClass:fc},dg,pg,class{preload(e,t){return t().pipe(Op(()=>Wh(null)))}},{provide:gg,useValue:{enableTracing:!1}}];function vg(){return new oc("Router",lg)}let Cg=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[yg,Eg(t),{provide:mg,useFactory:Sg,deps:[[lg,new ie,new re]]},{provide:gg,useValue:n||{}},{provide:Ac,useFactory:bg,deps:[Sc,[new ne(Ic),new ie],gg]},{provide:fg,useFactory:wg,deps:[lg,lh,gg]},{provide:hg,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:pg},{provide:oc,multi:!0,useFactory:vg},[_g,{provide:Eu,multi:!0,useFactory:Og,deps:[_g]},{provide:Tg,useFactory:xg,deps:[_g]},{provide:Du,multi:!0,useExisting:Tg}]]}}static forChild(t){return{ngModule:e,providers:[Eg(t)]}}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)(bt(mg,8),bt(lg,8))}}),e})();function wg(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new fg(e,t,n)}function bg(e,t,n={}){return n.useHash?new Nc(e,t):new Fc(e,t)}function Sg(e){return"guarded"}function Eg(e){return[{provide:be,multi:!0,useValue:e},{provide:eg,multi:!0,useValue:e}]}let _g=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(_c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(lg),i=this.injector.get(gg);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Wh(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(gg),n=this.injector.get(dg),i=this.injector.get(fg),o=this.injector.get(lg),r=this.injector.get(uc);e===r.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(bt(as))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Og(e){return e.appInitializer.bind(e)}function xg(e){return e.bootstrapListener.bind(e)}const Tg=new we("Router Initializer"),Rg=[];let Pg=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[Cg.forRoot(Rg)],Cg]}),e})();const Dg=[{id:1,name:"Daryl Sweeney",title:"Chief Executive Officer",phone:"(555) 924-9726",managerId:null,hireDate:new Date("2019-01-15")},{id:2,name:"Guy Wooten",title:"Chief Technical Officer",phone:"(438) 738-4935",managerId:1,hireDate:new Date("2019-02-19")},{id:32,name:"Buffy Weber",title:"VP, Engineering",phone:"(699) 838-6121",managerId:2,hireDate:new Date("2019-04-13")},{id:11,name:"Hyacinth Hood",title:"Team Lead",phone:"(889) 345-2438",managerId:32,hireDate:new Date("2018-01-17")},{id:60,name:"Akeem Carr",title:"Junior Software Developer",phone:"(738) 136-2814",managerId:11,hireDate:new Date("2018-01-18")},{id:78,name:"Rinah Simon",title:"Software Developer",phone:"(285) 912-5271",managerId:11,hireDate:new Date("2018-03-17")},{id:42,name:"Gage Daniels",title:"Software Architect",phone:"(107) 290-6260",managerId:32,hireDate:new Date("2019-03-14")},{id:43,name:"Constance Vazquez",title:"Director, Engineering",phone:"(800) 301-1978",managerId:32,hireDate:new Date("2018-03-18")},{id:46,name:"Darrel Solis",title:"Team Lead",phone:"(327) 977-0216",managerId:43,hireDate:new Date("2019-04-15")},{id:47,name:"Brian Yang",title:"Senior Software Developer",phone:"(565) 146-5435",managerId:46,hireDate:new Date("2019-02-21")},{id:50,name:"Lillian Bradshaw",title:"Software Developer",phone:"(323) 509-3479",managerId:46,hireDate:new Date("2019-05-23")},{id:51,name:"Christian Palmer",title:"Technical Lead",phone:"(490) 421-8718",managerId:46,hireDate:new Date("2019-04-16")},{id:55,name:"Summer Mosley",title:"QA Engineer",phone:"(784) 962-2301",managerId:46,hireDate:new Date("2019-09-21")},{id:56,name:"Barry Ayers",title:"Software Developer",phone:"(452) 373-9227",managerId:46,hireDate:new Date("2018-04-16")},{id:59,name:"Keiko Espinoza",title:"Junior QA Engineer",phone:"(226) 600-5305",managerId:46,hireDate:new Date("2018-01-22")},{id:61,name:"Candace Pickett",title:"Support Officer",phone:"(120) 117-7475",managerId:46,hireDate:new Date("2018-09-18")},{id:63,name:"Mia Caldwell",title:"Team Lead",phone:"(848) 636-6470",managerId:43,hireDate:new Date("2018-07-17")},{id:65,name:"Thomas Terry",title:"Senior Enterprise Support Officer",phone:"(764) 831-4248",managerId:63,hireDate:new Date("2018-07-14")},{id:67,name:"Ruth Downs",title:"Senior Software Developer",phone:"(138) 991-1440",managerId:63,hireDate:new Date("2018-08-14")},{id:70,name:"Yasir Wilder",title:"Senior QA Engineer",phone:"(759) 701-8665",managerId:63,hireDate:new Date("2019-08-17")},{id:71,name:"Flavia Short",title:"Support Officer",phone:"(370) 133-9238",managerId:63,hireDate:new Date("2018-06-15")},{id:74,name:"Aaron Roach",title:"Junior Software Developer",phone:"(958) 717-9230",managerId:63,hireDate:new Date("2018-09-18")},{id:75,name:"Eric Russell",title:"Software Developer",phone:"(516) 575-8505",managerId:63,hireDate:new Date("2019-09-13")},{id:76,name:"Cheyenne Olson",title:"Software Developer",phone:"(241) 645-0257",managerId:63,hireDate:new Date("2018-09-18")},{id:77,name:"Shaine Avila",title:"UI Designer",phone:"(844) 435-1360",managerId:63,hireDate:new Date("2018-01-22")},{id:81,name:"Chantale Long",title:"Senior QA Engineer",phone:"(252) 419-6891",managerId:63,hireDate:new Date("2018-09-14")},{id:83,name:"Dane Cruz",title:"Junior Software Developer",phone:"(946) 701-6165",managerId:63,hireDate:new Date("2019-03-15")},{id:84,name:"Regan Patterson",title:"Technical Writer",phone:"(265) 946-1765",managerId:63,hireDate:new Date("2019-05-17")},{id:85,name:"Drew Mckay",title:"Senior Software Developer",phone:"(327) 293-0162",managerId:63,hireDate:new Date("2019-05-21")},{id:88,name:"Bevis Miller",title:"Senior Software Developer",phone:"(525) 557-0169",managerId:63,hireDate:new Date("2018-08-15")},{id:89,name:"Bruce Mccarty",title:"Support Officer",phone:"(936) 777-8730",managerId:63,hireDate:new Date("2019-10-21")},{id:90,name:"Ocean Blair",title:"Team Lead",phone:"(343) 586-6614",managerId:43,hireDate:new Date("2018-06-20")},{id:91,name:"Guinevere Osborn",title:"Software Developer",phone:"(424) 741-0006",managerId:90,hireDate:new Date("2019-06-17")},{id:92,name:"Olga Strong",title:"Graphic Designer",phone:"(949) 417-1168",managerId:90,hireDate:new Date("2018-06-15")},{id:93,name:"Robert Orr",title:"Support Officer",phone:"(977) 341-3721",managerId:90,hireDate:new Date("2018-06-22")},{id:95,name:"Odette Sears",title:"Senior Software Developer",phone:"(264) 818-6576",managerId:90,hireDate:new Date("2019-05-20")},{id:45,name:"Zelda Medina",title:"QA Architect",phone:"(563) 359-6023",managerId:32,hireDate:new Date("2018-08-16")},{id:3,name:"Priscilla Frank",title:"Chief Product Officer",phone:"(217) 280-5300",managerId:1,hireDate:new Date("2019-04-22")},{id:4,name:"Ursula Holmes",title:"EVP, Product Strategy",phone:"(370) 983-8796",managerId:3,hireDate:new Date("2018-01-15")},{id:24,name:"Melvin Carrillo",title:"Director, Developer Relations",phone:"(344) 496-9555",managerId:3,hireDate:new Date("2018-01-17")},{id:29,name:"Martha Chavez",title:"Developer Advocate",phone:"(140) 772-7509",managerId:24,hireDate:new Date("2018-05-14")},{id:30,name:"Oren Fox",title:"Developer Advocate",phone:"(714) 284-2408",managerId:24,hireDate:new Date("2018-07-19")},{id:41,name:"Amos Barr",title:"Developer Advocate",phone:"(996) 587-8405",managerId:24,hireDate:new Date("2019-01-16")}];class Ag{}class kg{}class Ig{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),o=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ig?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ig;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ig?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===o.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Fg{encodeKey(e){return Ng(e)}encodeValue(e){return Ng(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Ng(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Mg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[o,r]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=n.get(o)||[];s.push(r),n.set(o,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Mg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Lg(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Vg(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Gg(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Hg{constructor(e,t,n,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ig),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Mg,this.urlWithParams=t}serializeBody(){return null===this.body?null:Lg(this.body)||Vg(this.body)||Gg(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gg(this.body)?null:Vg(this.body)?this.body.type||null:Lg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new Hg(t,n,o,{params:l,headers:a,reportProgress:s,responseType:i,withCredentials:r})}}var Wg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class Bg{constructor(e,t=200,n="OK"){this.headers=e.headers||new Ig,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jg extends Bg{constructor(e={}){super(e),this.type=Wg.ResponseHeader}clone(e={}){return new jg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zg extends Bg{constructor(e={}){super(e),this.type=Wg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ug extends Bg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Kg(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let qg=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof Hg)i=e;else{let o=void 0;o=n.headers instanceof Ig?n.headers:new Ig(n.headers);let r=void 0;n.params&&(r=n.params instanceof Mg?n.params:new Mg({fromObject:n.params})),i=new Hg(e,t,void 0!==n.body?n.body:null,{headers:o,params:r,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Wh(i).pipe(Rp(e=>this.handler.handle(e)));if(e instanceof Hg||"events"===n.observe)return o;const r=o.pipe(tp(e=>e instanceof zg));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return r.pipe(x(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return r.pipe(x(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return r.pipe(x(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return r.pipe(x(e=>e.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Mg).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Kg(n,t))}post(e,t,n={}){return this.request("POST",e,Kg(n,t))}put(e,t,n={}){return this.request("PUT",e,Kg(n,t))}}return e.\u0275fac=function(t){return new(t||e)(bt(Ag))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Yg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const $g=new we("HTTP_INTERCEPTORS");let Xg=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Qg=/^\)\]\}',?\n/;class Zg{}let Jg=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),em=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let o=null;const r=()=>{if(null!==o)return o;const t=1223===n.status?204:n.status,i=n.statusText||"OK",r=new Ig(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return o=new jg({headers:r,status:t,statusText:i,url:s}),o},s=()=>{let{headers:i,status:o,statusText:s,url:a}=r(),l=null;204!==o&&(l=void 0===n.response?n.responseText:n.response),0===o&&(o=l?200:0);let u=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Qg,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new zg({body:l,headers:i,status:o,statusText:s,url:a||void 0})),t.complete()):t.error(new Ug({error:l,headers:i,status:o,statusText:s,url:a||void 0}))},a=e=>{const{url:i}=r(),o=new Ug({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(o)};let l=!1;const u=i=>{l||(t.next(r()),l=!0);let o={type:Wg.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(o.total=i.total),"text"===e.responseType&&n.responseText&&(o.partialText=n.responseText),t.next(o)},c=e=>{let n={type:Wg.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),t.next({type:Wg.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(bt(Zg))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const tm=new we("XSRF_COOKIE_NAME"),nm=new we("XSRF_HEADER_NAME");class im{}let om=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(bt(bc),bt(Pu),bt(tm))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),rm=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(bt(im),bt(nm))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),sm=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get($g,[]);this.chain=e.reduceRight((e,t)=>new Yg(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(bt(kg),bt(as))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),am=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:rm,useClass:Xg}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:tm,useValue:t.cookieName}:[],t.headerName?{provide:nm,useValue:t.headerName}:[]]}}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[rm,{provide:$g,useExisting:rm,multi:!0},{provide:im,useClass:om},{provide:tm,useValue:"XSRF-TOKEN"},{provide:nm,useValue:"X-XSRF-TOKEN"}]}),e})(),lm=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[qg,{provide:Ag,useClass:sm},em,{provide:kg,useExisting:em},Jg,{provide:Zg,useExisting:Jg}],imports:[[am.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();function um(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function cm(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var hm,pm=n("f7ga");let dm=(()=>{let e=hm=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let e=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(e.children=this.getChildColDefs(this.childColumns)),e}getChildColDefs(e){return e.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(e){return function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(e,["childColumns"])}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["ag-grid-column"]],contentQueries:function(e,t,n){if(1&e&&gu(n,hm,!1),2&e){let e;hu(e=vu())&&(t.childColumns=e)}},inputs:{children:"children",sortingOrder:"sortingOrder",allowedAggFuncs:"allowedAggFuncs",menuTabs:"menuTabs",cellClassRules:"cellClassRules",icons:"icons",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",cellStyle:"cellStyle",cellRendererParams:"cellRendererParams",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",filterFramework:"filterFramework",filterParams:"filterParams",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",tooltipComponent:"tooltipComponent",tooltipComponentParams:"tooltipComponentParams",tooltipComponentFramework:"tooltipComponentFramework",refData:"refData",columnsMenuParams:"columnsMenuParams",headerName:"headerName",columnGroupShow:"columnGroupShow",headerClass:"headerClass",toolPanelClass:"toolPanelClass",headerValueGetter:"headerValueGetter",groupId:"groupId",colId:"colId",sort:"sort",initialSort:"initialSort",field:"field",type:"type",tooltipField:"tooltipField",headerTooltip:"headerTooltip",cellClass:"cellClass",showRowGroup:"showRowGroup",filter:"filter",initialAggFunc:"initialAggFunc",aggFunc:"aggFunc",cellRenderer:"cellRenderer",cellEditor:"cellEditor",pinned:"pinned",initialPinned:"initialPinned",chartDataType:"chartDataType",sortedAt:"sortedAt",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",flex:"flex",initialFlex:"initialFlex",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",dndSourceOnRowDrag:"dndSourceOnRowDrag",valueGetter:"valueGetter",valueSetter:"valueSetter",filterValueGetter:"filterValueGetter",keyCreator:"keyCreator",cellRendererFramework:"cellRendererFramework",pinnedRowCellRenderer:"pinnedRowCellRenderer",valueFormatter:"valueFormatter",pinnedRowValueFormatter:"pinnedRowValueFormatter",valueParser:"valueParser",comparator:"comparator",equals:"equals",pivotComparator:"pivotComparator",suppressKeyboardEvent:"suppressKeyboardEvent",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",colSpan:"colSpan",rowSpan:"rowSpan",getQuickFilterText:"getQuickFilterText",newValueHandler:"newValueHandler",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",rowDragText:"rowDragText",tooltipValueGetter:"tooltipValueGetter",cellRendererSelector:"cellRendererSelector",cellEditorSelector:"cellEditorSelector",suppressCellFlash:"suppressCellFlash",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",openByDefault:"openByDefault",marryChildren:"marryChildren",hide:"hide",initialHide:"initialHide",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",pivot:"pivot",initialPivot:"initialPivot",checkboxSelection:"checkboxSelection",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",suppressMenu:"suppressMenu",suppressMovable:"suppressMovable",lockPosition:"lockPosition",lockVisible:"lockVisible",lockPinned:"lockPinned",unSortIcon:"unSortIcon",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize",enableRowGroup:"enableRowGroup",enablePivot:"enablePivot",enableValue:"enableValue",editable:"editable",suppressPaste:"suppressPaste",suppressNavigable:"suppressNavigable",enableCellChangeFlash:"enableCellChangeFlash",rowDrag:"rowDrag",dndSource:"dndSource",autoHeight:"autoHeight",wrapText:"wrapText",sortable:"sortable",resizable:"resizable",singleClickEdit:"singleClickEdit",floatingFilter:"floatingFilter"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),fm=(()=>{let e=class extends pm.VanillaFrameworkOverrides{constructor(e){super(),this._ngZone=e}setTimeout(e,t){this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},t)})}addEventListenerOutsideAngular(e,t,n,i){this._ngZone.runOutsideAngular(()=>{super.addEventListenerOutsideAngular(e,t,n,i)})}};return e.\u0275fac=function(t){return new(t||e)(bt(zu))},e.\u0275prov=ce({token:e,factory:function(t){return e.\u0275fac(t)}}),e=um([cm("design:paramtypes",[zu])],e),e})(),gm=(()=>{let e=class extends pm.BaseComponentWrapper{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let t=this,n=new class extends class{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(e){super.init(e),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return t.createComponent(e)}hasMethod(e){return null!=n.getFrameworkComponentInstance()[e]}callMethod(e,t){const i=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[e].apply(i,t)}addMethod(e,t){n[e]=t}};return n}createComponent(e){let t=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(t)}};return e.\u0275fac=function(t){return Cm(t||e)},e.\u0275prov=ce({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),mm=(()=>{let e=class{constructor(e,t,n,i,o){this.viewContainerRef=t,this.angularFrameworkOverrides=n,this.frameworkComponentWrapper=i,this._componentFactoryResolver=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=pm.Promise.resolve(!0),this.alignedGrids=void 0,this.rowData=void 0,this.columnDefs=void 0,this.excelStyles=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.chartThemes=void 0,this.components=void 0,this.frameworkComponents=void 0,this.rowStyle=void 0,this.context=void 0,this.autoGroupColumnDef=void 0,this.localeText=void 0,this.icons=void 0,this.datasource=void 0,this.serverSideDatasource=void 0,this.viewportDatasource=void 0,this.groupRowRendererParams=void 0,this.aggFuncs=void 0,this.fullWidthCellRendererParams=void 0,this.defaultColGroupDef=void 0,this.defaultColDef=void 0,this.defaultExportParams=void 0,this.columnTypes=void 0,this.rowClassRules=void 0,this.detailGridOptions=void 0,this.detailCellRendererParams=void 0,this.loadingCellRendererParams=void 0,this.loadingOverlayComponentParams=void 0,this.noRowsOverlayComponentParams=void 0,this.popupParent=void 0,this.colResizeDefault=void 0,this.reduxStore=void 0,this.statusBar=void 0,this.sideBar=void 0,this.chartThemeOverrides=void 0,this.customChartThemes=void 0,this.sortingOrder=void 0,this.rowClass=void 0,this.rowSelection=void 0,this.overlayLoadingTemplate=void 0,this.overlayNoRowsTemplate=void 0,this.quickFilterText=void 0,this.rowModelType=void 0,this.editType=void 0,this.domLayout=void 0,this.clipboardDeliminator=void 0,this.rowGroupPanelShow=void 0,this.multiSortKey=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotPanelShow=void 0,this.fillHandleDirection=void 0,this.rowHeight=void 0,this.detailRowHeight=void 0,this.rowBuffer=void 0,this.colWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.groupDefaultExpanded=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.autoSizePadding=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.tooltipShowDelay=void 0,this.cacheOverflowSize=void 0,this.paginationPageSize=void 0,this.cacheBlockSize=void 0,this.infiniteInitialRowCount=void 0,this.scrollbarWidth=void 0,this.batchUpdateWaitMillis=void 0,this.asyncTransactionWaitMillis=void 0,this.blockLoadDebounceMillis=void 0,this.keepDetailRowsCount=void 0,this.undoRedoCellEditingLimit=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.localeTextFunc=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.dateComponent=void 0,this.dateComponentFramework=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.isExternalFilterPresent=void 0,this.getRowHeight=void 0,this.doesExternalFilterPass=void 0,this.getRowClass=void 0,this.getRowStyle=void 0,this.getRowClassRules=void 0,this.traverseNode=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.processRowPostCreate=void 0,this.processCellForClipboard=void 0,this.groupRowAggNodes=void 0,this.getRowNodeId=void 0,this.isFullWidthCell=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getBusinessKeyForNode=void 0,this.sendToClipboard=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getDetailRowData=void 0,this.processCellFromClipboard=void 0,this.getDocument=void 0,this.postProcessPopup=void 0,this.getChildCount=void 0,this.getDataPath=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.defaultGroupSortComparator=void 0,this.isRowMaster=void 0,this.isRowSelectable=void 0,this.postSort=void 0,this.processHeaderForClipboard=void 0,this.paginationNumberFormatter=void 0,this.processDataFromClipboard=void 0,this.getServerSideGroupKey=void 0,this.isServerSideGroup=void 0,this.suppressKeyboardEvent=void 0,this.createChartContainer=void 0,this.processChartOptions=void 0,this.getChartToolbarItems=void 0,this.fillOperation=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debug=void 0,this.enableBrowserTooltips=void 0,this.enableCellExpressions=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.groupSuppressAutoColumn=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupUseEntireRow=void 0,this.groupSuppressBlankHeader=void 0,this.suppressMenuHide=void 0,this.suppressRowDeselection=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.singleClickEdit=void 0,this.suppressLoadingOverlay=void 0,this.suppressNoRowsOverlay=void 0,this.suppressAutoSize=void 0,this.skipHeaderOnAutoSize=void 0,this.suppressParentsInRowNodes=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMovableColumns=void 0,this.suppressFieldDotNotation=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.suppressClearOnFillReduction=void 0,this.deltaSort=void 0,this.suppressTouch=void 0,this.suppressAsyncEvents=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressContextMenu=void 0,this.rememberGroupStateWhenNewData=void 0,this.enableCellChangeFlash=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.suppressCopyRowsToClipboard=void 0,this.copyHeadersToClipboard=void 0,this.pivotMode=void 0,this.suppressAggFuncInHeader=void 0,this.suppressColumnVirtualisation=void 0,this.suppressAggAtRootLevel=void 0,this.suppressFocusAfterRefresh=void 0,this.functionsPassive=void 0,this.functionsReadOnly=void 0,this.animateRows=void 0,this.groupSelectsFiltered=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.enableRtl=void 0,this.suppressClickEdit=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.enableMultiRowDragging=void 0,this.enableGroupEdit=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.suppressPaginationPanel=void 0,this.floatingFilter=void 0,this.groupHideOpenParents=void 0,this.groupMultiAutoColumn=void 0,this.pagination=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.paginationAutoPageSize=void 0,this.suppressScrollOnNewData=void 0,this.purgeClosedRowNodes=void 0,this.cacheQuickFilter=void 0,this.deltaRowDataMode=void 0,this.ensureDomOrder=void 0,this.accentedSort=void 0,this.suppressChangeDetection=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAnimationFrame=void 0,this.suppressExcelExport=void 0,this.suppressCsvExport=void 0,this.treeData=void 0,this.masterDetail=void 0,this.suppressMultiRangeSelection=void 0,this.enterMovesDownAfterEdit=void 0,this.enterMovesDown=void 0,this.suppressPropertyNamesCheck=void 0,this.rowMultiSelectWithClick=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.enableOldSetFilterModel=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.suppressClipboardPaste=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.serverSideSortingAlwaysResets=void 0,this.reactNext=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.enableCharts=void 0,this.deltaColumnMode=void 0,this.suppressMaintainUnsortedOrder=void 0,this.enableCellTextSelection=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.tooltipMouseTrack=void 0,this.keepDetailRows=void 0,this.paginateChildRows=void 0,this.preventDefaultOnContextMenu=void 0,this.undoRedoCellEditing=void 0,this.allowDragFromColumnsToolPanel=void 0,this.immutableData=void 0,this.immutableColumns=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.applyColumnDefOrder=void 0,this.debounceVerticalScrollbar=void 0,this.detailRowAutoHeight=void 0,this.columnEverythingChanged=new Jl,this.newColumnsLoaded=new Jl,this.columnPivotModeChanged=new Jl,this.columnRowGroupChanged=new Jl,this.expandOrCollapseAll=new Jl,this.columnPivotChanged=new Jl,this.gridColumnsChanged=new Jl,this.columnValueChanged=new Jl,this.columnMoved=new Jl,this.columnVisible=new Jl,this.columnPinned=new Jl,this.columnGroupOpened=new Jl,this.columnResized=new Jl,this.displayedColumnsChanged=new Jl,this.virtualColumnsChanged=new Jl,this.rowGroupOpened=new Jl,this.rowDataChanged=new Jl,this.rowDataUpdated=new Jl,this.pinnedRowDataChanged=new Jl,this.rangeSelectionChanged=new Jl,this.chartCreated=new Jl,this.chartRangeSelectionChanged=new Jl,this.chartOptionsChanged=new Jl,this.chartDestroyed=new Jl,this.toolPanelVisibleChanged=new Jl,this.modelUpdated=new Jl,this.pasteStart=new Jl,this.pasteEnd=new Jl,this.fillStart=new Jl,this.fillEnd=new Jl,this.cellClicked=new Jl,this.cellDoubleClicked=new Jl,this.cellMouseDown=new Jl,this.cellContextMenu=new Jl,this.cellValueChanged=new Jl,this.rowValueChanged=new Jl,this.cellFocused=new Jl,this.rowSelected=new Jl,this.selectionChanged=new Jl,this.cellKeyDown=new Jl,this.cellKeyPress=new Jl,this.cellMouseOver=new Jl,this.cellMouseOut=new Jl,this.filterChanged=new Jl,this.filterModified=new Jl,this.filterOpened=new Jl,this.sortChanged=new Jl,this.virtualRowRemoved=new Jl,this.rowClicked=new Jl,this.rowDoubleClicked=new Jl,this.gridReady=new Jl,this.gridSizeChanged=new Jl,this.viewportChanged=new Jl,this.scrollbarWidthChanged=new Jl,this.firstDataRendered=new Jl,this.dragStarted=new Jl,this.dragStopped=new Jl,this.checkboxChanged=new Jl,this.rowEditingStarted=new Jl,this.rowEditingStopped=new Jl,this.cellEditingStarted=new Jl,this.cellEditingStopped=new Jl,this.bodyScroll=new Jl,this.animationQueueEmpty=new Jl,this.heightScaleChanged=new Jl,this.paginationChanged=new Jl,this.componentStateChanged=new Jl,this.bodyHeightChanged=new Jl,this.displayedColumnsWidthChanged=new Jl,this.scrollVisibilityChanged=new Jl,this.columnHoverChanged=new Jl,this.flashCells=new Jl,this.paginationPixelOffsetChanged=new Jl,this.rowDragEnter=new Jl,this.rowDragMove=new Jl,this.rowDragLeave=new Jl,this.rowDragEnd=new Jl,this.popupToFront=new Jl,this.columnRowGroupChangeRequest=new Jl,this.columnPivotChangeRequest=new Jl,this.columnValueChangeRequest=new Jl,this.columnAggFuncChangeRequest=new Jl,this.keyboardFocus=new Jl,this.mouseFocus=new Jl,this._nativeElement=e.nativeElement,this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this._componentFactoryResolver)}ngAfterViewInit(){this.gridOptions=pm.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new pm.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&pm.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}globalEventListener(e,t){if(this._destroyed)return;let n=this[e];n?"gridReady"===e?this._fullyReady.then(e=>{n.emit(t)}):n.emit(t):console.log("ag-Grid-angular: could not find EventEmitter: "+e)}};return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(El),Rs(fm),Rs(gm),Rs(La))},e.\u0275cmp=Ze({type:e,selectors:[["ag-grid-angular"]],contentQueries:function(e,t,n){if(1&e&&gu(n,dm,!1),2&e){let e;hu(e=vu())&&(t.columns=e)}},inputs:{alignedGrids:"alignedGrids",rowData:"rowData",columnDefs:"columnDefs",excelStyles:"excelStyles",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",chartThemes:"chartThemes",components:"components",frameworkComponents:"frameworkComponents",rowStyle:"rowStyle",context:"context",autoGroupColumnDef:"autoGroupColumnDef",localeText:"localeText",icons:"icons",datasource:"datasource",serverSideDatasource:"serverSideDatasource",viewportDatasource:"viewportDatasource",groupRowRendererParams:"groupRowRendererParams",aggFuncs:"aggFuncs",fullWidthCellRendererParams:"fullWidthCellRendererParams",defaultColGroupDef:"defaultColGroupDef",defaultColDef:"defaultColDef",defaultExportParams:"defaultExportParams",columnTypes:"columnTypes",rowClassRules:"rowClassRules",detailGridOptions:"detailGridOptions",detailCellRendererParams:"detailCellRendererParams",loadingCellRendererParams:"loadingCellRendererParams",loadingOverlayComponentParams:"loadingOverlayComponentParams",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",popupParent:"popupParent",colResizeDefault:"colResizeDefault",reduxStore:"reduxStore",statusBar:"statusBar",sideBar:"sideBar",chartThemeOverrides:"chartThemeOverrides",customChartThemes:"customChartThemes",sortingOrder:"sortingOrder",rowClass:"rowClass",rowSelection:"rowSelection",overlayLoadingTemplate:"overlayLoadingTemplate",overlayNoRowsTemplate:"overlayNoRowsTemplate",quickFilterText:"quickFilterText",rowModelType:"rowModelType",editType:"editType",domLayout:"domLayout",clipboardDeliminator:"clipboardDeliminator",rowGroupPanelShow:"rowGroupPanelShow",multiSortKey:"multiSortKey",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotPanelShow:"pivotPanelShow",fillHandleDirection:"fillHandleDirection",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",rowBuffer:"rowBuffer",colWidth:"colWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",groupDefaultExpanded:"groupDefaultExpanded",minColWidth:"minColWidth",maxColWidth:"maxColWidth",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",autoSizePadding:"autoSizePadding",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",tooltipShowDelay:"tooltipShowDelay",cacheOverflowSize:"cacheOverflowSize",paginationPageSize:"paginationPageSize",cacheBlockSize:"cacheBlockSize",infiniteInitialRowCount:"infiniteInitialRowCount",scrollbarWidth:"scrollbarWidth",batchUpdateWaitMillis:"batchUpdateWaitMillis",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",blockLoadDebounceMillis:"blockLoadDebounceMillis",keepDetailRowsCount:"keepDetailRowsCount",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",localeTextFunc:"localeTextFunc",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",dateComponent:"dateComponent",dateComponentFramework:"dateComponentFramework",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",isExternalFilterPresent:"isExternalFilterPresent",getRowHeight:"getRowHeight",doesExternalFilterPass:"doesExternalFilterPass",getRowClass:"getRowClass",getRowStyle:"getRowStyle",getRowClassRules:"getRowClassRules",traverseNode:"traverseNode",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",processRowPostCreate:"processRowPostCreate",processCellForClipboard:"processCellForClipboard",groupRowAggNodes:"groupRowAggNodes",getRowNodeId:"getRowNodeId",isFullWidthCell:"isFullWidthCell",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getBusinessKeyForNode:"getBusinessKeyForNode",sendToClipboard:"sendToClipboard",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getDetailRowData:"getDetailRowData",processCellFromClipboard:"processCellFromClipboard",getDocument:"getDocument",postProcessPopup:"postProcessPopup",getChildCount:"getChildCount",getDataPath:"getDataPath",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",defaultGroupSortComparator:"defaultGroupSortComparator",isRowMaster:"isRowMaster",isRowSelectable:"isRowSelectable",postSort:"postSort",processHeaderForClipboard:"processHeaderForClipboard",paginationNumberFormatter:"paginationNumberFormatter",processDataFromClipboard:"processDataFromClipboard",getServerSideGroupKey:"getServerSideGroupKey",isServerSideGroup:"isServerSideGroup",suppressKeyboardEvent:"suppressKeyboardEvent",createChartContainer:"createChartContainer",processChartOptions:"processChartOptions",getChartToolbarItems:"getChartToolbarItems",fillOperation:"fillOperation",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressHorizontalScroll:"suppressHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debug:"debug",enableBrowserTooltips:"enableBrowserTooltips",enableCellExpressions:"enableCellExpressions",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",groupSuppressAutoColumn:"groupSuppressAutoColumn",groupSelectsChildren:"groupSelectsChildren",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupUseEntireRow:"groupUseEntireRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",suppressMenuHide:"suppressMenuHide",suppressRowDeselection:"suppressRowDeselection",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",singleClickEdit:"singleClickEdit",suppressLoadingOverlay:"suppressLoadingOverlay",suppressNoRowsOverlay:"suppressNoRowsOverlay",suppressAutoSize:"suppressAutoSize",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMovableColumns:"suppressMovableColumns",suppressFieldDotNotation:"suppressFieldDotNotation",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",suppressClearOnFillReduction:"suppressClearOnFillReduction",deltaSort:"deltaSort",suppressTouch:"suppressTouch",suppressAsyncEvents:"suppressAsyncEvents",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressContextMenu:"suppressContextMenu",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",enableCellChangeFlash:"enableCellChangeFlash",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",copyHeadersToClipboard:"copyHeadersToClipboard",pivotMode:"pivotMode",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressAggAtRootLevel:"suppressAggAtRootLevel",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",functionsPassive:"functionsPassive",functionsReadOnly:"functionsReadOnly",animateRows:"animateRows",groupSelectsFiltered:"groupSelectsFiltered",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",enableRtl:"enableRtl",suppressClickEdit:"suppressClickEdit",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",enableMultiRowDragging:"enableMultiRowDragging",enableGroupEdit:"enableGroupEdit",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",suppressPaginationPanel:"suppressPaginationPanel",floatingFilter:"floatingFilter",groupHideOpenParents:"groupHideOpenParents",groupMultiAutoColumn:"groupMultiAutoColumn",pagination:"pagination",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",paginationAutoPageSize:"paginationAutoPageSize",suppressScrollOnNewData:"suppressScrollOnNewData",purgeClosedRowNodes:"purgeClosedRowNodes",cacheQuickFilter:"cacheQuickFilter",deltaRowDataMode:"deltaRowDataMode",ensureDomOrder:"ensureDomOrder",accentedSort:"accentedSort",suppressChangeDetection:"suppressChangeDetection",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAnimationFrame:"suppressAnimationFrame",suppressExcelExport:"suppressExcelExport",suppressCsvExport:"suppressCsvExport",treeData:"treeData",masterDetail:"masterDetail",suppressMultiRangeSelection:"suppressMultiRangeSelection",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterMovesDown:"enterMovesDown",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",enableOldSetFilterModel:"enableOldSetFilterModel",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",suppressClipboardPaste:"suppressClipboardPaste",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",reactNext:"reactNext",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",enableCharts:"enableCharts",deltaColumnMode:"deltaColumnMode",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",enableCellTextSelection:"enableCellTextSelection",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",tooltipMouseTrack:"tooltipMouseTrack",keepDetailRows:"keepDetailRows",paginateChildRows:"paginateChildRows",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",undoRedoCellEditing:"undoRedoCellEditing",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",immutableData:"immutableData",immutableColumns:"immutableColumns",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",applyColumnDefOrder:"applyColumnDefOrder",debounceVerticalScrollbar:"debounceVerticalScrollbar",detailRowAutoHeight:"detailRowAutoHeight",gridOptions:"gridOptions",modules:"modules"},outputs:{columnEverythingChanged:"columnEverythingChanged",newColumnsLoaded:"newColumnsLoaded",columnPivotModeChanged:"columnPivotModeChanged",columnRowGroupChanged:"columnRowGroupChanged",expandOrCollapseAll:"expandOrCollapseAll",columnPivotChanged:"columnPivotChanged",gridColumnsChanged:"gridColumnsChanged",columnValueChanged:"columnValueChanged",columnMoved:"columnMoved",columnVisible:"columnVisible",columnPinned:"columnPinned",columnGroupOpened:"columnGroupOpened",columnResized:"columnResized",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",rowGroupOpened:"rowGroupOpened",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",pinnedRowDataChanged:"pinnedRowDataChanged",rangeSelectionChanged:"rangeSelectionChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",toolPanelVisibleChanged:"toolPanelVisibleChanged",modelUpdated:"modelUpdated",pasteStart:"pasteStart",pasteEnd:"pasteEnd",fillStart:"fillStart",fillEnd:"fillEnd",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellMouseDown:"cellMouseDown",cellContextMenu:"cellContextMenu",cellValueChanged:"cellValueChanged",rowValueChanged:"rowValueChanged",cellFocused:"cellFocused",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",filterChanged:"filterChanged",filterModified:"filterModified",filterOpened:"filterOpened",sortChanged:"sortChanged",virtualRowRemoved:"virtualRowRemoved",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",gridReady:"gridReady",gridSizeChanged:"gridSizeChanged",viewportChanged:"viewportChanged",scrollbarWidthChanged:"scrollbarWidthChanged",firstDataRendered:"firstDataRendered",dragStarted:"dragStarted",dragStopped:"dragStopped",checkboxChanged:"checkboxChanged",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",bodyScroll:"bodyScroll",animationQueueEmpty:"animationQueueEmpty",heightScaleChanged:"heightScaleChanged",paginationChanged:"paginationChanged",componentStateChanged:"componentStateChanged",bodyHeightChanged:"bodyHeightChanged",displayedColumnsWidthChanged:"displayedColumnsWidthChanged",scrollVisibilityChanged:"scrollVisibilityChanged",columnHoverChanged:"columnHoverChanged",flashCells:"flashCells",paginationPixelOffsetChanged:"paginationPixelOffsetChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",popupToFront:"popupToFront",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest",keyboardFocus:"keyboardFocus",mouseFocus:"mouseFocus"},features:[Fa([fm,gm]),gi],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e=um([cm("design:paramtypes",[Wa,El,fm,gm,La])],e),e})();var ym;let vm=(()=>{let e=ym=class{static withComponents(e){return{ngModule:ym,providers:[{provide:be,useValue:e,multi:!0}]}}static forRoot(e){return{ngModule:ym,providers:[{provide:be,useValue:e,multi:!0}]}}};return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[]]}),e})();const Cm=no(gm);function wm(e,t){return new v(n=>{const i=e.length;if(0===i)return void n.complete();const o=new Array(i);let r=0,s=0;for(let a=0;a<i;a++){const l=M(e[a]);let u=!1;n.add(l.subscribe({next:e=>{u||(u=!0,s++),o[a]=e},error:e=>n.error(e),complete:()=>{r++,r!==i&&u||(s===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=o[n],e),{}):o),n.complete())}}))}})}const bm=new we("NgValueAccessor"),Sm={provide:bm,useExisting:Pe(()=>Em),multi:!0};let Em=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa))},e.\u0275dir=ot({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[Fa([Sm])]}),e})();const _m={provide:bm,useExisting:Pe(()=>xm),multi:!0},Om=new we("CompositionEventMode");let xm=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=wc()?wc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa),Rs(Om,8))},e.\u0275dir=ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ws("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Fa([_m])]}),e})();function Tm(e){return null==e||0===e.length}function Rm(e){return null!=e&&"number"==typeof e.length}const Pm=new we("NgValidators"),Dm=new we("NgAsyncValidators"),Am=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class km{static min(e){return t=>{if(Tm(t.value)||Tm(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Tm(t.value)||Tm(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Tm(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Tm(e.value)||Am.test(e.value)?null:{email:!0}}static minLength(e){return t=>Tm(t.value)||!Rm(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>Rm(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return km.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Tm(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Im);return 0==t.length?null:function(e){return Nm(Mm(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Im);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return wm(t,null);if(u(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return wm(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return wm(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(x(e=>t(...e)))}return wm(e,null)}(Mm(e,t).map(Fm)).pipe(x(Nm))}}}function Im(e){return null!=e}function Fm(e){const t=Gs(e)?M(e):e;return Hs(t),t}function Nm(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Mm(e,t){return t.map(t=>t(e))}function Lm(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Vm(e){return null!=e?km.compose(Lm(e)):null}function Gm(e){return null!=e?km.composeAsync(Lm(e)):null}function Hm(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let Wm=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ot({type:e}),e})(),Bm=(()=>{class e extends Wm{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return jm(t||e)},e.\u0275dir=ot({type:e,features:[us]}),e})();const jm=no(Bm);class zm extends Wm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Um{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Km=(()=>{class e extends Um{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(zm,2))},e.\u0275dir=ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&na("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[us]}),e})(),qm=(()=>{class e extends Um{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Bm,2))},e.\u0275dir=ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&na("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[us]}),e})();const Ym={provide:bm,useExisting:Pe(()=>$m),multi:!0};let $m=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa))},e.\u0275dir=ot({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Fa([Ym])]}),e})();const Xm={provide:bm,useExisting:Pe(()=>Zm),multi:!0};let Qm=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Zm=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(zm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa),Rs(Qm),Rs(as))},e.\u0275dir=ot({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Fa([Xm])]}),e})();const Jm={provide:bm,useExisting:Pe(()=>ey),multi:!0};let ey=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa))},e.\u0275dir=ot({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Fa([Jm])]}),e})();const ty={provide:bm,useExisting:Pe(()=>ny),multi:!0};let ny=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa))},e.\u0275dir=ot({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Ws("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fa([ty])]}),e})();const iy={provide:bm,useExisting:Pe(()=>oy),multi:!0};let oy=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),o=this._getOptionValue(i.value);n.push(o)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ja),Rs(Wa))},e.\u0275dir=ot({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fa([iy])]}),e})();function ry(e,t){ay(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ly(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ly(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function sy(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ay(e,t,n){const i=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Hm(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const o=function(e){return e._rawAsyncValidators}(e);if(null!==t.asyncValidator?e.setAsyncValidators(Hm(o,t.asyncValidator)):"function"==typeof o&&e.setAsyncValidators([o]),n){const n=()=>e.updateValueAndValidity();sy(t._rawValidators,n),sy(t._rawAsyncValidators,n)}}function ly(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function uy(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}const cy=[Em,ey,$m,ny,oy,Zm];function hy(e,t){if(!t)return null;Array.isArray(t);let n=void 0,i=void 0,o=void 0;return t.forEach(e=>{var t;e.constructor===xm?n=e:(t=e,cy.some(e=>t.constructor===e)?i=e:o=e)}),o||i||n||null}function py(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const dy="VALID",fy="INVALID",gy="PENDING",my="DISABLED";function yy(e){return(by(e)?e.validators:e)||null}function vy(e){return Array.isArray(e)?Vm(e):e||null}function Cy(e,t){return(by(t)?t.asyncValidators:e)||null}function wy(e){return Array.isArray(e)?Gm(e):e||null}function by(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Sy{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=vy(this._rawValidators),this._composedAsyncValidatorFn=wy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dy}get invalid(){return this.status===fy}get pending(){return this.status==gy}get disabled(){return this.status===my}get enabled(){return this.status!==my}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=vy(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wy(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=my,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dy,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==dy&&this.status!==gy||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?my:dy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gy,this._hasOwnPendingAsyncValidator=!0;const t=Fm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof _y?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof Oy&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Jl,this.statusChanges=new Jl}_calculateStatus(){return this._allControlsDisabled()?my:this.errors?fy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gy)?gy:this._anyControlsHaveStatus(fy)?fy:dy}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){by(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ey extends Sy{constructor(e=null,t,n){super(yy(t),Cy(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){py(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){py(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class _y extends Sy{constructor(e,t,n){super(yy(t),Cy(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Ey?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Oy extends Sy{constructor(e,t,n){super(yy(t),Cy(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ey?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const xy={provide:Bm,useExisting:Pe(()=>Ry)},Ty=(()=>Promise.resolve(null))();let Ry=(()=>{class e extends Bm{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Jl,this.form=new _y({},Vm(e),Gm(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ty.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),ry(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ty.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),py(this._directives,e)})}addFormGroup(e){Ty.then(()=>{const t=this._findContainer(e.path),n=new _y({});(function(e,t){ay(e,t,!1)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ty.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Ty.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Rs(Pm,10),Rs(Dm,10))},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Ws("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fa([xy]),us]}),e})();const Py={provide:zm,useExisting:Pe(()=>Ay)},Dy=(()=>Promise.resolve(null))();let Ay=(()=>{class e extends zm{constructor(e,t,n,i){super(),this.control=new Ey,this._registered=!1,this.update=new Jl,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=hy(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),uy(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ry(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Dy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Dy.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Rs(Bm,9),Rs(Pm,10),Rs(Dm,10),Rs(bm,10))},e.\u0275dir=ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fa([Py]),us,gi]}),e})(),ky=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Iy=new we("NgModelWithFormControlWarning"),Fy={provide:zm,useExisting:Pe(()=>Ny)};let Ny=(()=>{class e extends zm{constructor(e,t,n,i){super(),this._ngModelWarningConfig=i,this.update=new Jl,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=hy(0,n)}set isDisabled(e){}ngOnChanges(t){var n,i;this._isControlChanged(t)&&(ry(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),uy(t,this.viewModel)&&(n=e,this,i=this._ngModelWarningConfig,Gn()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(Rs(Pm,10),Rs(Dm,10),Rs(bm,10),Rs(Iy,8))},e.\u0275dir=ot({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Fa([Fy]),us,gi]}),e._ngModelWarningSentOnce=!1,e})(),My=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)}}),e})(),Ly=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i=null,o=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,o=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,o=null!=t.asyncValidator?t.asyncValidator:null)),new _y(n,{asyncValidators:o,updateOn:r,validators:i})}control(e,t,n){return new Ey(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new Oy(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof Ey||e instanceof _y||e instanceof Oy?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Vy=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[Qm],imports:[My]}),e})(),Gy=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Iy,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[Ly,Qm],imports:[My]}),e})();function Hy(e,t,n,o){return i(n)&&(o=n,n=void 0),o?Hy(e,t,n).pipe(x(e=>l(e)?o(...e):o(e))):new v(i=>{Wy(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function Wy(e,t,n,i,o){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,n,o),r=()=>i.removeEventListener(t,n,o)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,n),r=()=>i.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const i=e;e.addListener(t,n),r=()=>i.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,s=e.length;r<s;r++)Wy(e[r],t,n,i,o)}i.add(r)}function By(e){return!!e&&(e instanceof v||"function"==typeof e.lift&&"function"==typeof e.subscribe)}class jy{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new zy(e,this.resultSelector))}}class zy extends f{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;l(e)?t.push(new Ky(e)):t.push("function"==typeof e[A]?new Uy(e[A]()):new qy(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let r=0;r<t;r++){let t=e[r];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const o=[];for(let r=0;r<t;r++){let t=e[r],s=t.next();if(t.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Uy{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class Ky{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[A](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class qy extends V{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return G(this.observable,new L(this))}}class Yy extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class $y extends Yy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Xy=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Qy extends Xy{constructor(e,t=Xy.now){super(e,()=>Qy.delegate&&Qy.delegate!==this?Qy.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Qy.delegate&&Qy.delegate!==this?Qy.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Zy=new Qy($y);function Jy(e){return!l(e)&&e-parseFloat(e)+1>=0}function ev(e=0,t=Zy){return(!Jy(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Zy),new v(n=>(n.add(t.schedule(tv,e,{subscriber:n,counter:0,period:e})),n))}function tv(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}class nv{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new iv(e,this.durationSelector))}}class iv extends V{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=G(n,new L(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ov(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function rv(e,t=Zy){return n=()=>function(e=0,t,n){let i=-1;return Jy(t)?i=Number(t)<1?1:Number(t):O(t)&&(n=t),O(n)||(n=Zy),new v(t=>{const o=Jy(e)?e:+e-n.now();return n.schedule(ov,o,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new nv(n))};var n}class sv{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new av(e,this.compare,this.keySelector))}}class av extends f{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}const lv={leading:!0,trailing:!1};function uv(e,t=Zy,n=lv){return i=>i.lift(new cv(e,t,n.leading,n.trailing))}class cv{constructor(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}call(e,t){return t.subscribe(new hv(e,this.duration,this.scheduler,this.leading,this.trailing))}}class hv extends f{constructor(e,t,n,i,o){super(e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(pv,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function pv(e){const{subscriber:t}=e;t.clearThrottle()}function dv(e){return t=>t.lift(new fv(e))}class fv{constructor(e){this.notifier=e}call(e,t){const n=new gv(e),i=G(this.notifier,new L(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class gv extends V{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function mv(e,t){return t?gp(()=>e,t):gp(()=>e)}let yv=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Wh(this.value);case"E":return e=this.error,new v(t=>t.error(e));case"C":return Zh()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function vv(e,t=Zy){var n;const i=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new Cv(i,t))}class Cv{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new wv(e,this.delay,this.scheduler))}}class wv extends f{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,i=e.scheduler,o=e.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const t=Math.max(0,n[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(wv.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new bv(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(yv.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(yv.createComplete()),this.unsubscribe()}}class bv{constructor(e,t){this.time=e,this.notification=t}}class Sv{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Ev(e,this.dueTime,this.scheduler))}}class Ev extends f{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_v,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function _v(e){e.debouncedNext()}class Ov{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?Tv:xv}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class xv extends f{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class Tv extends f{constructor(e,t,n){super(e),this.bufferSize=t,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:n,buffers:i,count:o}=this;this.count++,o%n==0&&i.push([]);for(let r=i.length;r--;){const n=i[r];n.push(e),n.length===t&&(i.splice(r,1),this.destination.next(n))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let n=e.shift();n.length>0&&t.next(n)}super._complete()}}const Rv=(e,t)=>n=>t(e(n)),Pv=(e,t,n)=>e.addEventListener&&e.addEventListener(t,n),Dv=(e,t,n)=>e&&e.removeEventListener&&e.removeEventListener(t,n),Av=()=>{},kv=e=>e.preventDefault(),Iv=/touch/;function Fv(e){return e.type.match(Iv)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var Nv=(()=>{class e{static supportPointerEvent(){return"undefined"!=typeof window&&window.PointerEvent}constructor({press:e=Av,drag:t=Av,release:n=Av,mouseOnly:i=!1}){this._pressHandler=Rv(Fv,e),this._dragHandler=Rv(Fv,t),this._releaseHandler=Rv(Fv,n),this._ignoreMouse=!1,this._mouseOnly=i,this._touchstart=e=>{1===e.touches.length&&this._pressHandler(e)},this._touchmove=e=>{1===e.touches.length&&this._dragHandler(e)},this._touchend=e=>{0===e.touches.length&&1===e.changedTouches.length&&(this._releaseHandler(e),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=e=>{const{which:t}=e;t&&t>1||this._ignoreMouse||(Pv(document,"mousemove",this._mousemove),Pv(document,"mouseup",this._mouseup),this._pressHandler(e))},this._mousemove=e=>{this._dragHandler(e)},this._mouseup=e=>{Dv(document,"mousemove",this._mousemove),Dv(document,"mouseup",this._mouseup),this._releaseHandler(e)},this._pointerdown=e=>{e.isPrimary&&0===e.button&&(Pv(document,"pointermove",this._pointermove),Pv(document,"pointerup",this._pointerup),Pv(document,"pointercancel",this._pointerup),Pv(document,"contextmenu",kv),this._pressHandler(e))},this._pointermove=e=>{e.isPrimary&&this._dragHandler(e)},this._pointerup=e=>{e.isPrimary&&(Dv(document,"pointermove",this._pointermove),Dv(document,"pointerup",this._pointerup),Dv(document,"pointercancel",this._pointerup),Dv(document,"contextmenu",kv),this._releaseHandler(e))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?Pv(e,"pointerdown",this._pointerdown):(Pv(e,"mousedown",this._mousedown),this._mouseOnly||(Pv(e,"touchstart",this._touchstart),Pv(e,"touchmove",this._touchmove),Pv(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return Dv(e,"pointerdown",this._pointerdown),Dv(document,"pointermove",this._pointermove),Dv(document,"pointerup",this._pointerup),Dv(document,"contextmenu",kv),void Dv(document,"pointercancel",this._pointerup);Dv(e,"mousedown",this._mousedown),this._mouseOnly||(Dv(e,"touchstart",this._touchstart),Dv(e,"touchmove",this._touchmove),Dv(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&e.supportPointerEvent()}update({press:e=Av,drag:t=Av,release:n=Av,mouseOnly:i=!1}){this._pressHandler=Rv(Fv,e),this._dragHandler=Rv(Fv,t),this._releaseHandler=Rv(Fv,n),this._mouseOnly=i}destroy(){this._unbindFromCurrent(),this._element=null}}return e.default=e,e})();const Mv=()=>"undefined"!=typeof document,Lv=(e,t,n=!0)=>!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue),Vv=(e,t,n=!0)=>e.some(e=>Lv(e,t,n)),Gv=e=>e&&e.observers.length>0,Hv=()=>{let e="";for(let t=0;t<32;t++){const n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e};let Wv=(()=>{class e{constructor(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new Jl,this.kendoDrag=new Jl,this.kendoRelease=new Jl}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){Lv("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){Mv()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new Nv({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[gi]}),e})(),Bv=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah]]}),e})(),jv=(()=>{class e{constructor(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,this.scope?e[t].bind(this.scope):e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(zu),Rs(ja))},e.\u0275dir=ot({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),e})(),zv=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)}}),e})();class Uv{constructor(e){this.resizeBatchService=e,this.resize=new Jl,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){Mv()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e===this.lastWidth&&t===this.lastHeight?void 0:(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const Kv=e=>{const t=document.createElement("div");return t.style.cssText=e,t},qv="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class Yv extends Uv{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=qv,e.setAttribute("dir","ltr"),this.expand=Kv(qv),this.expandChild=Kv("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=Kv(qv);const t=Kv("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=U(Hy(this.shrink,"scroll"),Hy(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const $v="undefined"!=typeof ResizeObserver;class Xv extends Uv{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}static supported(){return $v}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let Qv=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=M(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,n=t.length;for(let i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Zv=(()=>{class e{constructor(e,t,n){this.rateLimit=10,this.resize=new Jl;const i=Xv.supported()?Xv:Yv;this.resizeService=new i(e,t,n),this.subscription=this.resizeService.resize.pipe(rv(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Qv),Rs(Wa),Rs(zu))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Jv=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[Qv]}),e})();class eC{}var tC=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({});const nC=e=>null!=e,iC=e=>null==e,oC=e=>Array.isArray(e),rC=e=>"function"==typeof e,sC=e=>"string"==typeof e,aC=e=>!isNaN(e-parseFloat(e)),lC=e=>e&&e.getTime,uC=e=>nC(e.filters),cC=(e,t,n)=>i=>e(i)?t(i):n(i),hC=(...e)=>t=>e.reduceRight((e,t)=>t(e),t),pC=e=>{e.filters&&(e.filters=e.filters.map(e=>{const t=Object.assign({},e);var n;return!uC(e)&&sC(e.operator)&&(t.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(n=e.operator).toLowerCase()]||n),uC(e)&&pC(t),t}))},dC=e=>(nC(e)&&(e=(e=>uC(e)?Object.assign({},e):{filters:oC(e)?e:[e],logic:"and"})(e),pC(e)),e),fC={},gC=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;fC[void 0]=e=>e;const mC=(e,t)=>{const n=e+t;if(fC[n])return fC[n];const i=[];return e.replace(gC,(e,t,n,o)=>{i.push(nC(t)?t:n||o)}),fC[n]=e=>{let n=e;for(let o=0;o<i.length;o++)if(n=n[i[o]],!nC(n)&&t)return n;return n},fC[n]},yC=e=>t=>[e,t],vC=()=>null,CC=e=>t=>nC(e(t)),wC=e=>t=>(e=>nC(e)&&oC(e)&&e.length>0)(e(t)),bC=(e,t)=>cC(e,t,vC),SC=(e,t)=>n=>e(n).map(t).join("~"),EC=hC(...[['"',""],[":","-"]].map(([e,t])=>n=>n.replace(new RegExp(e,"g"),t))),_C=e=>e.slice(0,e.indexOf(".")),OC=({field:e,dir:t="asc"})=>`${e}-${t}`,xC=mC("take"),TC=mC("aggregates"),RC=mC("skip"),PC=mC("group"),DC=mC("sort",!0),AC=SC(DC,OC),kC=SC(PC,OC),IC=SC(TC,({field:e,aggregate:t})=>`${e}-${t}`),FC=hC(e=>`datetime'${e}'`,_C,EC,JSON.stringify,e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))),NC=hC(yC("page"),({skip:e,take:t})=>Math.floor((e||0)/t)+1),MC=hC(yC("pageSize"),xC),LC=hC(yC("group"),kC),VC=hC(yC("sort"),AC),GC=hC(yC("aggregate"),IC),HC=(bC(CC(RC),NC),bC(CC(xC),MC),bC(wC(PC),LC),bC(CC(TC),GC),hC(bC(wC(DC),VC),e=>Object.assign({},e,{sort:(DC(e)||[]).filter(({dir:e})=>{return!(iC(t=e)||0===t.trim().length);var t})})),({field:e,operator:t,value:n})=>`${e}~${t}~${n}`),WC=(cC(e=>lC(e.value),hC(HC,({field:e,value:t,ignoreCase:n,operator:i})=>({value:FC(t),field:e,ignoreCase:n,operator:i})),HC),(e,t,n)=>(t[e]=n,t)),BC=e=>t=>{const n=t[e];return nC(n)?n:t[(i=e,i.replace(/(^[A-Z])/g,(e,t)=>t.toLowerCase()))];var i},jC=(BC("Member"),BC("AggregateMethodName"),BC("Value"),e=>t=>Object.keys(t).reduce(e.bind(null,t),{})),zC=jC((e,t,n)=>WC(n.toLowerCase(),t,e[n])),UC=jC((e,t,n)=>WC(n,t,zC(e[n]))),KC=(e,t)=>nC(e)?e:t,qC=hC(({field:e,hasSubgroups:t,value:n,aggregates:i,items:o})=>({aggregates:UC(i),field:e,items:t?o.map(qC):o,value:n}),e=>({aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:KC(e.Key,KC(e.key,e.value))})),YC=(e,t)=>iC(e)?e===t?0:-1:iC(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0,$C=(e,t)=>YC(t,e),XC=e=>{const t=mC(e.field,!0);return(n,i)=>("asc"===e.dir?YC:$C)(t(n),t(i))},QC=(e,t)=>0,ZC=(e,t)=>(e.push(t),e),JC=e=>t=>(n,i,o)=>t(n,e(i,o)),ew=e=>t=>(n,i)=>e(i)?t(n,i):n,tw=e=>nC(e.__value),nw=(e,t,n)=>{let i=t;for(let o=0,r=n.length;o<r;o++)if(i=e(i,n[o],o),tw(i)){i=i.__value;break}return i},iw=JC(e=>e),ow=(e,t=[],n=iw)=>{const i={};return t.length?((e={})=>(Object.keys(e).forEach(t=>{const n=e[t];Object.keys(n).forEach(e=>{n[e]=n[e].result()})}),e))(nw(n((e=>{const t=e.map(e=>{const t=mC(e.field,!0),n=(e.aggregate||"").toLowerCase(),i=mC(n,!0);return(o,r)=>{const s=o[e.field]||{},a=i(s)||{average:()=>{let e=0,t=0;return{calc:n=>{aC(n)?(e+=n,t++):e=n},result:()=>aC(e)?e/t:e}},count:()=>{let e=0;return{calc:()=>e++,result:()=>e}},max:()=>{let e=Number.NEGATIVE_INFINITY;return{calc:t=>{e=aC(e)||lC(e)?e:t,e<t&&(aC(t)||lC(t))&&(e=t)},result:()=>e}},min:()=>{let e=Number.POSITIVE_INFINITY;return{calc:t=>{e=aC(e)||lC(e)?e:t,e>t&&(aC(t)||lC(t))&&(e=t)},result:()=>e}},sum:()=>{let e=0;return{calc:t=>e+=t,result:()=>e}}}[n]();return a.calc(t(r)),s[e.aggregate]=a,o[e.field]=s,o}});return(e,n)=>t.reduce((e,t)=>t(e,n),e)})(t)),i,e)):i},rw={or:{concat:(e,t)=>n=>e(n)||t(n),identity:()=>!1},and:{concat:(e,t)=>n=>e(n)&&t(n),identity:()=>!0}},sw={contains:(e,t)=>(e||"").indexOf(t)>=0,doesnotcontain:(e,t)=>-1===(e||"").indexOf(t),doesnotendwith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)<0,doesnotstartwith:(e,t)=>-1===(e||"").lastIndexOf(t,0),endswith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)>=0,eq:(e,t)=>e===t,gt:(e,t)=>e>t,gte:(e,t)=>e>=t,isempty:e=>""===e,isnotempty:e=>""!==e,isnotnull:e=>nC(e),isnull:e=>iC(e),lt:(e,t)=>e<t,lte:(e,t)=>e<=t,neq:(e,t)=>e!=t,startswith:(e,t)=>0===(e||"").lastIndexOf(t,0)},aw=/^\/Date\((.*?)\)\/$/,lw=e=>{const t=rw[e.logic];return e.filters.filter(nC).map(e=>uC(e)?lw(e):(({field:e,ignoreCase:t,value:n,operator:i})=>{e=nC(e)?e:e=>e,t=!nC(t)||t;const o=((e,t,n)=>{if(!nC(t))return e;let i=e;if(sC(t)){const o=aw.exec(t);o?t=new Date(+o[1]):i=t=>{const i=e(t);return"string"==typeof i&&n?i.toLowerCase():aC(i)?i+"":i}}return lC(t)?e=>{const t=i(e);return lC(t)?t.getTime():t}:i})(rC(e)?e:mC(e,!0),n,t);n=((e,t)=>{if(null!=e&&sC(e)){const n=aw.exec(e);if(n)return new Date(+n[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&lC(e))return e.getTime();return e})(n,t);const r=rC(i)?i:sw[i];return e=>r(o(e),n,t)})(e)).reduce(t.concat,t.identity)},uw=e=>e&&0!==e.filters.length?lw(e):()=>!0,cw=e=>(e=oC(e)?e:[e]).map(e=>Object.assign({dir:"asc"},e)),hw=JC(e=>e),pw=(e,t=[],n=hw,i=e)=>{if(!(t=cw(t)).length)return e;const o=t[0],r=nw(n((e=>{const t=mC(e,!0);let n=0;return(i,o)=>{i[e]=i[e]||{};const r=t(o),s=(e=>(e=nC(e)&&e.getTime?e.getTime():e)+"")(r),a=i[e][s]||{__position:n++,aggregates:{},items:[],value:r};return a.items.push(o),i[e][s]=a,i}})(o.field)),{},e),s=[];return Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(n=>{const a=r[e][n];let l={},u=i;nC(o.aggregates)&&(u=((e,t)=>!nC(t)||uC(t)&&0===t.filters.length?e:e.filter(uw(dC(t))))(i,{field:o.field,ignoreCase:!1,operator:"eq",value:a.value}),l=ow(u,o.aggregates)),s[a.__position]={aggregates:l,field:e,items:t.length>1?pw(a.items,t.slice(1),hw,u):a.items,value:a.value}})}),s},dw=(e,t,n,i)=>{if(n-t<2)return;const o=t+n>>>1;dw(e,t,o,i),dw(e,o,n,i),((e,t,n,i,o)=>{let r=n-t,s=i-n;const a=[];for(let h=0;h<r;h++)a.push(e[t+h]);let l=0,u=n,c=t;do{o(e[u],a[l])<0?(e[c++]=e[u++],s--):(e[c++]=a[l++],r--)}while(s>0&&r>0);for(;r;)e[c++]=a[l++],r--;for(;s;)e[c++]=e[u++],s--})(e,t,o,n,i)},fw=(e,t)=>{if(t.some(e=>nC(e.dir))){e=e.slice(0);const n=(e=>e.filter(e=>nC(e.dir)).map(e=>XC(e)).reduce((e,t)=>(n,i)=>e(n,i)||t(n,i),QC))(t);dw(e,0,e.length,n)}return e},gw=(e,t)=>{const{skip:n,take:i,filter:o,sort:r,group:s}=t,a=[...cw(s||[]),...r||[]];a.length&&(e=fw(e,a));const l=nC(o)&&ew.length,u=nC(s)&&s.length;if(!l&&!u)return{data:i?e.slice(n,n+i):e,total:e.length};let c;const h=[];let p;var d;if(l?(p=uw(dC(o)),c=((e,t)=>{let n=0;for(let i=0,o=e.length;i<o;i++)t(e[i])&&n++;return n})(e,p),h.push(ew(p))):c=e.length,nC(n)&&nC(i)&&(h.push((d=n,e=>(t,n)=>d--<=0?e(t,n):t)),h.push((e=>t=>(n,i)=>{return e-- >0?t(n,i):tw(o=n)?o:{__value:o,reduced:!0};var o})(i))),h.length){const t=hC(...h);return{data:u?pw(e,s,t,((e,t)=>t?e.filter(t):e)(e,p)):nw(t(ZC),[],e),total:c}}return{data:u?pw(e,s):e,total:c}};class mw{constructor(e){this.total=e}call(e,t){return t.subscribe(new yw(e,this.total))}}class yw extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let vw=(()=>{class e{constructor(){this.changes=new E}notify(e){this.changes.next({rtl:e})}get(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Cw=(()=>{class e{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(t=>!e[t].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe((1,e=>e.lift(new mw(1)))).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(e=>this.service.register(e,this[e],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ot({type:e,features:[gi]}),e})();const ww=new we("Kendo UI Right-to-Left token"),bw=new we("Localization key prefix");let Sw=(()=>{class e{constructor(e,t,n){this.prefix=e,this.messageService=t,this._rtl=n,this.changes=new Bh({rtl:this._rtl}),this.dictionary={},t&&(this.subscription=t.changes.pipe(x(({rtl:e})=>void 0!==e?e:this._rtl),Ap(e=>this._rtl=e)).subscribe(e=>{this.dictionary={},this.changes.next({rtl:e})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const t=this.key(e);return this.dictionary[t]}register(e,t,n=!1){const i=this.key(e);let o=t;if(!n){if(this.dictionary.hasOwnProperty(i))return;o=this.defaultValue(i,t)}this.dictionary[i]=o}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,t){if(!this.messageService)return t;const n=this.messageService.get(e);return void 0===n?t:n}}return e.\u0275fac=function(t){return new(t||e)(bt(bw),bt(vw,8),bt(ww,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();var Ew="bottom",_w="center",Ow="middle",xw="right";function Tw(e){return e.ownerDocument||e.document||e}var Rw=e=>Tw(e).defaultView,Pw=e=>Tw(e).documentElement;let Dw=0;function Aw(){if(!Dw&&"undefined"!=typeof document){const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),Dw=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return Dw}function kw(e){const t=Rw(e),n=Pw(e),i={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=Aw()),i}var Iw=e=>{let t=e.offsetParent;for(;t&&"static"===t.style.position;)t=t.offsetParent;return t||Pw(e)},Fw=e=>{let t=e.getBoundingClientRect(),{left:n,top:i}=t;return t.height||t.width||(t=(e=>{const{display:t,left:n,position:i}=e.style;e.style.display="",e.style.left="-10000px",e.style.position="absolute";const o=e.getBoundingClientRect();return e.style.display=t,e.style.left=n,e.style.position=i,o})(e)),{top:i,left:n,height:t.height,width:t.width}},Nw=(e,t)=>{const n=[];let i=e.parentNode;for(;i&&(n.push(i),i!==t);)i=i.parentNode;return n};function Mw(e){const t=Pw(e),n=Rw(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var Lw=e=>e===(e.ownerDocument||{}).body?Mw(e):{x:e.scrollLeft,y:e.scrollTop},Vw="flip";const Gw=function(e,t,n){let i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},Hw=function({offset:e,size:t,anchorSize:n,viewPortSize:i,anchorAlignPoint:o,elementAlignPoint:r,margin:s}){let a=0;const l=2*s;if(r!==o&&r!==_w&&r!==Ow&&o!==_w&&o!==Ow){const r="top"===o||"left"===o;e<0&&r?(a=t+n+l,e+a+t>i&&(a=0)):e>=0&&!r&&(e+t>i&&(a+=-(n+t+l)),e+a<0&&(a=0))}return a};var Ww=e=>{const t=[];let n=e.parentNode.firstElementChild;for(;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t};class Bw{}const jw="*";function zw(e,t=null){return{type:4,styles:t,timings:e}}function Uw(e,t=null){return{type:2,steps:e,options:t}}function Kw(e){return{type:6,styles:e,offset:null}}function qw(e,t,n){return{type:0,name:e,styles:t,options:n}}function Yw(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function $w(e){Promise.resolve(null).then(e)}class Xw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$w(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Qw{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const o=this.players.length;0==o?$w(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==o&&this._onFinish()}),e.onDestroy(()=>{++n==o&&this._onDestroy()}),e.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const Zw=["container"];function Jw(e,t){}const eb=["*"],tb=(e,t)=>e||{height:0,left:t.left,top:t.top,width:0},nb=()=>"undefined"!=typeof window,ib=/auto|scroll/,ob=e=>(e=>`${e.style.overflow}${e.style.overflowX}${e.style.overflowY}`)(e)||(e=>{const t=window.getComputedStyle(e);return`${t.overflow}${t.overflowX}${t.overflowY}`})(e),rb=1e3/60,sb=function(e){let t,n=!1;return(...e)=>(n||(t=(()=>{if(!Mv()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t})(...e),n=!0),t)}(),ab=(e,t)=>e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e,lb=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let ub=(()=>{class e{addOffset(e,t){return{left:e.left+t.left,top:e.top+t.top}}addScroll(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}align(e){return(e=>{const{anchorRect:t,anchorAlign:n,elementRect:i,elementAlign:o,margin:r={}}=e,s=n.horizontal,a=n.vertical,l=o.horizontal,u=o.vertical;let c=r.horizontal||0,h=r.vertical||0,p=t.top,d=t.left;return a===Ew&&(p+=t.height),a!==_w&&a!==Ow||(p+=Math.round(t.height/2)),u===Ew&&(p-=i.height,h*=-1),u!==_w&&u!==Ow||(p-=Math.round(i.height/2),h*=-1),s===xw&&(d+=t.width),s!==_w&&s!==Ow||(d+=Math.round(t.width/2)),l===xw&&(d-=i.width,c*=-1),l!==_w&&l!==Ow||(d-=Math.round(i.width/2),c*=-1),{top:p+h,left:d+c}})(e)}boundingOffset(e){return(e=>{if(!e.getBoundingClientRect){const t=kw(e);return{bottom:t.height,left:0,right:t.width,top:0}}const{bottom:t,left:n,right:i,top:o}=e.getBoundingClientRect();return{bottom:t,left:n,right:i,top:o}})(this.nativeElement(e))}getFontStyles(e){const t=this.getWindow();if(!t||!e)return[];const n=t.getComputedStyle(this.nativeElement(e));return lb.map(e=>({key:e,value:n[e]}))}getWindow(){return nb()?window:null}hasOffsetParent(e){return!!e&&!!this.nativeElement(e).offsetParent}offset(e){return e?Fw(this.nativeElement(e)):null}offsetAtPoint(e,t){if(!e)return null;const n=this.nativeElement(e),{left:i,top:o,transition:r}=n.style;n.style.transition="none",n.style.left=t.left+"px",n.style.top=t.top+"px";const s=Fw(n);return n.style.left=i,n.style.top=o,n.style.transition=r,s}nativeElement(e){return e?e.nativeElement||e:null}position(e,t,n=1){return e&&t?((e,t,n=1)=>{const i=t?Iw(t):null,{top:o,left:r,height:s,width:a}=((e,t)=>{const n=Rw(e),i=n.getComputedStyle(e),o=Fw(e),r=t||Iw(e),s=e.ownerDocument;let a={top:0,left:0};if("fixed"!==i.position&&r!==s.body&&r!==s.documentElement){const e=n.getComputedStyle(r);a=Fw(r),a.top+=parseInt(e.borderTopWidth,10),a.left+=parseInt(e.borderLeftWidth,10)}return{top:o.top-a.top,left:o.left-a.left,height:o.height,width:o.width}})(e,i),{x:l,y:u}=((e,t)=>e?Lw(e):function(e){const t=Iw(e);return t?Lw(t):{x:0,y:0}}(t))(i,e),c=e.ownerDocument,h=i===c.body||i===c.documentElement?1:n;return{top:o+u*h,left:r+l*h,height:s,width:a}})(this.nativeElement(e),this.nativeElement(t),n):null}removeScroll(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}restrictToView(e){return(e=>{const{anchorRect:t,anchorAlign:n,elementRect:i,elementAlign:o,collisions:r,viewPort:s,margin:a={}}=e,{top:l,left:u,height:c,width:h}=i,{height:p,width:d}=s,f=a.horizontal||0,g=a.vertical||0;let m=0,y=0;const v=r.horizontal===Vw,C=r.vertical===Vw;"fit"===r.vertical&&(y+=Gw(l,c,p)),"fit"===r.horizontal&&(m+=Gw(u,h,d)),C&&(y+=Hw({margin:g,offset:l,size:c,anchorSize:t.height,viewPortSize:p,anchorAlignPoint:n.vertical,elementAlignPoint:o.vertical})),v&&(m+=Hw({margin:f,offset:u,size:h,anchorSize:t.width,viewPortSize:d,anchorAlignPoint:n.horizontal,elementAlignPoint:o.horizontal}));const w=v&&0!==m,b=C&&0!==y;return{flipped:w||b,flip:{horizontal:w,vertical:b},offset:{left:m,top:y}}})(e)}scrollPosition(e){return Mw(this.nativeElement(e))}scrollableParents(e){return(e=>{const t=[];if(!Mv()||!nb())return t;let n=e.parentElement;for(;n;)(ib.test(ob(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t})(this.nativeElement(e))}stackingElementOffset(e){const t=this.getRelativeContextElement(e);return t?Fw(t):null}stackingElementScroll(e){const t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!sb())return null;let t=this.nativeElement(e).parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return kw(this.nativeElement(e))}zIndex(e,t){return((e,t)=>{if(!e||!Mv()||!nb())return null;const n=((e,t)=>{const n=Nw(e);let i,o,r=t;for(;r&&(i=Ww(r),o=n.reduce((e,t)=>e.concat(i.filter(e=>e===t)),[])[0],!o);)r=r.parentElement;return o})(e,t);if(!n)return null;const i=[e].concat(Nw(e,n)).reduce((e,t)=>{const n=t.style.zIndex||window.getComputedStyle(t).zIndex,i=parseInt(n,10);return i>e?i:e},0);return i?i+1:null})(this.nativeElement(e),this.nativeElement(t))}zoomLevel(){return Mv()&&nb()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const cb=new we("Popup Document Scale");let hb=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}alignElement(e){const{anchor:t,element:n,anchorAlign:i,elementAlign:o,margin:r,offset:s,positionMode:a}=e,l=this.scale||1,u="fixed"!==a&&this._dom.hasOffsetParent(n)?this.relativeRect(t,n,s,l):this.absoluteRect(t,n,s,l),c=ab(this._dom.offset(n),l);return this._dom.align({anchorAlign:i,anchorRect:u,elementAlign:o,elementRect:c,margin:r})}absoluteRect(e,t,n,i){const o=this.elementScrollPosition(e,t),r=tb(this._dom.offset(e),n),s=2*i,a=this._dom.stackingElementScroll(t);1!==i&&a&&(a.x/=s,a.y/=s);const l=this._dom.stackingElementOffset(t);return 1!==i&&l&&(l.left/=s,l.top/=s),this._dom.removeScroll(this._dom.addScroll(((e,t)=>t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e)(ab(r,i),l),a),o)}elementScrollPosition(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}relativeRect(e,t,n,i){const o=tb(this._dom.position(e,t,i),n);return ab(o,i)}}return e.\u0275fac=function(t){return new(t||e)(bt(ub),bt(cb,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),pb=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}positionElement(e){const{anchor:t,currentLocation:n,element:i,anchorAlign:o,elementAlign:r,collisions:s,margin:a}=e,l=this._dom,u=this.scale||1,c=l.offsetAtPoint(i,n),h=ab(c,u),p=ab(l.offset(t),u),d=tb(p,n),f=e.viewPort||l.windowViewPort(i);f.width=f.width/u,f.height=f.height/u;const g=l.restrictToView({anchorAlign:o,anchorRect:d,collisions:s,elementAlign:r,elementRect:h,margin:a,viewPort:f}),m=l.addOffset(n,g.offset);return{flip:g.flip,flipped:g.flipped,offset:m}}}return e.\u0275fac=function(t){return new(t||e)(bt(ub),bt(cb,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),db=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}subscribe(e){Mv()&&this._zone.runOutsideAngular(()=>{this.subscription=Hy(this._dom.getWindow(),"resize").pipe(rv(rb)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return e.\u0275fac=function(t){return new(t||e)(bt(ub),bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),fb=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!Mv()||!this.element)return;const t=this._dom.nativeElement(this.element),n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const i=n.map(e=>Hy(e,"scroll").pipe(rv(rb)));this.subscription=U(...i).subscribe(i=>{const o=i.target,r=n.filter(e=>e===o).length>0,s=o===document,a=o===window;(r||s||a)&&e(this.isVisible(t,o))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,t){const n=this._dom.boundingOffset(e),i=this._dom.boundingOffset(t);return!(1<i.top-n.bottom||1<n.top-i.bottom||1<n.left-i.right||1<i.left-n.right)}}return e.\u0275fac=function(t){return new(t||e)(bt(ub),bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const gb="left",mb="right",yb="down",vb="up",Cb={expand:e=>{const t=e===vb||e===yb?"scaleY":"scaleX";let n;return n=e===yb?"top":e===gb?mb:e===mb?gb:"bottom",{start:{transform:t+"(0)",transformOrigin:n},end:{transform:t+"(1)"}}},slide:e=>{const t=e===gb||e===mb?"translateX":"translateY";return{start:{transform:`${t}(${e===mb||e===yb?-100:100}%)`},end:{transform:t+"(0%)"}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let wb=(()=>{class e{constructor(e){this.animationBuilder=e,this.start=new Jl,this.end=new Jl}play(e,t,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;const i=t.type||"slide",o=Cb[i];if(o){const i=o(this.getDirection(n,t));this.playStates(e,i,t)}else if(Gn())throw new Error(`Unsupported animation type: "${i}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,t,n){this.stopPlayer();const i=n.duration||100,o=this.animationBuilder.build([Kw(t.start),zw(i+"ms ease-in",Kw(t.end))]),r=this.player=o.create(e);r.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),r.play()}getDirection(e,t){let n=t.direction||yb;return e.horizontal&&(n===gb?n=mb:n===mb&&(n=gb)),e.vertical&&(n===yb?n=vb:n===vb&&(n=yb)),n}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return e.\u0275fac=function(t){return new(t||e)(bt(Bw))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const bb={left:-1e4,top:0};let Sb=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l){this.container=e,this._alignService=t,this.domService=n,this._positionService=i,this._resizeService=o,this._scrollableService=r,this.animationService=s,this._renderer=a,this._zone=l,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=bb,this.anchorViewportLeave=new Jl,this.close=new Jl,this.open=new Jl,this.positionChange=new Jl,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=bb,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.reposition(),this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=M(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",e.left+"px"),this.setContainerStyle("top",e.top+"px"),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}reposition(){if(!Mv())return;const{flip:e,offset:t}=this.position();this.currentOffset&&!((e,t)=>{const{left:n,top:i}=e,{left:o,top:r}=t;return Math.abs(n-o)>=1||Math.abs(i-r)>=1})(this.currentOffset,t)||(this.currentOffset=t,Gv(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:t,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const t=Gv(this.anchorViewportLeave);e||!t?this.reposition():t&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(hb),Rs(ub),Rs(pb),Rs(db),Rs(fb),Rs(wb),Rs(ja),Rs(zu))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-popup"]],viewQuery:function(e,t){if(1&e&&(du(Zw,!0),du(Zv,!0)),2&e){let e;hu(e=vu())&&(t.contentContainer=e.first),hu(e=vu())&&(t.resizeSensor=e.first)}},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[Fa([hb,wb,ub,pb,db,fb]),gi],ngContentSelectors:eb,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(Ks(),ks(0,"div",0,1),qs(2),xs(3,Jw,0,0,"ng-template",2),ks(4,"kendo-resize-sensor",3),Ws("resize",function(){return t.onResize()}),Is(),Is()),2&e&&(Ds("ngClass",t.popupClass),Qo(3),Ds("ngTemplateOutlet",t.content)("ngIf",t.content),Qo(1),Ds("rateLimit",100))},directives:[jc,th,qc,Zv],encapsulation:2}),e})();const Eb=new we("Popup Container");let _b=(()=>{class e{constructor(e,t,n,i){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=n,this.container=i}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:t,nodes:n}=this.contentFrom(e.content),i=this.appendPopup(n,e.appendTo),o=i.instance;this.projectComponentInputs(i,e),i.changeDetectorRef.detectChanges(),t&&t.changeDetectorRef.detectChanges();const r=this.getComponentRootNode(i);return{close:()=>{var e;t&&t.destroy(),i.destroy(),(e=r)&&e.parentNode&&e.parentNode.removeChild(e)},content:t,popup:i,popupAnchorViewportLeave:o.anchorViewportLeave,popupClose:o.close,popupElement:r,popupOpen:o.open,popupPositionChange:o.positionChange}}appendPopup(e,t){const n=this.createComponent(Sb,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,t,n){const i=this.getComponentFactory(e);if(n)return n.createComponent(i,void 0,this.injector,t);{const e=i.create(this.injector,t);return this.applicationRef.attachView(e.hostView),e}}projectComponentInputs(e,t){return Object.getOwnPropertyNames(t).filter(e=>"content"!==e||t.content instanceof ml).map(n=>{e.instance[n]=t[n]}),e}contentFrom(e){if(!e||e instanceof ml)return{component:null,nodes:[[]]};const t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}}return e.\u0275fac=function(t){return new(t||e)(bt(uc),bt(La),bt(as),bt(Eb,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ob=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[_b],imports:[[ah,Jv]]}),e})();const xb=()=>"undefined"!=typeof window,Tb={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Rb={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Pb={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Db={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},Ab=(e,t,n)=>{for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},kb=xb()&&window.navigator?window.navigator.userAgent:null,Ib=kb?(e=>{let t=null,n=[];for(let i in Pb)if(Pb.hasOwnProperty(i)&&(n=e.match(Pb[i]),n)){t={},t[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t})(kb):null,Fb=kb?(e=>{let t,n=[];for(let i in Tb)if(Tb.hasOwnProperty(i)){if(n=e.match(Tb[i]),!n)continue;if("windows"===i&&"plugins"in window.navigator)return null;const o={};return o.device=i,o.browser=Ab(e,Db,"default"),o.name=Ab(i,Rb),o[o.name]=!0,o.majorVersion=n[2],o.minorVersion=n[3]?n[3].replace("_","."):".0",t=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),o.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,o.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||o.cordova,o}return null})(kb):null,Nb=xb()&&"ontouchstart"in window,Mb=Ib&&!Ib.chrome&&window.MSPointerEvent,Lb=Ib&&!Ib.chrome&&window.PointerEvent,Vb=Fb&&(Nb||Mb||Lb),Gb=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;function Hb(e){const t=[];return e.replace(Gb,function(e,n,i,o){t.push(void 0!==n?n:i||o)}),t}const Wb={};function Bb(e){if(Wb[e])return Wb[e];const t=Hb(e);return Wb[e]=function(e){let n=e;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n},Wb[e]}Wb[void 0]=e=>e;const jb={undefined:e=>e},zb=(e,t)=>t&&t.arrays&&!isNaN(Number(e))?[]:{};function Ub(e){if(jb[e])return jb[e];const t=Hb(e);return jb[e]=(e,n,i)=>{let o=e;const r=t.length-1;for(let s=0;s<r&&o;s++)o=o[t[s]]=o[t[s]]||zb(t[s+1],i);o[t[r]]=n},jb[e]}function Kb(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function qb(e){return t=>t.lift(new Yb(e))}class Yb{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new $b(e,this.predicate))}}class $b extends f{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const Xb=["input"],Qb=function(e,t){return{focus:e,blur:t}},Zb=["content"],Jb=["list"];function eS(e,t){}const tS=function(e,t){return{templateRef:e,$implicit:t}};function nS(e,t){if(1&e&&xs(0,eS,0,0,"ng-template",9),2&e){const e=zs(2);Ds("templateContext",Hl(1,tS,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function iS(e,t){if(1&e&&(ks(0,"strong"),fa(1),Is()),2&e){const e=zs(2);Qo(1),ga(e.currentGroup)}}const oS=function(e){return{"k-virtual-item":e}},rS=function(e,t,n){return{"height.px":e,"minHeight.px":t,boxSizing:n}};function sS(e,t){if(1&e&&(ks(0,"div",7),xs(1,nS,1,4,void 0,5),xs(2,iS,2,1,"ng-template",8),Is()),2&e){const e=zs();Ds("ngClass",Gl(4,oS,e.virtual))("ngStyle",Wl(6,rS,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),Qo(1),Ds("ngIf",e.fixedGroupTemplate),Qo(1),Ds("ngIf",!e.fixedGroupTemplate)}}function aS(e,t){}function lS(e,t){if(1&e&&xs(0,aS,0,0,"ng-template",9),2&e){const e=zs().$implicit,t=zs(2);Ds("templateContext",Hl(1,tS,t.template.templateRef,e))}}function uS(e,t){if(1&e&&fa(0),2&e){const e=zs().$implicit;ga(zs(2).getText(e))}}const cS=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function hS(e,t){if(1&e&&(ks(0,"li",11),xs(1,lS,1,4,void 0,5),xs(2,uS,1,1,"ng-template",8),Is()),2&e){const e=t.$implicit,n=t.index,i=zs(2);Ds("height",null==i.virtual?null:i.virtual.itemHeight)("index",n+i.startFrom)("multipleSelection",i.multipleSelection)("ngClass",Hl(8,cS,i.virtual,i.isDisabled(n))),Os("id",i.optionPrefix+"-"+i.getValue(e))("tabIndex",-1),Qo(1),Ds("ngIf",i.template),Qo(1),Ds("ngIf",!i.template)}}function pS(e,t){1&e&&xs(0,hS,3,11,"ng-template",10),2&e&&Ds("ngForOf",zs().data)}function dS(e,t){}function fS(e,t){if(1&e&&xs(0,dS,0,0,"ng-template",9),2&e){const e=zs(2).$implicit,t=zs(2);Ds("templateContext",Hl(1,tS,t.groupTemplate.templateRef,e.value))}}function gS(e,t){if(1&e&&(ks(0,"strong"),fa(1),Is()),2&e){const e=zs(2).$implicit;Qo(1),ma(" ",e.value,"")}}function mS(e,t){if(1&e&&(ks(0,"li",14),xs(1,fS,1,4,void 0,5),xs(2,gS,2,1,"ng-template",8),Is()),2&e){const e=zs().$implicit,t=zs(2);Ds("ngClass",Gl(7,oS,t.virtual))("ngStyle",Wl(9,rS,null==t.virtual?null:t.virtual.itemHeight,null==t.virtual?null:t.virtual.itemHeight,t.virtual?"border-box":"inherit")),Os("group-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),Qo(1),Ds("ngIf",t.groupTemplate),Qo(1),Ds("ngIf",!t.groupTemplate)}}function yS(e,t){}function vS(e,t){if(1&e&&xs(0,yS,0,0,"ng-template",9),2&e){const e=zs(2).$implicit,t=zs(2);Ds("templateContext",Hl(1,tS,t.template.templateRef,e.value))}}function CS(e,t){if(1&e&&fa(0),2&e){const e=zs(2).$implicit;ga(zs(2).getText(e.value))}}function wS(e,t){if(1&e&&(ks(0,"li",11),xs(1,vS,1,4,void 0,5),xs(2,CS,1,1,"ng-template",8),Is()),2&e){const e=zs().$implicit,t=zs(2);Ds("height",null==t.virtual?null:t.virtual.itemHeight)("index",e.offsetIndex)("multipleSelection",t.multipleSelection)("ngClass",Hl(9,cS,t.virtual,t.isDisabled(e.offsetIndex))),Os("absolute-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),Qo(1),Ds("ngIf",t.template),Qo(1),Ds("ngIf",!t.template)}}function bS(e,t){if(1&e&&(xs(0,mS,3,13,"li",12),xs(1,wS,3,12,"li",13)),2&e){const e=t.$implicit;Ds("ngIf",e.header&&e.index>0),Qo(1),Ds("ngIf",!e.header)}}function SS(e,t){1&e&&xs(0,bS,2,2,"ng-template",10),2&e&&Ds("ngForOf",zs().data)}function ES(e,t){if(1&e&&(ks(0,"div",15),Fs(1,"div"),Is()),2&e){const e=zs();Qo(1),ta("height",e.scrollHeight,"px")}}const _S=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},OS=function(e){return{"k-virtual-list":e}},xS=["container"],TS=["popupTemplate"],RS=["optionsList"];function PS(e,t){if(1&e){const e=Vs();ks(0,"span",8),Ws("click",function(t){return Zt(e),zs().clearValue(t)})("mousedown",function(e){return e.preventDefault()}),Is()}2&e&&Os("title",zs().clearTitle)}function DS(e,t){1&e&&Fs(0,"span",9)}function AS(e,t){}const kS=function(e){return{templateRef:e}};function IS(e,t){if(1&e&&xs(0,AS,0,0,"ng-template",14),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.headerTemplate.templateRef))}}function FS(e,t){}function NS(e,t){if(1&e&&(ks(0,"div"),fa(1),Is()),2&e){const e=zs(3);Qo(1),ga(e.noDataText)}}function MS(e,t){if(1&e&&(ks(0,"div",15),xs(1,FS,0,0,"ng-template",16),xs(2,NS,2,1,"ng-template",6),Is()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.noDataTemplate)("templateContext",Gl(3,kS,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),Qo(1),Ds("ngIf",!e.noDataTemplate)}}function LS(e,t){}function VS(e,t){if(1&e&&xs(0,LS,0,0,"ng-template",14),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.footerTemplate.templateRef))}}function GS(e,t){if(1&e){const e=Vs();xs(0,IS,1,3,void 0,10),ks(1,"kendo-list",11,12),Ws("pageChange",function(t){return Zt(e),zs().pageChange(t)}),Is(),xs(3,MS,3,5,"div",13),xs(4,VS,1,3,void 0,10)}if(2&e){const e=zs();Ds("ngIf",e.headerTemplate),Qo(1),Ds("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),Qo(2),Ds("ngIf",0===e.data.length),Qo(1),Ds("ngIf",e.footerTemplate)}}function HS(e,t){if(1&e){const e=Vs();ks(0,"kendo-resize-sensor",17),Ws("resize",function(){return Zt(e),zs().onResize()}),Is()}}const WS=["wrapper"];function BS(e,t){if(1&e){const e=Vs();ks(0,"span",11),Ws("click",function(t){return Zt(e),zs().clearValue(t)})("mousedown",function(e){return e.preventDefault()}),Is()}2&e&&Os("title",zs().clearTitle)}function jS(e,t){}function zS(e,t){if(1&e&&xs(0,jS,0,0,"ng-template",16),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.headerTemplate.templateRef))}}function US(e,t){}function KS(e,t){if(1&e&&(ks(0,"div"),fa(1),Is()),2&e){const e=zs(3);Qo(1),ga(e.noDataText)}}function qS(e,t){if(1&e&&(ks(0,"div",17),xs(1,US,0,0,"ng-template",18),xs(2,KS,2,1,"ng-template",9),Is()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.noDataTemplate)("templateContext",Gl(3,kS,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),Qo(1),Ds("ngIf",!e.noDataTemplate)}}function YS(e,t){}function $S(e,t){if(1&e&&xs(0,YS,0,0,"ng-template",16),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.footerTemplate.templateRef))}}function XS(e,t){if(1&e){const e=Vs();xs(0,zS,1,3,void 0,12),ks(1,"kendo-list",13,14),Ws("pageChange",function(t){return Zt(e),zs().pageChange(t)}),Is(),xs(3,qS,3,5,"div",15),xs(4,$S,1,3,void 0,12)}if(2&e){const e=zs();Ds("ngIf",e.headerTemplate),Qo(1),Ds("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),Qo(2),Ds("ngIf",0===e.data.length),Qo(1),Ds("ngIf",e.footerTemplate)}}function QS(e,t){if(1&e){const e=Vs();ks(0,"kendo-resize-sensor",19),Ws("resize",function(){return Zt(e),zs().onResize()}),Is()}}const ZS=function(e,t){return{"k-state-default":e,"k-state-disabled":t}};function JS(e,t){}function eE(e,t){if(1&e&&xs(0,JS,0,0,"ng-template",10),2&e){const e=zs();Ds("templateContext",Hl(1,tS,e.valueTemplate.templateRef,e.dataItem))}}function tE(e,t){1&e&&fa(0),2&e&&ga(zs().getText())}function nE(e,t){if(1&e){const e=Vs();ks(0,"span",14),Ws("click",function(e){return e.stopImmediatePropagation()}),ks(1,"input",15),Ws("ngModelChange",function(t){return Zt(e),zs(2).filterText=t})("keydown",function(t){return Zt(e),zs(2).keydown(t)})("input",function(t){return Zt(e),zs(2).handleFilter(t)})("focus",function(){return Zt(e),zs(2).onFilterFocus()})("blur",function(){return Zt(e),zs(2).blurFilterInput()}),Is(),Fs(2,"span",16),Is()}if(2&e){const e=zs(2);Qo(1),Ds("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction)("ngModel",e.filterText),Os("aria-owns",e.ariaOwns)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.noDataLabel)}}const iE=function(e){return{"k-state-disabled":e}};function oE(e,t){if(1&e&&(ks(0,"div",17),fa(1),Is()),2&e){const e=zs(2);Ds("ngClass",Gl(3,iE,e.isDisabledDefaultItem))("index",-1),Qo(1),ma(" ",e.getDefaultItemText()," ")}}function rE(e,t){}function sE(e,t){if(1&e&&(ks(0,"div",17),xs(1,rE,0,0,"ng-template",10),Is()),2&e){const e=zs(2);Ds("ngClass",Gl(3,iE,e.isDisabledDefaultItem))("index",-1),Qo(1),Ds("templateContext",Hl(5,tS,e.itemTemplate.templateRef,e.defaultItem))}}function aE(e,t){}function lE(e,t){if(1&e&&xs(0,aE,0,0,"ng-template",10),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.headerTemplate.templateRef))}}function uE(e,t){}function cE(e,t){if(1&e&&(ks(0,"div"),fa(1),Is()),2&e){const e=zs(3);Qo(1),ga(e.noDataText)}}function hE(e,t){if(1&e&&(ks(0,"div",18),xs(1,uE,0,0,"ng-template",19),xs(2,cE,2,1,"ng-template",5),Is()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.noDataTemplate)("templateContext",Gl(3,kS,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),Qo(1),Ds("ngIf",!e.noDataTemplate)}}function pE(e,t){}function dE(e,t){if(1&e&&xs(0,pE,0,0,"ng-template",10),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.footerTemplate.templateRef))}}function fE(e,t){if(1&e){const e=Vs();xs(0,nE,3,6,"ng-template",5),xs(1,oE,2,5,"ng-template",5),xs(2,sE,2,8,"ng-template",5),xs(3,lE,1,3,void 0,4),ks(4,"kendo-list",11,12),Ws("pageChange",function(t){return Zt(e),zs().pageChange(t)}),Is(),xs(6,hE,3,5,"div",13),xs(7,dE,1,3,void 0,4)}if(2&e){const e=zs();Ds("ngIf",e.filterable),Qo(1),Ds("ngIf",e.defaultItem&&!e.itemTemplate),Qo(1),Ds("ngIf",e.defaultItem&&e.itemTemplate),Qo(1),Ds("ngIf",e.headerTemplate),Qo(1),Ds("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),Qo(2),Ds("ngIf",0===e.data.length),Qo(1),Ds("ngIf",e.footerTemplate)}}function gE(e,t){if(1&e){const e=Vs();ks(0,"kendo-resize-sensor",20),Ws("resize",function(){return Zt(e),zs().onResize()}),Is()}}const mE=function(e,t){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t}};function yE(e,t){if(1&e){const e=Vs();ks(0,"span",11),Ws("mousedown",function(t){return Zt(e),zs().clearAll(t)}),Is()}2&e&&Os("title",zs().clearTitle)}function vE(e,t){1&e&&Fs(0,"span",12)}function CE(e,t){}function wE(e,t){if(1&e&&xs(0,CE,0,0,"ng-template",18),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.headerTemplate.templateRef))}}function bE(e,t){}function SE(e,t){if(1&e&&xs(0,bE,0,0,"ng-template",18),2&e){const e=zs(3);Ds("templateContext",Hl(1,tS,e.customItemTemplate.templateRef,e.text))}}function EE(e,t){1&e&&fa(0),2&e&&ga(zs(3).text)}function _E(e,t){if(1&e&&(ks(0,"div",19),ks(1,"div",20),xs(2,SE,1,4,void 0,21),xs(3,EE,1,1,"ng-template",null,22,Su),Fs(5,"span",23),Is(),Is()),2&e){const e=Ts(4),t=zs(2);Qo(1),Ds("multipleSelection",!0)("index",-1),Qo(1),Ds("ngIf",t.customItemTemplate)("ngIfElse",e)}}function OE(e,t){}function xE(e,t){if(1&e&&(ks(0,"div"),fa(1),Is()),2&e){const e=zs(3);Qo(1),ga(e.noDataText)}}function TE(e,t){if(1&e&&(ks(0,"div",24),xs(1,OE,0,0,"ng-template",25),xs(2,xE,2,1,"ng-template",9),Is()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.noDataTemplate)("templateContext",Gl(3,kS,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),Qo(1),Ds("ngIf",!e.noDataTemplate)}}function RE(e,t){}function PE(e,t){if(1&e&&xs(0,RE,0,0,"ng-template",18),2&e){const e=zs(2);Ds("templateContext",Gl(1,kS,e.footerTemplate.templateRef))}}function DE(e,t){if(1&e){const e=Vs();xs(0,wE,1,3,void 0,13),xs(1,_E,6,4,"div",14),ks(2,"kendo-list",15,16),Ws("pageChange",function(t){return Zt(e),zs().pageChange(t)}),Is(),xs(4,TE,3,5,"div",17),xs(5,PE,1,3,void 0,13)}if(2&e){const e=zs();Ds("ngIf",e.headerTemplate),Qo(1),Ds("ngIf",e.allowCustom&&e.text),Qo(1),Ds("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("height",e.listHeight)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("show",e.isOpen)("multipleSelection",!0)("virtual",e.virtual),Qo(2),Ds("ngIf",0===e.data.length),Qo(1),Ds("ngIf",e.footerTemplate)}}function AE(e,t){if(1&e){const e=Vs();ks(0,"kendo-resize-sensor",26),Ws("resize",function(){return Zt(e),zs().onResize()}),Is()}}function kE(e,t){}function IE(e,t){1&e&&xs(0,kE,0,0,"ng-template")}function FE(e,t){}function NE(e,t){if(1&e&&xs(0,FE,0,0,"ng-template",10),2&e){const e=zs(2).$implicit,t=zs();Ds("templateContext",Hl(1,tS,t.groupTemplate.templateRef,e))}}function ME(e,t){if(1&e&&fa(0),2&e){const e=zs(2).$implicit;ya("",e.length," ",1===e.length?"item":"items"," selected")}}function LE(e,t){if(1&e&&(ks(0,"span"),xs(1,NE,1,4,void 0,8),xs(2,ME,1,2,"ng-template",9),Is()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.groupTemplate),Qo(1),Ds("ngIf",!e.groupTemplate)}}function VE(e,t){}function GE(e,t){if(1&e&&xs(0,VE,0,0,"ng-template",10),2&e){const e=zs(2).$implicit,t=zs();Ds("templateContext",Hl(1,tS,t.template.templateRef,e))}}function HE(e,t){if(1&e&&fa(0),2&e){const e=zs(2).$implicit,t=zs();ga(t.tagProp(e,t.textField))}}function WE(e,t){if(1&e&&(ks(0,"span"),xs(1,GE,1,4,void 0,8),xs(2,HE,1,1,"ng-template",9),Is()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.template),Qo(1),Ds("ngIf",!e.template)}}const BE=function(e){return{"k-state-focused":e}};function jE(e,t){if(1&e){const e=Vs();ks(0,"li",2),xs(1,IE,1,0,void 0,3),xs(2,LE,3,2,"ng-template",null,4,Su),xs(4,WE,3,2,"ng-template",null,5,Su),ks(6,"span",6),ks(7,"span",7),Ws("mousedown",function(n){Zt(e);const i=t.$implicit;return zs().deleteTag(n,i)}),Is(),Is(),Is()}if(2&e){const e=t.$implicit,n=t.index,i=Ts(3),o=Ts(5),r=zs();Ds("ngClass",Gl(7,BE,n===r.focused)),Os("aria-setsize",null==r.tags?null:r.tags.length)("id",r.itemId(e)),Qo(1),Ds("ngIf",r.isGroupTag(e))("ngIfThen",i)("ngIfElse",o),Qo(5),Os("aria-hidden",n!==r.focused)}}const zE=e=>null!=e,UE=()=>{let e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},KE=e=>Array.isArray(e),qE=e=>zE(e)&&"object"==typeof e,YE=e=>"string"==typeof e&&0===e.length,$E=e=>KE(e)&&e.every(e=>qE(e)),XE=(e,t,n)=>{const i=t.map(e=>zE(e)&&zE(e[n])?e[n]:e);return e.reduce((e,t)=>{const o=zE(t)&&zE(t[n])?t[n]:t,r=i.indexOf(o);return-1!==r&&e.push(r),e},[])},QE=(e,t,n=!1)=>{if(zE(e))return n?t&&zE(e[t])?e[t]:e:t?e[t]:e},ZE=(e,t,n)=>{if(!zE(e))return!1;let i=String(e);return n&&(i=i.toLowerCase()),0===i.indexOf(t)},JE=e=>e.className.includes("ng-untouched"),e_=e=>{};let t_=(()=>{class e{constructor(e,t){this.localization=e,this.valueChange=new Jl,this.onBlur=new Jl,this.onFocus=new Jl,this.onClick=new Jl,this.onNavigate=new Jl,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=e.rtl?"rtl":"ltr",this.renderer=t}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnChanges(e){let t;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const o=this.input.nativeElement.selectionStart,r=t.length===o;this.writeInputValue(this.suggestedText?(n=this.userInput).concat((i=this.suggestedText).substr(i.toLowerCase().indexOf(n.toLowerCase())+n.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(o,o),this._previousValue=this.userInput}var n,i}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}writeInputValue(e){Mv()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,t){if(Mv()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(n){}}handleInput(e){const t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[tC.ArrowUp,tC.ArrowDown,tC.ArrowLeft,tC.ArrowRight,tC.Enter,tC.Escape,tC.Delete,tC.Backspace,tC.Home,tC.End].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){Mv()&&this.input.nativeElement.focus()}blur(){Mv()&&this.input.nativeElement.blur()}setInputSize(){const e=e=>e?e.length:0,t=this.input.nativeElement,n=e(this.placeholder),i=e(this.value),o=Math.max(n,i,1);this.renderer.setAttribute(t,"size",o.toString())}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(ja))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){if(1&e&&pu(Xb,!0),2&e){let e;hu(e=vu())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&na("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[gi],decls:2,vars:21,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope","input","keydown"],["input",""]],template:function(e,t){1&e&&(ks(0,"input",0,1),Ws("input",function(e){return t.handleInput(e)})("keydown",function(e){return t.handleKeydown(e)}),Is()),2&e&&(ia("k-input"),Ds("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",Hl(18,Qb,t.handleFocus,t.handleBlur))("scope",t),Os("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},directives:[jv],encapsulation:2}),e})(),n_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),e})(),i_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),e})(),o_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),e})(),r_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),e})(),s_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),e})(),a_=(()=>{class e{constructor(){this.onSelect=new Jl,this.onChange=new Jl,this.onFocus=new Jl,this.total=0,this.selectedIndices=[]}getTotal(){return this.total}isSelected(e){return zE(this.selectedIndices.find(t=>t===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:zE(e)}))}add(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}unselect(e){if(!this.isSelected(e))return;const t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}change(e){const t=zE(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();var l_=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({});let u_=(()=>{class e{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return zE(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(e=>!e.header):this.data).length:0}isGrouped(e){return zE(e)&&0!==e.length&&zE(e[0])&&(n=["aggregates","field","items","value"],!!zE(t=e[0])&&n.every(e=>t.hasOwnProperty(e)));var t,n}getGroupIndices(e){let t=[];for(let n=0;n<=e.length-1;n++)t[n]=(t[n-1]||0)+e[n].items.length;return t}filter(e){let t=[];if(this.isGrouped(this.data))for(let n=0;n<=this.groupIndices.length-1;n++){const i=this.data[n].items.filter(e);i&&(t=t.concat(i))}else t=this.data.filter(e);return t}indexOf(e,t=0){let n=t=>t===e;return this.grouped&&(n=t=>t.value===e),this.findIndex(n,t)}findIndex(e,t=0){let n=-1;if(this.grouped){const i=this._flatData.filter(e=>!e.header&&e.offsetIndex>=t);n=i.findIndex(e),n=i[n]?i[n].offsetIndex:-1}else{const i=this.data.slice(t).findIndex(e);n=-1!==i?i+t:-1}return n}closestGroup(e){for(let t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}find(e){const t=this.findIndex(e);return this.itemAt(t)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const t=this._flatData.find(t=>!t.header&&t.offsetIndex===e);if(t)return t.index}return-1}itemAt(e){let t;if(0===this.itemsCount)return t;if(this.grouped){const n=this._flatData.find(t=>!t.header&&t.offsetIndex===e);n&&(t=n.value)}else t=this.data[e];return t}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(t=>t.header&&t.index===e)}groupField(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const t=this.groupField();return t?e[t]:void 0}flatten(e,t,n=0,i=0){let o=[];zE(t)&&o.push({header:!0,index:i+n,offsetIndex:i,value:t});for(let r=0;r<e.length;r++){let t=[];e[r].items?(t=this.flatten(e[r].items,e[r].value,n,r),n+=e[r].items.length):t.push({header:!1,index:i+n+r+1,offsetIndex:n+r,value:e[r]}),o=o.concat(t)}return o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),c_=(()=>{class e{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const t=this.dataService.itemAt(e);if(zE(t))return this.itemDisabled({dataItem:t,index:e});if(zE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(zE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}return e.\u0275fac=function(t){return new(t||e)(bt(u_))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class h_{constructor(e,t){this.index=e,this.originalEvent=t}}let p_=(()=>{class e{constructor(e,t){this.disabledItemsService=e,this.selectionService=t,this.open=new Jl,this.close=new Jl,this.enter=new Jl,this.tab=new Jl,this.esc=new Jl,this.up=new Jl,this.right=new Jl,this.down=new Jl,this.left=new Jl,this.delete=new Jl,this.backspace=new Jl,this.home=new Jl,this.end=new Jl}process(e){const t=e.originalEvent.keyCode,n=e.originalEvent.altKey;let i,o=l_.Undefined;n&&t===tC.ArrowDown?o=l_.Open:n&&t===tC.ArrowUp?o=l_.Close:t===tC.Enter?o=l_.Enter:t===tC.Escape?o=l_.Esc:t===tC.Tab?o=l_.Tab:t===tC.ArrowUp?(i=this.next({current:e.current,start:e.min,end:e.max,step:-1}),o=l_.Up):t===tC.ArrowLeft?(i=this.next({current:e.current,start:e.min,end:e.max,step:-1}),o=l_.Left):t===tC.ArrowDown?(i=this.next({current:e.current,start:e.min,end:e.max,step:1}),o=l_.Down):t===tC.ArrowRight?(i=this.next({current:e.current,start:e.min,end:e.max,step:1}),o=l_.Right):t===tC.Home?(i=this.isDisabled(0)?e.current:0,o=l_.Home):t===tC.End?(i=this.isDisabled(e.max)?e.current:e.max,o=l_.End):t===tC.Delete?o=l_.Delete:t===tC.Backspace&&(o=l_.Backspace);const r=new h_(i,e.originalEvent);return o!==l_.Undefined&&this[l_[o].toLowerCase()].emit(r),o}next(e){const{current:t,start:n,end:i,step:o}=e,r=zE(t)?this.clampIndex(t+o,n,i):n,s=this.firstFocusableIndex(r,n,i,o);return zE(s)?s:this.selectionService.isSelected(t)&&t>=n?t:this.firstFocusableIndex(r,n,i,-1*o)}clampIndex(e,t,n){return!zE(e)||e<t?t:e>n?n:e}firstFocusableIndex(e,t,n,i){for(;t<=e&&e<=n;){if(!this.isDisabled(e))return e;e+=i}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}return e.\u0275fac=function(t){return new(t||e)(bt(c_),bt(a_))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),d_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),e})();class f_{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class g_{}let m_=(()=>{class e{constructor(e){this.element=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa))},e.\u0275dir=ot({type:e,selectors:[["li","role","option"],["li","role","group"]]}),e})(),y_=(()=>{class e{constructor(e,t,n,i,o,r,s){this.dataService=e,this.wrapper=t,this.selectionService=n,this.disabledItemsService=i,this.cdr=o,this.zone=r,this.renderer=s,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new Jl,this.pageChange=new Jl,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=U(this.selectionService.onSelect.pipe(x(e=>e.indices[0])),this.selectionService.onFocus).pipe(gp(e=>this.zone.onStable.pipe(vp(1),x(()=>e)))).subscribe(this.scrollToItem.bind(this))}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set items(e){this._items=e}get items(){return this._items}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}ngOnChanges(e){Lv("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.scrollSubscription=Hy(this.content.nativeElement,"scroll").pipe(rv(100),Ap(this.prefetchData.bind(this)),Ap(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}firstVisibleItem(){const e=this.content.nativeElement,t=e.getBoundingClientRect(),n=Array.prototype.slice.call(e.querySelectorAll(".k-state-disabled"));n.forEach(e=>this.renderer.setStyle(e,"pointer-events","auto"));const i=document.elementFromPoint(t.left+1,t.top+1);return n.forEach(e=>this.renderer.setStyle(e,"pointer-events","none")),i}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let t;"group"===e.getAttribute("role")?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t).value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,n=Math.trunc(t/this.virtual.itemHeight),i=t>this.lastScrollTop,o=this.lastLoaded-this.pageSize+e>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&o&&this.changePage(n-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let t=this.pageSize+e;t>this.virtual.total&&(e--,t=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=t,this.pageChange.emit({skip:e,take:this.pageSize})})}index(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}getText(e){return QE(e,this.textField)}getValue(e){return QE(e,this.valueField)}isDisabled(e){return zE(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}scrollToItem(e){let t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)return void this.scrollToIndex(t);const n=this.items.toArray();zE(n[t])&&-1!==t&&this.scroll(n[t].element)}scrollToIndex(e){let t=this.content.nativeElement,n=t.scrollTop;const i=e*this.virtual.itemHeight,o=t.clientHeight,r=i+this.virtual.itemHeight;n>i?n=i:r>n+o&&(n=r-o),t.scrollTop=n}scroll(e){if(!e)return;const t=e.nativeElement;let n=this.content.nativeElement,i=t.offsetTop,o=n.scrollTop,r=n.clientHeight,s=i+t.offsetHeight;o>i?o=i:s>o+r&&(o=s-r),n.scrollTop=o}positionItems(){this.items.forEach((e,t)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(t+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!zE(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}}return e.\u0275fac=function(t){return new(t||e)(Rs(u_),Rs(Wa),Rs(a_),Rs(c_),Rs(cl),Rs(zu),Rs(ja))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-list"]],viewQuery:function(e,t){if(1&e&&(du(Zb,!0),du(Jb,!0),du(m_,!0)),2&e){let e;hu(e=vu())&&(t.content=e.first),hu(e=vu())&&(t.list=e.first),hu(e=vu())&&(t.items=e)}},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[gi],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(xs(0,sS,3,10,"div",0),ks(1,"div",1,2),ks(3,"ul",3,4),xs(5,pS,1,1,void 0,5),xs(6,SS,1,1,void 0,5),Is(),xs(7,ES,2,2,"div",6),Is()),2&e&&(Ds("ngIf",t.dataService.grouped),Qo(1),ta("max-height",t.height,"px"),Ds("ngClass",Hl(10,_S,t.virtual,!t.virtual)),Qo(2),Ds("ngClass",Gl(13,OS,t.virtual)),Os("id",t.id)("aria-hidden",!t.show),Qo(2),Ds("ngIf",!t.dataService.grouped&&t.show),Qo(1),Ds("ngIf",t.dataService.grouped),Qo(1),Ds("ngIf",t.virtual))},directives:function(){return[qc,jc,eh,N_,Uc,m_,M_]},encapsulation:2}),e})();const v_={pageSize:50,itemHeight:28},C_=e=>!0===e?v_:e?Object.assign({pageSize:v_.pageSize},e):null,w_={multi:!0,provide:bm,useExisting:Pe(()=>b_)};let b_=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u){this.localization=e,this.dataService=t,this.popupService=n,this.selectionService=i,this.navigationService=o,this.disabledItemsService=r,this._zone=s,this.cdr=a,this.renderer=l,this.highlightFirst=!0,this.focusableId="k-"+UE(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new Jl,this.filterChange=new Jl,this.open=new Jl,this.close=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.widgetClasses=!0,this.listBoxId=UE(),this.optionPrefix=UE(),this.onChangeCallback=e_,this.onTouchedCallback=e_,this.popupMouseDownHandler=e=>e.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new E,this._isFocused=!1,this.direction=e.rtl?"rtl":"ltr",this.wrapper=u.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}get width(){let e=0;Mv()&&(e=this.wrapper.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return zE(e)?e+"px":"auto"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}toggle(e){Promise.resolve(null).then(()=>{const t=zE(e)?e:!this._open;this._toggle(t)})}get isOpen(){return this._open}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!zE(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+QE(e,this.valueField)}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=QE(this.dataService.itemAt(0),this.valueField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=C_(e)}get virtual(){return this._virtualSettings}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=e}get isDisabled(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}reset(){this.value=""}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:n}=this.width;e.style.minWidth=t,e.style.width=n}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if(Gn()&&zE(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,t=0){let n;n=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(n)?n+1<this.dataService.itemsCount?this.search(e,n+1):this.selectionService.focus(-1):(this.selectionService.focus(n),this.suggest&&(this.suggestedText=QE(this.dataService.itemAt(n),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){const t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(t))return;const n=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});n!==l_.Undefined&&n!==l_.Backspace&&n!==l_.Delete&&n!==l_.Home&&n!==l_.End&&n!==l_.Left&&n!==l_.Right&&(n===l_.Enter&&this.isOpen||n!==l_.Enter)&&e.preventDefault()}handleEnter(e){const t=this.selectionService.focused;let n;if(this.isOpen&&e.originalEvent.preventDefault(),t>=0)n=QE(this.dataService.itemAt(t),this.valueField);else{const e=this.suggest&&this.suggestedText&&this.data.length&&QE(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();n=this.isOpen&&e?this.suggestedText:this.searchbar.value}this.change(n)}handleEscape(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){const t=zE(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleFocus(){this.isFocused=!0,Gv(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})}handleBlur(){const e=this.filterable?this.selectionService.focused:-1;let t,n;this.searchbar.input.nativeElement.scrollLeft=0,-1!==e?(t=this.dataService.itemAt(e),n=QE(t,this.valueField,!0)||""):n=this.searchbar.value;const i=n===this.searchbar.value,o=n.toLowerCase()===this.searchbar.value.toLowerCase();!i&&o&&this.selectionService.resetSelection([]),this.isFocused=!1;const r=this.value!==this.text;Gv(this.onBlur)||Gv(this.close)||JE(this.wrapper)||r?this._zone.run(()=>{r&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}pageChange(e){this.virtual.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}subscribeEvents(){Mv()&&(this.valueChangeSubscription=this.valueChangeSubject.subscribe(e=>{const t=this.value!==e;this.value=e,this.text=e,t&&this.emitChange(e)}),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=U(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index)),this.closeSubscription=this.navigationService.close.subscribe(()=>this.togglePopup(!1)),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}unsubscribeEvents(){Mv()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}handleItemChange(e){const t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!zE(t))return;let n=QE(this.dataService.itemAt(t),this.valueField);this.change(n)}handleItemFocus(e){const t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=QE(this.dataService.itemAt(t),this.valueField))}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"}});const t=this.popupRef.popupElement,{min:n,max:i}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=n,t.style.width=i,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new f_;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let n=QE(t.value,this.valueField);return n=zE(n)?n.toString().toLowerCase():"",n.startsWith(e.toLowerCase())}:t=>{let n=QE(t,this.valueField);return n=zE(n)?n.toString().toLowerCase():"",n.startsWith(e.toLowerCase())}}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(u_),Rs(_b),Rs(a_),Rs(p_),Rs(c_),Rs(zu),Rs(cl),Rs(ja),Rs(Wa))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,n_,!0),gu(n,i_,!0),gu(n,o_,!0),gu(n,d_,!0),gu(n,r_,!0),gu(n,s_,!0)),2&e){let e;hu(e=vu())&&(t.template=e.first),hu(e=vu())&&(t.headerTemplate=e.first),hu(e=vu())&&(t.footerTemplate=e.first),hu(e=vu())&&(t.noDataTemplate=e.first),hu(e=vu())&&(t.groupTemplate=e.first),hu(e=vu())&&(t.fixedGroupTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(du(xS,!0,El),du(TS,!0),du(t_,!0),du(RS,!0)),2&e){let e;hu(e=vu())&&(t.container=e.first),hu(e=vu())&&(t.popupTemplate=e.first),hu(e=vu())&&(t.searchbar=e.first),hu(e=vu())&&(t.optionsList=e.first)}},hostVars:9,hostBindings:function(e,t){2&e&&(Os("dir",t.dir),na("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[Fa([w_,u_,a_,p_,c_,Sw,{provide:bw,useValue:"kendo.autocomplete"},{provide:g_,useExisting:Pe(()=>e)},{provide:eC,useExisting:Pe(()=>e)}]),gi],decls:10,vars:15,consts:function(){let e,t;return e=$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items␟4e9993e088a293543eb0c2801343518c115b6f20␟2690656529626907484:NO DATA FOUND`,t=$localize`:kendo.autocomplete.clearTitle|The title of the clear button␟7cf49cc2d50eebd29f8d61564512383caaaac7a6␟4821453594854847070:clear`,[["kendoAutoCompleteLocalizedMessages","","noDataText",e,"clearTitle",t],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"kendo-searchbar",1,2),Ws("onNavigate",function(e){return t.handleNavigate(e)})("valueChange",function(e){return t.searchBarChange(e)})("onBlur",function(){return t.handleBlur()})("onFocus",function(){return t.handleFocus()}),Is(),xs(3,PS,1,1,"span",3),xs(4,DS,1,0,"span",4),xs(5,GS,5,14,"ng-template",null,5,Su),xs(7,HS,1,0,"ng-template",6),Ls(8,null,7)),2&e&&(Qo(1),Ds("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),Qo(2),Ds("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),Qo(1),Ds("ngIf",t.loading),Qo(3),Ds("ngIf",t.isOpen))},directives:function(){return[G_,t_,qc,y_,N_,Zv]},encapsulation:2}),e})();const S_=new we("dropdowns-touch-enabled"),E_={multi:!0,provide:bm,useExisting:Pe(()=>__)};let __=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c){this.localization=e,this.popupService=t,this.selectionService=n,this.navigationService=i,this.disabledItemsService=o,this.dataService=r,this._zone=s,this.cdr=a,this.renderer=l,this.hostElement=u,this.touchEnabled=c,this.selected=[],this.focusableId="k-"+UE(),this.allowCustom=!1,this.valueNormalizer=e=>e.pipe(x(e=>e)),this.placeholder="",this.listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new Jl,this.selectionChange=new Jl,this.filterChange=new Jl,this.open=new Jl,this.close=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.widgetClasses=!0,this._isFocused=!1,this.listBoxId=UE(),this.optionPrefix=UE(),this.onChangeCallback=e=>{},this.onTouchedCallback=e=>{},this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=e=>e.preventDefault(),this.customValueSubject=new E,this.valueSubject=new E,this.clearValueSubject=new E,this.subs=new h,this.direction=e.rtl?"rtl":"ltr",this.data=[]}get width(){let e=0;Mv()&&(e=this.wrapper.nativeElement.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return zE(e)?e+"px":"auto"}set text(e){this._text=zE(e)?e.toString():""}get text(){return this._text}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!zE(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(e?QE(e,this.valueField):"")}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){const e=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=e}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=QE(this.dataService.itemAt(0),this.textField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}set value(e){this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return zE(this._valuePrimitive)?this._valuePrimitive:!zE(this.valueField)}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=C_(e)}get virtual(){return this._virtualSettings}get clearable(){return this.clearButton}get dir(){return this.direction}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.setMessages()}createValueStream(){const e=this.valueSubject.pipe(tp(e=>{const t=this.prop(this.valueField,this.valuePrimitive),n=this.prop(this.textField,this.valuePrimitive),i=t(this.value),o=t(e);let r=n(e);return!(!zE(this.value)&&!zE(o)||(zE(r)&&(r=r.toString()),i===o&&this.text===r&&(this.clearFilter(),1)))}),x(e=>{const t=this.prop(this.valueField,this.valuePrimitive),n=this.prop(this.textField,this.valuePrimitive),i=t(e);return{dataItem:e,text:n(e),value:this.valuePrimitive?i:e}})),t=(n=()=>this.allowCustom,e=>[tp(n,i)(e),tp(Kb(n,i))(e)])(this.customValueSubject.pipe(uv(300)));var n,i;const o=t[0].pipe(Ap(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),tp(()=>{const e=this.prop(this.valueField,this.valuePrimitive),t=this.text!==e(this.value);return this.loading=t,this.disabled=t,t||this.clearFilter(),t}),this.valueNormalizer,x(e=>({custom:!0,dataItem:e,text:this.text,value:e}))),r=t[1].pipe(x(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),s=this.clearValueSubject.pipe(x(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();const a=U(e,o,r,s);this.valueSubscription=a.pipe(Op(()=>{const e=void 0!==this.prop(this.valueField,this.valuePrimitive)(this.dataItem);return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,e&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),Wh(null)})).subscribe(e=>{const t=this.prop(this.valueField,this.valuePrimitive),n=t(this.dataItem)!==t(e.dataItem);this.dataItem=e.dataItem,this.value=e.value,this.text=e.text,this.loading=!1,this.disabled=!1,this.clearFilter(),e.custom&&(this.selectionService.focused=-1),n&&this.selectionChange.emit(e.custom?void 0:this.dataItem),this.emitValueChange()})}attachStreams(){Mv()&&(this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()})),this.subs.add(U(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(tp(e=>zE(e.index))).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(Ap(e=>{this.isOpen&&e.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add(U(this.selectionService.onChange,this.selectionService.onSelect.pipe(tp(e=>!this.isOpen))).pipe(Ap(e=>{this._filtering=!1,this.togglePopup(!1)}),x(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{this.change(e)})),this.subs.add(this.selectionService.onSelect.pipe(tp(e=>this.isOpen),Ap(e=>this._filtering=!1),x(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{const t=this.prop(this.valueField,this.valuePrimitive),n=t(e)!==t(this.dataItem);this.updateState({dataItem:e}),n&&this.selectionChange.emit(e)})))}ngOnDestroy(){this.destroyPopup(),clearTimeout(this.messagesTimeout),this.subs.unsubscribe(),zE(this.valueSubscription)&&this.valueSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Lv("valueNormalizer",e)&&this.createValueStream(),Vv(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(e){Promise.resolve(null).then(()=>{const t=zE(e)?e:!this._open;this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return this._open}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){const e=!zE(this.text)||YE(this.text),t=!zE(this.value)||YE(this.value);return e&&t}clearValue(e){e.stopImmediatePropagation(),this.focus(),this._filtering=!0,this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}onResize(){if(this.isOpen){const e=this.popupRef.popupElement,{min:t,max:n}=this.width;e.style.minWidth=t,e.style.width=n}}verifySettings(){if(Gn()){if(!0===this.valuePrimitive&&zE(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection");if(!1===this.valuePrimitive&&zE(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection");if(!zE(this.valueField)!=!zE(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data");if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error("Expected virtual.itemHeight of type number.")}}setState(){if(this._filtering)return;const e=this.value,t=this.findDataItem({primitive:this.valuePrimitive,valueField:this.valueField,value:e});zE(t.index)&&-1!==t.index?(this.updateState({dataItem:t.dataItem,confirm:!0}),this.resetSelection(t.index)):zE(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!zE(e)||e<0;this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=e}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let n=this.prop(this.textField,this.valuePrimitive)(t.value);return n=zE(n)?n.toString().toLowerCase():"",n.startsWith(e.toLowerCase())}:t=>{let n=this.prop(this.textField,this.valuePrimitive)(t);return n=zE(n)?n.toString().toLowerCase():"",n.startsWith(e.toLowerCase())}}prop(e,t){return n=>zE(n)?t?e&&qE(n)?n[e]:n:n[e]:null}findDataItem({primitive:e,valueField:t,value:n}){const i={dataItem:null,index:-1},o=this.prop(t,e);let r;r=this.dataService.grouped?e=>o(e.value)===o(n):e=>o(e)===o(n);const s=this.dataService.findIndex(r);return i.dataItem=this.dataService.itemAt(s),i.index=s,i}search(e,t=0){let n;n=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(n)?n+1<this.dataService.itemsCount?this.search(e,n+1):this.selectionService.focus(-1):(this.selectionService.focus(n),this.suggest&&(this.suggestedText=QE(this.dataService.itemAt(n),this.textField)))}getSuggestion(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(e){0!==this.dataService.itemsCount&&(this.text=this.prop(this.textField,this.valuePrimitive)(this.dataService.itemAt(e)),this.selectionService.select(e))}handleNavigate(e){const t=zE(this.selectionService.selected[0]),n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;let i=0;if(this.disabled||this.readonly)return;if(e.keyCode===tC.Home||e.keyCode===tC.End)return;t||(e.keyCode===tC.ArrowDown?i=-1:e.keyCode===tC.ArrowUp&&(i=1));const o=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:0,originalEvent:e});o!==l_.Undefined&&o!==l_.Left&&o!==l_.Right&&o!==l_.Backspace&&o!==l_.Delete&&(o===l_.Enter&&this.isOpen||o!==l_.Enter)&&e.preventDefault()}handleEnter(){const e=this.text,t=this.selectionService.focused,n=zE(t)&&-1!==t,i=QE(this._previousDataItem,this.textField,this.valuePrimitive)||"",o=QE(this.dataService.itemAt(t),this.textField),r=e!==i;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&r&&(e===o||this.useSuggestion()?this.selectionService.change(t):this.change(e,!0)),this.allowCustom||(n?this.selectionService.change(t):r&&this.change(e,!0))}handleBlur(){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;const e=this.prop(this.valueField,this.valuePrimitive),t=e(this.dataItem)!==e(this.value),n=this.searchbar.value,i=this.prop(this.textField,this.valuePrimitive),o=n!==(i(this.dataItem)||""),r=t||o;r||Gv(this.onBlur)||Gv(this.close)||JE(this.hostElement.nativeElement)?this._zone.run(()=>{r&&(zE(this.focusedItemText)&&this.focusedItemText.toLowerCase()===n.toLowerCase()||t?this.selectionService.change(this.selectionService.focused):this.change(n,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}handleEscape(){this.togglePopup(!1),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(e){this.backspacePressed=e.length<(this.text?this.text.length:0),this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}handleFocus(){this.isFocused=!0,Gv(this.onFocus)&&this._zone.run(()=>this.onFocus.emit())}pageChange(e){this.virtual.skip=e.skip}change(e,t=!1){t?this.customValueSubject.next(e):this.valueSubject.next(e)}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){this.touchEnabled||this.searchbar.focus(),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get focusedItemText(){const e=this.selectionService.focused;if(!zE(e)||-1===e)return null;const t=QE(this.dataService.itemAt(e),this.textField);return zE(t)?t.toString():""}restoreItemFocus(){!(zE(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!this.suggest||!zE(this.searchbar.value))return!1;const e=this.dataService.itemAt(this.selectionService.focused),t=this.prop(this.textField,this.valuePrimitive)(e);return!!zE(t)&&this.searchbar.value.toLowerCase()===t.toLowerCase()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:{horizontal:e,vertical:"bottom"},popupAlign:{horizontal:e,vertical:"top"}});const t=this.popupRef.popupElement,{min:n,max:i}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=n,t.style.width=i,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new f_;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(_b),Rs(a_),Rs(p_),Rs(c_),Rs(u_),Rs(zu),Rs(cl),Rs(ja),Rs(Wa),Rs(S_,8))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-combobox"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,n_,!0),gu(n,i_,!0),gu(n,o_,!0),gu(n,d_,!0),gu(n,r_,!0),gu(n,s_,!0)),2&e){let e;hu(e=vu())&&(t.template=e.first),hu(e=vu())&&(t.headerTemplate=e.first),hu(e=vu())&&(t.footerTemplate=e.first),hu(e=vu())&&(t.noDataTemplate=e.first),hu(e=vu())&&(t.groupTemplate=e.first),hu(e=vu())&&(t.fixedGroupTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(du(xS,!0,El),du(TS,!0),du(t_,!0),du(RS,!0),pu(WS,!0)),2&e){let e;hu(e=vu())&&(t.container=e.first),hu(e=vu())&&(t.popupTemplate=e.first),hu(e=vu())&&(t.searchbar=e.first),hu(e=vu())&&(t.optionsList=e.first),hu(e=vu())&&(t.wrapper=e.first)}},hostVars:9,hostBindings:function(e,t){2&e&&(Os("dir",t.dir),na("k-widget",t.widgetClasses)("k-combobox",t.widgetClasses)("k-header",t.widgetClasses)("k-combobox-clearable",t.clearable))},inputs:{focusableId:"focusableId",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",placeholder:"placeholder",listHeight:"listHeight",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",valuePrimitive:"valuePrimitive",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",loading:"loading",textField:"textField",valueField:"valueField",iconClass:"iconClass"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoComboBox"],features:[Fa([E_,u_,a_,p_,c_,Sw,{provide:bw,useValue:"kendo.combobox"},{provide:g_,useExisting:Pe(()=>e)},{provide:eC,useExisting:Pe(()=>e)}]),gi],decls:13,vars:19,consts:function(){let e,t;return e=$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items␟2b6e00c74a6d9c98c03a6274d0224e9bd457ff89␟7708502966028483300:NO DATA FOUND`,t=$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`,[["kendoComboBoxLocalizedMessages","","noDataText",e,"clearTitle",t],["unselectable","on",1,"k-dropdown-wrap",3,"ngClass"],["wrapper",""],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["unselectable","on",1,"k-select",3,"click","mousedown"],[1,"k-icon",3,"ngClass"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"span",1,2),ks(3,"kendo-searchbar",3,4),Ws("onNavigate",function(e){return t.handleNavigate(e)})("valueChange",function(e){return t.searchBarChange(e)})("onBlur",function(){return t.handleBlur()})("onFocus",function(){return t.handleFocus()}),Is(),xs(5,BS,1,1,"span",5),ks(6,"span",6),Ws("click",function(){return t.selectClick()})("mousedown",function(e){return e.preventDefault()}),Fs(7,"span",7),Is(),xs(8,XS,5,14,"ng-template",null,8,Su),Is(),xs(10,QS,1,0,"ng-template",9),Ls(11,null,10)),2&e&&(Qo(1),Ds("ngClass",Hl(16,ZS,!t.disabled,t.disabled)),Qo(2),Ds("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.getSuggestion())("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),Qo(2),Ds("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),Qo(2),Ds("ngClass",t.buttonClasses),Qo(3),Ds("ngIf",t.isOpen))},directives:function(){return[G_,jc,t_,qc,y_,N_,Zv]},encapsulation:2}),e})(),O_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListValueTemplate",""]]}),e})();const x_={multi:!0,provide:bm,useExisting:Pe(()=>T_)};let T_=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c){this.localization=e,this.popupService=t,this.selectionService=n,this.navigationService=i,this.disabledItemsService=o,this.dataService=r,this._zone=s,this.renderer=a,this.hostElement=l,this.cdr=u,this.touchEnabled=c,this.focusableId="k-"+UE(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new Jl,this.filterChange=new Jl,this.selectionChange=new Jl,this.open=new Jl,this.close=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=UE(),this.optionPrefix=UE(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=e=>{},this.onChangeCallback=e=>{},this.word="",this.last="",this.filterFocused=new Jl,this.filterBlurred=new Jl,this.wrapperFocused=new Jl,this.wrapperBlurred=new Jl,this.selectionSubscription=new h,this._open=!1,this._popupSettings={animate:!0},this.direction=e.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get width(){const e=Mv()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return zE(e)?e+"px":"auto"}get widgetTabIndex(){if(this.disabled)return;const e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaExpanded(){return this.isOpen}get ariaOwns(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(zE(this.dataItem))return this.optionPrefix+"-"+QE(this.dataItem,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const e=this.virtual;if(e){const t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}set value(e){zE(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=C_(e)}get virtual(){return this._virtualSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return zE(this._valuePrimitive)?this._valuePrimitive:!zE(this.valueField)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}blurComponent(){this.wrapperBlurred.emit()}blurFilterInput(){this.filterBlurred.emit()}focusComponent(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,Gv(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}keydown(e){const t=zE(this.defaultItem)?-1:0;let n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,i=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===tC.Home||e.keyCode===tC.End))return;const o=zE(this.selectionService.selected[0]),r=zE(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);o&&!r||(e.keyCode===tC.ArrowDown||e.keyCode===tC.ArrowRight?i=-1:e.keyCode!==tC.ArrowUp&&e.keyCode!==tC.ArrowLeft||(i=1));const s=e,a=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:s});a===l_.Undefined||a===l_.Tab||a===l_.Backspace||a===l_.Delete||(a===l_.Left||a===l_.Right)&&this.filterable||a===l_.Enter||s.preventDefault()}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(e){e.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:n}=this.width;e.style.minWidth=t,e.style.width=n}}get dir(){return this.direction}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.assignAriaDescribedBy()}isEmpty(){const e=this.value;return!(0===e||!1===e||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Lv("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),Vv(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}toggle(e){Promise.resolve(null).then(()=>{const t=zE(e)?e:!this._open;this._toggle(t)})}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new f_;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return this._open}reset(){this.value=void 0}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return QE(this.defaultItem,this.textField)}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const t=this.popupRef.popupElement,{min:n,max:i}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=n,t.style.width=i,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!zE(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()}subscribeEvents(){Mv()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(tp(e=>this.isOpen),x(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(U(this.selectionService.onSelect.pipe(tp(e=>!this.isOpen)),this.selectionService.onChange).pipe(x(this.itemFromEvent.bind(this)),Ap(e=>this.togglePopup(!1))).subscribe(({dataItem:e,value:t,newSelection:n})=>{n&&this.onSelectionChange({dataItem:e});const i=!zE(e)&&this._previousDataItem,o=t!==this.prop(this.valueField,this.valuePrimitive)(this.value);i?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):o&&(this.value=this.valuePrimitive?t:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.navigationSubscription=U(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(qb(()=>this.filterable)),this.navigationService.right.pipe(qb(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(tp(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index)),this.openSubscription=this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.closeSubscription=this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.enterSubscription=this.navigationService.enter.pipe(Ap(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Rp(()=>ev(10).pipe(vp(1),dv(this.wrapperFocused)))).subscribe(()=>{this.wrapperBlurred.emit()}),this._zone.runOutsideAngular(()=>{this.componentBlurredSubscription=U(this.wrapperBlurred.pipe(Rp(()=>ev(10).pipe(vp(1),dv(this.filterFocused)))),this.navigationService.tab).pipe(Ap(e=>e instanceof h_&&this.focus()),tp(()=>this.isFocused)).subscribe(()=>this.componentBlur())}))}unsubscribeEvents(){Mv()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}itemFromEvent(e){const t=e.indices[0];let n=this.dataService.itemAt(t);n=zE(n)?n:this.currentOrDefault(t);const i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:t,newSelection:e.newSelection,value:i}}currentOrDefault(e){return zE(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}firstFocusableIndex(e){const t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){zE(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if(Gn()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&zE(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&zE(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!zE(this.valueField)!=!zE(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}componentBlur(){this.isFocused=!1;const e=this.prop(this.valueField,this.valuePrimitive),t=zE(this.selectionService.selected[0])&&e(this.value)!==e(this.dataService.itemAt(this.selectionService.selected[0]));t||Gv(this.close)||Gv(this.onBlur)||Gv(this.filterChange)||JE(this.hostElement.nativeElement)?this._zone.run(()=>{t&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}onMouseDown(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}onKeyPress(e){if(0===e.which||e.keyCode===tC.Enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(e=>zE(e)&&!e.header&&!this.disabledItemsService.isItemDisabled(e)).map(e=>this.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:this.dataService.indexOf(e)});const t=((e,t)=>{for(let n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0})(this.word,this.last);let n,i,o,r=e.length,s=!isNaN(this.selectionService.selected[0]),a=s?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(o={item:this.defaultItem,itemIndex:-1},r+=1,a+=1),a+=t&&s?1:0,e=((e,t,n)=>{let i=e;return n&&(i=[n].concat(i)),i.slice(t).concat(i.slice(0,t))})(e,a,o),i=0;i<r;i++){n=QE(e[i].item,this.textField);const o=Boolean(t&&ZE(n,this.last,this.ignoreCase)),r=Boolean(ZE(n,this.word,this.ignoreCase));if(o||r){i=e[i].itemIndex;break}}i!==r&&this.navigate(i)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}prop(e,t){return n=>zE(n)?t?e&&qE(n)?n[e]:n:n[e]:null}findDataItem({primitive:e,valueField:t,value:n}){const i={dataItem:null,index:-1},o=this.prop(t,e);let r;r=this.dataService.grouped?e=>o(e.value)===o(n):e=>o(e)===o(n);const s=this.dataService.findIndex(r);return i.dataItem=this.dataService.itemAt(s),i.index=s,i}setState(){const e=this.value,t=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){const n=this.prop(t,i)(this.defaultItem),o=this.prop(t,i)(e);if(!zE(e)||o===n)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const o=this.findDataItem({primitive:i,valueField:t,value:e}),r=!(i&&n);o.dataItem?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):zE(e)&&r?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}pageChange(e){this.virtual.skip=e.skip}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}assignAriaDescribedBy(){const e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=UE();const t=`${this.valueLabelId} ${e}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(_b),Rs(a_),Rs(p_),Rs(c_),Rs(u_),Rs(zu),Rs(ja),Rs(Wa),Rs(cl),Rs(S_,8))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,n_,!0),gu(n,r_,!0),gu(n,s_,!0),gu(n,O_,!0),gu(n,i_,!0),gu(n,o_,!0),gu(n,d_,!0)),2&e){let e;hu(e=vu())&&(t.itemTemplate=e.first),hu(e=vu())&&(t.groupTemplate=e.first),hu(e=vu())&&(t.fixedGroupTemplate=e.first),hu(e=vu())&&(t.valueTemplate=e.first),hu(e=vu())&&(t.headerTemplate=e.first),hu(e=vu())&&(t.footerTemplate=e.first),hu(e=vu())&&(t.noDataTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(du(xS,!0,El),du(TS,!0),pu(WS,!0),du(RS,!0)),2&e){let e;hu(e=vu())&&(t.container=e.first),hu(e=vu())&&(t.popupTemplate=e.first),hu(e=vu())&&(t.wrapper=e.first),hu(e=vu())&&(t.optionsList=e.first)}},hostVars:7,hostBindings:function(e,t){2&e&&(Os("dir",t.dir),na("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",valuePrimitive:"valuePrimitive",tabIndex:"tabIndex",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[Fa([x_,u_,a_,p_,c_,Sw,{provide:bw,useValue:"kendo.dropdownlist"},{provide:g_,useExisting:Pe(()=>e)},{provide:eC,useExisting:Pe(()=>e)}]),gi],decls:13,vars:24,consts:function(){let e;return e=$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items␟4fc2f70c9c8cf7b18affd6b938105996d6ac3306␟8289552890585138350:NO DATA FOUND`,[["kendoDropDownListLocalizedMessages","","noDataText",e],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","kendoEventsOutsideAngular","scope","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"span",1,2),Ws("keydown",function(e){return t.keydown(e)})("keypress",function(e){return t.keypress(e)})("click",function(e){return t.click(e)}),ks(3,"span",3),xs(4,eE,1,4,void 0,4),xs(5,tE,1,1,"ng-template",5),Is(),ks(6,"span",6),Fs(7,"span",7),Is(),xs(8,fE,8,17,"ng-template",null,8,Su),Is(),xs(10,gE,1,0,"ng-template",5),Ls(11,null,9)),2&e&&(Qo(1),Ds("id",t.focusableId)("ngClass",Hl(18,mE,!t.disabled,t.disabled))("kendoEventsOutsideAngular",Hl(21,Qb,t.focusComponent,t.blurComponent))("scope",t),Os("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),Qo(2),Ds("id",t.valueLabelId),Qo(1),Ds("ngIf",t.valueTemplate),Qo(1),Ds("ngIf",!t.valueTemplate),Qo(2),Ds("ngClass",t.buttonClasses),Qo(3),Ds("ngIf",t.isOpen))},directives:function(){return[G_,jc,jv,qc,N_,y_,xm,j_,Km,Ay,M_,Zv]},encapsulation:2}),e})(),R_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]}),e})(),P_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoMultiSelectTagTemplate",""]]}),e})(),D_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoMultiSelectGroupTagTemplate",""]]}),e})();class A_ extends f_{constructor(e){super(),this.dataItem=e}}const k_={multi:!0,provide:bm,useExisting:Pe(()=>I_)};let I_=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c,p){this.localization=e,this.popupService=t,this.dataService=n,this.selectionService=i,this.navigationService=o,this.disabledItemsService=r,this.cdr=s,this.differs=a,this.renderer=l,this.hostElement=u,this._zone=c,this.touchEnabled=p,this.listBoxId=UE(),this.tagListId=UE(),this.tagPrefix="tag-"+UE(),this.optionPrefix="option-"+UE(),this.focusedTagIndex=void 0,this.focusableId="k-"+UE(),this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=e=>e||[],this.allowCustom=!1,this.valueNormalizer=e=>e.pipe(x(e=>{const t=t=>"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),n=this.value.find(t);return n||(this.dataService.find(t)||e)})),this.filterChange=new Jl,this.valueChange=new Jl,this.open=new Jl,this.close=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.removeTag=new Jl,this.widgetClasses=!0,this.initialized=!1,this.onChangeCallback=e=>{},this.onTouchedCallback=e=>{},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this._isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new E,this.observableSubscriptions=new h,this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents()}focus(){this.disabled||this.searchbar.focus()}onSearchBarFocus(){this.isFocused||(this.isFocused=!0,Gv(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}blur(){this.disabled||this.searchbar.blur()}onSearchBarBlur(){this.isFocused&&(this.isFocused=!1,Gv(this.onBlur)||Gv(this.filterChange)||Gv(this.close)||JE(this.hostElement.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup()))}wrapperMousedown(e){if(0===e.button){if(this.isFocused&&this.isOpen&&e.target===this.searchbar.input.nativeElement)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==e.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),e.preventDefault()}}onMouseDown(e){e.preventDefault()}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:n}=this.width;e.style.minWidth=t,e.style.width=n}}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){const e=this.virtual;if(e){const t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}set value(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set placeholder(e){this._placeholder=e||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=C_(e)}get virtual(){return this._virtualSettings}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return zE(this._valuePrimitive)?this._valuePrimitive:!zE(this.valueField)}get dir(){return this.direction}get disabledClass(){return this.disabled}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get width(){let e=0;Mv()&&(e=this.wrapper.nativeElement.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return zE(e)?e+"px":"auto"}get activeDescendant(){const e=this.focusedTagIndex,t=this.selectionService.focused;let n,i;if(zE(e)&&!this.isOpen)i=this.tags[e],n=this.tagPrefix;else{if(!zE(t)||-1===t||!this.isOpen)return null;i=this.dataService.itemAt(t),n=this.optionPrefix}return n+"-"+this.prop(this.valueField,this.valuePrimitive)(i)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}verifySettings(){if(Gn()&&0!==this.value.length){if(!KE(this.value))throw new Error("Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!0===this.valuePrimitive&&$E(this.value))throw new Error("Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!1===this.valuePrimitive&&!$E(this.value))throw new Error("Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!zE(this.valueField)!=!zE(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data")}}change(e){if(!zE(e.added)&&!zE(e.removed)||-1!==e.added&&-1!==e.removed){if(zE(e.added)){const t=this.dataService.itemAt(e.added),n=this.valuePrimitive&&zE(t)&&zE(t[this.valueField])?t[this.valueField]:t;this.value=[...this.value,n]}if(zE(e.removed)){const t=this.dataService.itemAt(e.removed),n=this.prop(this.valueField,this.valuePrimitive);this.value=this.value.filter(e=>n(e)!==n(t)),this.selectionService.focused=e.removed,this.cdr.detectChanges()}this.emitValueChange()}else this.addCustomValue(this.text)}setState(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(e=>!e.header).map(e=>e.value));const n=XE(this.value,t,this.valueField);if(this.selectionService.resetSelection(n),this.isOpen&&void 0===this.selectionService.focused&&(this.dataService.itemsCount>0?this.selectionService.focused=this.firstFocusableIndex(0):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),($E(e)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=((e,t,n)=>{const i=((e,t)=>KE(e)&&e.filter(e=>qE(e)&&e[t]))(e,n)||[];return(((e,t=[],n)=>e.map(e=>t.find(t=>t[n]===e)).filter(e=>void 0!==e))(e,t,n)||[]).concat(i)})(e,t,this.valueField)),this.selectedDataItems.length<e.length){const t=this.prop(this.valueField,this.valuePrimitive);this.selectedDataItems=e.map(e=>{const n=this.selectedDataItems.find(n=>t(n)===t(e));return zE(n)?n:this.resolveDataItemFromTags(e)}).filter(e=>zE(e))}this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleFilter(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}pageChange(e){this.virtual.skip=e.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(e){const t=this.text&&e.keyCode!==tC.ArrowDown&&e.keyCode!==tC.ArrowUp,n=this.text&&e.keyCode===tC.Enter||e.keyCode===tC.Escape;if(!this.text&&e.keyCode===tC.Backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||t&&!n)return;const i=e,o=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,r=this.navigationService.process({current:o,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:i});r!==l_.Undefined&&(r===l_.Enter&&this.isOpen||r!==l_.Enter)&&e.preventDefault()}handleRemoveTag(e){const t=new A_(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(t),t.isDefaultPrevented()||(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}clearAll(e){e.stopImmediatePropagation(),e.preventDefault(),this.focus(),this.clearFilter(),this.reset(),this.emitValueChange()}addCustomValue(e){this.customValueSubject.next(e)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.setState(this.value),this.initialized=!0}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Lv("valueNormalizer",e)&&this.createCustomValueStream(),Vv(["textField","valueField","valuePrimitive"],e)&&this.setState(this.value)}ngAfterViewInit(){this.searchbar.setInputSize()}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}toggle(e){Promise.resolve(null).then(()=>{const t=zE(e)?e:!this._open;this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return this._open}reset(){this.text="",this.value=[]}writeValue(e){this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}prop(e,t){return n=>zE(n)?t?e&&qE(n)?n[e]:n:n[e]:null}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.hostElement.nativeElement,"k-state-focused"),this._isFocused=e}get isFocused(){return this._isFocused}subscribeEvents(){if(!Mv())return;const e=()=>this.isOpen,t=()=>!this.isOpen,n=()=>!this.isOpen&&void 0!==this.focusedTagIndex;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(tp(e)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(tp(e)).subscribe(e=>this.handleUp(e.index)),this.navigationService.home.pipe(tp(()=>t)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(tp(()=>t)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(tp(n)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(tp(n)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(e=>this.handleDownKey(e.index))].forEach(e=>this.observableSubscriptions.add(e))}unsubscribeEvents(){Mv()&&(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe())}removeGroupTag(e){const t=this.prop(this.valueField,this.valuePrimitive);let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(e=>!e.header).map(e=>e.value));const i=new Set(e.map(e=>t(e)));this.value=this.value.filter(e=>!i.has(t(e))),this.emitValueChange()}removeSingleTag(e){const t=this.prop(this.valueField,this.valuePrimitive);let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(e=>!e.header).map(e=>e.value));const i=XE([e],n,this.valueField)[0];isNaN(i)?(this.value=this.value.filter(n=>t(n)!==t(e)),this.emitValueChange()):(this.selectionService.unselect(i),this.selectionService.focused=i,this.togglePopup(!1))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(Ap(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,Op(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),!this.autoClose&&this.filterable||this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),Wh(null)))).subscribe(e=>{if(this.loading=!1,this.disabled=!1,zE(e)){const t=this.valuePrimitive?QE(e,this.valueField):e,n=this.dataService.indexOf(t),i=-1===n;-1===this.value.indexOf(t)?(this.tags=this.tagMapper([...this.selectedDataItems,e]),i?this.value=[...this.value,t]:this.selectionService.add(n)):!i&&this.selectionService.isSelected(n)?(this.selectionService.unselect(n),this.selectionService.focused=n):this.value=this.value.filter(e=>QE(e,this.valueField)!==t),this.emitValueChange()}this.autoClose&&this.togglePopup(!1),!this.autoClose&&this.filterable||this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(e){this.change(e),this.autoClose&&this.togglePopup(!1),!this.autoClose&&this.filterable||this.clearFilter()}handleEnter(e){const t=this.selectionService,n=this.selectionService.focused;this.isOpen&&e.originalEvent.preventDefault(),-1!==n?(t.isSelected(n)?(t.unselect(n),t.focused=n):t.add(n),this.autoClose&&this.togglePopup(!1),!this.autoClose&&this.filterable||this.clearFilter()):this.allowCustom&&this.text&&this.addCustomValue(this.text)}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}handleUp(e){this.selectionService.focused=e}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag(this.tags[this.tags.length-1]),this.searchbar.focus())}handleDelete(){this.handleRemoveTag(this.tags[this.focusedTagIndex]),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--}handleDownKey(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){const e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}findIndex(e,t=0){let n;e=e.toLowerCase();let i=this.dataService.findIndex(t=>(n=this.dataService.grouped?this.prop(this.textField,this.valuePrimitive)(t.value):this.prop(this.textField,this.valuePrimitive)(t),n=zE(n)?n.toString().toLowerCase():"",e&&n.startsWith(e)),t);return this.disabledItemsService.isIndexDisabled(i)?i+1>this.dataService.itemsCount?-1:this.findIndex(e,i+1):i}searchTextAndFocus(e){const t=this.findIndex(e);this.selectionService.focused=t}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}triggerPopupEvents(e){const t=new f_;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const t=this.popupRef.popupElement,{min:n,max:i}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=n,t.style.width=i,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(e){if(!(this.tags&&this.tags.length&&zE(e)))return;const t=this.tags.reduce((e,t)=>{const n=KE(t)?t:[t];return e.push(...n),e},[]),n=this.prop(this.valueField,this.valuePrimitive);return t.find(t=>n(t)===n(e))}firstFocusableIndex(e){const t=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){const n=e+1;return n<t?this.firstFocusableIndex(n):void 0}return e}nextTick(e){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(e))})}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(_b),Rs(u_),Rs(a_),Rs(p_),Rs(c_),Rs(cl),Rs(rl),Rs(ja),Rs(Wa),Rs(zu),Rs(S_,8))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-multiselect"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,n_,!0),gu(n,R_,!0),gu(n,r_,!0),gu(n,s_,!0),gu(n,i_,!0),gu(n,o_,!0),gu(n,P_,!0),gu(n,D_,!0),gu(n,d_,!0)),2&e){let e;hu(e=vu())&&(t.template=e.first),hu(e=vu())&&(t.customItemTemplate=e.first),hu(e=vu())&&(t.groupTemplate=e.first),hu(e=vu())&&(t.fixedGroupTemplate=e.first),hu(e=vu())&&(t.headerTemplate=e.first),hu(e=vu())&&(t.footerTemplate=e.first),hu(e=vu())&&(t.tagTemplate=e.first),hu(e=vu())&&(t.groupTagTemplate=e.first),hu(e=vu())&&(t.noDataTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(du(xS,!0,El),du(t_,!0),du(TS,!0),du(WS,!0),du(RS,!0)),2&e){let e;hu(e=vu())&&(t.container=e.first),hu(e=vu())&&(t.searchbar=e.first),hu(e=vu())&&(t.popupTemplate=e.first),hu(e=vu())&&(t.wrapper=e.first),hu(e=vu())&&(t.optionsList=e.first)}},hostVars:9,hostBindings:function(e,t){2&e&&(Os("dir",t.dir),na("k-widget",t.widgetClasses)("k-multiselect",t.widgetClasses)("k-header",t.widgetClasses)("k-state-disabled",t.disabledClass))},inputs:{focusableId:"focusableId",autoClose:"autoClose",tabindex:"tabindex",disabled:"disabled",readonly:"readonly",filterable:"filterable",listHeight:"listHeight",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",data:"data",value:"value",tabIndex:"tabIndex",placeholder:"placeholder",itemDisabled:"itemDisabled",virtual:"virtual",popupSettings:"popupSettings",valuePrimitive:"valuePrimitive",loading:"loading",valueField:"valueField",textField:"textField"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[Fa([k_,u_,a_,p_,c_,Sw,{provide:bw,useValue:"kendo.multiselect"},{provide:g_,useExisting:Pe(()=>e)},{provide:eC,useExisting:Pe(()=>e)}]),gi],decls:13,vars:23,consts:function(){let e,t;return e=$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items␟3cc1323f79a5fe012960578e513f8a35b2af1e96␟1450213984397806503:NO DATA FOUND`,t=$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`,[["kendoMultiSelectLocalizedMessages","","noDataText",e,"clearTitle",t],[1,"k-multiselect-wrap","k-floatwrap",3,"mousedown"],["wrapper",""],[3,"id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","removeTag"],[3,"id","role","tagListId","activeDescendant","noDataLabel","userInput","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],["class","k-list",4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","height","template","groupTemplate","fixedGroupTemplate","show","multipleSelection","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-list"],["kendoDropDownsSelectable","",1,"k-item","k-custom-item",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],["default_custom_item_template",""],[1,"k-icon","k-i-plus",2,"float","right"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"div",1,2),Ws("mousedown",function(e){return t.wrapperMousedown(e)}),ks(3,"kendo-taglist",3),Ws("removeTag",function(e){return t.handleRemoveTag(e)}),Is(),ks(4,"kendo-searchbar",4,5),Ws("onNavigate",function(e){return t.handleNavigate(e)})("valueChange",function(e){return t.handleFilter(e)})("onBlur",function(){return t.onSearchBarBlur()})("onFocus",function(){return t.onSearchBarFocus()}),Is(),xs(6,yE,1,1,"span",6),xs(7,vE,1,0,"span",7),Is(),xs(8,DE,6,16,"ng-template",null,8,Su),xs(10,AE,1,0,"ng-template",9),Ls(11,null,10)),2&e&&(Qo(3),Ds("id",t.tagListId)("tags",t.tags)("textField",t.textField)("valueField",t.valueField)("focused",t.focusedTagIndex)("disabled",t.disabled)("template",t.tagTemplate)("groupTemplate",t.groupTagTemplate)("tagPrefix",t.tagPrefix),Qo(1),Ds("id",t.focusableId)("role","listbox")("tagListId",t.tagListId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),Qo(2),Ds("ngIf",!t.loading&&!t.readonly&&t.clearButton&&((null==t.tags?null:t.tags.length)||(null==t.text?null:t.text.length))),Qo(1),Ds("ngIf",t.loading),Qo(3),Ds("ngIf",t.isOpen))},directives:function(){return[G_,F_,t_,qc,y_,N_,M_,Zv]},encapsulation:2}),e})(),F_=(()=>{class e{constructor(){this.removeTag=new Jl}tagProp(e,t){return t&&qE(e)?e[t]:e}deleteTag(e,t){e.preventDefault(),e.stopImmediatePropagation(),this.disabled||1!==e.which||this.removeTag.emit(t)}itemId(e){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField)}isGroupTag(e){return e instanceof Array}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["kendo-taglist"]],inputs:{tags:"tags",textField:"textField",valueField:"valueField",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id"},outputs:{removeTag:"removeTag"},decls:2,vars:2,consts:[[1,"k-reset"],["role","option","aria-selected","true","class","k-button",3,"ngClass",4,"ngFor","ngForOf"],["role","option","aria-selected","true",1,"k-button",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["groupTag",""],["singleTag",""],["aria-label","delete",1,"k-select"],[1,"k-icon","k-i-close",3,"mousedown"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(e,t){1&e&&(ks(0,"ul",0),xs(1,jE,8,9,"li",1),Is()),2&e&&(Os("id",t.id),Qo(1),Ds("ngForOf",t.tags))},directives:function(){return[Uc,m_,jc,qc,N_]},encapsulation:2}),e})(),N_=(()=>{class e{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}return e.\u0275fac=function(t){return new(t||e)(Rs(El))},e.\u0275dir=ot({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),M_=(()=>{class e{constructor(e){this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}}return e.\u0275fac=function(t){return new(t||e)(Rs(a_))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&Ws("click",function(e){return t.onClick(e)}),2&e&&(Os("index",t.index),ta("height",t.height,"px")("min-height",t.height,"px"),na("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),e})(),L_=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return V_(t||e)},e.\u0275dir=ot({type:e,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[us]}),e})();const V_=no(L_);let G_=(()=>{class e extends L_{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[Fa([{provide:L_,useExisting:Pe(()=>e)}]),us]}),e})(),H_=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)}}),e})(),W_=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,Vy,Ob,Jv,H_,zv],ah,Vy,Ob,Jv,H_,zv]}),e})(),B_=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[W_],H_]}),e})(),j_=(()=>{class e{constructor(e,t){this.element=e,this.zone=t}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[gi]}),e})(),z_=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[W_],H_]}),e})();const U_=()=>"undefined"!=typeof window,K_={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},q_={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Y_={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},$_={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},X_=(e,t,n)=>{for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},Q_=U_()&&window.navigator?window.navigator.userAgent:null,Z_=Q_?(e=>{let t=null,n=[];for(let i in Y_)if(Y_.hasOwnProperty(i)&&(n=e.match(Y_[i]),n)){t={},t[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t})(Q_):null,J_=Q_?(e=>{let t,n=[];for(let i in K_)if(K_.hasOwnProperty(i)){if(n=e.match(K_[i]),!n)continue;if("windows"===i&&"plugins"in window.navigator)return null;const o={};return o.device=i,o.browser=X_(e,$_,"default"),o.name=X_(i,q_),o[o.name]=!0,o.majorVersion=n[2],o.minorVersion=n[3].replace("_","."),t=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),o.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,o.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||o.cordova,o}return null})(Q_):null;U_()&&window,Z_&&!Z_.chrome&&window,Z_&&!Z_.chrome&&window;class eO{}let tO={};var nO={get browser(){return"undefined"==typeof window||tO||(tO=function(e){const t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};let n;for(let i in t)if(t.hasOwnProperty(i)){const o=e.match(t[i]);if(o){n={},n[i]=!0,n[o[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||o[2],10);break}}return n}(window.navigator.userAgent)),tO}};function iO(e){return"string"==typeof e}const oO=/\{(\d+)}?\}/g;class rO{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=sO(e),n=this.message.replace(oO,function(e,n){return t[parseInt(n,10)]});return`${this.name}: ${n}`}error(...e){return new Error(this.formatMessage(e))}}const sO=function(e){return e.reduce((e,t)=>e.concat(t),[])},aO=(lO={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(lO).reduce(function(e,t){return e[t]=new rO({name:t,message:lO[t]}),e},{}));var lO;const uO={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function cO(e){let t;return t=iO(e)?hO(e):e,t}function hO(e){if(uO[e])return uO[e];if(uO.supplemental.likelySubtags){const t=e.split("-"),n=t[0],i=t.slice(1),o=function(e,t){const n=uO.supplemental.likelySubtags;for(let i=0;i<t.length;i++){let o=n[e+"-"+t[i]];if(o)return o}if(n[e])return n[e]}(n,i),r=o?function(e,t){const n=e.split("-"),i=n[0],o=n[1],r=n[2];return uO[e]||-1!==t.indexOf(r)&&uO[i+"-"+r]||-1!==t.indexOf(o)&&uO[i+"-"+o]||uO[i]}(o,i):null;if(r)return r}throw aO.NoLocale.error(e)}const pO="decimal",dO="currency",fO="accounting",gO="percent",mO="scientific",yO="$",vO="n",CO=".",wO="",bO="Formats-numberSystem-latn",SO=/([#,0.]+)/g,EO=/\xa4/g;function _O(e){return SO.lastIndex=0,e.replace(EO,yO).replace(SO,vO).split(";")}function OO(e){return SO.lastIndex=0,SO.exec(e.split(";")[0])[0].split(CO)[0].split(",").slice(1).map(function(e){return e.length}).reverse()}function xO(e,t){for(let n in t)n.startsWith("unitPattern")&&(e[n]=t[n].replace("{0}",vO).replace("{1}",yO))}function TO(e,t){const n=uO[e],i=n.numbers=n.numbers||{};i.symbols=i.symbols||{};for(let o in t)if("symbols-numberSystem-latn"===o)Object.assign(i.symbols,t[o]);else if(o.includes(bO)){const e=o.substr(0,o.indexOf(bO)),n=t[o].standard;i[e]={patterns:_O(n)},e===dO?(i[e].groupSize=OO((t[pO+bO]||t[o]).standard),xO(i[e],t[o]),i.accounting={patterns:_O(t[o].accounting),groupSize:i[e].groupSize}):i[e].groupSize=OO(n)}else"currencies"===o&&(i.currencies=t[o])}const RO={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},PO=/y+/g,DO=[["dateFormats","short"]],AO={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function kO(e){let t=[],n=Object.getOwnPropertyNames(e);for(let i=0;i<n.length;i++)t.push(e[n[i]]);return t}function IO(e,t){const n={};for(let i in e){let o=n[i]={};for(let n in e[i]){let r=e[i][n];o[n]=t?r:kO(r)}}return n}function FO(e,t){const n=uO[e].calendar;n.days=IO(t.days),n.months=IO(t.months),n.quarters=IO(t.quarters),n.dayPeriods=IO(t.dayPeriods,!0),n.eras=function(e){const t={},n=t.format={},i={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let o in e)n[i[o]]=e[o];return t}(t.eras)}function NO(e,t){const n=uO[e].calendar,i={};for(let o in t){const[e,n="wide"]=o.split("-"),r=i[e]||{},s=t[o].displayName;s&&(r[n]=s,i[e]=r)}n.dateFields=i}function MO(e,t){const n=[];for(let i=0;i<e.length;i++){let o=e[i],r=t;for(let e=0;e<o.length;e++)r=r[o[e]];n.push(r)}return n.join(" ")}function LO(e,t){const n=uO[e].calendar,i=n.patterns={};i.d=MO(DO,t).replace(PO,"y");for(let r in AO)i[r]=MO(AO[r],t);for(let r in RO)i[r]=RO[r];const o=t.dateTimeFormats;n.dateTimeFormats={full:o.full,long:o.long,medium:o.medium,short:o.short,availableFormats:o.availableFormats},n.timeFormats=t.timeFormats,n.dateFormats=t.dateFormats}function VO(e,t){const n=uO[e].calendar=uO[e].calendar||{};for(let i in t)"timeZoneNames"===i?(n.gmtFormat=t[i].gmtFormat,n.gmtZeroFormat=t[i].gmtZeroFormat):"calendars"===i&&t[i].gregorian?(LO(e,t[i].gregorian),FO(e,t[i].gregorian)):"fields"===i&&NO(e,t.fields)}function GO(e){if(e.territory)return e.territory;const t=e.identity;let n;return n=t&&t.territory?t.territory:function(e,t){const n=uO.supplemental.likelySubtags;let i=e.split("-");if(n){const t=n[e]||n[i[0]];t&&(i=t.split("-"))}if(t)for(let r=i.length-1;r>=1;r--){const e=i[r];e!==t.variant&&e!==t.script||i.splice(r,1)}const o=i.length;if(o>1)return i[o-1].toUpperCase()}(e.name,t),e.territory=n,n}function HO(e,t){for(let n in t)"numbers"===n?TO(e,t[n]):"dates"===n&&VO(e,t[n])}function WO(e,t){const{type:n,nameType:i,standAlone:o,lower:r}=t,s=cO(e),a=(r?"lower-":wO)+i,l=s.calendar[n][o?"stand-alone":"format"];let u=l[a];var c;return!u&&r&&(u=l[a]=(c=l[i],Array.isArray(c)?function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(c):function(e){const t={};for(let n in e)t[n]=e[n].toLowerCase();return t}(c))),u}function BO(e){const t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,o=parseInt(t[2],10);return new Date(n,i,o)}const{NoCurrency:jO,NoCurrencyDisplay:zO,NoSupplementalCurrency:UO,NoCurrencyRegion:KO,NoValidCurrency:qO}=aO,YO="symbol",$O={"001":"USD",150:"EUR"};function XO(e,t,n){const i=cO(e).numbers.currencies;if(!i){if(n)throw jO.error();return}const o=i[t];if(o)return o;if(n)throw zO.error()}function QO(e,t){return t.length-e.length}function ZO(e,t){const n=cO(e),i=n.numbers;if(!i.localeCurrency){const e=function(e,t=!0){if($O[e])return $O[e];const n=uO.supplemental.currencyData;if(!n){if(t)throw UO.error();return}const i=n.region[e];if(i)return function(e){let t,n,i,o;for(let r=0;r<e.length;r++){const s=e[r],a=Object.keys(s)[0],l=s[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!i){const e=BO(l._from),i=BO(l._to);(!n||n.to<i||n.from<e)&&(t=a,n={from:e,to:i})}}else{const e=BO(l._from);(!o||o<e)&&(i=a,o=e)}}return i||t}(i);if(t)throw KO.error(e)}(GO(n),t);if(!e&&t)throw qO.error(n.name);i.localeCurrency=e}return i.localeCurrency}const JO=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:ex,NoFirstDay:tx}=aO;function nx(e){const t=cO(e);if(!isNaN(t.firstDay))return t.firstDay;const n=uO.supplemental.weekData;if(!n)throw ex.error();const i=n.firstDay[GO(t)]||n.firstDay["001"];if(!i)throw tx.error();return t.firstDay=JO.indexOf(i),t.firstDay}const{NoWeekData:ix}=aO;function ox(e){return 1/e==-1/0}function rx(e,t={}){return t.currency||(t.currency=ZO(e,!0)),function(e,t){const{value:n,currency:i,currencyDisplay:o=YO}=t;if("code"===o)return i;const r=XO(e,i,!0);let s;return s=o===YO?r["symbol-alt-narrow"]||r[YO]:void 0===typeof n||1!==n?r["displayName-count-other"]:r["displayName-count-one"],s}(e,t)}function sx(e,t,n,i,o){const r=o.numbers.symbols,s=e.indexOf(r.decimal),a=i.groupSize.slice();let l=a.shift(),u=-1!==s?s:n+1,c=e.substring(t,u),h=e;const p=c.length;if(p>=l){let n=p,i=[];for(;n>-1;){let e=c.substring(n-l,n);e&&i.push(e),n-=l;let t=a.shift();if(l=void 0!==t?t:l,0===l){e=c.substring(0,n),e&&i.push(e);break}}c=i.reverse().join(r.group),h=e.substring(0,t)+c+e.substring(u)}return h}function ax(e){return e===dO||e===fO}function lx(e,t=2,n=!1){const i=t-String(e).length;let o=e;if(i>0){const t=new Array(i+1).join("0");o=n?e+t:t+e}return o}function ux(e,t){let n=e,i=t||0;return n=n.toString().split("e"),n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i))),n=n.toString().split("e"),n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i)),n.toFixed(Math.min(i,20))}const cx=/0+$/;const hx=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,px="__??__";function dx(e,t){const n=e.format;-1!==n.indexOf("%")&&(e.style=gO,e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf(yO)&&(e.style=dO,e.symbol=rx(t))}function fx(e){let t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){const n=e.literals=[];e.format=t.replace(hx,function(e){const t=e.charAt(0).replace("\\",wO),i=e.slice(1).replace(t,wO);return n.push(i),px})}}const gx="#",mx="0",yx=/(\.(?:[0-9]*[1-9])?)0+$/g,vx=/\.$/,Cx=/\,/g;function wx(e,t,n){let i;return i=-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t),i}const bx=/^(n|c|p|e|a)(\d*)$/i;function Sx(e){let t;return t=iO(e)?function(e){const t=bx.exec(e);if(t){const e={style:pO};let n=t[1].toLowerCase();return"c"===n?e.style=dO:"a"===n?e.style=fO:"p"===n?e.style=gO:"e"===n&&(e.style=mO),t[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(t[2],10)),e}}(e):e,t}function Ex(e,t="n",n="en"){if(null==e)return wO;if(!isFinite(e))return String(e);const i=hO(n),o=Sx(t);let r;return r=o?function(e,t,n){const i=n.numbers.symbols,{style:o}=t,r=ax(o);if(o===mO)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(CO,i.decimal);let s,a=e;r&&(t.value=a,s=rx(n,t)),o===gO&&(a*=100,s=i.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:u}=function(e){let{minimumFractionDigits:t,maximumFractionDigits:n,style:i}=e;const o=ax(i);let r;return o&&(r=function(e){let t=2,n=2;const i=((uO.supplemental.currencyData||{}).fractions||{})[e];return i&&i._digits&&(n=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===t&&(t=o?r.minimumFractionDigits:0),void 0===n&&(n=i===gO?Math.max(t,0):o?Math.max(t,r.maximumFractionDigits):Math.max(t,3)),{minimumFractionDigits:t,maximumFractionDigits:n}}(t);a=ux(a,u);const c=a<0,h=ox(e),p=a.split(CO);let d=p[0],f=lx(p[1]?p[1].replace(cx,wO):wO,l,!0);c&&(d=d.substring(1)),t.minimumIntegerDigits&&(d=lx(d,t.minimumIntegerDigits));let g,m=!1!==t.useGrouping?sx(d,0,d.length,t,n):d;if(f&&(m+=i.decimal+f),r&&"name"===t.currencyDisplay)g=function(e,t){const n=e.numbers.currency;let i=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(i=i.replace(vO,"-n")),i}(n,e);else{const e=t.patterns;g=c||h?e[1]||"-"+e[0]:e[0]}return g!==vO||c?function(e,t,n){let i=wO;for(let o=0,r=t.length;o<r;o++){let r=t.charAt(o);i+=r===vO?e:r===yO||"%"===r?n:r}return i}(m,g,s):m}(e,Object.assign({},i.numbers[o.style||pO],o),i):function(e,t,n){const i={negative:e<0,number:Math.abs(e),negativeZero:ox(e),format:t};return function(e){let{number:t,format:n}=e;if(n=n.split(";"),(e.negative||e.negativeZero)&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){const t=n[2];n=t||n[0],t&&function(e){return-1===e.indexOf(gx)&&-1===e.indexOf(mx)}(t)&&(e.constant=t)}else n=n[0];e.format=n}(i),i.constant?i.constant:(fx(i),dx(i,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(Cx,wO))}(i),function(e){let{number:t,format:n}=e,i=n.indexOf(CO);if(-1!==i){const o=n.lastIndexOf(mx)-i,r=n.lastIndexOf(gx)-i,s=o>-1,a=r>-1;let l=t.toString().split("e");l=l[1]?ux(t,Math.abs(l[1])):l[0],l=l.split(CO)[1]||wO;let u=l.length,c=-1;s||a?s&&o>r?u=o:r>o&&(a&&u>r?u=r:s&&u<o&&(u=o),c=s?o:0):(e.format=n.substring(0,i)+n.substring(i+1),i=-1,u=0),u>-1&&(t=ux(t,u),c>-1&&(t=function(e,t){let n;return n=0===t?yx:new RegExp(`(\\.[0-9]{${t}}[1-9]*)0+$`,"g"),e.replace(n,"$1").replace(vx,wO)}(t,c)))}else t=ux(t);e.negative&&-1*t>=0&&!e.negativeZero&&(e.negative=!1),e.number=t,e.decimalIndex=i}(i),function(e){const t=e.format;let n=t.indexOf(gx),i=t.indexOf(mx),o=wx(n,i,!0);n=t.lastIndexOf(gx),i=t.lastIndexOf(mx);let r=wx(n,i);o===t.length&&(r=o),e.start=o,e.end=r,e.lastZeroIndex=i}(i),function(e,t){let n=e.number;return-1!==e.start&&(n=function(e,t){const{start:n,end:i,negative:o,negativeZero:r,format:s,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:u,hasGroup:c}=e;let h=e.number;const p=h.toString().split(CO),d=s.length,f=p[0],g=p[1]||wO,m=f.length;let y=wO;h=s.substring(0,n),!o&&!r||u||(h+="-");for(let v=n;v<d;v++){let e=s.charAt(v);if(-1===a){if(i-v<m){h+=f;break}}else if(-1!==l&&l<v&&(y=wO),a-v<=m&&a-v>-1&&(h+=f,v=a),a===v){h+=(g?t.numbers.symbols.decimal:wO)+g,v+=i-a+1;continue}e===mx?(h+=e,y=e):e===gx&&(h+=y)}return c&&(h=sx(h,n+(o&&!u?1:0),Math.max(i,m+n),t.numbers.decimal,t)),i>=n&&(h+=s.substring(i+1)),h}(e,t),n=function(e,t,n){let i=e;if(t===dO||t===gO){i=wO;for(let t=0,o=e.length;t<o;t++){let o=e.charAt(t);i+=o===yO||"%"===o?n:o}}return i}(n,e.style,e.symbol),n=function(e,t){let n=e;if(t){const e=t.length;for(let i=0;i<e;i++)n=n.replace(px,t[i])}return n}(n,e.literals)),n}(i,n))}(e,t,i),r}function _x(e){return"number"==typeof e}const Ox=/[eE][\-+]?[0-9]+/,xx=/\u00A0/g;function Tx(e,t){if(t.length>1){const n=(t[1]||wO).replace(yO,wO).split(vO);if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],wO).replace(n[1],wO)}}const Rx=/\{(\d+)}/g;function Px(e){const t=arguments;return e.replace(Rx,(e,n)=>t[parseInt(n,10)+1])}const Dx=[2,1,5,3,4],Ax={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},kx={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Ix=/[hHmsSzZoOvVxX]/,Fx=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],Nx={e:"c",E:"c",M:"L",Q:"q"},Mx={},Lx={};function Vx(e){return Mx[e]||(Mx[e]=new RegExp(e+"+")),Mx[e]}function Gx(e){const t=[];let n=e.charAt(0),i=n;for(let o=1;o<e.length;o++){let r=e.charAt(o);r===i?n+=r:(t.push(n),n=i=r)}return t.push(n),t}function Hx(e,t){const n=e.length;let i,o,r=-Number.MAX_VALUE;for(let s in t){const a=[];let l=s.replace("v","z"),u=0;for(let t=0;t<n;t++){const n=e[t];let i=(Vx(n[0]).exec(l)||[])[0];if(i){if(l=l.replace(i,wO),i.length!==n.length){let e=Math.max(Math.min(Dx[i.length]-Dx[n.length],2),-2);u-=Ax[e]}}else u-=120;if(a.push(i),u<r)break}l.length&&(u-=20*Gx(l).length),u>r&&(r=u,i=a,o=t[s])}o=o.replace("v","z");for(let s=0;s<n;s++){const t=i[s];if(t&&t!==e[s]){const t=i[s][0];o=o.replace(Vx(t),e[s]),Nx[t]&&(o=o.replace(Vx(Nx[t]),e[s]))}}return o}function Wx(e,t){const n=t.calendar;let i;if(iO(e))i=n.patterns[e]?n.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;let o=e.skeleton;o||(e.datetime?i=Px(n.dateTimeFormats[e.datetime],n.timeFormats[e.datetime],n.dateFormats[e.datetime]):e.date?i=n.dateFormats[e.date]:e.time?i=n.timeFormats[e.time]:o=function(e){let t=[];for(let n=0;n<Fx.length;n++){let i=Fx[n],o=e[i.key];if(o){let n=i.specifier||i.getSpecifier(e);t.push(n.repeat(kx[o]))}}return t.join(wO)}(e)),o&&(i=function(e,t){const n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(Lx[t.name]&&Lx[t.name][e])return Lx[t.name][e];const i=e.search(Ix);let o;if(i>0){const r=e.substr(0,i),s=e.substr(i);o=Px(t.calendar.dateTimeFormats.short,n[s]||Hx(Gx(s),n),n[r]||Hx(Gx(r),n))}else o=Hx(Gx(e),n);return function(e,t,n){Lx[n]||(Lx[n]={}),Lx[n][e]=t}(e,o,t.name),o}(o,t))}return i||(i=n.patterns.d),i}function Bx(e){let t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function jx(e,t,n,i,o){return WO(e,{type:t,nameType:Bx(n),standAlone:i,lower:o})}function zx(e){return"function"==typeof e}function Ux(e){return Boolean(e)&&zx(e.getTime)&&zx(e.getMonth)}const Kx="month",qx="hour",Yx="zone",$x="weekday",Xx="quarter",Qx={G:"era",y:"year",q:Xx,Q:Xx,M:Kx,L:Kx,d:"day",E:$x,c:$x,e:$x,h:qx,H:qx,k:qx,K:qx,m:"minute",s:"second",a:"dayperiod",x:Yx,X:Yx,z:Yx,Z:Yx},Zx=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function Jx(e,t,n,i){return t<=2?lx(e+1,t):jx(n,"months",t,i)[e]}function eT(e,t,n,i){const o=Math.floor(e.getMonth()/3);return t<3?o+1:jx(n,"quarters",t,i)[o]}function tT(e,t,n){const{shortHours:i,optionalMinutes:o,separator:r,localizedName:s,zZeroOffset:a}=n,l=e.getTimezoneOffset()/60;if(0===l&&a)return"Z";const u=l<=0?"+":"-",c=Math.abs(l).toString().split("."),h=c[1]||0;let p=u+(i?c[0]:lx(c[0],2));return!h&&o||(p+=(r?":":wO)+lx(h,2)),s&&(p=Px(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,p)),p}function nT(e,t,n,i){let o;return o=t<3?function(e,t,n){const i=nx(n);let o;return o=e<i?7-i+e:e-i,o+1}(e.getDay(),0,n):jx(n,"days",t,i)[e.getDay()],o}const iT={};function oT(e,t,n="en"){if(!Ux(e))return null==e?wO:e;const i=hO(n);return Wx(t,i).replace(Zx,function(t){let n,o=t.length;return n=t.includes("'")||t.includes('"')?t.slice(1,o-1):iT[t[0]](e,o,i),n})}function rT(e,t,n){const i=e.getTimezoneOffset(),o=new Date(e.getTime()+6e4*(t-n)),r=o.getTimezoneOffset();return new Date(o.getTime()+6e4*(r-i))}iT.d=function(e,t){return lx(e.getDate(),t)},iT.E=function(e,t,n){return jx(n,"days",t)[e.getDay()]},iT.M=function(e,t,n){return Jx(e.getMonth(),t,n,!1)},iT.L=function(e,t,n){return Jx(e.getMonth(),t,n,!0)},iT.y=function(e,t){let n=e.getFullYear();return 2===t&&(n%=100),lx(n,t)},iT.h=function(e,t){return lx(e.getHours()%12||12,t)},iT.H=function(e,t){return lx(e.getHours(),t)},iT.k=function(e,t){return lx(e.getHours()||24,t)},iT.K=function(e,t){return lx(e.getHours()%12,t)},iT.m=function(e,t){return lx(e.getMinutes(),t)},iT.s=function(e,t){return lx(e.getSeconds(),t)},iT.S=function(e,t){let n;return n=0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):lx(wO,t),n},iT.a=function(e,t,n){return jx(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},iT.z=function(e,t,n){return tT(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},iT.Z=function(e,t,n){return tT(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},iT.x=function(e,t,n){return tT(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},iT.X=function(e,t,n){return tT(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},iT.G=function(e,t,n){let i=e.getFullYear()>=0?1:0;return jx(n,"eras",t)[i]},iT.e=nT,iT.c=function(e,t,n){return nT(e,t,n,!0)},iT.q=function(e,t,n){return eT(e,t,n,!0)},iT.Q=eT;const sT=/([+|\-]\d{1,2})(:?)(\d{2})?/,aT=/^\/Date\((.*?)\)\/$/,lT=/[+-]\d*/,uT={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},cT=/\d+/,hT=/^ */,pT=/ *$/,dT=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],fT=["G","g","F","Y","y","M","m","D","d","y","T","t"];function gT(e,t,n){return!(e>=t&&e<=n)}function mT(e,t){let{format:n,idx:i}=t,o=0;for(;n[i]===e;)o++,i++;return o>0&&(i-=1),t.idx=i,o}function yT(e,t){let n=e?uT[e]||new RegExp("^\\d{1,"+e+"}"):cT,i=t.value.substr(t.valueIdx,e).match(n);return i?(i=i[0],t.valueIdx+=i.length,parseInt(i,10)):null}function vT(e,t,n){let i,o,r,s=0,a=e.length,l=0,u=0;for(;s<a;s++)i=e[s],o=i.length,r=t.value.substr(t.valueIdx,o),n&&(r=r.toLowerCase()),r===i&&o>l&&(l=o,u=s);return l?(t.valueIdx+=l,u+1):null}function CT(e){let t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function wT(e,t,n){const{shortHours:i,noSeparator:o,optionalMinutes:r,localizedName:s,zLiteral:a}=n;if(e.UTC=!0,a&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(s&&!vT(function(e){const{gmtFormat:t,gmtZeroFormat:n}=e;if(!t)throw aO.NoGMTInfo.error();return[t.replace("{0}",wO).toLowerCase(),n.replace("{0}",wO).toLowerCase()]}(t.calendar),e,!0))return!0;const l=sT.exec(e.value.substr(e.valueIdx,6));if(!l)return!s;const u=l[1],c=l[3],h=parseInt(u,10),p=l[2];let d=parseInt(c,10);return!!(isNaN(h)||!i&&3!==u.length||!r&&isNaN(d)||o&&p)||(isNaN(d)&&(d=null),!!(gT(h,-12,13)||d&&gT(d,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=d)))}function bT(e,t,n){const i=mT(e,t),o=jx(n,"months",i,"L"===e,!0),r=i<3?yT(2,t):vT(o,t,!0);if(null===r||gT(r,1,12))return!0;t.month=r-1}function ST(e,t,n){const i=mT(e,t),o=jx(n,"days",i,"c"===e,!0);let r=i<3?yT(1,t):vT(o,t,!0);if(!r&&0!==r||gT(r,1,7))return!0}const ET={};function _T(e,t){return`${hT.exec(t)[0]}${e}${pT.exec(t)[0]}`}function OT(e,t,n){let i=Wx(t,n).split(wO);const o={format:i,idx:0,value:_T(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=i.length;let s=!1;for(;o.idx<r;o.idx++){let e=i[o.idx];if(s)"'"===e&&(s=!1),CT(o);else if(ET[e]){if(ET[e](o,n))return null}else if("'"===e)s=!0,CT(o);else if(!CT(o))return null}return o.valueIdx<e.length?null:function(e){let{year:t,month:n,day:i,hours:o,minutes:r,seconds:s,milliseconds:a,pmHour:l,UTC:u,hoursOffset:c,minutesOffset:h}=e;const p=null!==o||null!==r||s||null,d=new Date;let f;return null===t&&null===n&&null===i&&p?(t=d.getFullYear(),n=d.getMonth(),i=d.getDate()):(null===t&&(t=d.getFullYear()),null===i&&(i=1)),l&&o<12&&(o+=12),u?(c&&(o+=-c),h&&(r+=-h*(c<0?-1:1)),f=new Date(Date.UTC(t,n,i,o,r,s,a))):(f=new Date(t,n,i,o,r,s,a),function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(f,o)),t<100&&f.setFullYear(t),f.getDate()!==i&&void 0===u?null:f}(o)||null}ET.d=function(e){mT("d",e);const t=yT(2,e);if(null===t||gT(t,1,31))return!0;null===e.day&&(e.day=t)},ET.E=function(e,t){if(null===vT(jx(t,"days",mT("E",e),!1,!0),e,!0))return!0},ET.M=function(e,t){return bT("M",e,t)},ET.L=function(e,t){return bT("L",e,t)},ET.y=function(e){const t=mT("y",e);let n=yT(1===t?void 0:t,e);if(null===n)return!0;if(2===t){const e=(new Date).getFullYear();n=e-e%100+n,n>2029&&(n-=100)}e.year=n},ET.h=function(e){mT("h",e);let t=yT(2,e);if(12===t&&(t=0),null===t||gT(t,0,11))return!0;e.hours=t},ET.K=function(e){mT("K",e);let t=yT(2,e);if(null===t||gT(t,0,11))return!0;e.hours=t},ET.a=function(e,t){let n=jx(t,"dayPeriods",mT("a",e),!1,!0);const i=vT([n.pm],e,!0);if(!i&&!vT([n.am],e,!0))return!0;e.pmHour=i},ET.H=function(e){mT("H",e);const t=yT(2,e);if(null===t||gT(t,0,23))return!0;e.hours=t},ET.k=function(e){mT("k",e);let t=yT(2,e);if(null===t||gT(t,1,24))return!0;e.hours=24===t?0:t},ET.m=function(e){mT("m",e);const t=yT(2,e);if(null===t||gT(t,0,59))return!0;e.minutes=t},ET.s=function(e){mT("s",e);const t=yT(2,e);if(null===t||gT(t,0,59))return!0;e.seconds=t},ET.S=function(e){const t=mT("S",e),n=e.value.substr(e.valueIdx,t);let i=null;if(isNaN(parseInt(n,10))||(i=parseFloat("0."+n,10),i=ux(i,3),i*=1e3,e.valueIdx+=t),null===i||gT(i,0,999))return!0;e.milliseconds=i},ET.z=function(e,t){const n=mT("z",e)<4,i=wT(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},ET.Z=function(e,t){const n=mT("Z",e),i=wT(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},ET.x=function(e,t){const n=mT("x",e),i=wT(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},ET.X=function(e,t){const n=mT("X",e),i=wT(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},ET.G=function(e,t){const n=jx(t,"eras",mT("G",e),!1,!0);if(null===vT([n[0],n[1]],e,!0))return!0},ET.e=function(e,t){return ST("e",e,t)},ET.c=function(e,t){return ST("c",e,t)};const xT={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},TT="literal";function RT(e,t){const n=e[e.length-1];n&&n.type===TT?n.pattern+=t:e.push({type:TT,pattern:t})}function PT(e){return"h"===e||"K"===e}const DT=/\{(\d+)(:[^\}]+)?\}/g;function AT(e,t,n){if(t){if(Ux(e))return oT(e,t,n);if(_x(e))return Ex(e,t,n)}return null!=e?e:wO}const kT="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",IT={NoCurrency:`Solution: ${kT}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${kT}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${kT}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${kT}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${kT}#toc-no-first-day`,NoGMTInfo:`Solution: ${kT}#toc-no-gmt-info`,NoLocale:`Solution: ${kT}#toc-no-locale`,NoValidCurrency:`Solution: ${kT}#toc-no-valid-currency`,NoWeekData:`Solution: ${kT}#toc-no-week-data`};function FT(e){return function(...t){try{return e.apply(null,t)}catch(n){throw n.message=function(e){const t=e.message,n=IT[Object.keys(IT).filter(e=>0===t.indexOf(e))[0]];return n?`${t} ${n}`:t}(n),n}}}const NT=FT(WO),MT=FT(function(e,t="en"){const n=hO(t).calendar.dateFields;if(!n)throw aO.NoDateFieldNames.error();const i=n[e.type]||{};return i[e.nameType]||i.wide}),LT=FT(nx),VT=FT(function(e,t,n){return e.replace(DT,function(e,i,o){return AT(t[parseInt(i,10)],o?o.substring(1):wO,n)})}),GT=FT(oT),HT=FT(Ex),WT=(FT(function(){const e=arguments.length;for(let t=0;t<e;t++){let e=arguments[t];if(e.main){let t=Object.keys(e.main)[0],n=e.main[t],i=uO[t]=uO[t]||{};i.name=i.name||t,i.identity=i.identity||n.identity,GO(i),HO(t,n)}else if(e.supplemental)if(e.supplemental.weekData)uO.supplemental.weekData={firstDay:e.supplemental.weekData.firstDay,weekendStart:e.supplemental.weekData.weekendStart,weekendEnd:e.supplemental.weekData.weekendEnd};else if(e.supplemental.likelySubtags)uO.supplemental.likelySubtags=Object.assign(uO.supplemental.likelySubtags,e.supplemental.likelySubtags);else if(e.supplemental.currencyData){const t=uO.supplemental.currencyData;t.region=Object.assign(t.region||{},e.supplemental.currencyData.region),t.fractions=Object.assign(t.fractions||{},e.supplemental.currencyData.fractions)}}}),FT(function(e){return cO(e).numbers.symbols})),BT=FT(function(e,t,n="en"){if(!e)return null;if(Ux(e))return e;let i=String(e).trim(),o=function(e){if(e&&0===e.indexOf("/D")){let t=aT.exec(e);if(t){t=t[1];let e=lT.exec(t.substring(1));return t=new Date(parseInt(t,10)),e&&(e=function(e){const t="-"===e.substr(0,1)?-1:1;let n=e.substring(1);return n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),t*n}(e[0]),t=rT(t,t.getTimezoneOffset(),0),t=rT(t,0,-1*e)),t}}}(i);if(o)return o;const r=hO(n);let s=t||function(e){const t=[],n=e.patterns,i=fT.length;for(let o=0;o<i;o++)t.push(n[fT[o]]);return t.concat(dT)}(r.calendar);s=Array.isArray(s)?s:[s];const a=s.length;for(let l=0;l<a;l++)if(o=OT(i,s[l],r),o)return o;return o}),jT=FT(function(e,t="en",n={}){if(!e&&0!==e)return null;if(_x(e))return e;const i=hO(t),o=i.numbers.symbols;let r,s=e.toString(),a=n||{};if(iO(n)&&(a={format:n},fx(a),s=function(e,t){const n=t.literals;let i=e;if(n)for(let o=0;o<n.length;o++)i=i.replace(n[o],wO);return i}(s,a),dx(a,i)),(a.style===gO||s.indexOf(o.percentSign)>-1)&&(s=s.replace(o.percentSign,wO),r=!0),Ox.test(s))return s=parseFloat(s.replace(o.decimal,CO)),isNaN(s)?null:s;const{negative:l,number:u}=function(e,t,n){const i=Sx(n)||{};let o,r=ax(i.style),s=e;const a=i.currency||ZO(t,r);if(a){const e=function(e,t,n=!0){const i=XO(e,t,n);if(i){if(!i.displays){const e=[t];for(let t in i)e.push(i[t]);e.sort(QO),i.displays=e}return i.displays}}(t,a,r);if(e)for(let t=0;t<e.length;t++){let n=e[t];if(s.includes(n)){s=s.replace(n,wO),r=!0;break}}if(r){const e=Tx(s,t.numbers.currency.patterns)||Tx(s,t.numbers.accounting.patterns);e&&(o=!0,s=e)}}return{number:s,negative:o}}(s,i,a);s=String(u).trim();const c=s.indexOf("-");if(c>0)return null;let h=c>-1;return h=void 0!==l?l:h,s=s.replace("-",wO).replace(xx," ").split(o.group.replace(xx," ")).join(wO).replace(o.decimal,CO),s=parseFloat(s),isNaN(s)?s=null:h&&(s*=-1),s&&r&&(s/=100),s}),zT=FT(function(e,t="en"){const n=Wx(e,hO(t)),i=[];let o=Zx.lastIndex=0,r=Zx.exec(n);for(;r;){let e=r[0];if(o<r.index&&RT(i,n.substring(o,r.index)),e.startsWith('"')||e.startsWith("'"))RT(i,e);else{const t=e[0],n=Qx[t],o={type:n,pattern:e};"hour"===n&&(o.hour12=PT(e));const r=xT[n];if(r){const n=_x(r.minLength)?r.minLength:r.minLength[t],i=e.length;i>=n&&(o.names={type:r.type,nameType:Bx(i),standAlone:r.standAlone===t})}i.push(o)}o=Zx.lastIndex,r=Zx.exec(n)}return o<n.length&&RT(i,n.substring(o)),i}),UT=FT(AT),KT=FT(function(e){const t=cO(e);if(t.weekendRange)return t.weekendRange;const n=uO.supplemental.weekData;if(!n)throw ix.error();const i=GO(t),o=n.weekendEnd[i]||n.weekendEnd["001"];return t.weekendRange={start:JO.indexOf(n.weekendStart[i]||n.weekendStart["001"]),end:JO.indexOf(o)},t.weekendRange}),qT=/_/g;function YT(e){return new XT(e)}let $T=(()=>{class e{constructor(){this.changes=new Jl}notify(){this.changes.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(e){let t=null;return t=e?new e:YT(bt(ku)),t},providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return YT(St(ku))},token:e,providedIn:"root"}),e})(),XT=(()=>{class e extends $T{constructor(e){super(),this.localeId=e}get localeId(){return this.locale}set localeId(e){const t=e.replace(qT,"-");t!==this.locale&&(this.locale=t,this.notify())}format(e,...t){return VT(e,t,this.localeId)}toString(e,t,n){return UT(e,t,n||this.localeId)}formatDate(e,t,n){return GT(e,t,n||this.localeId)}parseDate(e,t,n){return BT(e,t,n||this.localeId)}parseNumber(e,t,n){return jT(e,n||this.localeId,t)}formatNumber(e,t,n){return HT(e,t,n||this.localeId)}dateFieldName(e,t){return MT(e,t||this.localeId)}dateFormatNames(e,t){return NT(t||this.localeId,e)}splitDateFormat(e,t){return zT(e,t||this.localeId)}numberSymbols(e){return WT(e||this.localeId)}firstDay(e){return LT(e||this.localeId)}weekendRange(e){return KT(e||this.localeId)}}return e.\u0275fac=function(t){return new(t||e)(bt(ku))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),QT=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)}}),e})();const ZT=["numericInput"],JT=["numericWrap"],eR=function(e,t){return{mouseup:e,mouseleave:t}},tR=function(e){return{mousedown:e}};function nR(e,t){if(1&e&&(ks(0,"span",6),ks(1,"span",7),Fs(2,"span",8),Is(),ks(3,"span",9),Fs(4,"span",10),Is(),Is()),2&e){const e=zs();Ds("kendoEventsOutsideAngular",Hl(11,eR,e.releaseArrow,e.releaseArrow)),Qo(1),na("k-state-active",e.arrowDirection===e.ArrowDirection.Up),Ds("kendoEventsOutsideAngular",Gl(14,tR,e.increasePress))("title",e.incrementTitle),Os("aria-label",e.incrementTitle),Qo(2),na("k-state-active",e.arrowDirection===e.ArrowDirection.Down),Ds("kendoEventsOutsideAngular",Gl(16,tR,e.decreasePress))("title",e.decrementTitle),Os("aria-label",e.decrementTitle)}}const iR=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},oR=function(e,t,n,i,o,r,s){return{mousedown:e,dragenter:t,keydown:n,input:i,focus:o,blur:r,paste:s}},rR=e=>null!=e,sR=e=>Math.min(e,20),aR=e=>(String(e).split(".")[1]||"").length,lR=(e,t)=>{const n=sR(t);return parseFloat(e.toFixed(n))};function uR(e,t,...n){if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,n)}const cR=/[eE][\-+]?([0-9]+)/,hR=e=>e>=0?Math.floor(e):Math.ceil(e),pR=e=>{},dR=e=>!isNaN(e)&&null!==e;function fR(e,t){const n=t-String(e).length;let i=e;if(n>0){const t=new Array(n+1).join("0");i=parseFloat(e+t)}return i}var gR=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({});const mR=["min","max","step","decimals"],yR={decimals:null,max:null,min:null,step:1},vR="k-state-focused",CR="k-formatted-value";let wR=(()=>{class e{constructor(e,t,n,i,o,r,s){this.intl=e,this.renderer=t,this.localizationService=n,this.injector=i,this.ngZone=o,this.changeDetector=r,this.hostElement=s,this.focusableId="k-"+Hv(),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.ArrowDirection=gR,this.arrowDirection=gR.None,this.inputValue="",this.minValidateFn=pR,this.maxValidateFn=pR,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=pR,this.ngTouched=pR,this.ngValidatorChange=pR,this.increasePress=e=>{this.arrowPress(gR.Up,e)},this.decreasePress=e=>{this.arrowPress(gR.Down,e)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==gR.None&&(this.arrowDirection=gR.None,this.changeDetector.detectChanges())},this.handlePaste=()=>{this.isPasted=!0},this.handleInput=()=>{const e=this.numericInput.nativeElement;let{selectionStart:t,selectionEnd:n,value:i}=e;if(this.pressedKey===tC.NumpadDecimal&&(i=this.replaceNumpadDotValue()),this.isPasted&&(i=this.formatInputValue(this.intl.parseNumber(i))),!this.isValid(i))return e.value=this.inputValue,void this.setSelection(t-1,n-1);const o=this.intl.parseNumber(i);let r=this.restrictDecimals(o);if(this.autoCorrect){const e=this.limitInputValue(r);r=e.value,t=e.selectionStart,n=e.selectionEnd}o!==r||this.hasTrailingZeros(i)||!this.focused?(this.setInputValue(r),this.setSelection(t,n)):this.inputValue=i,this.isPasted&&(e.value=this.inputValue),this.updateValue(r),this.previousSelection=null,this.isPasted=!1},this.handleDragEnter=()=>{this.focused||this.isDisabled||this.setInputValue(this.value,!0)},this.handleMouseDown=()=>{this.mouseDown=!0},this.handleFocus=()=>{if(!this.focused&&(this.focused=!0,!this.isDisabled)){const e=this.selectOnFocus||!this.mouseDown;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{e?this.selectAll():this.selectCaret()},0)})}this.mouseDown=!1,Gv(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{var e;this.changeDetector.markForCheck(),this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(Gv(this.onBlur)||(e=this.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleKeyDown=e=>{if(this.isDisabled)return;let t;e.keyCode===tC.ArrowDown?t=-1:e.keyCode===tC.ArrowUp&&(t=1),t&&this.step&&(e.preventDefault(),this.addStep(t));const n=this.numericInput.nativeElement;this.previousSelection={end:n.selectionEnd,start:n.selectionStart},this.pressedKey=e.keyCode},this.handleWheel=e=>{if(this.focused&&!this.isDisabled){e.preventDefault();const t=(e=>{let t=0;return e.wheelDelta?(t=e.wheelDelta/120,t=t>0?Math.ceil(t):Math.floor(t)):e.detail&&(t=Math.round(-e.detail/3)),t})(e);this.addStep(t)}},this.direction=n.rtl?"rtl":"ltr"}get format(){const e=this._format;return null!=e?e:"n2"}set format(e){this._format=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get widgetClasses(){return!0}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(zm,null)}ngOnChanges(e){var t,n;Vv(mR,e,!1)&&this.parseOptions(mR.filter(t=>e[t])),this.verifySettings(),Vv(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,e=>!rR(n)||!rR(e.value)||e.value>=n?null:{minError:{minValue:n,value:e.value}}):pR,this.maxValidateFn=this.rangeValidation?(t=this.max,e=>!rR(t)||!rR(e.value)||e.value<=t?null:{maxError:{maxValue:t,value:e.value}}):pR,this.ngValidatorChange()),Vv(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,Vv(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.ngValidatorChange=e}writeValue(e){this.verifyValue(e);let t=this.restrictModelValue(e);this.value=t,this.setInputValue()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.disabled=e}focus(){uR(this.numericInput,"focus")}blur(){uR(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}get focused(){return this.isFocused}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}set focused(e){if(this.isFocused!==e&&this.numericWrap){const t=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;e?(this.renderer.addClass(t,vR),this.isDisabled||this.renderer.removeClass(n,CR)):(this.renderer.removeClass(t,vR),this.renderer.addClass(n,CR)),this.isFocused=e}}get isDisabled(){return this.disabled||this.readonly}arrowPress(e,t){t.preventDefault(),this.isDisabled||(J_||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}updateValue(e){var t,n;(t=this.value)===(n=e)||null===t&&void 0===n||void 0===t&&null===n||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let e=this.inputValue||"";if(this.previousSelection){const t=this.numericInput.nativeElement,{selectionStart:n,selectionEnd:i}=t,{start:o,end:r}=this.previousSelection;t.value=e=e.substring(0,o)+this.decimalSeparator+e.substring(r),this.setSelection(n,i)}return e}isValid(e){return this.numericRegex||(this.numericRegex=(e=>{const{autoCorrect:t,decimals:n,min:i}=e;let o,r=e.separator;return"."===r&&(r="\\"+r),o=0===n?"\\d*":`(?:(?:\\d+(${r}\\d*)?)|(?:${r}\\d*))?`,new RegExp(`^${t&&null!==i&&i>=0?"":"-?"}${o}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(e)}spin(e,t){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(e,50)},t),this.addStep(e)}addStep(e){let t=((e,t)=>{const n=((e,t)=>Math.max(aR(e),aR(t)))(e,t);return lR(e+t,n)})(this.value||0,this.step*e);t=this.limitValue(t),t=this.restrictDecimals(t),this.setInputValue(t),this.updateValue(t)}setSelection(e,t){this.focused&&uR(this.numericInput,"setSelectionRange",e,t)}limitValue(e){let t=e;return this.isInRange(e)||(dR(this.max)&&e>this.max&&(t=this.max),dR(this.min)&&e<this.min&&(t=this.min)),t}limitInputValue(e){let{selectionStart:t,selectionEnd:n,value:i}=this.numericInput.nativeElement,o=e,r=!1;if(!this.isInRange(e)){const s=i.length-String(this.inputValue).length,{min:a,max:l}=this,u=dR(l),c=dR(a);let h,p,d=e;if(0===t&&this.inputValue.substr(1)===i)return{selectionEnd:n,selectionStart:t,value:null};if(u&&e>l?e>0?p=!0:h=l:c&&e<a&&(e>0?h=a:p=!0),h){const t=this.tryPadValue(e,h);t&&hR(e)!==hR(h)&&(d=t,r=!0)}else p&&this.inputValue&&t!==i.length&&(d=parseFloat(i.substr(0,t)+i.substr(t+s)));o=this.limitValue(d),r=(r||o!==d)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+s>0}return{selectionEnd:r?String(o).length:n,selectionStart:t,value:o}}tryPadValue(e,t){const n=String(Math.floor(t)).length,i=fR(e,n),o=fR(e,n+1);let r;return this.isInRange(i)?r=i:this.isInRange(o)&&(r=o),r}isInRange(e){return!dR(e)||(!dR(this.min)||this.min<=e)&&(!dR(this.max)||e<=this.max)}restrictModelValue(e){let t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}restrictDecimals(e,t){let n=e;if(e&&this.hasDecimals){const i=this.decimals,o=String(e);if(t||cR.test(o))n=lR(e,i);else{const e=o.split(".");let t=e[1];t&&t.length>i&&(t=t.substr(0,i),n=parseFloat(`${e[0]}.${t}`))}}return n}formatInputValue(e){let t=String(e);const n=cR.exec(t);return n&&(t=e.toFixed(sR(parseInt(n[1],10)))),t.replace(".",this.decimalSeparator)}formatValue(e,t){let n;return n=null!==e&&(e=>void 0!==e)(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):"",n}setInputValue(e=this.value,t=this.focused){const n=this.formatValue(e,t);this.elementValue=n,this.inputValue=n}verifySettings(){if(Gn()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(e){if(Gn()&&e&&"number"!=typeof e)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(e)} was set.`)}parseOptions(e){for(let t=0;t<e.length;t++){const n=e[t],i=this[n];if("string"==typeof i){const e=parseFloat(i),t=!isNaN(e);if(Gn()&&!t&&""!==i)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${n} property and ${JSON.stringify(i)} was set.`);this[n]=t?e:yR[n]}}}intlChange(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}hasTrailingZeros(e){if(this.hasDecimals&&this.focused){const t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}selectAll(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}selectCaret(){const e=this.elementValue,t=e.substring(0,this.numericInput.nativeElement.selectionStart);if(this.setInputValue(),t.length){const n=((e,t)=>{const n=this.decimalSeparator+"0123456789-";return e.split("").reduce((e,t)=>n.includes(t)?++e:e,0)})(t),i=this.adjustSignificantChars(e,n);this.setSelection(i,i)}else this.setSelection(0,0)}numberOfLeadingZeroes(e){const t=e.indexOf(this.decimalSeparator),n=e.match(/^[^1-9]*?(0+)/);if(n){const e=n[1].length;return n[0].length===t?e-1:e}return 0}adjustSignificantChars(e,t){const n=this.numberOfLeadingZeroes(e);return n>0?Math.max(0,t-n):t}}return e.\u0275fac=function(t){return new(t||e)(Rs($T),Rs(ja),Rs(Sw),Rs(as),Rs(zu),Rs(cl),Rs(Wa))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){if(1&e&&(pu(ZT,!0),du(JT,!0)),2&e){let e;hu(e=vu())&&(t.numericInput=e.first),hu(e=vu())&&(t.numericWrap=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Os("dir",t.direction),na("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",selectOnFocus:"selectOnFocus",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[Fa([Sw,{provide:bw,useValue:"kendo.numerictextbox"},{provide:bm,useExisting:Pe(()=>e),multi:!0},{provide:Pm,useExisting:Pe(()=>e),multi:!0},{provide:eC,useExisting:Pe(()=>e)}]),gi],decls:6,vars:25,consts:function(){let e,t;return e=$localize`:kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox␟0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5␟4467784268438010275:Increase value`,t=$localize`:kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox␟df4751834075bf970c77d0da2c960b4e19a6b0dd␟3960022057994897997:Decrease value`,[["kendoNumericTextBoxLocalizedMessages","","increment",e,"decrement",t],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"span",1,2),Fs(3,"input",3,4),xs(5,nR,5,18,"span",5),Is()),2&e&&(Qo(1),na("k-state-disabled",t.disabled),Ds("kendoEventsOutsideAngular",Hl(14,iR,t.handleWheel,t.handleWheel)),Qo(2),Ds("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",jl(17,oR,t.handleMouseDown,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur,t.handlePaste)),Os("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),Qo(2),Ds("ngIf",t.spinners))},directives:function(){return[TR,jv,qc]},encapsulation:2}),e})(),bR=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return SR(t||e)},e.\u0275dir=ot({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[us]}),e})();const SR=no(bR);Promise.resolve(null);let ER=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,Bv,zv,Jv],Bv,zv,Jv]}),e})(),_R=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,ER]]}),e})(),OR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,ER]]}),e})(),xR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,zv,Jv]]}),e})(),TR=(()=>{class e extends bR{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[Fa([{provide:bR,useExisting:Pe(()=>e)}]),us]}),e})(),RR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,zv]]}),e})(),PR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,zv]]}),e})(),DR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,zv],zv]}),e})(),AR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[_R,RR,ah,Ob,Bv]]}),e})(),kR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah]]}),e})(),IR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah]]}),e})(),FR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah]]}),e})(),NR=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah],DR,_R,OR,xR,RR,PR,AR,kR,IR,FR]}),e})();const MR=e=>e?new Date(e.getTime()):null,LR=(e,t)=>{const n=MR(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},VR=(e,t)=>{const n=MR(e);return n.setDate(n.getDate()+t),LR(n,e.getHours())},GR=(e,t,n,i=0,o=0,r=0,s=0)=>{const a=new Date(e,t,n,i,o,r,s);return e>-1&&e<100&&a.setFullYear(a.getFullYear()-1900),LR(a,i)},HR=e=>GR(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),WR=(e,t)=>!e&&!t||e&&t&&e.getTime()===t.getTime(),BR=e=>{const t=GR(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return VR(t,-1)},jR=(e,t)=>{const n=MR(e),i=(12+(n.getMonth()+t)%12)%12;return n.setMonth(n.getMonth()+t),((e,t)=>e.getMonth()!==t?BR(jR(e,-1)):e)(LR(n,e.getHours()),i)},zR=(e,t)=>{const n=e.getMonth(),i=GR(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getMonth()===n?i:BR(jR(i,-1))},UR=(e,t)=>LR(zR(e,e.getFullYear()+t),e.getHours()),KR=(e,t)=>UR(e,10*t),qR=(e,t)=>UR(e,100*t),YR=(e,t)=>zR(e,t(e.getFullYear())),$R=e=>YR(e,e=>e-e%100),XR=e=>YR(e,e=>e-e%100+90),QR=e=>YR(e,e=>e-e%10),ZR=(e,t)=>($R(t).getFullYear()-$R(e).getFullYear())/100,JR=e=>YR(e,e=>e-e%10+9),eP=(e,t)=>(QR(t).getFullYear()-QR(e).getFullYear())/10,tP=(e,t)=>VR(e,7*t),nP=e=>GR(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var iP=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({});const oP=(e,t,n=iP.Forward)=>{const i=MR(e),o=(t-i.getDay()+7*n)%7;return i.setDate(i.getDate()+o),LR(i,e.getHours())},rP=(e,t)=>12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),sP=(e,t)=>{const n=e.getDate(),i=GR(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getDate()===n?i:BR(jR(i,-1))},aP=e=>sP(e,0),lP=e=>sP(e,11),uP=(e,t)=>t.getFullYear()-e.getFullYear();var cP=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({});const hP=(e,t)=>{const n=GR(e.getFullYear(),0,1,-6),i=((e,t)=>t!==cP.Monday?VR(((e,t)=>oP(e,t,iP.Backward))(e,t),4):VR(e,4-(e.getDay()||7)))(e,t).getTime()-n.getTime(),o=Math.floor(i/864e5);return 1+Math.floor(o/7)},pP=(e,t=cP.Monday)=>{const n=VR(e,-7),i=VR(e,7),o=hP(e,t);return 0===o?hP(n,t)+1:53===o&&hP(i,t)>1?1:o};class dP extends $y{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class fP extends Qy{}const gP=new fP(dP);class mP extends f{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(mP.dispatch,this.delay,new yP(e,this.destination)))}_next(e){this.scheduleMessage(yv.createNext(e))}_error(e){this.scheduleMessage(yv.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(yv.createComplete()),this.unsubscribe()}}class yP{constructor(e,t){this.notification=e,this.destination=t}}class vP extends E{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new CP(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;let r;if(this.closed)throw new w;if(this.isStopped||this.hasError?r=h.EMPTY:(this.observers.push(e),r=new b(this,e)),i&&e.add(e=new mP(e,i)),t)for(let s=0;s<o&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<o&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||gP).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,o=i.length;let r=0;for(;r<o&&!(e-i[r].time<n);)r++;return o>t&&(r=Math.max(r,o-t)),r>0&&i.splice(0,r),i}}class CP{constructor(e,t){this.time=e,this.value=t}}class wP extends $y{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class bP extends Qy{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,o=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,n){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw n}}}const SP=new bP(wP);class EP{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new _P(e,this.predicate,this.inclusive))}}class _P extends f{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}const OP=["*"],xP=["list"];function TP(e,t){if(1&e&&fa(0),2&e){const e=zs().$implicit;ga(zs().service.navigationTitle(e))}}function RP(e,t){}const PP=function(e,t,n){return{$implicit:e,activeView:t,date:n}};function DP(e,t){if(1&e&&(ks(0,"li"),ks(1,"span"),xs(2,TP,1,1,"ng-template",5),xs(3,RP,0,0,"ng-template",6),Is(),Is()),2&e){const e=t.$implicit,n=t.index,i=zs();Os("data-date-index",n),Qo(1),na("k-calendar-navigation-marker",i.service.isRangeStart(e)),Qo(1),Ds("ngIf",!i.templateRef),Qo(1),Ds("ngIf",i.templateRef)("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",Wl(7,PP,i.service.navigationTitle(e),i.activeViewValue,e))}}const AP=function(e){return{click:e}};function kP(e,t){if(1&e&&(ks(0,"th"),fa(1),Is()),2&e){const e=t.$implicit;ta("width",zs(2).colWidth,"%"),Qo(1),ga(e)}}function IP(e,t){if(1&e&&(ks(0,"table",6),ks(1,"thead"),ks(2,"tr"),xs(3,kP,2,3,"th",7),Is(),Is(),Is()),2&e){const e=zs();Qo(3),Ds("ngForOf",e.weekNames)}}function FP(e,t){1&e&&Fs(0,"col")}function NP(e,t){if(1&e){const e=Vs();ks(0,"tbody",8),Ws("change",function(t){return Zt(e),zs().handleDateChange(t)}),Is()}if(2&e){const e=t.$implicit,n=zs();Ds("activeView",n.activeView)("isActive",n.isActive)("min",n.min)("max",n.max)("cellUID",n.cellUID)("focusedDate",n.focusedDate)("selectedDate",n.value)("weekNumber",n.weekNumber)("templateRef",n.cellTemplateRef)("weekNumberTemplateRef",n.weekNumberTemplateRef)("viewDate",e)}}function MP(e,t){if(1&e){const e=Vs();ks(0,"kendo-calendar-navigation",4),Ws("valueChange",function(t){return Zt(e),zs().handleNavigation(t)})("pageChange",function(){return Zt(e),zs().onPageChange()}),Is()}if(2&e){const e=zs();Ds("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplate?null:e.navigationItemTemplate.templateRef)}}const LP=["dateInput"],VP=["wrap"];function GP(e,t){if(1&e){const e=Vs();ks(0,"span",6),Ws("mousedown",function(e){return e.preventDefault()}),ks(1,"span",7),Ws("mousedown",function(){Zt(e);const t=zs();return t.arrowDirection=t.arrow.Up})("mouseleave",function(){Zt(e);const t=zs();return t.arrowDirection=t.arrow.None})("click",function(){return Zt(e),zs().handleButtonClick(1)}),Fs(2,"span",8),Is(),ks(3,"span",9),Ws("click",function(){return Zt(e),zs().handleButtonClick(-1)})("mousedown",function(){Zt(e);const t=zs();return t.arrowDirection=t.arrow.Down})("mouseleave",function(){Zt(e);const t=zs();return t.arrowDirection=t.arrow.None}),Fs(4,"span",10),Is(),Is()}if(2&e){const e=zs();Qo(1),na("k-state-active",e.arrowDirection===e.arrow.Up),Ds("title",e.localization.get("increment")),Os("aria-label",e.localization.get("increment")),Qo(2),na("k-state-active",e.arrowDirection===e.arrow.Down),Ds("title",e.localization.get("decrement")),Os("aria-label",e.localization.get("decrement"))}}const HP=function(e,t,n,i,o,r,s){return{click:e,focus:t,mousedown:n,touchstart:i,dragstart:o,drop:r,blur:s}},WP=["container"],BP=["popupTemplate"],jP=["wrapper"];function zP(e,t){}const UP=function(e){return{keydown:e}};function KP(e,t){if(1&e){const e=Vs();ks(0,"kendo-calendar",9,10),Ws("valueChange",function(t){Zt(e);const n=zs();return n.handleChange(n.mergeTime(t))}),Fs(2,"kendo-calendar-messages",11),Is(),xs(3,zP,0,0,"ng-template")}if(2&e){const e=zs();Ds("min",e.min)("max",e.max)("navigation",e.navigation)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",Gl(21,UP,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),Qo(2),Ds("today",e.localization.get("today"))}}const qP=function(e,t){return{click:e,mousedown:t}};function YP(e,t){if(1&e){const e=Vs();ks(0,"tbody",3),Ws("change",function(t){return Zt(e),zs().handleDateChange(t)})("cellEnter",function(t){return Zt(e),zs().cellEnter.emit(t)})("cellLeave",function(t){return Zt(e),zs().cellLeave.emit(t)}),Is()}if(2&e){const e=t.$implicit,n=zs();Ds("activeView",n.activeView)("isActive",n.isActive)("min",n.min)("max",n.max)("cellUID",n.cellUID)("focusedDate",n.focusedDate)("selectedDate",n.value)("selectionRange",n.selectionRange)("activeRangeEnd",n.activeRangeEnd)("weekNumber",n.weekNumber)("templateRef",n.cellTemplateRef)("weekNumberTemplateRef",n.weekNumberTemplateRef)("viewDate",e)}}function $P(e,t){1&e&&fa(0),2&e&&ga(zs().title)}function XP(e,t){}const QP=["kendoCalendarView",""];function ZP(e,t){1&e&&(ks(0,"td",3),fa(1,"\xa0"),Is())}function JP(e,t){if(1&e&&(ks(0,"tr",4),ks(1,"th",5),fa(2),Is(),Is()),2&e){const e=zs();Qo(1),Ds("colSpan",e.colSpan),Qo(1),ga(e.title)}}function eD(e,t){if(1&e&&(ks(0,"th"),fa(1),Is()),2&e){const e=t.$implicit;Qo(1),ga(e)}}function tD(e,t){if(1&e&&(ks(0,"tr",4),xs(1,eD,2,1,"th",6),Is()),2&e){const e=zs();Qo(1),Ds("ngForOf",e.weekNames)}}function nD(e,t){if(1&e&&fa(0),2&e){const e=zs(3).$implicit,t=zs();ma(" ",t.getWeekNumber(t.firstDate(e))," ")}}function iD(e,t){}const oD=function(e,t){return{$implicit:e,cellContext:t}};function rD(e,t){if(1&e&&(ks(0,"td",10),xs(1,nD,1,1,"ng-template",7),xs(2,iD,0,0,"ng-template",11),Is()),2&e){const e=zs(2).$implicit,t=zs();Qo(1),Ds("ngIf",!t.weekNumberTemplateRef),Qo(1),Ds("ngIf",t.weekNumberTemplateRef)("ngTemplateOutlet",t.weekNumberTemplateRef)("ngTemplateOutletContext",Hl(4,oD,t.firstDate(e),t.getWeekNumberContext(e)))}}function sD(e,t){if(1&e&&xs(0,rD,3,7,"td",9),2&e){const e=zs().$implicit,t=zs(),n=Ts(1);Ds("ngIf",t.firstDate(e))("ngIfElse",n)}}function aD(e,t){1&e&&fa(0),2&e&&ga(zs(2).$implicit.formattedValue)}function lD(e,t){}function uD(e,t){if(1&e&&xs(0,lD,0,0,"ng-template",16),2&e){const e=zs(2).$implicit;Ds("ngTemplateOutlet",zs(2).templateRef)("ngTemplateOutletContext",Hl(2,oD,e.value,e))}}function cD(e,t){if(1&e&&(ks(0,"td",13),ks(1,"span",14),xs(2,aD,1,1,"ng-template",7),xs(3,uD,1,5,void 0,15),Is(),Is()),2&e){const e=zs(),t=e.$implicit,n=e.index,i=zs().index,o=zs();Ds("ngClass",o.getStyles(t))("title",t.title),Os("id",t.id)("data-cell-index",o.tableCellIndex(i,n))("aria-selected",t.isSelected||t.isRangeStart||t.isRangeMid||t.isRangeEnd)("aria-disabled",t.isDisabled),Qo(2),Ds("ngIf",!o.templateRef),Qo(1),Ds("ngIf",o.templateRef)}}function hD(e,t){if(1&e&&(Ns(0),xs(1,cD,4,8,"td",12),Ms()),2&e){const e=t.$implicit;zs(2);const n=Ts(1);Qo(1),Ds("ngIf",e)("ngIfElse",n)}}function pD(e,t){if(1&e&&(ks(0,"tr",4),xs(1,sD,1,2,"ng-template",7),xs(2,hD,2,2,"ng-container",8),Is()),2&e){const e=t.$implicit,n=zs();Qo(1),Ds("ngIf",n.weekNumber),Qo(1),Ds("kForOf",e)}}var dD=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e}({});const fD={start:null,end:null},gD=(new Date(1980,0,1),new Date(1900,0,1)),mD=new Date(2099,11,31),yD=(new Date(1980,0,1),new Date(1980,0,1,23,59,59),e=>null!=e),vD=e=>(t,n)=>{const i=MR(t);return i[e](n),i},CD=(e,t)=>{const n=MR(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},wD=vD("setHours"),bD=vD("setMinutes"),SD=vD("setSeconds"),ED=(e,t,n=1)=>{const i=[];for(let o=e;o<t;o+=n)i.push(o);return i},_D=(e,t,n)=>!e||!(t&&t>e||n&&n<e),OD=(e,t)=>!yD(e)||!yD(t)||e<=t,xD=(e,t,n)=>e?t&&e<t?MR(t):n&&e>n?MR(n):e:e,TD=()=>HR(new Date),RD=e=>{},PD=(e,t)=>e.slice(t).concat(e.slice(0,t)),DD=e=>(t,n="",i={})=>{const o=document.createElement(e);return o.className=n,Object.keys(i).map(e=>o.style[e]=i[e]),"string"==typeof t?o.innerHTML=t||"":(t||[]).forEach(e=>e&&o.appendChild(e)),o},AD=(e,t)=>void 0!==e[t],kD=(e,t)=>e[t]&&null!=e[t].currentValue,ID=(e,t)=>{const{start:n,end:i}=t||fD;return!(!n||!i)&&n<e&&e<i},FD=[[]],ND={[dD.Left]:e=>KR(e,-1),[dD.Up]:e=>KR(e,-5),[dD.Right]:e=>KR(e,1),[dD.Down]:e=>KR(e,5),[dD.PrevView]:e=>qR(e,-1),[dD.NextView]:e=>qR(e,1),[dD.FirstInView]:e=>$R(e),[dD.LastInView]:e=>XR(e)};let MD=(()=>{class e{addToDate(e,t){return qR(e,t)}datesList(e,t){return ED(0,t).map(t=>qR(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:o,min:r,selectedDate:s,selectionRange:a=fD,viewDate:l}=e;if(!l)return FD;const u=ED(0,5),c=$R(l),h=XR(l),p=_D(s,r,o),d=TD();return ED(0,2).map(e=>{const l=KR(c,5*e);return u.map(e=>{const u=this.normalize(KR(l,e),r,o);if(!this.isInRange(u,r,o))return null;const f=this.isEqual(u,a.start),g=this.isEqual(u,a.end),m=!f&&!g&&ID(u,a);return{formattedValue:this.value(u),id:`${t}${u.getTime()}`,isFocused:this.isEqual(u,n),isSelected:i&&p&&this.isEqual(u,s),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(u,h),isRangeSplitStart:m&&this.isEqual(u,c),isToday:this.isEqual(u,d),title:this.cellTitle(u),value:u}})})}isEqual(e,t){return!(!e||!t)&&QR(e).getFullYear()===QR(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}isInRange(e,t,n){const i=QR(e).getFullYear(),o=!t||QR(t).getFullYear()<=i,r=!n||i<=QR(n).getFullYear();return o&&r}beginningOfPeriod(e){if(!e)return e;const t=QR($R(e));return GR(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,t){const n=ND[t];return n?n(e):e}cellTitle(e){return QR(e).getFullYear().toString()}navigationTitle(e){return e?$R(e).getFullYear().toString():""}title(e){return e?`${$R(e).getFullYear()} - ${XR(e).getFullYear()}`:""}rowLength(e){return 5}skip(e,t){return ZR(t,e)}total(e,t){return ZR(e,t)+1}value(e){return e?QR(e).getFullYear().toString():""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?qR(e,-1*(n-i)):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?MR(t):e>n&&this.isEqual(e,n)?MR(n):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const LD=[[]],VD={[dD.Left]:e=>UR(e,-1),[dD.Up]:e=>UR(e,-5),[dD.Right]:e=>UR(e,1),[dD.Down]:e=>UR(e,5),[dD.PrevView]:e=>KR(e,-1),[dD.NextView]:e=>KR(e,1),[dD.FirstInView]:e=>QR(e),[dD.LastInView]:e=>JR(e)};let GD=(()=>{class e{addToDate(e,t){return KR(e,t)}datesList(e,t){return ED(0,t).map(t=>KR(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:o,min:r,selectedDate:s,selectionRange:a=fD,viewDate:l}=e;if(!l)return LD;const u=ED(0,5),c=QR(l),h=JR(l),p=_D(s,r,o),d=TD();return ED(0,2).map(e=>{const l=UR(c,5*e);return u.map(e=>{const u=this.normalize(UR(l,e),r,o);if(!this.isInRange(u,r,o))return null;const f=this.isEqual(u,a.start),g=this.isEqual(u,a.end),m=!f&&!g&&ID(u,a);return{formattedValue:this.value(u),id:`${t}${u.getTime()}`,isFocused:this.isEqual(u,n),isSelected:i&&p&&this.isEqual(u,s),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(u,h),isRangeSplitStart:m&&this.isEqual(u,c),isToday:this.isEqual(u,d),title:this.cellTitle(u),value:u}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}isInRange(e,t,n){const i=e.getFullYear(),o=!t||t.getFullYear()<=i,r=!n||i<=n.getFullYear();return o&&r}beginningOfPeriod(e){if(!e)return e;const t=QR(e);return GR(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%100==0}move(e,t){const n=VD[t];return n?n(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?QR(e).getFullYear().toString():""}title(e){return e?`${QR(e).getFullYear()} - ${JR(e).getFullYear()}`:""}rowLength(e){return 5}skip(e,t){return eP(t,e)}total(e,t){return eP(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?KR(e,-1*(n-i)):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?MR(t):e>n&&this.isEqual(e,n)?MR(n):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const HD=[[]],WD={[dD.Left]:e=>VR(e,-1),[dD.Up]:e=>tP(e,-1),[dD.Right]:e=>VR(e,1),[dD.Down]:e=>tP(e,1),[dD.PrevView]:e=>jR(e,-1),[dD.NextView]:e=>jR(e,1),[dD.FirstInView]:e=>nP(e),[dD.LastInView]:e=>BR(e)};let BD=(()=>{class e{constructor(e){this._intlService=e}addToDate(e,t){return jR(e,t)}datesList(e,t){return ED(0,t).map(t=>jR(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:o,min:r,selectedDate:s,selectionRange:a=fD,viewDate:l,isDateDisabled:u=(()=>!1)}=e;if(!l)return HD;const c=nP(l),h=HR(c),p=BR(l),d=HR(p),f=_D(s,r,o),g=oP(c,this._intlService.firstDay(),-1),m=ED(0,7),y=TD();return ED(0,6).map(e=>{const l=VR(g,7*e);return m.map(e=>{const g=this.normalize(VR(l,e),r,o),m=HR(g);if(m<h||m>d||g<r||g>o)return null;const v=this.isEqual(g,a.start),C=this.isEqual(g,a.end),w=!v&&!C&&ID(g,a);return{formattedValue:this.value(g),id:`${t}${g.getTime()}`,isFocused:this.isEqual(g,n),isSelected:i&&f&&this.isEqual(g,s),isWeekend:this.isWeekend(g),isRangeStart:v,isRangeMid:w,isRangeEnd:C,isRangeSplitStart:w&&this.isEqual(g,c),isRangeSplitEnd:w&&this.isEqual(g,p),isToday:this.isEqual(g,y),title:this.cellTitle(g),value:g,isDisabled:u(g)}})})}isEqual(e,t){return!(!e||!t)&&HR(e).getTime()===HR(t).getTime()}isInArray(e,t){if(0===t.length)return!1;const n=this.beginningOfPeriod(t[0]),i=this.beginningOfPeriod(jR(t[t.length-1],1));return n<=e&&e<i}isInRange(e,t,n){const i=HR(e),o=!t||HR(t)<=i,r=!n||i<=HR(n);return o&&r}beginningOfPeriod(e){return e?GR(e.getFullYear(),e.getMonth(),1):e}isRangeStart(e){return!e.getMonth()}move(e,t){const n=WD[t];return n?n(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e){return 7+(e?1:0)}skip(e,t){return rP(t,e)}total(e,t){return rP(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?jR(e,-1*(n-i)):e}isWeekend(e){const{start:t,end:n}=this._intlService.weekendRange(),i=e.getDay();return n<t?i<=n||t<=i:t<=i&&i<=n}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?MR(t):e>n&&this.isEqual(e,n)?MR(n):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}return e.\u0275fac=function(t){return new(t||e)(bt($T))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const jD=[[]],zD={[dD.Left]:e=>jR(e,-1),[dD.Up]:e=>{return jR(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t},[dD.Right]:e=>jR(e,1),[dD.Down]:e=>{return jR(e,(t=e.getMonth())<7?5:t<10?7:2);var t},[dD.PrevView]:e=>UR(e,-1),[dD.NextView]:e=>UR(e,1),[dD.FirstInView]:e=>aP(e),[dD.LastInView]:e=>lP(e)};let UD=(()=>{class e{constructor(e){this._intlService=e}addToDate(e,t){return UR(e,t)}datesList(e,t){return ED(0,t).map(t=>UR(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:o,min:r,selectedDate:s,selectionRange:a=fD,viewDate:l}=e;if(!l)return jD;const u=this.abbrMonthNames(),c=_D(s,r,o),h=aP(l),p=lP(l),d=h.getFullYear(),f=ED(0,5),g=TD();return ED(0,3).map(e=>{const l=jR(h,5*e);return f.map(e=>{const f=this.normalize(jR(l,e),r,o),m=d<f.getFullYear();if(!this.isInRange(f,r,o)||m)return null;const y=this.isEqual(f,a.start),v=this.isEqual(f,a.end),C=!y&&!v&&ID(f,a);return{formattedValue:u[f.getMonth()],id:`${t}${f.getTime()}`,isFocused:this.isEqual(f,n),isSelected:i&&c&&this.isEqual(f,s),isWeekend:!1,isRangeStart:y,isRangeMid:C,isRangeEnd:v,isRangeSplitEnd:C&&this.isEqual(f,p),isRangeSplitStart:C&&this.isEqual(f,h),isToday:this.isEqual(f,g),title:this.cellTitle(f),value:f}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}isInRange(e,t,n){const i=GR(e.getFullYear(),e.getMonth(),1),o=!t||GR(t.getFullYear(),t.getMonth(),1)<=i,r=!n||i<=GR(n.getFullYear(),n.getMonth(),1);return o&&r}beginningOfPeriod(e){return e?GR(e.getFullYear(),0,1):e}isRangeStart(e){return e.getFullYear()%10==0}move(e,t){const n=zD[t];return n?n(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(e){return 5}skip(e,t){return uP(t,e)}total(e,t){return uP(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?UR(e,-1*(n-i)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?MR(t):e>n&&this.isEqual(e,n)?MR(n):e}}return e.\u0275fac=function(t){return new(t||e)(bt($T))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();var KD=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({});const qD={[KD.month]:BD,[KD.year]:UD,[KD.decade]:GD,[KD.century]:MD};let YD=(()=>{class e{constructor(e){this.injector=e,this.viewChanged=new Jl,this.bottom=KD.month,this.top=KD.century}configure(e,t){this.bottom=e,this.top=t}service(e){const t=qD[e];return t?this.injector.get(t):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t){const n=this.clamp(((e,t)=>{const n=KD[KD[e+t]];return void 0!==n?n:e})(e,t));n!==e&&this.viewChanged.emit({view:n})}}return e.\u0275fac=function(t){return new(t||e)(bt(as))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const $D=e=>e&&(!e.touched||e.control&&"blur"===e.control.updateOn),XD=e=>e.preventDefault(),QD=e=>null!=e,ZD=DD("div"),JD=DD("ul"),eA=DD("li"),tA=DD("td"),nA=DD("th"),iA=DD("tr"),oA=DD("tbody"),rA=DD("thead"),sA=DD("table"),aA=(e,t)=>new Array(e).fill("1").map(t),lA=e=>ZD(e,"k-content k-scrollable"),uA=(()=>{let e;return()=>Mv?(e||(e=ZD([lA([JD([eA("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),e):null})(),cA=({cells:e,rows:t},n,i)=>{let o;return()=>Mv?(o||(o=((e,t,n)=>ZD([ZD('\n            <span class="k-button k-bare k-title">March 2017</span>\n            <span class="k-today">TODAY</span>\n        ',"k-calendar-header"),n?sA([rA([iA([nA("MO")])])],"k-calendar-weekdays"):null,lA([e,e])],t,{left:"-10000px",position:"absolute"}))(((e,t=1)=>sA([oA([iA([nA("1")])].concat(aA(e,()=>iA(aA(t,e=>tA(`<span class="k-link">${e}</span>`))))))]))(t,e),n,i)),o):null},hA=e=>e.querySelector(".k-scrollable"),pA=e=>(hA(e).classList.add("k-scrollable-horizontal"),e),dA=cA({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),fA=cA({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),gA=cA({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),mA=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,yA=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},vA=e=>e.querySelector("tbody");let CA=(()=>{class e{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){Mv()&&(this.hostContainer=e,this.batch(dA(),e=>{const t=vA(e);this.calendarHeight=mA(e),this.monthViewHeight=mA(t),this.headerHeight=mA(t.children[0]),this.scrollableContentHeight=mA(hA(e))}),this.batch(pA(dA()),e=>{const t=vA(e);this.calendarWidth=yA(e),this.monthViewWidth=yA(t),this.scrollableContentWidth=yA(hA(e))}),this.batch(fA(),e=>{this.yearViewHeight=mA(vA(e)),this.scrollableYearContentHeight=mA(hA(e))}),this.batch(pA(fA()),e=>{this.yearViewWidth=yA(vA(e))}),this.batch(gA(),e=>{this.decadeViewHeight=mA(vA(e)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(pA(gA()),e=>{this.decadeViewWidth=yA(vA(e)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(uA(),e=>{this.navigationItemHeight=mA(e.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const n="height"===t?"ViewHeight":"ViewWidth";switch(e){case KD.month:return this["month"+n];case KD.year:return this["year"+n];case KD.decade:return this["decade"+n];case KD.century:return this["century"+n];default:return 1}}batch(e,t){if(!QD(this.hostContainer))return;const n=this.hostContainer.cloneNode();document.body.appendChild(n);try{t(n.appendChild(e))}catch(i){throw i}finally{document.body.removeChild(n)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class wA{constructor(e=0,t,n){this.total=e,this.rowHeight=t,this.detailRowHeight=n,this.offsets=[],this.heights=[];let i=0;for(let o=0;o<e;o++)this.offsets.push(i),i+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}index(e){if(e<0)return;const t=this.offsets.reduce((t,n,i)=>void 0!==t?t:n===e?i:n>e?i-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.heights[e]+=t,this.offsets=((e,t,n)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+n)])(this.offsets,e,t)}}const bA=e=>Math.max(e,0);class SA{constructor(e){this.offset=e}}class EA{constructor(e){this.skip=e}}class _A{constructor(e){this.scrollObservable=e,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(e,t,n,i,o=0,r=0,s="vertical"){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=o,this.bottomOffset=r,this.direction=s;const a=new vP(2),l=this.rowsForHeight(o),u=bA(t-l);return a.next(new SA(this.rowOffset(u))),l&&a.next(new EA(u)),this.subscription=v.create(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>a.next(e)),a}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:e,scrollTop:t,offsetHeight:n,offsetWidth:i},o){const r="vertical"===this.direction?t:e,s="vertical"===this.direction?n:i;if(this.lastScroll===r)return;const a=this.lastScroll>=r;this.lastScroll=r;const l=this.rowHeightService.index(bA(r-this.topOffset)),u=this.rowHeightService.index(bA(r+s-this.bottomOffset));if(!a&&u>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,o.next(new SA(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),o.next(new EA(this.firstLoaded))),a&&l<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=bA(l-e),o.next(new SA(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),o.next(new EA(this.firstLoaded))}}rowOffset(e){return this.rowHeightService.offset(e)+this.topOffset}rowsForHeight(e){return Math.ceil(e/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const OA=new we("dateinputs-scroll-service-factory");function xA(e){return new _A(e)}var TA=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({});const RA={[TA.Forward]:e=>t=>t+e,[TA.Backward]:e=>t=>t-e},PA={[TA.Forward]:e=>t=>Math.min(t,e),[TA.Backward]:e=>t=>Math.max(t,e)},DA={[TA.Forward]:e=>t=>t<e,[TA.Backward]:e=>t=>t>e};let AA=(()=>{class e{constructor(e,t,n,i){this.container=t,this.renderer=n,this.zone=i,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new Jl,this.pageChange=new Jl,this.scrollChange=new Jl,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new E,this.scroller=e(this.dispatcher)}get totalVertexLength(){const e=this.totalSize+"px";return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}get wrapperClasses(){return!0}get horizontalClass(){return"horizontal"===this.direction}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe(x(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,n=t+this.containerOffsetSize,i=this.rowHeightService.offset(e),o=i+this.rowHeightService.height(e);return i>=t&&o<=n}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const t=this.rowHeightService.offset(e),n=this.getContainerScrollDirection(t),{start:i,end:o}=this.scrollRange(t,n);if(i===o)return;const r=this.scrollStep(i,o),s=RA[n](r),a=PA[n](o),l=DA[n](s(o));this.zone.runOutsideAngular(()=>{this.animationSubscription=qh(Wh(i),ev(0,SP)).pipe(x(e=>e[0]),Sp(s),function(e,t=!1){return n=>n.lift(new EP(e,t))}(l),x(a)).subscribe(e=>this.scrollTo(e))})}scrollRange(e,t){const n=this.containerScrollPosition;if(parseInt(e,10)===parseInt(n,10))return{start:e,end:e};const i=this.containerMaxScroll(),o=t===TA.Backward?1:-1,r=(s=this.maxScrollDifference,Math.min(Math.abs(e-n),s));var s;const a=Math.min(e,i);return{start:Math.min(Math.max(a+o*r,0),i),end:a}}scrollStep(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}scroll$(){return Mv()?Hy(this.container.nativeElement,"scroll"):Qh}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof EA?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new wA(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?TA.Backward:TA.Forward}}return e.\u0275fac=function(t){return new(t||e)(Rs(OA),Rs(Wa),Rs(ja),Rs(zu))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-virtualization"]],hostVars:6,hostBindings:function(e,t){2&e&&na("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[Fa([{provide:OA,useValue:xA}]),gi],ngContentSelectors:OP,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(Ks(),qs(0),Fs(1,"div",0)),2&e&&(Qo(1),na("k-scrollable-horizontal-placeholder","horizontal"===t.direction),Ds("ngStyle",t.totalVertexLength))},directives:[eh],encapsulation:2}),e})();const kA=(e,t,n)=>{for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},IA=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e};let FA=(()=>{class e{constructor(e,t,n,i,o){this.bus=e,this.dom=t,this.intl=n,this.cdr=i,this.renderer=o,this.min=new Date(gD),this.max=new Date(mD),this.focusedDate=new Date,this.valueChange=new Jl,this.pageChange=new Jl,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=KD[this.activeView];const t=xD(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(t,this.min),this.total=n,!i&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,n=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",n),this.renderer.setStyle(t,"-ms-transform",n)}handleDateChange(e){const t=kA(e.target,e=>e.hasAttribute("data-date-index"),this.list.nativeElement);if(t){const e=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(MR(this.dates[e]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===KD.month&&this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs(CA),Rs($T),Rs(cl),Rs(ja))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){if(1&e&&(du(AA,!0),pu(xP,!0)),2&e){let e;hu(e=vu())&&(t.virtualization=e.first),hu(e=vu())&&(t.list=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&na("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[gi],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Fs(0,"span",0),ks(1,"kendo-virtualization",1),Ws("pageChange",function(e){return t.onPageChange(e)})("scrollChange",function(e){return t.scrollChange(e)}),ks(2,"ul",2,3),xs(4,DP,4,11,"li",4),Is(),Is()),2&e&&(Qo(1),Ds("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),Qo(1),Ds("kendoEventsOutsideAngular",Gl(10,AP,t.handleDateChange))("scope",t),Qo(2),Ds("kForOf",t.dates))},directives:function(){return[AA,jv,bk,qc,th]},encapsulation:2,changeDetection:0}),e})(),NA=(()=>{class e{constructor(e,t,n,i,o){this.bus=e,this.cdr=t,this.intl=n,this.dom=i,this.renderer=o,this.isActive=!0,this.min=new Date(gD),this.max=new Date(mD),this.activeDateChange=new Jl,this.valueChange=new Jl,this.pageChange=new Jl,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentClass(){return!0}get getComponentMonthClass(){return this.activeView===KD.month}get getComponentYearClass(){return this.activeView===KD.year}get getComponentDecadeClass(){return this.activeView===KD.decade}get getComponentCenturyClass(){return this.activeView===KD.century}ngOnInit(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=AD(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;const t=AD(e,"activeView"),n=this.focusedDate,i=xD(this.service.viewDate(n,this.max,this.minViewsToRender),this.min,this.max),o=this.service.total(this.min,this.max),r=this.total&&this.total!==o||!this.service.isInArray(n,this.dates);var s,a;this.skip=this.service.skip(i,this.min),this.total=o,this.animateToIndex=!t,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),r&&(this.dates=this.service.datesList(i,this.getTake(this.skip))),a=n,(s=this.activeDate)&&a&&s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()||(this.activeDate=MR(n));const l=AD(e,"focusedDate")||t;(r||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(n,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,n=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",n),this.renderer.setStyle(t,"-ms-transform",n)}setActiveDate(e){const t=this.service.addToDate(this.min,e);WR(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}handleDateChange(e){this.valueChange.emit(e)}isMonthView(){return this.activeView===KD.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===KD.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(){const e=PD(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}intlChange(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs(cl),Rs($T),Rs(CA),Rs(ja))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){if(1&e&&(du(AA,!0),pu(xP,!0)),2&e){let e;hu(e=vu())&&(t.virtualization=e.first),hu(e=vu())&&(t.list=e.first)}},hostVars:10,hostBindings:function(e,t){2&e&&na("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",value:"value"},outputs:{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"},features:[gi],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","today"],["class","k-calendar-weekdays","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],["list",""],[4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change",4,"kFor","kForOf"],[1,"k-calendar-weekdays",2,"table-layout","auto"],[3,"width",4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change"]],template:function(e,t){1&e&&(ks(0,"kendo-calendar-header",0),Ws("today",function(e){return t.handleDateChange(e)}),Is(),xs(1,IP,4,1,"table",1),ks(2,"kendo-virtualization",2),Ws("pageChange",function(e){return t.onPageChange(e)})("scrollChange",function(e){return t.scrollChange(e)})("activeIndexChange",function(e){return t.setActiveDate(e)}),ks(3,"table",null,3),ks(5,"colgroup"),xs(6,FP,1,0,"col",4),Is(),xs(7,NP,1,11,"tbody",5),Is(),Is()),2&e&&(Ds("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),Qo(1),Ds("ngIf",t.isMonthView()),Qo(1),Ds("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),Qo(4),Ds("ngForOf",t.cols),Qo(1),Ds("kForOf",t.dates))},directives:function(){return[Sk,qc,AA,Uc,bk,_k]},encapsulation:2,changeDetection:0}),e})();const MA={33:dD.PrevView,34:dD.NextView,35:dD.LastInView,36:dD.FirstInView,37:dD.Left,38:dD.Up,39:dD.Right,40:dD.Down,"meta+38":dD.UpperView,"meta+40":dD.LowerView};let LA=(()=>{class e{constructor(e){this.bus=e}action(e){return MA[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,t,n){const i=this.bus.service(n);return i?t===dD.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),e):t===dD.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),e):i.move(e,t):e}}return e.\u0275fac=function(t){return new(t||e)(bt(YD))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),VA=(()=>{class e{constructor(e,t){this.dom=e,this.zone=t}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t){this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular(()=>{let n,i;this.navSubscription=e.scroll$().subscribe(e=>{i?i=!1:(n=!0,this.scrollSiblingOf(e.target))}),this.viewSubscription=t.scroll$().subscribe(e=>{n?n=!1:(i=!0,this.scrollSiblingOf(e.target))})}))}scrollSiblingOf(e){const t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(bt(CA),bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),GA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarCellTemplate",""]]}),e})(),HA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),e})(),WA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarYearCellTemplate",""]]}),e})(),BA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),e})(),jA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),e})(),zA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),e})(),UA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),e})(),KA=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),e})(),qA=(()=>{class e{constructor(){this.onFocus=new Jl,this.onBlur=new Jl,this.sameDateSelected=new Jl,this.dateCompletenessChange=new Jl}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const YA=e=>t=>e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null,$A=e=>t=>e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null,XA=()=>!1;let QA=(()=>{class e{constructor(){this.changes=new E,this.isDateDisabled=XA}initialize(e){if("function"==typeof e)this.isDateDisabled=t=>e(HR(t));else if(t=e,Array.isArray(t)&&t.length>0&&t.every(e=>"number"==typeof e)){const t=new Set(e);this.isDateDisabled=e=>t.has(e.getDay())}else if((e=>Array.isArray(e)&&e.length>0&&e.every(e=>e instanceof Date))(e)){const t=new Set(e.map(e=>HR(e).getTime()));this.isDateDisabled=e=>t.has(HR(e).getTime())}else this.isDateDisabled=XA,this.notifyInvalidInput(e);var t;this.notifyServiceChange()}notifyInvalidInput(e){if(QD(e)&&Gn())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const ZA=e=>e?e.virtualization:null,JA={multi:!0,provide:bm,useExisting:Pe(()=>nk)},ek={multi:!0,provide:Pm,useExisting:Pe(()=>nk)},tk={provide:eC,useExisting:Pe(()=>nk)};let nk=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c){this.bus=e,this.dom=t,this.element=n,this.navigator=i,this.renderer=o,this.cdr=r,this.ngZone=s,this.injector=a,this.scrollSyncService=l,this.disabledDatesService=u,this.pickerService=c,this.id=Hv(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=KD[KD.month],this.bottomView=KD[KD.month],this.topView=KD[KD.century],this.weekNumber=!1,this.activeViewChange=new Jl,this.activeViewDateChange=new Jl,this.valueChange=new Jl,this.isActive=!1,this.cellUID=Hv(),this._min=new Date(gD),this._max=new Date(mD),this._focusedDate=TD(),this.onControlChange=RD,this.onControlTouched=RD,this.onValidatorChange=RD,this.minValidateFn=RD,this.maxValidateFn=RD,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(n.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set focusedDate(e){this._focusedDate=e||TD(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(gD)}get min(){return this._min}set max(e){this._max=e||new Date(mD)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=MR(e)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}get activeViewEnum(){const e=KD[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return KD[this.bottomView]}get topViewEnum(){return KD[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}ngOnInit(){this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=KD[e],this.emitEvent(this.activeViewChange,this.activeView),this.scrollSyncService.configure(e),this.detectChanges()}),this.control=this.injector.get(zm,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);const t=kD(e,"value")&&!kD(e,"focusedDate"),n=xD(MR(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=WR(this.focusedDate,n)?this.focusedDate:n,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?YA(this.min):RD,this.maxValidateFn=this.rangeValidation?$A(this.max):RD,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant()}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(ZA(this.navigationView),ZA(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}containsElement(e){return Boolean(IA(e,e=>e===this.element.nativeElement))}handleNavigation(e){if(this.disabled)return;const t=e?new Date(MR(e).setDate(1)):this.focusedDate;this.focusedDate=xD(t,this.min,this.max),this.detectChanges()}onPageChange(){zu.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=M(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleDateChange(e){const t=this.bus.canMoveDown(this.activeViewEnum),n=!t&&WR(e,this.value);this.focusedDate=MR(e)||this.focusedDate,this.disabled||(n?this.emitSameDate():t?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run(()=>{this.value=MR(e),this.onControlChange(MR(e)),this.valueChange.emit(MR(e)),this.cdr.markForCheck()}))}writeValue(e){this.verifyValue(e),this.focusedDate=xD(MR(e)||this.focusedDate,this.min,this.max),this.value=MR(e),this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case KD.month:return this.monthCellTemplate||this.cellTemplate;case KD.year:return this.yearCellTemplate;case KD.decade:return this.decadeCellTemplate;case KD.century:return this.centuryCellTemplate;default:return null}}emitEvent(e,t){Gv(e)&&this.ngZone.run(()=>{e.emit(t)})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}verifyChanges(){if(Gn()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Gn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",XD),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit()}handleBlur(e){this.isActive=!1,!this.pickerService&&$D(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges())}handleFocus(){this.isActive=!0,zu.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleClick(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=MR(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){const t=-1!==[tC.ArrowUp,tC.ArrowRight,tC.ArrowDown,tC.ArrowLeft].indexOf(e.keyCode);if(QD(this.pickerService)&&t&&e.altKey)return;const n=xD(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);WR(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),e.preventDefault()),e.keyCode===tC.Enter&&this.handleDateChange(this.focusedDate)}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){if(!QD(this.element))return;const e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs(CA),Rs(Wa),Rs(LA),Rs(ja),Rs(cl),Rs(zu),Rs(as),Rs(VA),Rs(QA),Rs(qA,8))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-calendar"]],contentQueries:function(e,t,n){if(1&e&&(mu(n,GA,!0),mu(n,HA,!0),mu(n,WA,!0),mu(n,BA,!0),mu(n,jA,!0),mu(n,zA,!0),mu(n,UA,!0),mu(n,KA,!0)),2&e){let e;hu(e=vu())&&(t.cellTemplate=e.first),hu(e=vu())&&(t.monthCellTemplate=e.first),hu(e=vu())&&(t.yearCellTemplate=e.first),hu(e=vu())&&(t.decadeCellTemplate=e.first),hu(e=vu())&&(t.centuryCellTemplate=e.first),hu(e=vu())&&(t.weekNumberTemplate=e.first),hu(e=vu())&&(t.headerTitleTemplate=e.first),hu(e=vu())&&(t.navigationItemTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(du(FA,!0),du(NA,!0)),2&e){let e;hu(e=vu())&&(t.navigationView=e.first),hu(e=vu())&&(t.monthView=e.first)}},hostVars:8,hostBindings:function(e,t){2&e&&(Os("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),na("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[Fa([YD,JA,ek,tk,Sw,QA,{provide:bw,useValue:"kendo.calendar"},LA,VA]),gi],decls:4,vars:12,consts:function(){let e;return e=$localize`:kendo.calendar.today|The label for the today button in the calendar header␟2df64767cd895a8fabe3e18b94b5b6b6f9e2e3f0␟826701167553276328:TODAY`,[["kendoCalendarLocalizedMessages","","today",e],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","value","valueChange","activeDateChange","pageChange"],[3,"resize"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"]]},template:function(e,t){if(1&e&&(Ls(0,0),xs(1,MP,1,5,"kendo-calendar-navigation",1),ks(2,"kendo-calendar-viewlist",2),Ws("valueChange",function(e){return t.handleDateChange(e)})("activeDateChange",function(e){return t.emitEvent(t.activeViewDateChange,e)})("pageChange",function(){return t.onPageChange()}),Is(),ks(3,"kendo-resize-sensor",3),Ws("resize",function(){return t.onResize()}),Is()),2&e){let e=null;Qo(1),Ds("ngIf",t.navigation),Qo(1),Ds("activeView",t.activeViewEnum)("isActive",t.isActive)("cellTemplateRef",null==(e=t.activeCellTemplate())?null:e.templateRef)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("value",t.value)}},directives:function(){return[Pk,qc,NA,Zv,FA]},encapsulation:2,changeDetection:0}),e})();const ik=()=>(e,t)=>!QD(e.value)&&t?{incompleteDate:!0}:null;var ok=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({});const rk=/year|month|<day>/,sk=/hour|minute|second|millisecond/,ak=/d|M|H|h|m|s/,lk=e=>e.replace(/^0*/,"");class uk{constructor(){this.symbols=""}}class ck{constructor(e,t,n,i){if(this.intl=e,this.formatPlaceholder=t,this.format=n,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=HR(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),i)this.value=MR(i);else{this.value=HR(new Date);const e=this.dateFormatString(this.value,this.format).symbols;for(let t=0;t<e.length;t++)this.setExisting(e[t],!1)}}hasValue(){return this.intl.splitDateFormat(this.format).reduce((e,t)=>e||"literal"!==t.type&&"dayperiod"!==t.type&&this.getExisting(t.pattern[0]),!1)}getDateObject(){for(let e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return MR(this.value)}getTextAndFormat(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}getExisting(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}setExisting(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}modifyPart(e,t){let n=MR(this.value);switch(e){case"y":n.setFullYear(n.getFullYear()+t);break;case"M":n=jR(this.value,t);break;case"d":case"E":n.setDate(n.getDate()+t);break;case"h":case"H":n.setHours(n.getHours()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"s":n.setSeconds(n.getSeconds()+t);break;case"a":n.setHours(n.getHours()+12*t)}n.getFullYear()>0&&(this.setExisting(e,!0),this.value=n)}parsePart(e,t,n){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};let i=this.intl.formatDate(this.value,this.format),o=this.dateFormatString(this.value,this.format),r=o.symbols,s=!1,a="",l="",u="";for(let m=0;m<i.length;m++)r[m]===e?(l+=this.getExisting(e)?i[m]:"0",s=!0):s?u+=i[m]:a+=i[m];let c=l.length-3,h=null;const p=this.matchMonth(t),d=this.matchDayPeriod(t,e),f="0"===t,g=(this.leadingZero||{})[e]||0;f?0!==parseInt(n?t:l+t,10)||this.isAbbrMonth(o.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(let m=Math.max(0,c);m<=l.length;m++){let i=n?t:l.substring(m)+t,r=parseInt(i,10);if(h=this.intl.parseDate(a+i+u,this.format),!h&&!isNaN(r)&&!isNaN(parseInt(t,10))){if("M"===e&&!p){const e=r-1;e>-1&&e<12&&(h=MR(this.value),h.setMonth(e),h.getMonth()!==e&&(h=BR(jR(h,-1))))}"y"===e&&(h=GR(parseInt(i,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&h.getDate()!==this.value.getDate()&&(h=BR(jR(h,-1))))}if(h){const n=this.partPattern(o.partMap,e).pattern,r=this.intl.parseDate(`${a}${this.peek(i,n)}${u}`,this.format),s=this.patternLength(n)||n.length,l=g+(lk(i)||t).length>=s,c=null===r||l;return this.value=h,this.setExisting(e,!0),{value:this.value,switchToNext:c}}}return p&&(h=this.intl.parseDate(a+p+u,this.format),h)?(this.value=h,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):d&&(h=this.intl.parseDate(a+d+u,this.format),h)?(this.value=h,{value:this.value,switchToNext:!0}):(f&&this.setExisting(e,!1),{value:null,switchToNext:!1})}resetLeadingZero(){const e=null!==this.leadingZero;return this.setLeadingZero(null),e}setLeadingZero(e){this.leadingZero=e}incrementLeadingZero(e){const t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}isAbbrMonth(e,t){const n=this.partPattern(e,t);return"month"===n.type&&n.names}partPattern(e,t){return e.filter(e=>-1!==e.pattern.indexOf(t))[0]}peek(e,t){const n=lk(e)+"0";return(e=>new Array(Math.max(e,0)).fill("0").join(""))(t.length-n.length)+n}matchMonth(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(let t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(e,t){const n=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}allFormatedMonths(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}allDayPeriods(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}patternLength(e){return"y"===e[0]?4:ak.test(e)?2:0}dateFormatString(e,t){const n=this.intl.splitDateFormat(t),i=[],o=[];for(let s=0;s<n.length;s++){let t=this.intl.formatDate(e,{pattern:n[s].pattern}).length;for(;t>0;)i.push(this.symbols[n[s].pattern[0]]||"_"),o.push(n[s]),t--}const r=new uk;return r.symbols=i.join(""),r.partMap=o,r}merge(e,t){let n="",i="",o=t.symbols;for(let r=o.length-1;r>=0;r--)if(-1===this.knownParts.indexOf(o[r])||this.getExisting(o[r]))n=e[r]+n,i=o[r]+i;else{const e=o[r];for(;r>=0&&e===o[r];)r--;for(r++,n=this.leadingZero&&this.leadingZero[e]?"0"+n:this.dateFieldName(t.partMap[r])+n;i.length<n.length;)i=o[r]+i}return[n,i]}dateFieldName(e){const t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}let hk=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.cdr=e,this.intl=t,this.renderer=n,this.element=i,this.ngZone=o,this.injector=r,this.localization=s,this.pickerService=a,this.focusableId="k-"+Hv(),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.incompleteDateValidation=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new Jl,this.valueUpdate=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.arrow=ok,this.arrowDirection=ok.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidator=RD,this.maxValidator=RD,this.incompleteValidator=RD,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=RD,this.onControlTouched=RD,this.onValidatorChange=RD,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set value(e){this.verifyValue(e),this.autoCorrect&&!_D(e,this.min,this.max)||(this._value=MR(e),this.valueUpdate.emit(MR(e)))}get value(){return this._value}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(e){if(this._active=e,this.wrap&&!QD(this.pickerService)){const t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}isEmpty(){return!this.currentValue||!String(this.currentValue).trim()}containsElement(e){return Boolean(IA(e,e=>e===this.element.nativeElement))}ngOnChanges(e){this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?YA(this.min):RD,this.maxValidator=this.rangeValidation?$A(this.max):RD,this.incompleteValidator=this.incompleteDateValidation?ik():RD,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());const t=this.kendoDate&&WR(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(e=>e())}validate(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}ngOnInit(){this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.ngControl=this.injector.get(zm,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular(()=>{this.bindEvents()}))}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}writeValue(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=MR(e),this.updateElementValue(this.isActive)}triggerChange(){const e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=MR(e),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(MR(this.value)),this.valueChange.emit(MR(this.value))})}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}focus(){const e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}blur(){const e=this.inputElement;e&&e.blur()}handleButtonClick(e){this.arrowDirection=ok.None,this.modifyDateSegmentValue(e)}modifyDateSegmentValue(e){const t=this.caret(),n=this.currentFormat[t[0]];this.kendoDate.modifyPart(n,e*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n),this.updateIncompleteValidationStatus()}switchDateSegment(e){const t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;const n=this.currentFormat[t[0]];let i=t[0]+e;for(;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=e;if("_"===this.currentFormat[i])return!1;let o=i;for(;o>=0&&o<this.currentFormat.length&&this.currentFormat[o]===this.currentFormat[i];)o+=e;return i>o&&(o+1!==t[0]||i+1!==t[1])?(this.caret(o+1,i+1),this.resetSegmentValue=!0,!0):i<o&&(i!==t[0]||o!==t[1])&&(this.caret(i,o),this.resetSegmentValue=!0,!0)}selectDateSegment(e){let t=-1,n=0;for(let i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===e&&(n=i+1,-1===t&&(t=i));t<0&&(t=0),this.caret(0,0),this.caret(t,n)}handleClick(){if(this.hasMousedown=!1,this.isActive){const e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=QD(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,n=!e&&t?0:this.caret()[0];this.selectNearestSegment(n)}}handleDragAndDrop(e){e.preventDefault()}handleMousedown(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}handleFocus(e){this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,Gv(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(e)}):this.emitFocus(e)}handleBlur(e){this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),Gv(this.onBlur)||$D(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):this.emitBlur(e)}getKendoDate(e){const{leadingZero:t}=this.kendoDate||{}||null,n=new ck(this.intl,this.formatPlaceholder,this.format,e);return n.setLeadingZero(this.isActive?t:null),n}dateSymbolMap(){return this.intl.splitDateFormat(this.format).reduce((e,t)=>(e[t.pattern[0]]=t.type,e),{})}updateElementValue(e){const t=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&QD(this.placeholder)&&!this.kendoDate.hasValue(),o=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(o,"value",this.currentValue),o.placeholder!==this.placeholder&&this.renderer.setProperty(o,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}caret(e,t=e){const n=void 0!==e;let i=[e,e];const o=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==o.selectionStart&&(n&&(Mv()&&document.activeElement!==o&&o.focus(),o.setSelectionRange(e,t)),i=[o.selectionStart,o.selectionEnd])}catch(r){i=[]}return i}}selectNearestSegment(e){for(let t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}verifyRange(){if(Gn()&&!OD(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(e){if(Gn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}putDateInRange(){const e=this.kendoDate.getDateObject(),t=xD(e,this.min,this.max);this.autoCorrect&&!WR(e,t)&&(this.kendoDate=this.getKendoDate(t))}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.format).reduce(({date:e,time:t},n)=>({date:e||rk.test(n.type),time:t||sk.test(n.type)}),{date:!1,time:!1})}intlChange(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}updateOnPaste(){const e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}bindEvents(){const e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}handleMouseWheel(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}handlePaste(){this.paste=!0}handleKeydown(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==tC.Tab)if(e.keyCode!==tC.Backspace){switch(e.keyCode){case tC.ArrowDown:this.modifyDateSegmentValue(-1);break;case tC.ArrowUp:this.modifyDateSegmentValue(1);break;case tC.ArrowRight:this.switchDateSegment(1);break;case tC.ArrowLeft:this.switchDateSegment(-1);break;case tC.Home:this.selectNearestSegment(0);break;case tC.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}handleInput(){if(this.disabled||this.readonly)return;if(this.paste)return this.updateOnPaste(),void(this.paste=!1);const e=((e,t,n,i)=>{const o=i+e.length-n.length,r=e[o],s=e.substring(0,i+e.length-n.length),a=n.substring(0,i),l=[];if(s===a&&i>0)return l.push([t[i-1],a[i-1]]),l;if(0===s.indexOf(a)&&(0===a.length||t[a.length-1]!==t[a.length])){let e="";1===a.length&&l.push([t[0],a[0]]);for(let n=a.length;n<s.length;n++)t[n]!==e&&"_"!==t[n]&&(e=t[n],l.push([e,""]));return l}if(0===a.indexOf(s)||"_"===t[i-1]){let e=t[0];for(let n=Math.max(0,s.length-1);n<t.length;n++)if("_"!==t[n]){e=t[n];break}return[[e,a[i-1]]]}return" "===a[a.length-1]||a[a.length-1]===r&&"_"===t[o]?[[t[i-1],"_"]]:[[t[i-1],a[i-1]]]})(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1];let n=!1;if(!t){let t;for(let o=0;o<e.length;o++)t=this.kendoDate.parsePart(e[o][0],e[o][1],this.resetSegmentValue),n=t.switchToNext;const i=this.kendoDate.getDateObject();this.value&&i&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(CD(this.value,i)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.updateIncompleteValidationStatus(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(n||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}emitFocus(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}emitBlur(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}updateIncompleteValidationStatus(){const e=this.isDateIncomplete;this.isDateIncomplete=this.kendoDate.hasValue()&&null===this.value,e!==this.isDateIncomplete&&this.incompleteDateValidation&&(QD(this.ngControl)&&!QD(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):QD(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}}return e.\u0275fac=function(t){return new(t||e)(Rs(cl),Rs($T),Rs(ja),Rs(Wa),Rs(zu),Rs(as),Rs(Sw),Rs(qA,8))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){if(1&e&&(pu(LP,!0),du(VP,!0)),2&e){let e;hu(e=vu())&&(t.dateInput=e.first),hu(e=vu())&&(t.wrap=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&na("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",incompleteDateValidation:"incompleteDateValidation",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",steps:"steps",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[Fa([{provide:bm,useExisting:Pe(()=>e),multi:!0},{provide:Pm,useExisting:Pe(()=>e),multi:!0},{provide:bw,useValue:"kendo.dateinput"},{provide:eC,useExisting:Pe(()=>e)},Sw]),gi],decls:6,vars:21,consts:function(){let e,t;return e=$localize`:kendo.dateinput.increment|The label for the **Increment** button in the DateInput␟a55944f9de69e7cc86b91200fe96f980a947d704␟589112377451589685:Increase value`,t=$localize`:kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput␟0eded761107e6dad120997006a7f915bade9b15c␟6980524091606682769:Decrease value`,[["kendoDateInputLocalizedMessages","","increment",e,"decrement",t],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"span",1,2),Fs(3,"input",3,4),xs(5,GP,5,8,"span",5),Is()),2&e&&(Qo(3),Ds("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",jl(13,HP,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),Os("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),Qo(2),Ds("ngIf",t.spinners))},directives:function(){return[Vk,jv,qc]},encapsulation:2,changeDetection:0}),e})();class pk{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const dk=new we("dateinputs-touch-enabled");let fk=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u){this.zone=e,this.localization=t,this.cdr=n,this.popupService=i,this.element=o,this.renderer=r,this.injector=s,this.pickerService=a,this.disabledDatesService=l,this.touchEnabled=u,this.focusableId="k-"+Hv(),this.activeView=KD[KD.month],this.bottomView=KD[KD.month],this.topView=KD[KD.century],this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=MR(gD),this.max=MR(mD),this.incompleteDateValidation=!1,this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new Jl,this.onFocus=new Jl,this.onBlur=new Jl,this.open=new Jl,this.close=new Jl,this.wrapperClasses=!0,this.popupUID=Hv(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=RD,this.onControlTouched=RD,this.onValidatorChange=RD,this.minValidateFn=RD,this.maxValidateFn=RD,this.disabledDatesValidateFn=RD,this.incompleteValidator=RD,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set value(e){this.verifyValue(e),this._value=MR(e)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}get disabledClass(){return this.disabled}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get isActive(){return this._active}set isActive(e){if(this._active=e,!this.wrapper)return;const t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}get show(){return this._show}set show(e){e&&(this.disabled||this.readonly)||(e||this._show&&Gv(this.close)?this.zone.run(()=>{this.togglePopup(e)}):this.togglePopup(e))}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(zm,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?YA(this.min):RD,this.maxValidateFn=this.rangeValidation?$A(this.max):RD,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,e=>t&&e.value&&t(e.value)?{disabledDate:!0}:null):RD,this.incompleteValidator=this.incompleteDateValidation?ik():RD,this.onValidatorChange())}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(e){this.verifyValue(e),this.value=MR(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}focus(){this.input.focus()}blur(){(this.calendar||this.input).blur()}toggle(e){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===e?!this.show:e)})}handleIconClick(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleMousedown(e){e.preventDefault()}handleChange(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(MR(e)),this.valueChange.emit(MR(e))}handleInputChange(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}get popupClasses(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}mergeTime(e){return this.value&&e?CD(e,this.value):e}handleKeydown(e){const{altKey:t,keyCode:n}=e;n===tC.Escape&&(this.show=!1),t&&(n!==tC.ArrowDown||this.show||(this.show=!0),n===tC.ArrowUp&&(this.show=!1)),n===tC.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}togglePopup(e){const t=new pk;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}_toggle(e){if(e!==this._show)if(this._show=e,e){const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:e},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:e},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifySettings(){if(Gn()&&!OD(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(e){if(Gn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=Hy(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,Gv(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){this.isOpen&&(this.show=!1)}handleBlur(e){const t=e&&(e.relatedTarget||document.activeElement);t&&(this.input.containsElement(t)||this.calendar&&this.calendar.containsElement(t))||(Gv(this.onBlur)||this.show&&Gv(this.close)||$D(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}}return e.\u0275fac=function(t){return new(t||e)(Rs(zu),Rs(Sw),Rs(cl),Rs(_b),Rs(Wa),Rs(ja),Rs(as),Rs(qA),Rs(QA),Rs(dk,8))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,GA,!0),gu(n,HA,!0),gu(n,WA,!0),gu(n,BA,!0),gu(n,jA,!0),gu(n,zA,!0),gu(n,UA,!0),gu(n,KA,!0)),2&e){let e;hu(e=vu())&&(t.cellTemplate=e.first),hu(e=vu())&&(t.monthCellTemplate=e.first),hu(e=vu())&&(t.yearCellTemplate=e.first),hu(e=vu())&&(t.decadeCellTemplate=e.first),hu(e=vu())&&(t.centuryCellTemplate=e.first),hu(e=vu())&&(t.weekNumberTemplate=e.first),hu(e=vu())&&(t.headerTitleTemplate=e.first),hu(e=vu())&&(t.navigationItemTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(du(WP,!0,El),du(BP,!0),du(jP,!0)),2&e){let e;hu(e=vu())&&(t.container=e.first),hu(e=vu())&&(t.popupTemplate=e.first),hu(e=vu())&&(t.wrapper=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&na("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",focusedDate:"focusedDate",format:"format",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[Fa([{provide:bm,useExisting:Pe(()=>e),multi:!0},{provide:Pm,useExisting:Pe(()=>e),multi:!0},{provide:eC,useExisting:Pe(()=>e)},Sw,qA,QA,{provide:bw,useValue:"kendo.datepicker"}]),gi],decls:11,vars:25,consts:function(){let e,t;return e=$localize`:kendo.datepicker.today|The label for the today button in the calendar header␟91a84f2d4871dbe7e90d84865d4a4d83c8ae041e␟1910980355989755624:TODAY`,t=$localize`:kendo.datepicker.toggle|The label for the toggle button in the datepicker component␟f6c28c2d80dbe993c4b33f4dc4010364f41cc2ae␟4817467473728423164:Toggle calendar`,[["kendoDatePickerLocalizedMessages","","today",e,"toggle",t],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","formatPlaceholder","placeholder","min","max","incompleteDateValidation","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"min","max","navigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today"]]},template:function(e,t){1&e&&(Ls(0,0),ks(1,"span",1,2),ks(3,"kendo-dateinput",3,4),Ws("valueChange",function(e){return t.handleInputChange(e)}),Is(),ks(5,"span",5),Fs(6,"span",6),Is(),Is(),Ls(7,null,7),xs(9,KP,4,23,"ng-template",null,8,Su)),2&e&&(Qo(1),na("k-state-disabled",t.disabled),Qo(2),Ds("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("value",t.value),Qo(2),Ds("kendoEventsOutsideAngular",Hl(22,qP,t.handleIconClick,t.handleMousedown))("scope",t),Os("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[Bk,hk,jv,nk,Dk]},encapsulation:2,changeDetection:0}),e})();new RegExp("hour|minute|second|dayperiod|literal"),new RegExp("hour|minute|second|dayperiod|literal");let gk=(()=>{class e{constructor(e,t){this.bus=e,this.cdr=t,this.activeView=KD.month,this.isActive=!0,this.min=new Date(gD),this.max=new Date(mD),this.views=2,this.valueChange=new Jl,this.cellEnter=new Jl,this.cellLeave=new Jl,this.dates=[]}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentClass(){return!0}get getComponentMonthClass(){return this.activeView===KD.month}get getComponentYearClass(){return this.activeView===KD.year}get getComponentDecadeClass(){return this.activeView===KD.decade}get getComponentCenturyClass(){return this.activeView===KD.century}ngOnChanges(e){if(this.initService(),!this.service)return;this.views=this.views||2;const t=this.focusedDate,n=this.clampDate(this.service.viewDate(t,this.max,this.views));this.skip=this.service.skip(n,this.min),this.total=this.service.total(this.min,this.max);const i=AD(e,"activeView"),o=this.views>0&&AD(e,"views");!i&&this.isInDates(t)&&!o&&this.activeDate||(this.dates=this.service.datesList(n,this.getTake(this.skip)),this.activeDate=MR(this.dates[0]))}initService(){this.service=this.bus.service(this.activeView)}handleDateChange(e){this.valueChange.emit(e)}isMonthView(){return this.activeView===KD.month}navigate(e){const t=this.move(e),n=this.service.datesList(t,this.getTake(this.skip));return this.isListInRange(n)&&(this.dates=n),this.activeDate=MR(this.dates[0]),this.focusedDate=MR(t),this.cdr.markForCheck(),MR(t)}canNavigate(e){return!!this.service&&this.isListInRange(this.service.datesList(this.move(e),this.getTake(this.skip)))}clampDate(e){return xD(e,this.min,this.max)}move(e){return this.service.move(this.dates[0]||this.focusedDate,e)}isListInRange(e){const t=this.service.beginningOfPeriod(this.min),n=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return t<=e[0]&&e[e.length-1]<n}isInDates(e){return this.service.isInArray(e,this.dates)}getTake(e){return Math.min(this.total-e,this.views)}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-calendar-horizontal"]],hostVars:10,hostBindings:function(e,t){2&e&&na("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{activeView:"activeView",isActive:"isActive",min:"min",max:"max",views:"views",weekNumber:"weekNumber",focusedDate:"focusedDate",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeRangeEnd:"activeRangeEnd",cellUID:"cellUID",selectionRange:"selectionRange",value:"value"},outputs:{valueChange:"valueChange",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[gi],decls:3,vars:7,consts:[[3,"activeView","currentDate","min","max","rangeLength","templateRef","today"],[1,"k-content"],["kendoCalendarView","","role","rowgroup","direction","horizontal",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change","cellEnter","cellLeave",4,"kFor","kForOf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change","cellEnter","cellLeave"]],template:function(e,t){1&e&&(ks(0,"kendo-calendar-header",0),Ws("today",function(e){return t.handleDateChange(e)}),Is(),ks(1,"table",1),xs(2,YP,1,13,"tbody",2),Is()),2&e&&(Ds("activeView",t.activeView)("currentDate",t.activeDate)("min",t.min)("max",t.max)("rangeLength",t.views)("templateRef",t.headerTitleTemplateRef),Qo(2),Ds("kForOf",t.dates))},directives:function(){return[Sk,bk,_k]},encapsulation:2,changeDetection:0}),e})();const mk=()=>null,yk={multi:!0,provide:bm,useExisting:Pe(()=>Ck)},vk={multi:!0,provide:Pm,useExisting:Pe(()=>Ck)};let Ck=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.bus=e,this.element=t,this.localization=n,this.navigator=i,this.renderer=o,this.cdr=r,this.zone=s,this.disabledDatesService=a,this.id=Hv(),this.rangeValidation=!1,this.disabledDatesRangeValidation=!1,this.disabled=!1,this.tabindex=0,this.activeView=KD[KD.month],this.bottomView=KD[KD.month],this.topView=KD[KD.century],this.weekNumber=!1,this.views=2,this.activeViewChange=new Jl,this.cellEnter=new Jl,this.cellLeave=new Jl,this.valueChange=new Jl,this.cellUID=Hv(),this.isActive=!1,this.isHovered=!1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.prevView=dD.PrevView,this.nextView=dD.NextView,this._min=new Date(gD),this._max=new Date(mD),this._focusedDate=TD(),this.resolvedPromise=Promise.resolve(),this.onControlChange=RD,this.onControlTouched=RD,this.onValidatorChange=RD,this.minValidateFn=RD,this.maxValidateFn=RD,this.disabledDatesRangeValidateFn=RD,this.subscriptions=new h(()=>{}),this.setClasses(t.nativeElement)}set focusedDate(e){this._focusedDate=e||TD()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(gD)}get min(){return this._min}set max(e){this._max=e||new Date(mD)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=MR(e)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set selectionRange(e){this._selectionRange=e,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}get activeViewEnum(){const e=KD[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return KD[this.bottomView]}get topViewEnum(){return KD[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleBlur(){this.onControlTouched(),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleMousedown(e){e.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(e){const t=xD(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);WR(this.focusedDate,t)||(this.focusedDate=t,e.preventDefault())}enter(){this.handleDateChange(this.focusedDate)}ngOnInit(){this.setMessages(),this.subscriptions.add(this.localization.changes.subscribe(()=>this.setMessages())),this.subscriptions.add(this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=KD[e],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum);const t=kD(e,"value")&&!kD(e,"focusedDate"),n=xD(MR(t?this.value:this.focusedDate),this.min,this.max);var i;this.focusedDate=WR(this.focusedDate,n)?this.focusedDate:n,(e.min||e.max||e.rangeValidation||e.disabledDates||e.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?YA(this.min):RD,this.maxValidateFn=this.rangeValidation?$A(this.max):RD,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?QD(i=this.disabledDatesService.isDateDisabled)?e=>{if(!(QD(e)&&QD(e.start)&&QD(e.end))||e.start>e.end)return null;const t=((e,t,n)=>{if(!(e&&t&&n)||e>t)return[];const i=[];let o=e;for(;o<=t;)n(o)&&i.push(o),o=VR(o,1);return i})(e.start,e.end,i);return t.length?{disabledDatesInRange:t}:null}:mk:RD,this.onValidatorChange()),(e.min||e.max||e.focusedDate||e.activeView)&&this.updateButtonState()}ngOnDestroy(){clearTimeout(this.messagesTimeout),this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}handleDateChange(e){const t=this.bus.canMoveDown(this.activeViewEnum),n=!t&&WR(e,this.value);this.focusedDate=MR(e)||this.focusedDate,this.disabled||n||(t?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||(this.value=MR(e),this.onControlChange(MR(e)),this.valueChange.emit(MR(e))))}writeValue(e){this.verifyValue(e),this.focusedDate=xD(MR(e)||this.focusedDate,this.min,this.max),this.value=MR(e),this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case KD.month:return this.monthCellTemplate||this.cellTemplate;case KD.year:return this.yearCellTemplate;case KD.decade:return this.decadeCellTemplate;case KD.century:return this.centuryCellTemplate;default:return null}}navigate(e){this.focusedDate=this.viewList.navigate(e),this.updateButtonState()}emitCellEvent(e,t){Gv(e)&&this.zone.run(()=>{e.emit(t)})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite"),this.renderer.addClass(e,"k-calendar-range")}setMessages(){this.zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.cdr.detectChanges()})})}verifyChanges(){if(Gn()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Gn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}updateButtonState(){this.resolvedPromise.then(()=>{this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs(Wa),Rs(Sw),Rs(LA),Rs(ja),Rs(cl),Rs(zu),Rs(QA))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(e,t,n){if(1&e&&(mu(n,GA,!0),mu(n,HA,!0),mu(n,WA,!0),mu(n,BA,!0),mu(n,jA,!0),mu(n,zA,!0),mu(n,UA,!0)),2&e){let e;hu(e=vu())&&(t.cellTemplate=e.first),hu(e=vu())&&(t.monthCellTemplate=e.first),hu(e=vu())&&(t.yearCellTemplate=e.first),hu(e=vu())&&(t.decadeCellTemplate=e.first),hu(e=vu())&&(t.centuryCellTemplate=e.first),hu(e=vu())&&(t.weekNumberTemplate=e.first),hu(e=vu())&&(t.headerTitleTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&du(gk,!0),2&e){let e;hu(e=vu())&&(t.viewList=e.first)}},hostVars:7,hostBindings:function(e,t){1&e&&Ws("blur",function(){return t.handleBlur()})("focus",function(){return t.handleFocus()})("mouseenter",function(){return t.handleMouseEnter()})("mouseleave",function(){return t.handleMouseLeave()})("mousedown",function(e){return t.handleMousedown(e)})("click",function(){return t.handleClick()})("keydown",function(e){return t.keydown(e)})("keydown.enter",function(){return t.enter()}),2&e&&(Os("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled)("aria-activedescendant",t.ariaActivedescendant),na("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",disabled:"disabled",tabindex:"tabindex",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",views:"views",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",selectionRange:"selectionRange",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],activeRangeEnd:"activeRangeEnd"},outputs:{activeViewChange:"activeViewChange",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange"},exportAs:["kendo-multiviewcalendar"],features:[Fa([YD,yk,vk,Sw,QA,{provide:bw,useValue:"kendo.multiviewcalendar"},LA]),gi],decls:6,vars:20,consts:function(){let e,t,n;return e=$localize`:kendo.multiviewcalendar.today|The label for the today button in the calendar header␟063d99483243b27bc8282abfb5f2c76877e1112e␟3892034896682737327:TODAY`,t=$localize`:kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar␟e783e2af4828224b846fa92148ea1cc52b21bb13␟9101635325676663492:Navigate to previous view`,n=$localize`:kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar␟3e3a529a242f39d22f841c3bd8045ec75b696b7a␟3994336778698343633:Navigate to next view`,[["kendoMultiViewCalendarLocalizedMessages","","today",e,"prevButtonTitle",t,"nextButtonTitle",n],["type","button",1,"k-button","k-prev-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-chevron-left"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","views","min","max","focusedDate","weekNumber","activeRangeEnd","selectionRange","value","valueChange","cellEnter","cellLeave"],["type","button",1,"k-button","k-next-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-chevron-right"]]},template:function(e,t){if(1&e&&(Ls(0,0),ks(1,"button",1),Ws("click",function(){return t.navigate(t.prevView)}),Fs(2,"span",2),Is(),ks(3,"kendo-calendar-horizontal",3),Ws("valueChange",function(e){return t.handleDateChange(e)})("cellEnter",function(e){return t.emitCellEvent(t.cellEnter,e)})("cellLeave",function(e){return t.emitCellEvent(t.cellLeave,e)}),Is(),ks(4,"button",4),Ws("click",function(){return t.navigate(t.nextView)}),Fs(5,"span",5),Is()),2&e){let e=null;Qo(1),Ds("disabled",t.isPrevDisabled)("title",t.prevButtonTitle),Os("aria-disabled",t.isPrevDisabled),Qo(2),Ds("activeView",t.activeViewEnum)("isActive",t.isActive||t.isHovered)("cellTemplateRef",null==(e=t.activeCellTemplate())?null:e.templateRef)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("views",t.views)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("activeRangeEnd",t.activeRangeEnd)("selectionRange",t.selectionRange)("value",t.value),Qo(1),Ds("disabled",t.isNextDisabled)("title",t.nextButtonTitle),Os("aria-disabled",t.isNextDisabled)}},directives:function(){return[Nk,gk]},encapsulation:2,changeDetection:0}),e})();class wk{constructor(e,t,n,i){this.$implicit=e,this.kForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bk=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const i=e.kForOf.currentValue;if(this._differ||!i)return;try{this._differ=this._differs.find(i).create(this.kForTrackBy)}catch(n){throw new Error(`Cannot find a differ supporting object '${i}' of type '${t=i,t.name||typeof t}'.`)}}var t}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!Mv())return;const t=this._viewContainer.length,n=this.kForOf.length,i={};e.forEachOperation((e,t,n)=>{null!==n&&(i[n]=e.item)});for(let o=t;o<n;o++)this._viewContainer.createEmbeddedView(this._template,new wk(null,this.kForOf,-1,-1),o);for(let o=this._viewContainer.length;o>n;o--)this._viewContainer.remove(o-1);for(let o=0;o<this._viewContainer.length;o++){const e=this._viewContainer.get(o);e.context.index=o,e.context.count=length,e.context.$implicit=i[o]||null}}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(ml),Rs(ol))},e.\u0275dir=ot({type:e,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[gi]}),e})(),Sk=(()=>{class e{constructor(e,t,n,i,o){this.bus=e,this.cdr=t,this.localization=n,this.intl=i,this.disabledDatesService=o,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(gD),this.max=new Date(mD),this.rangeLength=1,this.today=new Jl,this.subscriptions=new h}get getComponentClass(){return!0}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){this.bus.service(this.activeView)&&(this.activeViewValue=KD[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(xD(TD(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),t=this.rangeLength-1,n=e.title(this.currentDate),i=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(i,this.min,this.max)?n:`${n} - ${e.title(i)}`}setTodayAvailability(){const e=TD(),t=_D(e,HR(this.min),HR(this.max)),n=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!n,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs(cl),Rs(Sw),Rs($T),Rs(QA))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-calendar-header"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-calendar-header",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{today:"today"},features:[gi],decls:5,vars:21,consts:[[1,"k-button","k-bare","k-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-today",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&(ks(0,"span",0),xs(1,$P,1,1,"ng-template",1),xs(2,XP,0,0,"ng-template",2),Is(),ks(3,"span",3),fa(4),Is()),2&e&&(na("k-state-disabled",!t.navigate),Ds("kendoEventsOutsideAngular",Gl(13,AP,t.handleNavigation))("scope",t),Qo(1),Ds("ngIf",!t.templateRef),Qo(1),Ds("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",Wl(15,PP,t.title,t.activeViewValue,t.currentDate)),Qo(1),na("k-state-disabled",!t.todayAvailable),Ds("kendoEventsOutsideAngular",Gl(19,AP,t.handleTodayClick))("scope",t),Qo(1),ma(" ",t.todayMessage," "))},directives:[jv,qc,th],encapsulation:2}),e})(),Ek=(()=>{class e{constructor(e){this.intl=e}getWeekNames(e=!1){const t=PD(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}return e.\u0275fac=function(t){return new(t||e)(bt($T))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),_k=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.bus=e,this.intl=t,this.cdr=n,this.weekService=i,this.element=o,this.zone=r,this.renderer=s,this.disabledDatesService=a,this.direction="vertical",this.isActive=!0,this.change=new Jl,this.cellEnter=new Jl,this.cellLeave=new Jl,this.weekNames=[],this.colSpan=0,this.subscriptions=new h,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===KD.month}set weekNumber(e){this.showWeekNumbers=e}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===KD.month}firstDate(e){const t=this.firstWeekDateContext(e);return t?t.value:null}getWeekNumber(e){return this.weekNumber?pP(e,this.intl.firstDay()):null}getWeekNumberContext(e){const t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;const n=pP(t.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:MR(t.value)}}getStyles(e){const{isRangeEnd:t,isRangeStart:n}=e;return i={"k-range-end":t,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":n,"k-state-active":"start"===this.activeRangeEnd&&n||"end"===this.activeRangeEnd&&t,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||n||t,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(i).reduce((e,t)=>i[t]?e.concat(t):e,[]).join(" ");var i}tableCellIndex(e,t){return`${e}:${t}`}firstWeekDateContext(e){if(!this.weekNumber)return null;let t=0,n=e[t];for(;!n&&t<e.length;)n=e[++t];return n}updateData(){const e=this.selectedDate||TD(),t=CD(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}intlChange(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const t=this.closestCell(e);if(t){const e=t.getAttribute("data-cell-index"),n=this.cellByIndex(e);n.isDisabled||this.change.emit(n.value)}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const t=this.closestCell(e);if(t){const e=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==e&&this.emitCellLeave();const n=this.cellByIndex(e).value;this.cellEnter.emit(n),this.currentCellIndex=e}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return kA(e.target,e=>e.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[t,n]=e.split(":");return this.data[t][n]}}return e.\u0275fac=function(t){return new(t||e)(Rs(YD),Rs($T),Rs(cl),Rs(Ek),Rs(Wa),Rs(zu),Rs(ja),Rs(QA))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",selectedDate:"selectedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{change:"change",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[gi],attrs:QP,decls:5,vars:3,consts:[["emptyCell",""],["role","row",4,"ngIf"],["role","row",4,"kFor","kForOf"],[1,"k-empty"],["role","row"],["scope","col",3,"colSpan"],[4,"ngFor","ngForOf"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt",4,"ngIf","ngIfElse"],[1,"k-alt"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(xs(0,ZP,2,0,"ng-template",null,0,Su),xs(2,JP,3,2,"tr",1),xs(3,tD,2,1,"tr",1),xs(4,pD,3,2,"tr",2)),2&e&&(Qo(2),Ds("ngIf",!t.isHorizontal()),Qo(1),Ds("ngIf",t.isMonthView()&&t.isHorizontal()),Qo(1),Ds("kForOf",t.data))},directives:[qc,bk,Uc,th,jc],encapsulation:2}),e})(),Ok=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,zv]]}),e})(),xk=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)}}),e})(),Tk=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return Rk(t||e)},e.\u0275dir=ot({type:e,inputs:{today:"today"},features:[us]}),e})();const Rk=no(Tk);let Pk=(()=>{class e extends Tk{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[Fa([{provide:Tk,useExisting:Pe(()=>e)}]),us]}),e})(),Dk=(()=>{class e extends Tk{constructor(e){super(),this.service=e}get override(){return!0}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-calendar-messages"]],features:[Fa([{provide:Tk,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Ak=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah]]}),e})(),kk=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[CA,MD,GD,BD,UD,Ek],imports:[[ah,Ok,QT,xk,Ak,zv,Jv],Ok,xk]}),e})(),Ik=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return Fk(t||e)},e.\u0275dir=ot({type:e,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[us]}),e})();const Fk=no(Ik);let Nk=(()=>{class e extends Ik{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],features:[Fa([{provide:Ik,useExisting:Pe(()=>e)}]),us]}),e})(),Mk=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return Lk(t||e)},e.\u0275dir=ot({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[us]}),e})();const Lk=no(Mk);let Vk=(()=>{class e extends Mk{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[Fa([{provide:Mk,useExisting:Pe(()=>e)}]),us]}),e})(),Gk=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,QT,zv]]}),e})(),Hk=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return Wk(t||e)},e.\u0275dir=ot({type:e,inputs:{today:"today",toggle:"toggle"},features:[us]}),e})();const Wk=no(Hk);let Bk=(()=>{class e extends Hk{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[Fa([{provide:Hk,useExisting:Pe(()=>e)}]),us]}),e})();const jk=Vb;let zk=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[{provide:dk,useValue:jk}],imports:[[ah,Gk,kk,QT,Ob,xk,zv],xk]}),e})();const Uk=DD("div"),Kk=DD("ul"),qk=DD("li");Mv()&&Uk([Uk([Uk([Kk([qk("<span>02</span>","k-item")],"k-reset")],"k-time-container k-content k-scrollable")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"});const Yk=e=>(t,n)=>n&&HR(t).getTime()!==HR(n).getTime()?wD(t,e):t;Yk(0),Yk(23);const $k=e=>(t,n)=>n&&t.getHours()!==n.getHours()?bD(t,e):t;$k(0),$k(59);const Xk=e=>(t,n)=>!n||t.getHours()===n.getHours()&&t.getMinutes()===n.getMinutes()?t:SD(t,e);Xk(0),Xk(59);let Qk=(()=>{class e{constructor(){this.buttonLookChange=new Bh("default"),this.buttonClicked=new E,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}setButtonLook(e){this.buttonLookChange.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Zk=(()=>{class e{constructor(e,t,n,i,o){this.service=n,this.ngZone=o,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new Jl,this.click=new Jl,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=i.rtl?"rtl":"ltr",this.localizationChangeSubscription=i.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"),this.element=e.nativeElement,this.renderer=t}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set tabIndex(e){this.element.tabIndex=e}get tabIndex(){return this.element.tabIndex}set icon(e){e?this.iconSetter(e,()=>{this.isIcon=!0,this.addIcon("k-icon k-i-"+e)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(e){e?this.iconSetter(e,()=>{this.isIconClass=!0,this.addIcon(e)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get disabled(){return this.isDisabled}set isFocused(e){this.toggleClass("k-state-focused",e),this._focused=e}get isFocused(){return this._focused}get classButton(){return!0}get classPrimary(){return this.primary}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get isClear(){return"clear"===this.look}get roleSetter(){return this.role}get classDisabled(){return this.isDisabled}get classActive(){return this.selected}get getDirection(){return this.direction}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}ngOnInit(){const e="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(tp(e=>"default"!==e)).subscribe(e=>this.look=e)),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaPressed(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this))),this.domEvents.push(this.renderer.listen(this.element,"keydown",t=>{!e||t.keyCode!==tC.Space&&t.keyCode!==tC.Enter||(this.click.emit(t),this._onButtonClick())}))})}ngOnChanges(e){(Lv("togglable",e)||Lv("toggleable",e))&&this.toggleAriaPressed(this.toggleable)}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach(e=>e())}focus(){Mv()&&(this.element.focus(),this.isFocused=!0)}blur(){Mv()&&(this.element.blur(),this.isFocused=!1)}setAttribute(e,t){this.renderer.setAttribute(this.element,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const t=this.selected!==e;this.selected=e,this.setAttribute("aria-pressed",this.selected.toString()),this.toggleClass("k-state-active",this.selected),t&&Gv(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaPressed(e){Mv()&&(e?this.setAttribute("aria-pressed",this.selected.toString()):this.removeAttribute("aria-pressed"))}hasText(){return!!Mv()&&String(this.element.textContent).trim().length>0}addImgIcon(e){let t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):Mv()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}addIcon(e){let t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):Mv()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}prependChild(e){this.defer(()=>{this.renderer&&e!==this.element.firstChild&&this.renderer.insertBefore(this.element,e,this.element.firstChild)})}defer(e){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(e,0)})}iconSetter(e,t){e&&t(e),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}updateIconNode(){this.isIcon||this.isIconClass||this.removeIconNode()}setIconTextClasses(){const e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}toggleClass(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.togglable&&!this.service&&this.setSelected(!this.selected)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(ja),Rs(Qk,8),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["button","kendoButton",""],["span","kendoButton",""]],hostVars:19,hostBindings:function(e,t){1&e&&Ws("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),2&e&&(Os("role",t.roleSetter)("aria-disabled",t.classDisabled)("dir",t.getDirection),na("k-button",t.classButton)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-button-clear",t.isClear)("k-state-disabled",t.classDisabled)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",role:"role",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[Fa([Sw,{provide:bw,useValue:"kendo.button"}]),gi]}),e})();function Jk(e){return void 0!==e}Promise.resolve(null),new we("navigation.config");const eI=Math.PI/180,tI=Number.MAX_VALUE,nI=-Number.MAX_VALUE;function iI(e){return e*eI}function oI(e,t){const n=(i=t)?Math.pow(10,i):1;var i;return Math.round(e*n)/n}var rI=(()=>{class e extends eO{constructor(e=0,t=0,n=0,i=0,o=0,r=0){super(),this.a=e,this.b=t,this.c=n,this.d=i,this.e=o,this.f=r}multiplyCopy(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){const{a:t,b:n,c:i,d:o,e:r,f:s}=this,a=t*o-n*i;return 0===a?null:new e(o/a,-n/a,-i/a,t/a,(i*s-o*r)/a,(n*r-t*s)/a)}clone(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=oI(this.a,e),this.b=oI(this.b,e),this.c=oI(this.c,e),this.d=oI(this.d,e),this.e=oI(this.e,e),this.f=oI(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(Jk(e))for(let n=0;n<t.length;n++)t[n]=oI(t[n],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(t,n){return new e(1,0,0,1,t,n)}static unit(){return new e(1,0,0,1,0,0)}static rotate(t,n,i){const o=new e;return o.a=Math.cos(iI(t)),o.b=Math.sin(iI(t)),o.c=-o.b,o.d=o.a,o.e=n-n*o.a+i*o.b||0,o.f=i-i*o.a-n*o.b||0,o}static scale(t,n){return new e(t,0,0,n,0,0)}}return e.IDENTITY=e.unit(),e})(),sI=class extends eO{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this}trigger(e,t){const n=this._observers;if(n&&!this._suspended)for(let i=0;i<n.length;i++){let o=n[i];o[e]&&o[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function aI(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function lI(e){return function(){return this[e]}}var uI=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++){let i=t[n],o=i.charAt(0).toUpperCase()+i.substring(1,i.length);e["set"+o]=aI(i),e["get"+o]=lI(i)}}(n.prototype,t),n};function cI(e){return e&&"function"==typeof e.matrix?e.matrix():e}class hI extends(uI(sI,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new hI(this.x,this.y)}rotate(e,t){const n=hI.create(t)||hI.ZERO;return this.transform(rI.rotate(e,n.x,n.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=cI(e),{x:n,y:i}=this;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}round(e){return this.x=oI(this.x,e),this.y=oI(this.y,e),this.geometryChange(),this}toArray(e){const t=Jk(e);return[t?oI(this.x,e):this.x,t?oI(this.y,e):this.y]}toString(e,t=" "){let{x:n,y:i}=this;return Jk(e)&&(n=oI(n,e),i=oI(i,e)),n+t+i}static create(e,t){if(Jk(e))return e instanceof hI?e:1===arguments.length&&2===e.length?new hI(e[0],e[1]):new hI(e,t)}static min(){let e=tI,t=tI;for(let n=0;n<arguments.length;n++){let i=arguments[n];e=Math.min(i.x,e),t=Math.min(i.y,t)}return new hI(e,t)}static max(){let e=nI,t=nI;for(let n=0;n<arguments.length;n++){const i=arguments[n];e=Math.max(i.x,e),t=Math.max(i.y,t)}return new hI(e,t)}static minPoint(){return new hI(nI,nI)}static maxPoint(){return new hI(tI,tI)}static get ZERO(){return new hI(0,0)}}var pI=hI;class dI extends(uI(sI,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new dI(this.width,this.height)}toArray(e){const t=Jk(e);return[t?oI(this.width,e):this.width,t?oI(this.height,e):this.height]}static create(e,t){if(Jk(e))return e instanceof dI?e:1===arguments.length&&2===e.length?new dI(e[0],e[1]):new dI(e,t)}static get ZERO(){return new dI(0,0)}}var fI=dI;class gI extends sI{constructor(e=new pI,t=new fI){super(),this.setOrigin(e),this.setSize(t)}clone(){return new gI(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",pI.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setSize(e){return this._observerField("size",fI.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),i=this.bottomRight().transformCopy(e),o=this.bottomLeft().transformCopy(e);return gI.fromPoints(t,n,i,o)}transformCopy(e){return gI.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}_isOnPath(e,t){const n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}static fromPoints(){const e=pI.min.apply(null,arguments),t=pI.max.apply(null,arguments),n=new fI(t.x-e.x,t.y-e.y);return new gI(e,n)}static union(e,t){return gI.fromPoints(pI.min(e.topLeft(),t.topLeft()),pI.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(n.left<=i.right&&i.left<=n.right&&n.top<=i.bottom&&i.top<=n.bottom)return gI.fromPoints(new pI(Math.max(n.left,i.left),Math.max(n.top,i.top)),new pI(Math.min(n.right,i.right),Math.min(n.bottom,i.bottom)))}}var mI=gI;class yI extends sI{constructor(e=rI.unit()){super(),this._matrix=e}clone(){return new yI(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(rI.translate(e,t)),this._optionsChange(),this}scale(e,t=e,n=null){let i=n;return i&&(i=pI.create(i),this._matrix=this._matrix.multiplyCopy(rI.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(rI.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(rI.translate(-i.x,-i.y))),this._optionsChange(),this}rotate(e,t){const n=pI.create(t)||pI.ZERO;return this._matrix=this._matrix.multiplyCopy(rI.rotate(e,n.x,n.y)),this._optionsChange(),this}multiply(e){const t=cI(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}var vI=yI;function CI(e){return null===e?null:e instanceof vI?e:new vI(e)}Math,uI(sI,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Math,uI(sI,["radius"]);const wI="undefined"!=typeof Uint8Array&&nO.browser&&(!nO.browser.msie||nO.browser.version>9),bI=(SI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(e){for(var t=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,i=t.length,o=[];n<i;){var r=SI.indexOf(t.charAt(n++)),s=SI.indexOf(t.charAt(n++)),a=SI.indexOf(t.charAt(n++)),l=SI.indexOf(t.charAt(n++)),u=(15&s)<<4|a>>>2,c=(3&a)<<6|l;o.push(r<<2|s>>>4),64!=a&&o.push(u),64!=l&&o.push(c)}return o},encode:function(e){for(var t=0,n=e.length,i="";t<n;){var o=e[t++],r=e[t++],s=e[t++],a=(3&o)<<4|r>>>4,l=(15&r)<<2|s>>>6,u=63&s;t-n==2?l=u=64:t-n==1&&(u=64),i+=SI.charAt(o>>>2)+SI.charAt(a)+SI.charAt(l)+SI.charAt(u)}return i}});var SI;function EI(e){var t=0,n=0;null==e?e=wI?new Uint8Array(256):[]:n=e.length;var i=wI?function(t){if(t>=e.length){var n=new Uint8Array(Math.max(t+256,2*e.length));n.set(e,0),e=n}}:function(){},o=wI?function(){return new Uint8Array(e.buffer,0,n)}:function(){return e},r=wI?function(o){if("string"==typeof o)return g(o);var r=o.length;i(t+r),e.set(o,t),(t+=r)>n&&(n=t)}:function(e){if("string"==typeof e)return g(e);for(var t=0;t<e.length;++t)a(e[t])};function s(){return t<n?e[t++]:0}function a(o){i(t),e[t++]=255&o,t>n&&(n=t)}function l(){return s()<<8|s()}function u(e){a(e>>8),a(e)}function c(){return 65536*l()+l()}function h(e){u(e>>>16&65535),u(65535&e)}function p(){var e=c();return e>=2147483648?e-4294967296:e}function d(e){h(e<0?e+4294967296:e)}function f(e){return m(e,s)}function g(e){for(var t=0;t<e.length;++t)a(e.charCodeAt(t))}function m(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=t();return n}var y={eof:function(){return t>=n},readByte:s,writeByte:a,readShort:l,writeShort:u,readLong:c,writeLong:h,readFixed:function(){return c()/65536},writeFixed:function(e){h(Math.round(65536*e))},readShort_:function(){var e=l();return e>=32768?e-65536:e},writeShort_:function(e){u(e<0?e+65536:e)},readLong_:p,writeLong_:d,readFixed_:function(){return p()/65536},writeFixed_:function(e){d(Math.round(65536*e))},read:f,write:r,readString:function(e){return String.fromCharCode.apply(String,f(e))},writeString:g,times:m,get:o,slice:wI?function(t,n){if(e.buffer.slice)return new Uint8Array(e.buffer.slice(t,t+n));var i=new Uint8Array(n);return i.set(new Uint8Array(e.buffer,t,n)),i}:function(t,n){return e.slice(t,t+n)},offset:function(e){return null!=e?(t=e,y):t},skip:function(e){t+=e},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return n},saveExcursion:function(e){var n=t;try{return e()}finally{t=n}},writeBase64:function(e){window.atob?g(window.atob(e)):r(bI.decode(e))},base64:function(){return bI.encode(o())}};return y}function _I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function OI(e){return Object.keys(e).sort(function(e,t){return e-t}).map(parseFloat)}class xI{constructor(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}var TI;(function(){class e{get compound(){return!1}constructor(e){this.raw=e}render(){return this.raw.get()}}class t{get compound(){return!0}constructor(e){this.raw=e;for(var t=this.glyphIds=[],n=this.idOffsets=[];;){var i=e.readShort();if(n.push(e.offset()),t.push(e.readShort()),!(32&i))break;e.skip(1&i?4:2),128&i?e.skip(8):64&i?e.skip(4):8&i&&e.skip(2)}}render(e){for(var t=EI(this.raw.get()),n=0;n<this.glyphIds.length;++n){var i=this.glyphIds[n];t.offset(this.idOffsets[n]),t.writeShort(e[i])}return t.get()}}})(),function(){class e{constructor(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}}}(),TI=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),function(){class e{constructor(e,t,n){var i=this;i.platformID=e.readShort(),i.platformSpecificID=e.readShort(),i.offset=t+e.readLong(),e.saveExcursion(function(){var t;switch(e.offset(i.offset),i.format=e.readShort(),i.format){case 0:i.length=e.readShort(),i.language=e.readShort();for(var o=0;o<256;++o)n[o]=e.readByte();break;case 4:i.length=e.readShort(),i.language=e.readShort();var r=e.readShort()/2;e.skip(6);var s=e.times(r,e.readShort);e.skip(2);var a=e.times(r,e.readShort),l=e.times(r,e.readShort_),u=e.times(r,e.readShort),c=(i.length+i.offset-e.offset())/2,h=e.times(c,e.readShort);for(o=0;o<r;++o){var p=a[o],d=s[o];for(t=p;t<=d;++t){var f;0===u[o]?f=t+l[o]:0!==(f=h[u[o]/2-(r-o)+(t-p)]||0)&&(f+=l[o]),n[t]=65535&f}}break;case 6:i.length=e.readShort(),i.language=e.readShort(),t=e.readShort();for(var g=e.readShort();g-- >0;)n[t++]=e.readShort();break;case 12:e.readShort(),i.length=e.readLong(),i.language=e.readLong();for(var m=e.readLong();m-- >0;){t=e.readLong();for(var y=e.readLong(),v=e.readLong();t<=y;)n[t++]=v++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+i.format)}})}}}();var RI={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function PI(e,t){e=e.toLowerCase(),RI[e]=function(){return RI[t]},RI[e+"|bold"]=function(){return RI[t+"|bold"]},RI[e+"|italic"]=function(){return RI[t+"|italic"]},RI[e+"|bold|italic"]=function(){return RI[t+"|bold|italic"]}}let DI;PI("Times New Roman","serif"),PI("Courier New","monospace"),PI("Arial","sans-serif"),PI("Helvetica","sans-serif"),PI("Verdana","sans-serif"),PI("Tahoma","sans-serif"),PI("Georgia","sans-serif"),PI("Monaco","monospace"),PI("Andale Mono","monospace"),"undefined"!=typeof document&&(DI=document.createElement("div"),DI.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");const AI={}.toString;class kI extends sI{constructor(e,t=""){super(),this.prefix=t;for(let n in e){let t=e[n];t=this._wrap(t,n),this[n]=t}}get(e){const t=e.split(".");let n=this;for(;t.length&&n;)n=n[t.shift()];return n}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const n=e.indexOf(".")>=0;let i=this,o=e;if(n){const e=o.split(".");let t=this.prefix;for(;e.length>1;){o=e.shift(),t+=o+".";let n=i[o];n||(n=new kI({},t),n.addObserver(this),i[o]=n),i=n}o=e[0]}i._clear(o),i[o]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const n=AI.call(e);let i=e;return null!==i&&Jk(i)&&"[object Object]"===n&&(e instanceof kI||e instanceof eO||(i=new kI(i,this.prefix+t+".")),i.addObserver(this)),i}}var II=kI;let FI=1;function NI(){return"kdef"+FI++}function MI(e){return""===e||null===e||"none"===e||"transparent"===e||!Jk(e)}var LI=class extends sI{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:n}=e;n&&(e.transform=CI(n)),t&&!t.id&&(t.id=NI()),this.options=new II(e),this.options.addObserver(this)}transform(e){if(!Jk(e))return this.options.get("transform");this.options.set("transform",CI(e))}parentTransform(){let e,t=this;for(;t.parent;){t=t.parent;let n=t.transform();n&&(e=n.matrix().multiplyCopy(e||rI.unit()))}if(e)return CI(e)}currentTransform(e=this.parentTransform()){const t=cI(this.transform());let n,i=cI(e);if(n=t&&i?i.multiplyCopy(t):t||i,n)return CI(n)}visible(e){return Jk(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return Jk(e)?(e&&!e.id&&(e.id=NI()),t.set("clip",e),this):t.get("clip")}opacity(e){return Jk(e)?(this.options.set("opacity",e),this):function(e,t){return Jk(e)?e:1}(this.options.get("opacity"))}clippedBBox(e){const t=this._clippedBBox(e);if(t){const n=this.clip();return n?mI.intersect(t,n.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const n=this.currentTransform(t);let i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}_hasFill(){const e=this.options.fill;return e&&!MI(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!MI(e.color)}_clippedBBox(e){return this.bbox(e)}},VI=e=>class extends e{fill(e,t){const n=this.options;if(Jk(e)){if(e&&"Gradient"!==e.nodeType){const i={color:e};Jk(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")}stroke(e,t,n){return Jk(e)?(this.options.set("stroke.color",e),Jk(t)&&this.options.set("stroke.width",t),Jk(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}};function GI(e){const t="_"+e;return function(e){return Jk(e)?(this._observerField(t,pI.create(e)),this.geometryChange(),this):this[t]}}var HI=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=GI(t[n])}(n.prototype,t),n};VI(HI(LI,["position"]));const WI=[].push,BI=[].pop,jI=[].splice,zI=[].shift,UI=[].slice,KI=[].unshift;var qI=class extends sI{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=WI.apply(this,e);return this._add(e),t}slice(){return UI.call(this)}pop(){const e=this.length,t=BI.apply(this);return e&&this._remove([t]),t}splice(e,t){const n=UI.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}shift(){const e=this.length,t=zI.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=KI.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let n=0;n<t;n++)if(this[n]===e)return n;return-1}_splice(e,t,n){const i=jI.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}};const YI=rI.IDENTITY.toString();var $I=e=>class extends e{bbox(e){const t=cI(this.currentTransform(e)),n=t?t.toString():YI;let i;this._bboxCache&&this._matrixHash===n?i=this._bboxCache.clone():(i=this._bbox(t),this._bboxCache=i?i.clone():null,this._matrixHash=n);const o=this.options.get("stroke.width");return o&&i&&i.expand(o/2),i}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function XI(e){const t="_"+e;return function(e){return Jk(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}HI(sI,["anchor","controlIn","controlOut"]),VI($I(LI)),VI($I(LI));var QI=(e,t=["geometry"])=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=XI(t[n])}(n.prototype,t),n};QI(LI,["rect"]);var ZI=class extends qI{_change(){this.optionsChange({field:"stops"})}};function JI(e){return function(t){return Jk(t)?(this.options.set(e,t),this):this.options.get(e)}}const eF=["offset","color","opacity"];class tF extends(((e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=JI(t[n])}(n.prototype,t),n})(sI,eF)){constructor(e,t,n){super(),this.options=new II({offset:e,color:t,opacity:Jk(n)?n:1}),this.options.addObserver(this)}static create(e){if(Jk(e)){let t;return t=e instanceof tF?e:e.length>1?new tF(e[0],e[1],e[2]):new tF(e.offset,e.color,e.opacity),t}}}var nF=tF,iF=class extends sI{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new ZI(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=NI()}userSpace(e){return Jk(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let n=0;n<e.length;n++)t.push(nF.create(e[n]));return t}addStop(e,t,n){this.stops.push(new nF(e,t,n))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}};HI(iF,["start","end"]),VI($I(QI(LI)));var oF={};oF._root=oF,"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window,Object.create(null),Object.create(null),HI(iF,["center"]);let rF={toString:e=>e};function sF(e,t){let n="";if(null!=e)if(Array.isArray(e))for(let i=0;i<e.length;++i)n+=t(e[i],i);else"object"==typeof e&&Object.keys(e).forEach((i,o)=>{n+=t(e[i],i,o)});return n}JSON.parse.bind(JSON);const aF=({logic:e,criteria:t})=>`\n<customFilters ${"and"===e?'and="1"':""}>\n${sF(t,e=>{let t=hF.customOperator(e);return`<customFilter ${t?`operator="${t}"`:""} val="${hF.customValue(e)}"/>`})}\n</customFilters>`,lF=({type:e})=>`<dynamicFilter type="${hF.dynamicFilterType(e)}" />`,uF=({type:e,value:t})=>`<top10 percent="${/percent$/i.test(e)?1:0}"\n       top="${/^top/i.test(e)?1:0}"\n       val="${t}" />`,cF=({blanks:e,values:t})=>`<filters ${e?'blank="1"':""}>\n    ${sF(t,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function hF(e){return(({ref:e,columns:t,generators:n})=>`\n<autoFilter ref="${e}">\n  ${sF(t,e=>`\n    <filterColumn colId="${e.index}">\n      ${n[e.filter](e)}\n    </filterColumn>\n  `)}\n</autoFilter>`)({ref:e.ref,columns:e.columns,generators:{custom:aF,dynamic:lF,top:uF,value:cF}})}hF.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},hF.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},hF.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e},class{static register(e){rF=e}static toString(e,t){return rF.toString(e,t)}}.register({toString:AT});const pF=["lockedHeader"],dF=["header"],fF=["ariaRoot"],gF=["footer"];function mF(e,t){1&e&&Fs(0,"kendo-treelist-toolbar",7)}function yF(e,t){if(1&e&&(ks(0,"div",18,19),ks(2,"table",20),Fs(3,"colgroup",15),Fs(4,"thead",21),Is(),Is()),2&e){const e=zs(3);ta("width",e.lockedWidth,"px"),Qo(2),ta("width",e.lockedWidth,"px"),Ds("locked",!0),Qo(1),Ds("columns",e.lockedLeafColumns),Qo(1),Ds("resizable",e.resizable)("scrollable",!0)("columns",e.lockedColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("totalColumnsCount",e.leafColumns.length)}}function vF(e,t){if(1&e&&(ks(0,"div",22),Fs(1,"div"),Is()),2&e){const e=zs(3);Qo(1),ta("width",e.columnsContainer.unlockedWidth,"px")}}function CF(e,t){if(1&e&&(ks(0,"div",10),xs(1,yF,5,18,"div",11),ks(2,"div",12,13),ks(4,"table",14),Fs(5,"colgroup",15),Fs(6,"thead",16),Is(),xs(7,vF,2,2,"div",17),Is(),Is()),2&e){const e=zs(2);ta("padding",e.headerPadding),Qo(1),Ds("ngIf",e.isLocked),Qo(1),Ds("kendoTreeListResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+2),Qo(2),ta("width",e.nonLockedWidth,"px"),Ds("virtualColumns",e.virtualColumns),Qo(1),Ds("columns",e.headerLeafColumns),Qo(1),Ds("resizable",e.resizable)("scrollable",!0)("columns",e.headerColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("lockedColumnsCount",e.lockedLeafColumns.length)("totalColumnsCount",e.leafColumns.length),Qo(1),Ds("ngIf",e.virtualColumns)}}function wF(e,t){if(1&e){const e=Vs();xs(0,CF,8,23,"div",8),ks(1,"kendo-treelist-list",9),Ws("pageChange",function(t){return Zt(e),zs().notifyPageChange("list",t)})("scrollBottom",function(){return Zt(e),zs().notifyScrollBottom()})("contentScroll",function(t){return Zt(e),zs().contentScroll.emit(t)}),Is()}if(2&e){const e=zs();Ds("ngIf",!e.hideHeader),Qo(1),Ds("view",e.view)("loading",e.showLoading)("rowHeight",e.rowHeight)("total",e.totalCount)("take",e.pageSize)("skip",e.skip)("trackBy",e.trackBy)("columns",e.columnsContainer)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("rowClass",e.rowClass)("isVirtual",e.isVirtual)("virtualColumns",e.virtualColumns)("expandIcons",e.expandIcons)("enableDrag",e.marqueeSelection)}}function bF(e,t){if(1&e&&Fs(0,"thead",27),2&e){const e=zs(2);Ds("resizable",e.resizable)("scrollable",!1)("columns",e.visibleColumns)("totalColumnLevels",e.totalColumnLevels)("reorderable",e.reorderable)("sort",e.sort)("sortable",e.sortable)("filter",e.filter)("filterable",e.filterable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)}}function SF(e,t){1&e&&Fs(0,"div",28)}function EF(e,t){if(1&e&&(ks(0,"table"),Fs(1,"colgroup",23),xs(2,bF,1,11,"thead",24),Fs(3,"tbody",25),Is(),xs(4,SF,1,0,"div",26)),2&e){const e=zs();ta("table-layout",e.resizable?"fixed":null),Qo(1),Ds("columns",e.leafColumns),Qo(1),Ds("ngIf",!e.hideHeader),Qo(1),Ds("view",e.view)("skip",e.skip)("columns",e.leafColumns)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("trackBy",e.trackBy)("rowClass",e.rowClass)("expandIcons",e.expandIcons)("enableDrag",e.marqueeSelection),Qo(1),Ds("ngIf",e.showLoading)}}function _F(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-pager",29),Ws("pageChange",function(t){return Zt(e),zs().notifyPageChange("pager",t)}),Is()}if(2&e){const e=zs();Ds("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.totalVisible)("allCount",e.view.total)("skip",e.skip)("options",e.pageable)}}function OF(e,t){1&e&&Fs(0,"kendo-treelist-toolbar",30)}const xF=["container"],TF=["lockedContainer"],RF=["lockedTable"],PF=["table"];function DF(e,t){if(1&e&&(ks(0,"div",12,13),ks(2,"div",3),ks(3,"table",14,15),Fs(5,"colgroup",6),Fs(6,"tbody",16),Is(),Fs(7,"kendo-resize-sensor"),Is(),ks(8,"div",9),Fs(9,"div"),Is(),Is()),2&e){const e=zs();ta("width",e.lockedWidth,"px"),Qo(3),ta("width",e.lockedWidth,"px"),Ds("locked",!0),Qo(2),Ds("columns",e.lockedLeafColumns),Qo(1),Ds("isLocked",!0)("view",e.view)("noRecordsText","")("columns",e.lockedLeafColumns)("totalColumnsCount",e.leafColumns.length)("skip",e.skip)("trackBy",e.trackBy)("filterable",e.filterable)("rowClass",e.rowClass)("expandIcons",e.expandIcons),Qo(3),ta("height",e.totalHeight,"px")}}function AF(e,t){1&e&&Fs(0,"kendo-resize-sensor")}function kF(e,t){1&e&&Fs(0,"kendo-resize-sensor")}function IF(e,t){if(1&e&&(ks(0,"div",17),Fs(1,"div"),Is()),2&e){const e=zs();Qo(1),ta("width",e.totalWidth,"px")}}function FF(e,t){1&e&&Fs(0,"div",18)}const NF=["kendoTreeListFilterRow",""];function MF(e,t){if(1&e&&Fs(0,"td",1),2&e){const e=t.$implicit,n=t.index,i=zs();Ds("column",e)("filter",i.filter)("logicalRowIndex",i.logicalRowIndex)("logicalColIndex",i.lockedColumnsCount+n)("column",e)("colIndex",n),Os("aria-label",i.filterLabel)}}const LF=["kendoTreeListFilterCell",""];function VF(e,t){if(1&e&&(Ns(0),Ls(1,3),Ms()),2&e){const e=zs(2);Qo(1),Ds("column",e.column)("filter",e.filter)}}function GF(e,t){}function HF(e,t){if(1&e&&xs(0,GF,0,0,"ng-template",5),2&e){const e=zs(3);Ds("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function WF(e,t){if(1&e&&(Ns(0),xs(1,HF,1,2,void 0,4),Ms()),2&e){const e=zs(2);Qo(1),Ds("ngIf",e.column.filterCellTemplateRef)}}function BF(e,t){1&e&&(Ns(0,1),xs(1,VF,2,2,"ng-container",2),xs(2,WF,2,1,"ng-container",2),Ms()),2&e&&(Ds("ngSwitch",zs().hasTemplate),Qo(1),Ds("ngSwitchCase",!1),Qo(1),Ds("ngSwitchCase",!0))}const jF=["*"],zF=["dropdown"],UF=function(){return{width:"auto"}};function KF(e,t){if(1&e){const e=Vs();ks(0,"kendo-dropdownlist",3,4),Ws("valueChange",function(t){return Zt(e),zs().onChange(t)})("keydown",function(t){return Zt(e),zs().dropdownKeydown(t)}),Is()}if(2&e){const e=zs();Ds("data",e.operators)("value",e.value)("valuePrimitive",!0)("popupSettings",Vl(4,UF))}}const qF=function(e){return{"k-clear-button-visible":e}},YF=["kendoTreeListColGroup",""];function $F(e,t){1&e&&Fs(0,"col"),2&e&&ta("width",t.$implicit.width,"px")}const XF=["kendoTreeListLoading",""];function QF(e,t){if(1&e&&Ls(0,2),2&e){const e=zs();Ds("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function ZF(e,t){1&e&&Fs(0,"kendo-treelist-pager-prev-buttons")}function JF(e,t){1&e&&Fs(0,"kendo-treelist-pager-numeric-buttons",5),2&e&&Ds("buttonCount",zs(2).settings.buttonCount)}function eN(e,t){1&e&&Fs(0,"kendo-treelist-pager-input")}function tN(e,t){1&e&&Fs(0,"kendo-treelist-pager-next-buttons")}function nN(e,t){1&e&&Fs(0,"kendo-treelist-pager-info")}function iN(e,t){1&e&&Fs(0,"kendo-treelist-pager-page-sizes",6),2&e&&Ds("pageSizes",zs(2).settings.pageSizes)}function oN(e,t){if(1&e&&(Ns(0),xs(1,ZF,1,0,"kendo-treelist-pager-prev-buttons",1),xs(2,JF,1,1,"kendo-treelist-pager-numeric-buttons",3),xs(3,eN,1,0,"kendo-treelist-pager-input",1),xs(4,tN,1,0,"kendo-treelist-pager-next-buttons",1),xs(5,nN,1,0,"kendo-treelist-pager-info",1),xs(6,iN,1,1,"kendo-treelist-pager-page-sizes",4),Ms()),2&e){const e=zs();Qo(1),Ds("ngIf",e.settings.previousNext),Qo(1),Ds("ngIf","numeric"===e.settings.type),Qo(1),Ds("ngIf","input"===e.settings.type),Qo(1),Ds("ngIf",e.settings.previousNext),Qo(1),Ds("ngIf",e.settings.info),Qo(1),Ds("ngIf",e.settings.pageSizes)}}const rN=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},sN=function(){return{"k-icon":!0,"k-i-seek-w":!0}},aN=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},lN=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},uN=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},cN=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},hN=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function pN(e,t){if(1&e){const e=Vs();ks(0,"li"),ks(1,"a",3),Ws("click",function(){Zt(e);const t=zs();return t.changePage(t.start-2)}),fa(2,"..."),Is(),Is()}if(2&e){const e=zs();Qo(1),Os("aria-label",e.pageLabel(e.start-1))}}const dN=function(e){return{"k-link":!0,"k-state-selected":e}};function fN(e,t){if(1&e){const e=Vs();ks(0,"li"),ks(1,"a",4),Ws("click",function(){Zt(e);const n=t.$implicit;return zs().changePage(n-1)}),fa(2),Is(),Is()}if(2&e){const e=t.$implicit,n=zs();Qo(1),Ds("ngClass",Gl(3,dN,n.currentPage==e)),Os("aria-label",n.pageLabel(e)),Qo(1),ma(" ",e," ")}}function gN(e,t){if(1&e){const e=Vs();ks(0,"li"),ks(1,"a",3),Ws("click",function(){Zt(e);const t=zs();return t.changePage(t.end)}),fa(2,"..."),Is(),Is()}if(2&e){const e=zs();Qo(1),Os("aria-label",e.pageLabel(e.end+1))}}const mN=function(){return{"k-pager-numbers":!0,"k-reset":!0}},yN=function(){return{"k-pager-input":!0,"k-label":!0}},vN=function(e,t){return{keydown:e,focusout:t}};function CN(e,t){if(1&e&&(ks(0,"option",4),fa(1),Is()),2&e){const e=zs();Ds("value",e.pageSize),Qo(1),ga(e.pageSize)}}function wN(e,t){if(1&e&&(ks(0,"option",5),fa(1),Is()),2&e){const e=t.$implicit,n=zs();Ds("value",n.getValue(e))("selected",n.getSelectedState(e)),Qo(1),ma(" ",e.text," ")}}const bN=["kendoTreeListHeader",""];function SN(e,t){if(1&e&&Fs(0,"kendo-treelist-filter-menu",12),2&e){const e=zs(2).$implicit,t=zs(2);Ds("column",e)("filter",t.filter)}}function EN(e,t){if(1&e&&Fs(0,"kendo-treelist-column-menu",13),2&e){const e=zs(2).$implicit,t=zs(2);Ds("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)}}function _N(e,t){}function ON(e,t){1&e&&fa(0),2&e&&ga(zs(3).$implicit.displayTitle)}const xN=function(e,t,n,i){return{templateRef:e,columnIndex:t,column:n,$implicit:i}};function TN(e,t){if(1&e&&(xs(0,_N,0,0,"ng-template",14),xs(1,ON,1,1,"ng-template",9)),2&e){const e=zs(2).$implicit;Ds("templateContext",Bl(2,xN,e.headerTemplateRef,e.leafIndex,e,e)),Qo(1),Ds("ngIf",!e.headerTemplateRef)}}function RN(e,t){}function PN(e,t){1&e&&fa(0),2&e&&ga(zs(3).$implicit.displayTitle)}function DN(e,t){if(1&e&&(ks(0,"span",20),fa(1),Is()),2&e){const e=zs(3).$implicit,t=zs(2);Qo(1),ga(t.sortOrder(e.field))}}function AN(e,t){if(1&e){const e=Vs();ks(0,"a",15,16),Ws("click",function(t){Zt(e);const n=Ts(1),i=zs(2).$implicit;return zs(2).sortColumn(i,t,n)}),xs(2,RN,0,0,"ng-template",14),xs(3,PN,1,1,"ng-template",9),Fs(4,"span",17),xs(5,DN,2,1,"span",18),Is(),Fs(6,"span",19)}if(2&e){const e=zs(2).$implicit,t=zs(2);Qo(2),Ds("templateContext",Bl(6,xN,e.headerTemplateRef,e.leafIndex,e,e)),Qo(1),Ds("ngIf",!e.headerTemplateRef),Qo(1),Ds("ngClass",t.sortIcon(e.field)),Os("aria-label",t.sortableLabel),Qo(1),Ds("ngIf",t.showSortNumbering(e)),Qo(1),Ds("innerHtml",t.sortStatus(e),ci)}}function kN(e,t){if(1&e){const e=Vs();Ns(0),ks(1,"input",21),Ws("click",function(t){return Zt(e),zs(4).selectAllClick(t)}),Is(),Ms()}}function IN(e,t){if(1&e&&Fs(0,"span",22),2&e){const e=zs(2).$implicit,t=zs(2);Ds("column",e)("columns",t.columns)}}const FN=function(e,t,n,i){return{field:e,type:"column",column:t,hint:n,lastColumn:i}};function NN(e,t){if(1&e){const e=Vs();ks(0,"th",6),Ws("keydown",function(t){Zt(e);const n=zs().$implicit;return zs(2).onHeaderKeydown(n,t)}),xs(1,SN,1,2,"kendo-treelist-filter-menu",7),xs(2,EN,1,7,"kendo-treelist-column-menu",8),xs(3,TN,2,7,"ng-template",9),xs(4,AN,7,11,"ng-template",9),xs(5,kN,2,0,"ng-container",10),xs(6,IN,1,2,"span",11),Is()}if(2&e){const e=zs(),t=e.$implicit,n=e.index,i=e.last,o=zs().index,r=zs();na("k-filterable",r.showFilterMenu&&r.isFilterable(t)||r.showColumnMenu(t))("k-first",r.isFirstOnRow(t,n)),Ds("logicalRowIndex",o)("logicalColIndex",r.logicalColumnIndex(t))("colSpan",t.colspan)("rowSpan",t.rowspan(r.totalColumnLevels))("enableDrag",r.shouldActivate(t))("context",Bl(21,FN,t.field,t,t.title||t.field,i&&0===n))("ngClass",t.headerClass)("ngStyle",t.headerStyle),Os("aria-sort",r.sortState(t))("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),Qo(1),Ds("ngIf",r.showFilterMenu&&r.isFilterable(t)),Qo(1),Ds("ngIf",r.showColumnMenu(t)),Qo(1),Ds("ngIf",!r.isSortable(t)),Qo(1),Ds("ngIf",r.isSortable(t)),Qo(1),Ds("ngIf",r.renderSelectAll(t)),Qo(1),Ds("ngIf",r.resizable)}}function MN(e,t){if(1&e&&Fs(0,"kendo-treelist-column-menu",25),2&e){const e=zs(2).$implicit,t=zs(2);Ds("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)}}function LN(e,t){}function VN(e,t){1&e&&fa(0),2&e&&ga(zs(2).$implicit.displayTitle)}function GN(e,t){if(1&e&&Fs(0,"span",22),2&e){const e=zs(2).$implicit,t=zs(2);Ds("column",e)("columns",t.columns)}}const HN=function(e,t,n){return{type:"columnGroup",column:e,hint:t,lastColumn:n}};function WN(e,t){if(1&e&&(ks(0,"th",23),xs(1,MN,1,4,"kendo-treelist-column-menu",24),xs(2,LN,0,0,"ng-template",14),xs(3,VN,1,1,"ng-template",9),xs(4,GN,1,2,"span",11),Is()),2&e){const e=zs(),t=e.$implicit,n=e.index,i=e.last,o=zs().index,r=zs();na("k-first",r.isFirstOnRow(t,n))("k-filterable",r.showColumnMenu(t)),Ds("logicalRowIndex",o)("logicalColIndex",r.logicalColumnIndex(t))("rowSpan",t.rowspan(r.totalColumnLevels))("colSpan",t.colspan)("enableDrag",r.shouldActivate(t))("context",Wl(18,HN,t,t.title,i&&0===n))("ngClass",t.headerClass)("ngStyle",t.headerStyle),Os("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),Qo(1),Ds("ngIf",r.showColumnMenu(t)),Qo(1),Ds("templateContext",Bl(22,xN,t.headerTemplateRef,r.lockedColumnsCount+n,t,t)),Qo(1),Ds("ngIf",!t.headerTemplateRef),Qo(1),Ds("ngIf",r.resizable)}}function BN(e,t){if(1&e&&(xs(0,NN,7,26,"th",4),xs(1,WN,5,27,"th",5)),2&e){const e=t.$implicit,n=zs(2);Ds("ngIf",!n.isColumnGroupComponent(e)),Qo(1),Ds("ngIf",n.isColumnGroupComponent(e))}}function jN(e,t){if(1&e&&(ks(0,"tr",2),xs(1,BN,2,2,"ng-template",3),Is()),2&e){const e=t.index,n=zs();Ds("logicalRowIndex",e)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),Qo(1),Ds("ngForOf",n.columnsForLevel(e))("ngForTrackBy",n.trackByIndex)}}function zN(e,t){if(1&e&&Fs(0,"tr",26),2&e){const e=zs();Ds("columns",e.leafColumns)("filter",e.filter)("lockedColumnsCount",e.lockedColumnsCount)("logicalRowIndex",e.totalColumnLevels+1)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount)}}function UN(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-filter-menu-container",4),Ws("close",function(){return Zt(e),zs().close()}),Is()}if(2&e){const e=zs();Ds("column",e.column)("filter",e.filter)}}const KN=function(e){return{"k-grid-filter":!0,"k-state-active":e}};function qN(e,t){if(1&e&&(Ns(0),Ls(1,7),Ms()),2&e){const e=zs();Qo(1),Ds("filterService",e.childService)("column",e.column)("filter",e.childFilter)}}function YN(e,t){}function $N(e,t){if(1&e&&xs(0,YN,0,0,"ng-template",9),2&e){const e=zs(2);Ds("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function XN(e,t){if(1&e&&(Ns(0),xs(1,$N,1,2,void 0,8),Ms()),2&e){const e=zs();Qo(1),Ds("ngIf",e.column.filterMenuTemplateRef)}}function QN(e,t){if(1&e){const e=Vs();ks(0,"kendo-dropdownlist",3),Ws("valueChange",function(t){return Zt(e),zs().logicChange(t)}),Is()}if(2&e){const e=zs();Ds("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function ZN(e,t){if(1&e&&Fs(0,"kendo-treelist-string-filter-menu-input",4),2&e){const e=zs();Ds("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)}}function JN(e,t){if(1&e){const e=Vs();ks(0,"kendo-dropdownlist",3),Ws("valueChange",function(t){return Zt(e),zs().logicChange(t)}),Is()}if(2&e){const e=zs();Ds("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function eM(e,t){if(1&e&&Fs(0,"kendo-treelist-numeric-filter-menu-input",4),2&e){const e=zs();Ds("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)}}function tM(e,t){if(1&e){const e=Vs();ks(0,"kendo-dropdownlist",3),Ws("valueChange",function(t){return Zt(e),zs().logicChange(t)}),Is()}if(2&e){const e=zs();Ds("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function nM(e,t){if(1&e&&Fs(0,"kendo-treelist-date-filter-menu-input",4),2&e){const e=zs();Ds("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)}}function iM(e,t){if(1&e){const e=Vs();ks(0,"li"),ks(1,"input",2),Ws("change",function(){Zt(e);const n=t.$implicit;return zs().onChange(n.value)}),Is(),ks(2,"label",3),fa(3),Is(),Is()}if(2&e){const e=t.$implicit,n=zs();Qo(1),Ds("name",n.idPrefix)("checked",n.isSelected(e.value)),Os("id",n.radioId(e.value)),Qo(1),Os("for",n.radioId(e.value)),Qo(1),ga(e.text)}}function oM(e,t){if(1&e&&(ks(0,"label",3),Fs(1,"input",4),ks(2,"span",5),fa(3),Is(),Is()),2&e){const e=t.$implicit,n=t.index,i=zs();Qo(1),Ds("checked",!e.hidden)("disabled",i.isDisabled(e)),Os("data-index",n),Qo(2),ga(e.displayTitle)}}function rM(e,t){if(1&e){const e=Vs();ks(0,"div",6),ks(1,"button",7),Ws("click",function(){return Zt(e),zs().cancelChanges()}),fa(2),Is(),ks(3,"button",8),Ws("click",function(){return Zt(e),zs().applyChanges()}),fa(4),Is(),Is()}if(2&e){const e=zs();Ds("ngClass",e.actionsClass),Qo(2),ga(e.resetText),Qo(2),ga(e.applyText)}}function sM(e,t){if(1&e){const e=Vs();ks(0,"span",4),fa(1),Is(),ks(2,"kendo-treelist-columnlist",5),Ws("apply",function(t){return Zt(e),zs().onApply(t)})("columnChange",function(t){return Zt(e),zs().onChange(t)}),Is()}if(2&e){const e=zs();Qo(1),ga(e.localization.get("columns")),Qo(1),Ds("columns",e.columns)("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}function aM(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-columnlist",2),Ws("apply",function(t){return Zt(e),zs().onApply(t)}),Is()}if(2&e){const e=zs();Ds("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)}}function lM(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-filter-menu-container",2),Ws("close",function(){return Zt(e),zs().close()}),Is()}if(2&e){const e=zs();Ds("column",e.service.column)("filter",e.service.filter)("actionsClass",e.actionsClass)}}function uM(e,t){1&e&&Fs(0,"span",3),2&e&&Ds("ngClass",zs().iconClass)}function cM(e,t){if(1&e&&(ks(0,"div",4),Ls(1,5),Fs(2,"div"),Is()),2&e){const e=zs();Ds("@state",e.contentState),Qo(1),Ds("ngTemplateOutlet",e.contentTemplate.templateRef)}}const hM=function(e,t){return{service:e,column:t}};function pM(e,t){if(1&e&&Ls(0,5),2&e){const e=zs(),t=Ts(6);Ds("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||t)("ngTemplateOutletContext",Hl(2,hM,e.service,e.column))}}function dM(e,t){1&e&&Fs(0,"kendo-treelist-columnmenu-sort",8),2&e&&Ds("service",zs(2).service)}function fM(e,t){1&e&&Fs(0,"kendo-treelist-columnmenu-lock",8),2&e&&Ds("service",zs(2).service)}function gM(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-columnmenu-chooser",9),Ws("expand",function(){return Zt(e),zs(2).onColumnsExpand()}),Is()}if(2&e){const e=zs(2);Ds("service",e.service)("expanded",e.expandedColumns)}}function mM(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-columnmenu-filter",9),Ws("expand",function(){return Zt(e),zs(2).onFilterExpand()}),Is()}if(2&e){const e=zs(2);Ds("service",e.service)("expanded",e.expandedFilter)}}function yM(e,t){if(1&e&&(xs(0,dM,1,1,"kendo-treelist-columnmenu-sort",6),xs(1,fM,1,1,"kendo-treelist-columnmenu-lock",6),xs(2,gM,1,2,"kendo-treelist-columnmenu-chooser",7),xs(3,mM,1,2,"kendo-treelist-columnmenu-filter",7)),2&e){const e=zs();Ds("ngIf",e.hasSort),Qo(1),Ds("ngIf",e.hasLock),Qo(1),Ds("ngIf",e.hasColumnChooser),Qo(1),Ds("ngIf",e.hasFilter)}}const vM=function(e){return{"k-state-active":e}},CM=["kendoTreeListTableBody",""];function wM(e,t){1&e&&Ls(0,5),2&e&&Ds("ngTemplateOutlet",zs(2).noRecordsTemplate.templateRef)}function bM(e,t){if(1&e&&(Ns(0),fa(1),Ms()),2&e){const e=zs(2);Qo(1),ma(" ",e.noRecordsText," ")}}function SM(e,t){if(1&e&&(ks(0,"tr",2),ks(1,"td"),xs(2,wM,1,1,"ng-container",3),xs(3,bM,2,1,"ng-container",4),Is(),Is()),2&e){const e=zs();Qo(1),Os("colspan",e.colSpan),Qo(1),Ds("ngIf",null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef),Qo(1),Ds("ngIf",!(null!=e.noRecordsTemplate&&e.noRecordsTemplate.templateRef))}}function EM(e,t){if(1&e&&Fs(0,"td",10),2&e){const e=t.$implicit,n=t.index,i=zs(2).$implicit,o=zs();na("k-grid-edit-cell",o.isEditingCell(i,e))("k-state-selected",o.isCellSelected(i.data,e,o.lockedColumnsCount+n)),Ds("columnIndex",o.lockedColumnsCount+n)("column",e)("viewItem",i)("dataItem",i.data)("level",i.level)("hasChildren",i.hasChildren)("isExpanded",i.expanded)("loading",i.loading)("isNew",i.isNew)("selected",i.selected)("expandIcons",o.expandIcons)("logicalRowIndex",o.logicalRowIndex(i.rowIndex))("logicalColIndex",o.logicalColIndex(e))("dataRowIndex",i.index)("column",e)("colIndex",n)("colSpan",e.colspan)("expandable",e.expandable)("ngClass",e.cssClass)("ngStyle",e.style),Os("aria-expanded",o.ariaExpanded(i,e))("aria-selected",o.ariaSelected(i,e,o.lockedColumnsCount+n))("colspan",e.colspan)}}const _M=function(e,t){return{dataItem:e,index:t}};function OM(e,t){if(1&e&&(ks(0,"tr",8),xs(1,EM,1,27,"td",9),Is()),2&e){const e=zs(),t=e.$implicit,n=e.index,i=zs();na("k-alt",i.isOdd(t))("k-grid-edit-row",i.isEditingRow(t))("k-grid-add-row",t.isNew)("k-state-selected",t.selected),Ds("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",i.logicalRowIndex(t.rowIndex))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount)("isNew",t.isNew)("ngClass",i.rowClass(Hl(19,_M,t.data,t.index))),Os("data-treelist-view-index",n),Qo(1),Ds("ngForOf",i.columns)("ngForTrackBy",i.trackByColumns)}}function xM(e,t){1&e&&Fs(0,"span",16)}function TM(e,t){if(1&e&&(Ns(0),xs(1,xM,1,0,"span",15),Yl(2,"levelItems"),Ms()),2&e){const e=zs(3).$implicit;Qo(1),Ds("ngForOf",$l(2,1,e.level))}}const RM=function(e,t,n,i,o,r){return{items:e,field:t,column:n,columnIndex:i,aggregates:o,$implicit:r}};function PM(e,t){if(1&e&&(ks(0,"td",13),xs(1,TM,3,3,"ng-container",4),Ls(2,14),Is()),2&e){const e=t.$implicit,n=t.index,i=zs(2).$implicit,o=zs();Ds("logicalRowIndex",o.logicalRowIndex(i.rowIndex))("logicalColIndex",o.logicalColIndex(e))("column",e)("colIndex",n)("ngClass",e.footerClass)("ngStyle",e.footerStyle),Qo(1),Ds("ngIf",e.expandable),Qo(1),Ds("ngTemplateOutlet",e.footerTemplateRef)("ngTemplateOutletContext",function(e,t,n,i,o,r,s,a,l){const u=an()+9,c=Xt(),h=_s(c,u,n,i,o,r);return Ss(c,u+4,s,a)||h?Cs(c,u+6,t(n,i,o,r,s,a)):ws(c,u+6)}(0,RM,i.items,e.field,e,n,i.aggregates,i.aggregates))}}function DM(e,t){if(1&e&&(ks(0,"tr",11),xs(1,PM,3,16,"td",12),Is()),2&e){const e=zs(),t=e.$implicit,n=e.index,i=zs();Ds("logicalRowIndex",i.logicalRowIndex(t.rowIndex))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),Os("data-treelist-view-index",n),Qo(1),Ds("ngForOf",i.footerColumns)("ngForTrackBy",i.trackByColumns)}}function AM(e,t){if(1&e&&(Ns(0),xs(1,OM,2,22,"tr",6),xs(2,DM,2,7,"tr",7),Ms()),2&e){const e=t.$implicit,n=zs();Qo(1),Ds("ngIf","data"===e.type),Qo(1),Ds("ngIf","footer"===e.type&&n.hasFooter)}}const kM=["kendoTreeListCell",""];function IM(e,t){1&e&&Fs(0,"span",7)}const FM=function(e,t,n){return{"k-i-collapse":e,"k-i-expand":t,"k-i-loading":n}};function NM(e,t){if(1&e&&Fs(0,"span",8),2&e){const e=zs(3);Ds("ngClass",Wl(1,FM,e.isExpanded&&!e.loading,!e.isExpanded&&!e.loading,e.loading))}}function MM(e,t){if(1&e&&(Ns(0),xs(1,IM,1,0,"span",5),Yl(2,"levelItems"),xs(3,NM,1,5,"span",6),Ms()),2&e){const e=zs(2);Qo(1),Ds("ngForOf",function(e,t,n,i){const o=Xt(),r=Ht(o,22);return Zl(o,Ql(o,22)?Kl(o,an(),2,r.transform,n,i,r):r.transform(n,i))}(0,0,e.level,e.hasChildren&&e.expandIcons)),Qo(2),Ds("ngIf",e.hasChildren&&e.expandIcons)}}function LM(e,t){if(1&e&&Ls(0,9),2&e){const e=zs(2);Ds("ngTemplateOutlet",e.column.templateRef)("ngTemplateOutletContext",e.templateContext)}}function VM(e,t){if(1&e&&(Ns(0),fa(1),Yl(2,"valueOf"),Ms()),2&e){const e=t.$implicit,n=zs(3);Qo(1),ma(" ",Xl(2,1,n.dataItem,e.field,e.format)," ")}}function GM(e,t){if(1&e&&(Ns(0),xs(1,VM,3,5,"ng-container",10),Ms()),2&e){const e=zs(2);Qo(1),Ds("ngForOf",e.childColumns)}}function HM(e,t){if(1&e&&(Ns(0),fa(1),Yl(2,"valueOf"),Ms()),2&e){const e=zs(2);Qo(1),ga(Xl(2,1,e.dataItem,e.column.field,e.column.format))}}function WM(e,t){1&e&&Fs(0,"input",11),2&e&&Ds("checked",zs(2).selected)}function BM(e,t){if(1&e&&(Ns(0),xs(1,MM,4,5,"ng-container",2),xs(2,LM,1,2,"ng-container",3),xs(3,GM,2,1,"ng-container",2),xs(4,HM,3,5,"ng-container",2),xs(5,WM,1,1,"ng-template",4),Ms()),2&e){const e=zs();Qo(1),Ds("ngIf",e.column.expandable),Qo(1),Ds("ngIf",e.column.templateRef),Qo(1),Ds("ngIf",e.isSpanColumn),Qo(1),Ds("ngIf",e.isBoundColumn),Qo(1),Ds("ngIf",e.column.isCheckboxColumn&&!e.isNew)}}function jM(e,t){if(1&e&&Ls(0,9),2&e){const e=zs(2);Ds("ngTemplateOutlet",e.column.editTemplateRef)("ngTemplateOutletContext",e.editTemplateContext)}}function zM(e,t){if(1&e&&Fs(0,"kendo-numerictextbox",16),2&e){const e=zs(3);Ds("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function UM(e,t){if(1&e&&Fs(0,"kendo-datepicker",16),2&e){const e=zs(3);Ds("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function KM(e,t){if(1&e&&Fs(0,"input",17),2&e){const e=zs(3);Ds("formControl",e.formGroup.get(e.column.field))}}function qM(e,t){if(1&e&&Fs(0,"input",18),2&e){const e=zs(3);Ds("formControl",e.formGroup.get(e.column.field))}}function YM(e,t){1&e&&(Ns(0,0),xs(1,zM,1,2,"kendo-numerictextbox",13),xs(2,UM,1,2,"kendo-datepicker",13),xs(3,KM,1,1,"input",14),xs(4,qM,1,1,"input",15),Ms()),2&e&&(Ds("ngSwitch",zs(2).column.editor),Qo(1),Ds("ngSwitchCase","numeric"),Qo(1),Ds("ngSwitchCase","date"),Qo(1),Ds("ngSwitchCase","boolean"))}function $M(e,t){if(1&e&&(Ns(0),xs(1,jM,1,2,"ng-container",3),xs(2,YM,5,4,"ng-container",12),Ms()),2&e){const e=zs();Qo(1),Ds("ngIf",e.column.editTemplateRef),Qo(1),Ds("ngIf",!e.column.editTemplateRef)}}function XM(e,t){}function QM(e,t){if(1&e&&xs(0,XM,0,0,"ng-template",1),2&e){const e=zs();Ds("ngTemplateOutlet",e.toolbarTemplateRef)("ngTemplateOutletContext",e.context)}}let ZM=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListCellTemplate",""]]}),e})(),JM=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListEditTemplate",""]]}),e})(),eL=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListHeaderTemplate",""]]}),e})(),tL=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListFooterTemplate",""]]}),e})(),nL=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListColumnMenuTemplate",""]]}),e})();const iL=e=>e.isSpanColumn;let oL=(()=>{class e{constructor(e,t){if(this.parent=e,this.optionChanges=t,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.lockable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new tu,this.columnMenuTemplates=new tu,e&&!(n=e).isColumnGroup&&!iL(n))throw new Error("Columns can be nested only inside ColumnGroupComponent");var n}set width(e){this._width=parseInt(e,10)}get width(){return this._width}get level(){return this.parent&&iL(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}get isEditable(){return!1}ngOnChanges(e){this.optionChanges&&this.optionChanges.columnChanged()}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,contentQueries:function(e,t,n){if(1&e&&(gu(n,tL,!0),gu(n,eL,!1),gu(n,nL,!1)),2&e){let e;hu(e=vu())&&(t.footerTemplate=e.first),hu(e=vu())&&(t.headerTemplates=e),hu(e=vu())&&(t.columnMenuTemplates=e)}},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",lockable:"lockable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"},features:[gi]}),e})();const rL=/^\s*$/,sL=e=>null!=e,aL=e=>null==e,lL=e=>!!e,uL=e=>aL(e)||rL.test(e),cL=e=>U(Wh(e),e.changes),hL=()=>"undefined"==typeof document,pL=e=>"string"==typeof e,dL=e=>"number"==typeof e&&!isNaN(e),fL=e=>pL(e)&&!uL(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e,gL=e=>(...t)=>!e.apply(null,t),mL=(...e)=>t=>e.reduce((e,n)=>e||n(t),!1),yL=(...e)=>t=>e.reduce((e,n)=>e&&n(t),!0);new we("Skip"),function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype;for(let n=0;n<e.length;++n){const i=e[n];if("entries"!==i&&"size"!==i&&t[i]===t.entries)return i}}();const vL="undefined"!=typeof window?window:{},CL=vL.requestAnimationFrame||vL.msRequestAnimationFrame||(e=>setTimeout(e,16.666666666666668)),wL=vL.cancelAnimationFrame||vL.msCancelRequestAnimationFrame||clearTimeout,bL=(e,t)=>!1!==e.isEditable&&(e.editTemplate||t&&e.field&&t.get(e.field));let SL=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListFilterCellTemplate",""]]}),e})(),EL=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListFilterMenuTemplate",""]]}),e})(),_L=(()=>{class e{constructor(){this.columns=new Jl,this.options=new Jl}optionChanged(){this.options.emit()}columnChanged(){this.columns.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function OL(e){return sL(e.field)}let xL=(()=>{class e extends oL{constructor(e,t){super(e,t),this.sortable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}get isEditable(){return!1!==this.editable}}return e.\u0275fac=function(t){return new(t||e)(Rs(oL,13),Rs(_L))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-column"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,ZM,!0),gu(n,JM,!0),gu(n,SL,!0),gu(n,EL,!0)),2&e){let e;hu(e=vu())&&(t.template=e.first),hu(e=vu())&&(t.editTemplate=e.first),hu(e=vu())&&(t.filterCellTemplate=e.first),hu(e=vu())&&(t.filterMenuTemplate=e.first)}},inputs:{sortable:"sortable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",expandable:"expandable",field:"field",format:"format"},features:[Fa([{provide:oL,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();function TL(e){return e.isSpanColumn}let RL=(()=>{class e extends oL{constructor(e,t){if(super(e,t),this.isSpanColumn=!0,this.template=new tu,this.editTemplate=new tu,this.childColumns=new tu,this.includeInChooser=!1,this._editable=!0,this._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn")}set editable(e){this._editable=e}get editable(){return sL(this.editTemplateRef)&&this._editable}set width(e){}get width(){return this.childColumns.reduce((e,t)=>e+t.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const e=this.template.first;return e?e.templateRef:void 0}get editTemplateRef(){const e=this.editTemplate.first;return e?e.templateRef:void 0}get colspan(){return this.childColumns.filter(e=>e.isVisible).length}set locked(e){this._locked=e}get locked(){return this._locked||this.childColumns.some(e=>e.locked)}get isEditable(){return Boolean(this.editTemplateRef)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}}return e.\u0275fac=function(t){return new(t||e)(Rs(oL,13),Rs(_L))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-span-column"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,ZM,!1),gu(n,JM,!1),gu(n,xL,!1)),2&e){let e;hu(e=vu())&&(t.template=e),hu(e=vu())&&(t.editTemplate=e),hu(e=vu())&&(t.childColumns=e)}},inputs:{editable:"editable",locked:"locked",expandable:"expandable"},features:[Fa([{provide:oL,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const PL=e=>e.reduce((e,t)=>e.concat(TL(t)?t.childrenArray:[t]),[]),DL=e=>e.reduce((e,t)=>e.concat(TL(t)?[t].concat(t.childrenArray):[t]),[]),AL=e=>PL(e).filter(e=>e.isVisible),kL=e=>t=>(t||[]).reduce((t,n)=>t+(n[e]||0),0),IL=kL("width"),FL=kL("colspan"),NL=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),ML=e=>e.reduce((e,t)=>(t.isColumnGroup?e=e.concat(ML((e=>e.children.filter(t=>t!==e))(t))):t.isSpanColumn?e=e.concat(t.childrenArray):e.push(t),e),[]).filter(e=>e.isVisible),LL=e=>fw(e,[{field:"orderIndex",dir:"asc"}]),VL=e=>lL(e.parent)&&TL(e.parent);function GL(e){return e.isColumnGroup}let HL=(()=>{class e extends oL{constructor(e,t){if(super(e,t),this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent")}rowspan(){return 1}get colspan(){return this.children&&1!==this.children.length?FL(this.children.filter(e=>e!==this&&e.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(e=>e!==this)}get hasChildren(){return Boolean(this.firstChild)}get firstChild(){return this.children.find(e=>e!==this)}}return e.\u0275fac=function(t){return new(t||e)(Rs(oL,13),Rs(_L))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-column-group"]],contentQueries:function(e,t,n){if(1&e&&gu(n,oL,!1),2&e){let e;hu(e=vu())&&(t.children=e)}},features:[Fa([{provide:oL,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const WL=()=>Mv()&&document.createElement;let BL,jL=null,zL=null,UL=(()=>{class e{constructor(e,t){this.zone=e,this.changeDetector=t,this.changes=new Jl,"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{Hy(window,"resize").pipe(rv(100)).subscribe(()=>{BL!==window.devicePixelRatio&&e.run(()=>{jL=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}get scrollbarWidth(){return function(){if(null===jL&&WL()){BL=window.devicePixelRatio||1;const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),jL=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return jL}()}get rtlScrollLeft(){return function(){if(null===zL&&WL()){const e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);const t=e.scrollLeft;e.scrollLeft=-1,zL=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return zL}()}}return e.\u0275fac=function(t){return new(t||e)(bt(zu),bt(cl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const KL={isExpanded:()=>!0},qL={isRowSelected:()=>!1},YL={hasNew:()=>!1,context:()=>null},$L=e=>e;function XL(e,t){e.loadData(),e.loading?e.dataLoaded.pipe(vp(1)).subscribe(()=>{XL(e,t)}):t.next(e)}const QL="loading";class ZL{constructor(e,t){this.skip=e,this.pageSize=t}static create(e){const{skip:t,pageSize:n,pageable:i,isVirtual:o}=e;let r=ZL;return n&&(i?r=JL:o&&(r=eV)),new r(t,n)}inRange(e,t){return!0}levelInRange(e,t,n){return!0}includeParents(e){}}class JL extends ZL{constructor(){super(...arguments),this.expandAll=!0}inRange(e,t){return this.skip<=e&&e<this.skip+this.pageSize}levelInRange(e,t,n){return-1===e.level||this.skip<=e.index+t.length&&e.index+1<this.skip+this.pageSize}includeParents(e){let t=e.parentLevel;for(;t&&!t.inRange;)t.inRange=!0,t=t.parentLevel}}class eV extends ZL{inRange(e,t){return this.skip<=t&&t<this.skip+this.pageSize}levelInRange(e,t,n){return this.inRange(e.index,n)}}class tV{constructor(e,t,n,i,o,r){this.expandState=e,this.editState=t,this.selectionState=n,this.loaded=i,this.fieldAccessor=o,this.observables=[],this.rowIndex=0;const s=this.fieldAccessor();this.fetchChildren=s.fetchChildren,this.hasChildren=s.hasChildren,this.idGetter=s.idGetter,this.hasFooter=s.hasFooter,this.viewRange=ZL.create(s),this.rootLevel=r?this.loadChildren(r):this.dataLevel({level:-1,id:null,expanded:!0},s.data)}generate(){const e=[],t=[this.rootLevel];let n=0,i=0;for(this.addNew(e);t.length;){for(;t[0]&&t[0].idx>=t[0].items.length;){const n=t.shift();this.hasFooter&&n.expanded&&n.items.length&&((n.inRange||this.viewRange.levelInRange(n.parent,n.items,this.rowIndex))&&(e.push({type:"footer",items:n.items,aggregates:n.aggregates,level:n.level,parentIndex:n.parentIndex,rowIndex:this.rowIndex}),this.viewRange.includeParents(n)),this.rowIndex++)}if(!t.length)break;const o=t[0],r=o.items[o.idx++],s={type:"data",data:r,id:this.idGetter(r),rowIndex:this.rowIndex,index:n,level:o.level,hasChildren:this.hasChildren(r),parent:o.parent};o.expanded&&(this.rowIndex++,this.viewRange.inRange(n,s.rowIndex)&&(this.offsetFirst&&(s.rowIndex++,this.rowIndex++,this.offsetFirst=!1),e.push(s),s.editContext=this.editState.context(s.data),s.selected=this.selectionState.isRowSelected(r),this.addNew(e,r)),n++),i++;const a=s.hasChildren&&this.expandState.isExpanded(s.data);if(s.hasChildren&&(a||this.viewRange.expandAll)){s.expanded=a&&o.expanded;const e=this.loadChildren(s);e&&(t.unshift(e),e.parentLevel=o)}}return{items:e,observables:this.observables,total:i,totalVisible:n,totalRows:this.rowIndex}}loadChildren(e){const t=e.id;if(this.loaded.has(t)){const n=this.loaded.get(t);if(n!==QL)return this.dataLevel(e,n);e.loading=!0}else{const n=this.fetchChildren(e.data);if(By(n))this.observables.push({observable:n,parentId:t}),e.loading=!0;else if(n)return this.loaded.set(t,n),this.dataLevel(e,n)}}dataLevel(e,t){const n=(t=t||{}).data||t;return{idx:0,level:e.level+1,items:n&&n.length?n:[],aggregates:t.aggregates,expanded:e.expanded,parentIndex:e.index,parent:e}}addNew(e,t){if(this.editState.hasNew(t)){const n=this.viewRange.inRange(0,this.rowIndex);e.push({parent:t,isNew:!0,type:"data",data:this.editState.newItem.dataItem,editContext:this.editState.newItem,rowIndex:t||n?this.rowIndex:this.viewRange.skip}),t||n?this.rowIndex++:this.offsetFirst=!0}}}class nV{constructor(e,t,n,i){this.fieldAccessor=e,this.expandState=t,this.editState=n,this.selectionState=i,this.childrenLoaded=new Jl,this.dataLoaded=new Jl,this.resetPage=new Jl,this.total=0,this.totalVisible=0,this.loaded=new Map,this.loading=!1,this._totalRows=0,this.loadingCount=0}static loadView(e){const t=new Bh(null),n=new nV(()=>Object.assign({idGetter:$L,pageable:!1,isVirtual:!1,skip:0},e.fields),e.expandState||KL,e.editState||YL,e.selectionState||qL);return e.loaded&&(n.loaded=e.loaded),XL(n,t),t}get totalRows(){return this._data||this.loadData(),this._totalRows}get data(){return this._data||this.loadData(),this._data}get length(){return this.data.length}get first(){return this.data[0]}get firstItem(){return this.find(e=>"data"===e.type)}get last(){return this.data[this.data.length-1]}at(e){return this.data[e]}itemIndex(e){const t=this.fieldAccessor().idGetter;return this.data.findIndex(n=>n.id===t(e))}map(e){return this.data.map(e)}filter(e){return this.data.filter(e)}findIndex(e){return this.data.findIndex(e)}reduce(e,t){return this.data.reduce(e,t)}forEach(e){this.data.forEach(e)}some(e){return this.data.some(e)}find(e){return this.data.find(e)}toString(){return this.data.toString()}updateSelectedState(){this.forEach(e=>{"data"===e.type&&(e.selected=this.selectionState.isRowSelected(e.data))})}updateEditedState(){this.forEach(e=>{"data"===e.type&&(e.editContext=this.editState.context(e.data))})}reset(){this.loaded.clear(),this.clear(),this.unsubscribeChildren()}resetItem(e,t){const n=this.fieldAccessor().idGetter,i=[e];for(;i.length;){const e=n(i.shift());if(this.loaded.has(e)){const n=this.loaded.get(e);this.loaded.delete(e),t&&i.push.apply(i,n.data||n)}}this.clear()}clear(){this._data=null}loadData(){let e=new tV(this.expandState,this.editState,this.selectionState,this.loaded,this.fieldAccessor).generate();e.loading||!e.total||e.items.length&&e.items.some(e=>"data"===e.type)||(this.resetPage.emit(),e=new tV(this.expandState,this.editState,this.selectionState,this.loaded,this.fieldAccessor).generate()),this._data=e.items,this.total=e.total,this.totalVisible=e.totalVisible,this._totalRows=e.totalRows,e.observables&&e.observables.length?(this.loading=!0,this.loadingCount+=e.observables.length,this.childrenSubscription||(this.childrenSubscription=new h),e.observables.forEach(e=>{this.loaded.set(e.parentId,QL),this.childrenSubscription.add(e.observable.subscribe(t=>{this.clear(),this.loaded.set(e.parentId,t),this.childrenLoaded.emit(),this.loadingCount--,0===this.loadingCount&&(this.loading=!1,this.unsubscribeChildren(),this.dataLoaded.emit())}))})):this.dataLoaded.emit()}unsubscribeChildren(){this.childrenSubscription&&(this.childrenSubscription.unsubscribe(),this.childrenSubscription=null,this.loadingCount=0)}}class iV{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class oV extends iV{constructor(e){super(),this.action="cellClose",Object.assign(this,e)}}const rV=e=>e;let sV=(()=>{class e{constructor(e){this.ngZone=e,this.changes=new Jl,this.idGetter=rV,this.edited=new Map,this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new E,this.changed=this.changedSource.asObservable().pipe(gp(()=>this.ngZone.onStable.asObservable().pipe(vp(1))))}get newItemGroup(){return this.newItem?this.newItem.group:null}editRow(e,t){this.edited.set(this.idGetter(e),{group:t,item:e}),this.onChanged()}addRow(e,t){this.newItem={parent:e,group:t,dataItem:t?t.value:null},this.onChanged()}editCell(e,t,n){bL(t,n)&&(this.preventCellClose(),this.closeCell()||(this.editRow(e,n),this.column=t,this.onChanged()))}isEditing(){return this.edited.size>0}isEdited(e){return this.newItem&&this.newItem.dataItem===e||this.edited.has(this.idGetter(e))}isEditingCell(){return sL(this.column)}isEditingColumn(e){return this.column===e}isEditedColumn(e){return!this.column||this.column===e}hasNew(e){return Boolean(this.newItem&&(!this.newItem.parent&&!e||this.idGetter(this.newItem.parent)===this.idGetter(e)))}get newDataItem(){if(this.newItem)return this.newItem.group.value}close(e,t){t?this.newItem=void 0:(this.edited.delete(this.idGetter(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{item:t,group:n}=this.first,i=new oV({column:this.column,formGroup:n,originalEvent:e,dataItem:t});return this.closingCell=!0,this.changes.emit(i),this.closingCell=!1,i.isDefaultPrevented()||this.cancelCell(),i.isDefaultPrevented()})}cancelCell(){this.column&&(this.edited.clear(),this.column=null,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return this.edited.get(this.idGetter(e))}beginEdit(e){this.changes.emit({action:"edit",dataItem:e})}beginAdd(e){this.changes.emit({action:"add",parent:e})}endEdit(e,t){const n=t?this.newItemGroup:this.context(e).group;this.changes.emit({action:"cancel",dataItem:e,formGroup:n,isNew:t})}save(e,t){const n={action:"save",isNew:t};t?(n.parent=this.newItem.parent,n.formGroup=this.newItem.group,n.dataItem=e):(n.dataItem=e,n.formGroup=this.context(e).group),this.changes.emit(n)}remove(e,t){this.changes.emit({action:"remove",dataItem:e,parent:t})}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}get first(){if(this.isEditing())return this.edited.values().next().value}}return e.\u0275fac=function(t){return new(t||e)(bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class aV{constructor(e){this.columns=e,this.allColumns=new tu,this.leafColumns=new tu,this.lockedColumns=new tu,this.nonLockedColumns=new tu,this.lockedLeafColumns=new tu,this.nonLockedLeafColumns=new tu,this.totalLevels=0,this.changes=new Jl,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasFooter=!1,this.unlockedWidth=0}refresh(){const e=this.totalLevels,t=new Array,n=new Array,i=new Array,o=new Array,r=new Array,s=new Array,a=new Array,l=new Array,u=new Array;let c=!1,h=0,p=0;this.totalLevels=0,this.columns().forEach(e=>{const d=!0===e.isLocked?n:i,f=!0===e.isLocked?o:r,g=!0===e.isLocked?l:u;GL(e)||(d.push(e),t.push(e),a.push.apply(a,AL([e])),g.push.apply(g,AL([e])),c=c||((e,...t)=>ML(t).some(e))(e=>Boolean(e.footerTemplateRef),e),e.isLocked||(h+=e.width||0),e.isSpanColumn?e.childColumns.forEach(e=>{e.leafIndex=p++}):e.leafIndex=p++),f.push(e),s.push(e),this.totalLevels=e.level>this.totalLevels?e.level:this.totalLevels}),this.hasFooter=c,this.leafColumnsToRender=a,this.lockedColumnsToRender=l,this.nonLockedColumnsToRender=u,this.unlockedWidth=h;const d=((...e)=>{let t=!1;for(let n=0;n<e.length;n++){const[i,o]=e[n];t=t||i.length!==o.length,i.reset(o)}return t})([this.leafColumns,t],[this.lockedLeafColumns,n],[this.nonLockedLeafColumns,i],[this.lockedColumns,o],[this.allColumns,s],[this.nonLockedColumns,r])||e!==this.totalLevels;return d&&this.changes.emit(),d}}let lV=(()=>{class e{constructor(e){this.ngZone=e,this.changes=new Jl}notify(){this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(vp(1)).subscribe(()=>this.changes.emit()))}}return e.\u0275fac=function(t){return new(t||e)(bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),uV=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListNoRecordsTemplate",""]]}),e})();const cV=e=>t=>t.forEach(t=>t.style.height=e),hV=(e,t)=>{const n=document.activeElement,i=((e,t)=>{const n=[];for(let i=0,o=e.length;i<o&&t[i];i++)n.push([e[i],t[i]]);return n})(e.rows,t.rows);i.filter(([e,t])=>e.style.height||t.style.height).forEach(cV(""));const o=(e=>e.map(([e,t])=>{const n=e.offsetHeight,i=t.offsetHeight;return n<i?i:n}))(i);[e,t].forEach(e=>e.style.display="none"),i.forEach((e=>(t,n)=>cV(e[n]+1+"px")(t))(o)),[e,t].forEach(e=>e.style.display=""),document.activeElement!==n&&(e.contains(n)||t.contains(n))&&n.focus()};let pV=(()=>{class e{constructor(){this.changes=new E}filter(e){this.changes.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),dV=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListPagerTemplate",""]]}),e})(),fV=(()=>{class e{constructor(){this.changes=new E,this.pageChange=new E}get currentPage(){return this.skip/this.pageSize}notifyChanges(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.allCount=e.allCount,this.changes.next(e)}changePage(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}changePageSize(e){this.pageChange.next({skip:0,take:e})}nextPage(){const e=this.currentPage+1;e*this.pageSize<=this.total&&this.changePage(e)}prevPage(){const e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),gV=(()=>{class e{constructor(){this.savePDF=new Jl,this.drawPDF=new Jl,this.exportClick=new Jl,this.dataChanged=new Jl}save(e){this.emitEvent(this.savePDF,e)}draw(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}emitEvent(e,t){if(0===e.observers.length){if(Gn())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-treelist-pdf> component.")}else e.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class mV extends iV{}let yV=(()=>{class e{constructor(){this.scroll=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const vV=e=>window.matchMedia(e).matches;let CV=(()=>{class e{constructor(){this.matchMedia=vV}matchesMedia(e){return!e||this.matchMedia((e=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e))(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),wV=(()=>{class e{constructor(){this.saveToExcel=new Jl,this.exportClick=new Jl,this.loadingChange=new Jl}save(e){if(0===this.saveToExcel.observers.length){if(Gn())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-treelist-excel> component.")}else this.saveToExcel.emit(e)}toggleLoading(e){this.loading=e,this.loadingChange.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const bV=(e,t)=>{e.forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&bV(e.childrenArray,t)})},SV=(e,t)=>{LL(e).forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&SV(e.childrenArray,t)})},EV=(e,t)=>{const n=[];return LL(e).forEach(e=>{if(t(e))if(e.isColumnGroup){const i=EV(e.childrenArray,t);i.length&&n.push(e,...i)}else e.isSpanColumn&&!EV(e.childrenArray,t).length||n.push(e)}),n};class _V{constructor(e){this.columns=e}static empty(){return new _V(new tu)}forEach(e){bV(this.columns,e)}filter(e){const t=[];return bV(this.columns,n=>{e(n)&&t.push(n)}),t}filterHierarchy(e){return EV(this.columns.toArray(),e)}filterSort(e){const t=[];return SV(this.columns.toArray(),n=>{e(n)&&t.push(n)}),t}toArray(){const e=[];return bV(this.columns,t=>{e.push(t)}),e}rootColumns(){return this.columns.toArray()}}let OV=(()=>{class e{constructor(e,t){this.templateRef=e,this.optionChanges=t,this._position="top"}set position(e){this._position=e,this.optionChanges.optionChanged()}get position(){return this._position}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8),Rs(_L))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListToolbarTemplate",""]],inputs:{position:"position"}}),e})(),xV=(()=>{class e{constructor(e){this.ngZone=e,this.changes=new E,this.elements=[],this.subscriptions=new h,this.headerSubscription=new h,this.bodySubscription=new h,this.subscriptions.add(this.changes.subscribe(e=>this.scrollLeft(e)))}registerEmitter(e,t){this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular(()=>{const n=Hy(e,"scroll").pipe(x(({target:{scrollLeft:e}})=>({scrollLeft:e,sourceType:t}))),i=n.pipe(function(e,t){return t=>t.lift(new sv(e,void 0))}((e,t)=>e.scrollLeft===t.scrollLeft),tp(e=>!this.source||this.source===e.sourceType),Ap(e=>this.source=e.sourceType)).subscribe(e=>this.changes.next(e));i.add(n.pipe(tp(e=>this.source&&this.source!==e.sourceType)).subscribe(()=>this.source=void 0)),"body"===t?this.bodySubscription.add(i):this.headerSubscription.add(i)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:t}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(e=>t!==e.sourceType).forEach(({element:t})=>t.scrollLeft=e)})}unregister(e){const t=this.elements.findIndex(t=>t.sourceType===e);t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new h):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new h),this.elements.splice(t,1))}}return e.\u0275fac=function(t){return new(t||e)(bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),TV=(()=>{class e{constructor(){this.resizeSubscription=new h(()=>{}),this.dispatcher=new E,this.changes=this.dispatcher.asObservable().pipe(uv(100))}connect(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const RV=/^(?:a|input|select|option|textarea|button|object)$/i,PV={},DV=e=>String(e).trim().split(" "),AV=(e,t)=>{const n=DV(t);return Boolean(DV(e.className).find(e=>n.indexOf(e)>=0))},kV=e=>t=>AV(t,e),IV=e=>(PV[e]||(PV[e]=t=>String(t.nodeName).toLowerCase()===e.toLowerCase()),PV[e]),FV=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e},NV=(e,t,n)=>{for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},MV=e=>{const t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},LV=e=>{if(!e.tagName)return!1;const t=e.tagName.toLowerCase(),n=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&RV.test(t)||n},VV=(e,t=!0)=>{if(!LV(e))return!1;const n=e.getAttribute("tabIndex");return(!t||MV(e))&&"-1"!==n},GV=(e,t,n=!0)=>{if(e){if(n&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){const n=GV(e,t);if(n)return n}e=e.nextSibling}}};let HV=(()=>{class e{constructor(){this.cellClick=new Jl,this.cellMousedown=new Jl,this.click=new Jl,this.keydown=new Jl,this.focus=new Jl,this.focusIn=new Jl,this.focusOut=new Jl,this.windowBlur=new Jl}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const WV=e=>e.parent?WV(e.parent):!!e.locked,BV=(e,t)=>Object.assign({columns:ML([e]),locked:WV(e)},t);let jV=(()=>{class e{constructor(){this.changes=new Jl,this.tables=[],this.batch=null}start(e){this.trackColumns(e);const t=(this.column.isColumnGroup?[e]:[]).concat(ML([e]));this.changes.emit({columns:t,locked:WV(this.column),type:"start"})}resizeColumns(e){const t=BV(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}resizeTable(e,t){const n=BV(e,{delta:t,type:"resizeTable"});this.changes.emit(n)}resizedColumn(e){this.resizedColumns.push(e)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}registerTable(e){return this.tables.push(e),()=>{this.tables.splice(this.tables.indexOf(e),1)}}measureColumns(e){null!==this.batch?this.batch.push(...e):this.autoFitBatch(e,()=>this.end())}autoFit(...e){const t=e.filter(e=>!e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>{if(t.length<e.length){const t=e.filter(e=>e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(e){this.resizedColumns=[],this.column=e}autoFitStart(e){if(this.batch=[],this.resizedColumns=[],0===e.length)return;const t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}autoFitBatch(e,t){const n=e.length>0&&e[0].column.isLocked;(function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),z(e,void 0).lift(new jy(t))})(...this.tables.filter(e=>e.locked===n).map(t=>t.autoFit(e))).pipe(vp(1)).subscribe(i=>{this.changes.emit({columns:e.map(e=>e.column),type:"autoFitComplete",widths:i,locked:n}),t&&t()}),this.batch=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const zV=e=>!0===e||"string"==typeof e&&e.indexOf("row")>-1;class UV extends iV{constructor(e){super(),this.originalEvent=e}}let KV=(()=>{class e{constructor(e,t,n,i,o){this.popupService=e,this.renderer=t,this.ngZone=n,this.localization=o,this.onClose=new E,this.scrollSubscription=i.changes.subscribe(()=>this.destroy())}open(e,t,n,i="k-grid-filter-popup"){const o=sL(n)&&this.popupRef===n;if(this.destroy(),!o){const n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:n},popupAlign:{vertical:"top",horizontal:n},anchor:e,popupClass:i,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",t=>{if(!((e,t)=>{for(;e;){if(t(e))return!0;e=e.parentNode}return!1})(t.target,t=>this.popupRef.popupElement===t||t===e)){const e=new UV(t);this.onClose.next(e),e.isDefaultPrevented()||this.destroy()}}))}}return e.\u0275fac=function(t){return new(t||e)(bt(_b),bt(ja),bt(zu),bt(xV),bt(Sw))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const qV=e=>{let t=!1;return()=>(t||(document.body.appendChild(e),t=!0),e)},YV=e=>{const{clientTop:t,clientLeft:n}=(e=>e.ownerDocument.documentElement)(e),{pageYOffset:i,pageXOffset:o}=(e=>e.ownerDocument.defaultView)(e),{top:r,left:s}=e.getBoundingClientRect();return{top:r+i-t,left:s+o-n}},$V=(e,t)=>e===t||0!=(16&t.compareDocumentPosition(e));let XV=(()=>{class e{constructor(){this.changes=new Jl,this.register=[],this.lastTarget=null}add(e){this.register.push(e)}remove(e){this.register=this.register.filter(t=>t!==e)}notifyDrag(e,t,n){const i=this.targetFor(t);this.lastTarget!==i&&(this.changes.next({draggable:e,mouseEvent:n,target:this.lastTarget,type:"leave"}),i&&this.changes.next({draggable:e,mouseEvent:n,target:i,type:"enter"}),this.lastTarget=i)}notifyDrop(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(e){const t=$V.bind(null,e);return this.register.find(({element:{nativeElement:e}})=>t(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const QV=(e,t)=>{const n=e.querySelector(".k-icon");n.className=n.className.replace(/(plus|cancel)/,t?"plus":"cancel")},ZV=(e,t=null)=>{const n=e.querySelectorAll(".k-icon")[1],i=null==t?"":t?"k-i-lock":"k-i-unlock";n.className=n.className.replace(/(k-i-unlock|k-i-lock)/,"")+" "+i};let JV=(()=>{class e{constructor(e){this.santizer=e}create(e,t,n){this.initCoords(e),this.dom=document.createElement("div"),((e,t)=>{const n=getComputedStyle(t);e.className="k-header k-drag-clue",e.style.position="absolute",e.style.zIndex="20000",e.style.paddingLeft=n.paddingLeft,e.style.paddingTop=n.paddingTop,e.style.paddingBottom=n.paddingBottom,e.style.paddingRight=n.paddingRight,e.style.width=n.width,e.style.height=n.height})(this.dom,t);const i=this.santizer.sanitize(ui.HTML,n);this.dom.innerHTML=`\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            ${i}\n        `}attach(){return qV(this.dom)}remove(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout(()=>document.body.removeChild(e)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){QV(this.dom,!0)}disable(){QV(this.dom,!1)}removeLock(){ZV(this.dom)}toggleLock(e){ZV(this.dom,e)}move(e){this.dom.style.top=this.initialTop+e.pageY+"px",this.dom.style.left=this.initialLeft+e.pageX+"px"}initCoords(e){const{top:t,left:n}=YV(e.originalEvent.target);this.initialTop=t-e.pageY,this.initialLeft=n-e.pageX}}return e.\u0275fac=function(t){return new(t||e)(bt(Mh))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),eG=(()=>{class e{create(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}attach(){return qV(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:e,top:t,height:n}){this.dom.style.display="block",this.dom.style.height=n+"px",this.dom.style.top=t+"px",this.dom.style.left=e-this.dom.offsetWidth/2+"px"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),tG=(()=>{class e{constructor(){this.changes=new Jl}reorder(e){this.changes.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class nG extends iV{constructor({column:e,newIndex:t,oldIndex:n}){super(),this.column=e,this.newIndex=t,this.oldIndex=n}}let iG=(()=>{class e{constructor(){this.groups=new Set}registerGroup(e){this.alive&&this.groups.add(e)}unregisterGroup(e){this.alive&&this.groups.delete(e)}activate(){this.alive&&this.groups.forEach(e=>e.activate())}deactivate(){this.alive&&this.groups.forEach(e=>e.deactivate())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const oG=IV("button"),rG=IV("input"),sG=/(button|checkbox|color|file|radio|reset|submit)/i;class aG{constructor(e,t){this.renderer=t,this.element=e.nativeElement,this.focusable=((e,t=!0)=>GV(this.element,e=>VV(e,t)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&MV(this.focusable)}isNavigable(){return this.canFocus()&&!(e=this.element).disabled&&(oG(e)||(e=>rG(e)&&sG.test(e.type))(e));var e}toggle(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return document.activeElement!==this.element&&FV(document.activeElement,e=>e===this.element)}}let lG=(()=>{class e{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this)}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(t=>t!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,t)=>e||t.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(t=>t.toggle(e)))}}return e.\u0275fac=function(t){return new(t||e)(bt(iG))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),uG=(()=>{class e{constructor(e,t,n){this.hostElement=e,this.renderer=t,this.group=n,this.active=!0}set addCellContext(e){this.cellContext=e}set editCellContext(e){this.cellContext=e}set removeCellContext(e){this.cellContext=e}set saveCellContext(e){this.cellContext=e}set cancelCellContext(e){this.cellContext=e}ngOnInit(){this.cellContext&&this.cellContext.focusGroup&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}ngAfterViewInit(){this.element||(this.element=new aG(this.hostElement,this.renderer)),this.group&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.active=e,this.element.toggle(e))}canFocus(){return this.element&&this.element.canFocus()}isNavigable(){return this.element&&this.element.isNavigable()}focus(){this.element&&this.element.focus()}hasFocus(){return this.element&&this.element.hasFocus()}registerElement(e){this.element=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(ja),Rs(lG,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListFocusable",""],["","kendoTreeListAddCommand",""],["","kendoTreeListEditCommand",""],["","kendoTreeListRemoveCommand",""],["","kendoTreeListSaveCommand",""],["","kendoTreeListCancelCommand",""]],inputs:{addCellContext:["kendoTreeListAddCommand","addCellContext"],cellContext:["kendoTreeListFocusable","cellContext"],editCellContext:["kendoTreeListEditCommand","editCellContext"],removeCellContext:["kendoTreeListRemoveCommand","removeCellContext"],saveCellContext:["kendoTreeListSaveCommand","saveCellContext"],cancelCellContext:["kendoTreeListCancelCommand","cancelCellContext"]}}),e})();class cG{constructor(e){this.model=e,this.changes=new E,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}get row(){return this.model.findRow(this.activeRow)}get cell(){const e=this.row;if(e)return this.model.findCell(this.activeCol,e)}get dataRowIndex(){const e=this.row;return e?e.dataRowIndex:-1}reset(e=this.activeRow,t=this.activeCol,n=!0){this.activate(e,t,n)&&(this.virtualRow=e,this.virtualCol=t)}activate(e,t,n){if(!n&&this.isActiveRange(e,t))return!1;const i=this.activeCol,o=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:i,prevRowIndex:o,rowIndex:e}),!0}isActiveRange(e,t){if(this.activeRow!==e)return!1;const n=this.cell,{start:i,end:o}=this.model.cellRange(n);return!Boolean(n)||i<=t&&t<=o}assume(e=this.activeRow,t=this.activeCol){this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(e){const t=this.model.rowRange(e),n=this.model.cellRange(e),i=this.activeCol,o=this.activeRow;if(t.start<=o&&o<=t.end&&n.start<=i&&i<=n.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}isActive(e,t){return this.activeCol===t&&this.activeRow===e}moveUp(e=1){return this.offsetRow(-e)}moveDown(e=1){return this.offsetRow(e)}moveLeft(e=1){return this.offsetCol(-e)}moveRight(e=1){return this.offsetCol(e)}lastCellIndex(){return this.metadata.columns.leafColumnsToRender.length-1}offsetCol(e){const t=this.model.findRow(this.virtualRow),n=this.lastCellIndex(),i=this.virtualCol;this.virtualCol=Math.max(0,Math.min(i+e,n));let o=this.virtualCol,r=this.virtualRow,s=this.model.findCell(this.virtualCol,t);if(!s&&this.metadata.virtualColumns)return this.activate(r,o);if(s.colSpan>1&&s.colIndex<=i&&i<s.colIndex+s.colSpan){o=e>0?Math.min(s.colIndex+s.colSpan,n):Math.max(0,s.colIndex+e);const r=this.model.findCell(o,t);s!==r?(s=r,this.virtualCol=s.colIndex):this.virtualCol=i}return this.activate(s.rowIndex,s.colIndex)}offsetRow(e){let t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){let n=Math.max(0,Math.min(this.activeRow+e,this.metadata.maxLogicalRowIndex));const i=this.model.findRow(n);if(i){let o=this.model.findCell(this.virtualCol,i);o.rowIndex<=this.virtualRow&&e>0&&o.rowSpan>1&&(o=this.model.findCell(this.virtualCol,this.model.findRow(o.rowIndex+o.rowSpan-1+e))),n=o.rowIndex,t=o.colIndex}return this.virtualRow=n,this.activate(n,t)}const n=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!n)return!1;let i=this.model.findCell(this.virtualCol,n);return i&&i.rowIndex<=this.virtualRow&&e>0&&i.rowSpan>1&&(i=this.model.findCell(this.virtualCol,this.model.findRow(i.rowIndex+i.rowSpan-1+e))),!i&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=i.rowIndex,this.activate(this.virtualRow,i.colIndex))}}class hG{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let e;return this.forEach(t=>(e=t,!0)),e}}get last(){if(this.count>0){const e=Object.keys(this.items);return this.items[e[e.length-1]]}}removeItem(e){this.items[e]&&(delete this.items[e],this.count--)}setItem(e,t){this.items[e]||this.count++,this.items[e]=t}getItem(e){return this.items[e]}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}forEach(e){for(let t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}find(e){return this.forEach(e)}}class pG{constructor(e,t){this.uid=t.uid,this.column=t.column,this.colIndex=t.logicalColIndex,this.rowIndex=e.index,this.colSpan=t.colSpan,this.rowSpan=t.rowSpan,this.dataItem=e.dataItem,this.dataRowIndex=e.dataRowIndex,this.focusGroup=t.focusGroup,this.expandable=t.expandable}focusContent(){this.focusGroup&&this.focusGroup.focus()}}class dG{constructor(){this.rows=new hG}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(e){const t=this.rows.getItem(e.logicalRowIndex);if(!t)return;const n=new pG(t,e);return t.cells.setItem(e.logicalColIndex,n),n}unregisterCell(e,t,n){const i=this.rows.getItem(t);if(i){const t=i.cells.getItem(e);t&&t.uid===n.uid&&i.cells.removeItem(e)}}registerRow(e){const t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new hG,isNew:e.isNew};this.rows.setItem(e.logicalRowIndex,t)}updateRow(e){const t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}unregisterRow(e,t){const n=this.rows.getItem(e);n&&n.uid===t.uid&&this.rows.removeItem(e)}cellRange(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}rowRange(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}nextRow(e,t){const n=this.rows.toArray(),i=this.rows.getItem(e),o=n.indexOf(i);return n[o+t]}findRow(e){return this.rows.getItem(e)}findCell(e,t){if(!t)return;const n=t.index;let i=t.cells.getItem(e),o=n;for(;!i&&t;)t=this.rows.getItem(o),i=this.rowCell(e,t),o--;return i&&n<=t.index+(i.rowSpan||1)-1?i:void 0}rowCell(e,t){if(!t||!t.cells.count)return;const n=t.cells.first;let i,o=e;for(;!i&&o>=n.colIndex;)i=t.cells.getItem(o),o--;return i&&e<=i.colIndex+(i.colSpan||1)-1?i:void 0}}class fG{constructor(e){this.navigationService=e}focus(){this.navigationService.focusCell()}toggle(e){this.navigationService.toggle(e)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class gG extends iV{constructor(e){super(),this.expand=e.expand,this.dataItem=e.dataItem}}const mG=e=>!0;let yG=(()=>{class e{constructor(){this.changes=new E,this.isExpanded=mG}toggleState(e){const t=this.isExpanded(e);this.changes.next(new gG({dataItem:e,expand:!t}))}expand(e){this.isExpanded(e)||this.changes.next(new gG({dataItem:e,expand:!0}))}collapse(e){this.isExpanded(e)&&this.changes.next(new gG({dataItem:e,expand:!1}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),vG=(()=>{class e{constructor(){this.requests=new E}scrollTo(e){this.requests.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class CG{constructor(e,t){this.action=e,this.items=t}}const wG=e=>!1,bG=()=>!1;let SG=(()=>{class e{constructor(){this.changes=new E,this.isSelected=wG,this.isRowSelected=bG,this.isCellSelected=bG,this.enabled=!1,this._settings={},this.tables=[],this.subscriptions=new h}set settings(e){this._settings="object"==typeof e?e:{enabled:e},this.enabled=!1!==this._settings.enabled,this.enabled?"cell"===this._settings.mode?(this.isCellSelected=this.cellSelected,this.isRowSelected=bG):(this.isCellSelected=bG,this.isRowSelected=this.rowSelected):(this.isCellSelected=bG,this.isRowSelected=bG)}get settings(){return this._settings}get enableMarquee(){return this.enabled&&!1!==this.settings.drag&&this.settings.multiple}get enableMultiple(){return this.enabled&&this.settings.multiple}get rowSelection(){return this.enabled&&"cell"!==this.settings.mode}init(e){this.view=e.view,this.columnsContainer=e.columnsContainer,this.subscriptions.add(U(e.pageChange,e.dataStateChange).subscribe(()=>{this.selectionOrigin=null})),this.subscriptions.add(e.domEvents.cellMousedown.subscribe(e=>{this.enabled&&this._settings.multiple&&e.originalEvent.shiftKey&&e.originalEvent.preventDefault()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}registerTable(e){this.tables.push(e)}unregisterTable(e){this.tables=this.tables.filter(t=>t!==e)}click(e,t){const{dataItem:n,column:i,columnIndex:o,originalEvent:r}=e;if(r.keyCode===tC.Enter)return;const s=this.isSelected(n,i,o),a=r.ctrlKey||t;this._settings.multiple?r.shiftKey?this.selectRange({item:n,column:i,columnIndex:o},this.selectionOrigin||{columnIndex:0,column:this.leafColumns[0],item:this.view.firstItem.data}):(this.selectionOrigin={item:n,column:i,columnIndex:o},this.changes.next(new CG(a?s?"remove":"add":"select",[{dataItem:n,column:i,columnIndex:o}]))):s&&!a||this.changes.next(new CG(s&&a?"remove":"select",[{dataItem:n,column:i,columnIndex:o}])),r.ctrlKey&&r.preventDefault()}checkboxClick(e){if(e.column.checkChildren&&e.viewItem.hasChildren&&!e.originalEvent.shiftKey&&!e.originalEvent.ctrlKey){const t=[e.dataItem],n=Boolean(e.viewItem.selected);nV.loadView({fields:Object.assign({},this.view.fieldAccessor(),{data:t,hasFooter:!1,pageable:!1,isVirtual:!1}),loaded:this.view.loaded,selectionState:this.view.selectionState}).subscribe(e=>{if(!e)return;const t=e.data.filter(e=>Boolean(e.selected)===n).map(e=>({dataItem:e.data}));this.changes.next(new CG(n?"remove":"add",t))})}else this.click(e,!0)}toggleAll(e){nV.loadView({fields:Object.assign({},this.view.fieldAccessor(),{hasFooter:!1,pageable:!1,isVirtual:!1}),loaded:this.view.loaded,selectionState:this.view.selectionState}).subscribe(t=>{if(!t)return;const n=t.data.filter(t=>Boolean(t.selected)!==e).map(e=>({dataItem:e.data}));this.changes.next(new CG(e?"add":"remove",n))})}selectRange(e,t){const n=this.rangeItems(e,t);this.changes.next(new CG("select",n))}rangeItems(e,t){const n=this.view.findIndex(t=>t.data===e.item||t===e.item),i=this.view.findIndex(e=>e.data===t.item||e===t.item),o=Math.min(n,i),r=Math.max(n,i),s=this.view.data.slice(o,r+1).filter(e=>"data"===e.type);if("cell"===this._settings.mode){const n=this.leafColumns,i=Math.min(e.columnIndex,t.columnIndex),o=Math.max(e.columnIndex,t.columnIndex),r=[];for(let e=0;e<s.length;e++)for(let t=i;t<=o;t++)r.push({dataItem:s[e].data,column:n[t],columnIndex:t});return r}return s.map(e=>({dataItem:e.data}))}updateSelectedState(){this.rowSelection&&this.view.updateSelectedState()}targetArgs(e,t){let n;return this.tables.some(i=>(n=i.targetArgs(e,t),n)),n}rowSelected(e){return this.isSelected(e)}cellSelected(e,t,n){return this.isSelected(e,t,n)}get leafColumns(){return this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const EG=(e,t)=>FV(e,IV("kendo-treelist"))===t,_G=IV("th"),OG=IV("td"),xG=e=>OG(e)||_G(e),TG=(e,t)=>{const n=((e,t)=>{let n=FV(e,xG);for(;n&&!EG(n,t);)n=FV(n.parentElement,xG);return n})(e,t),i=FV(n,IV("tr"));if(n&&i){let e=i.getAttribute("aria-rowindex");e=e?parseInt(e,10)-1:null;let t=n.getAttribute("aria-colindex");if(t=t?parseInt(t,10)-1:null,null!==e&&null!==t)return{colIndex:t,rowIndex:e,element:n}}},RG=e=>(e=>e===tC.ArrowLeft||e===tC.ArrowRight||e===tC.ArrowUp||e===tC.ArrowDown)(e)||e===tC.PageUp||e===tC.PageDown||e===tC.Home||e===tC.End,PG=IV("input");class DG{constructor(e,t){this.firstItemIndex=e,this.lastItemIndex=t}containsRow(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}intersects(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}let AG=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c){this.zone=e,this.domEvents=t,this.pagerContextService=n,this.scrollRequestService=i,this.focusRoot=o,this.editService=r,this.localization=s,this.expandState=a,this.selectionService=l,this.changeDetector=u,this.focusableParent=c,this.cellKeydown=new Jl,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new dG,this.cursor=new cG(this.model),this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e){this.alive=!0,this.focusRoot.alive=!0,this.metadata=e;const t=(...e)=>t=>this.zone.isStable?M([!0]).pipe(x(()=>t)):this.zone.onStable.pipe(vp(1),x(()=>t),...e),n=t();if(this.subs=new h,this.subs.add(this.cursor.changes.subscribe(e=>this.onCursorChanges(e))),this.subs.add(this.domEvents.focus.pipe(gp(n)).subscribe(e=>this.navigateTo(e.target))),this.subs.add(this.domEvents.focusOut.pipe(tp(()=>0!==this.mode),gp(t(dv(this.domEvents.focus)))).subscribe(e=>this.onFocusOut(e))),this.subs.add(this.domEvents.windowBlur.pipe(tp(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe(tp(e=>e instanceof oV?!e.isDefaultPrevented():"edit"!==e.action&&2===this.mode),gp(n)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(e=>this.onKeydown(e))),this.subs.add(this.domEvents.keydown.pipe(tp(e=>e.keyCode===tC.Tab&&2===this.mode),mv(this.domEvents.focusOut.pipe(dv(ev(0).pipe(vp(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const e=new fG(this);this.focusableParent.registerElement(e)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,t,n){this.model.unregisterCell(e,t,n)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,t){this.model.unregisterRow(e,t)}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive)return;const t=TG(e,this.meta.treelistElement.nativeElement);if(!t)return;const n=this.mode,i=((e,t,n=!1)=>{if(!FV(t,t=>t===e))return!1;const i=FV(t,e=>e===t);return i&&(n||i!==e)})(t.element,document.activeElement),o=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(i)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!o){this.mode=1,this.deactivateElements();const e=this.cursor.isActive(t.rowIndex,t.colIndex);1===n&&e||this.cursor.reset(t.rowIndex,t.colIndex)}}tryFocus(e){this.activateElements();const t=((e,t=!0)=>GV(e,e=>VV(e,t),!1))(e);if(t){const e=TG(t,this.meta.treelistElement.nativeElement);e&&(this.cursor.reset(e.rowIndex,e.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,t){if(this.viewport=new DG(e,t),this.enabled&&this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const n=this.activeDataRow,i=n-t;e-n>0?this.cursor.reset(e+this.meta.headerRows):i>0&&this.cursor.reset(t-this.meta.headerRows)}}setColumnViewport(e,t){this.columnViewport=new DG(e,t)}focusCell(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}focusAdjacentCell(e,t){this.focusCell();let n=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!n&&(n=e?this.cursor.moveDown(1):this.cursor.moveUp(1),n)){const t=this.cursor.row,n=e?0:this.cursor.lastCellIndex();this.cursor.reset(t.index,n)}return n?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup,n=t&&t.canFocus();this.mode=n?2:1,this.cursor.announce(),n&&(this.activateRow(),t.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}updateSelection(e){this.selectionService.enabled&&this.selectionService.click({dataItem:this.cursor.row.dataItem,column:this.cursor.cell.column,columnIndex:this.cursor.cell.colIndex,originalEvent:e})}onCursorKeydown(e){let t=!1;const n=e.ctrlKey||e.metaKey,i=n?5:1;if(!this.onCellKeydown(e))return;const o=this.cursor.row;switch(e.keyCode){case tC.Space:this.updateSelection(e),t=this.selectionService.enabled;break;case tC.KeyA:e.ctrlKey&&this.selectionService.enabled&&(this.zone.run(()=>this.selectionService.toggleAll(!0)),t=!0);break;case tC.ArrowDown:t=this.cursor.moveDown(i),t&&e.shiftKey&&this.updateSelection(e);break;case tC.ArrowUp:t=this.cursor.moveUp(i),t&&e.shiftKey&&this.updateSelection(e);break;case tC.ArrowRight:e.altKey?(this.zone.run(()=>{this.expandState.expand(o.dataItem)}),t=!0):(t=this.moveCursorFwd(),t&&e.shiftKey&&this.updateSelection(e));break;case tC.ArrowLeft:e.altKey?(this.zone.run(()=>{this.expandState.collapse(o.dataItem)}),t=!0):(t=this.moveCursorBwd(),t&&e.shiftKey&&this.updateSelection(e));break;case tC.PageDown:if(this.metadata.isVirtual&&this.viewport){let e=this.meta.headerRows+this.viewport.lastItemIndex+1;e=Math.min(this.meta.maxLogicalRowIndex,e),this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),t=!0);break;case tC.PageUp:if(this.metadata.isVirtual&&this.viewport){let e=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),t=!0);break;case tC.Home:this.cursor.reset(n?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:o.index,0,!1),t=!0;break;case tC.End:if(n)this.cursor.reset(this.meta.isVirtual?this.meta.maxLogicalRowIndex:this.model.lastRow.index,this.cursor.lastCellIndex(),!1);else{const e=this.cursor.lastCellIndex(),t=this.model.findCell(e,o);t?this.cursor.reset(t.rowIndex,t.colIndex):this.cursor.reset(o.index,e)}t=!0;break;case tC.Enter:if(!e.ctrlKey&&!e.shiftKey){const e=this.editService.isEditingCell(),n=this.cursor.cell;e||!0!==n.expandable?(this.enterCell(),n.focusGroup.isNavigable()||(t=!0)):this.zone.run(()=>{this.expandState.toggleState(o.dataItem)})}break;default:e.ctrlKey||e.altKey||1!==(r=e.key).length||!r.match(/\S/)||this.enterCell()}var r;t&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const t=!e.defaultPrevented&&e.keyCode===tC.Enter&&(n=e.srcElement)&&PG(n)&&"text"===n.type.toLowerCase();var n;e.keyCode===tC.Escape||e.keyCode===tC.F2||t?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):RG(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const t=e.keyCode===tC.Enter,n=e.keyCode===tC.Escape,i=RG(e.keyCode);if(t)return!this.editService.closeCell(e);if(n)this.editService.cancelCell(),this.meta.view.updateEditedState(),this.changeDetector.detectChanges();else if(i)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const t=this.activeCell,{start:n,end:i}=this.model.cellRange(t);t||(this.virtualCell=!0),(!t&&0!==this.mode||t&&!this.columnViewport.intersects(n,i))&&this.scrollRequestService.scrollTo({column:e.colIndex})}}onFocusOut(e){this.mode=MV(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}}return e.\u0275fac=function(t){return new(t||e)(bt(zu),bt(HV),bt(fV),bt(vG),bt(iG),bt(sV),bt(Sw),bt(yG),bt(SG),bt(cl),bt(uG,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class kG{constructor(e,t,n,i,o,r,s){this.view=e,this.headerRows=t,this.isVirtual=n,this.hasPager=i,this.treelistElement=o,this.virtualColumns=r,this.columns=s}get maxLogicalRowIndex(){return this.headerRows+this.dataRows-1}get dataRows(){return this.view.totalRows}}let IG=0,FG=(()=>{class e{constructor(){this.prefix="k-treelist"+IG++}cellId(e,t){return`${this.prefix}-r${e}c${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),NG=(()=>{class e{constructor(){this.visibilityChange=new Jl,this.lockedChange=new Jl,this.columnRangeChange=new Jl,this.columnsContainer=new aV(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get leafNamedColumns(){const e=PL(this.list().filterSort(e=>!e.isColumnGroup)).filter(e=>e.matchesMedia&&e.displayTitle);return fw(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}init(e,t){this.columnsContainer=e,this.list=t}changeVisibility(e){this.visibilityChange.emit(e)}changeLocked(e){this.lockedChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),MG=(()=>{class e{constructor(){this.changes=new E}sort(e){this.changes.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class LG{constructor(e){this.columns=e}}class VG{constructor(e){this.columns=e}}function GG(e,t){return"data"===t.type&&t.isEditing?t.data:e}class HG{create(e,t,n){this.throwUnsupportedError()}update(e){}remove(e){this.throwUnsupportedError()}assignValues(e,t){Object.assign(e,t)}throwUnsupportedError(){if(Gn())throw new Error("The default edit service of the editing directives can only update the items.Please provide an editService.")}}let WG=(()=>{class e{constructor(){this.changes=new Jl}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const BG=(e,t)=>FV(e,kV("k-grid-edit-cell"))&&FV(e,IV("kendo-treelist"))===t;let jG=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c,p,d,f,g,m,y,v,C,w,b,S,E){this.supportService=e,this.wrapper=t,this.changeNotification=n,this.editService=i,this.filterService=o,this.pdfService=r,this.responsiveService=s,this.renderer=a,this.excelService=l,this.ngZone=u,this.scrollSyncService=c,this.domEvents=p,this.columnResizingService=d,this.changeDetectorRef=f,this.columnReorderService=g,this.columnInfoService=m,this.navigationService=y,this.sortService=v,this.scrollRequestService=C,this.expandStateService=w,this.optionChanges=b,this.selectionService=S,this.pageSize=10,this.scrollable="scrollable",this.trackBy=GG,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.selectionChange=new Jl,this.filterChange=new Jl,this.pageChange=new Jl,this.sortChange=new Jl,this.dataStateChange=new Jl,this.edit=new Jl,this.cancel=new Jl,this.save=new Jl,this.remove=new Jl,this.add=new Jl,this.cellClose=new Jl,this.cellClick=new Jl,this.pdfExport=new Jl,this.excelExport=new Jl,this.columnResize=new Jl,this.columnReorder=new Jl,this.columnVisibilityChange=new Jl,this.columnLockedChange=new Jl,this.scrollBottom=new Jl,this.contentScroll=new Jl,this.expandEvent=new Jl,this.collapseEvent=new Jl,this.expandStateChange=new Jl,this.columnOrderChange=new Jl,this.columns=new tu,this.footer=new tu,this.columnsContainer=new aV(()=>this.columnList.filterHierarchy(e=>(e.matchesMedia=this.matchesMedia(e),e.isVisible))),this.idGetter=Bb(void 0),this.localEditService=new HG,this.view=new nV(this.viewFieldAccessor.bind(this),this.expandStateService,this.editService,this.selectionService),this.dataChanged=!1,this._hasChildren=()=>!1,this.subscriptions=new h,this.rtl=!1,this.shouldGenerateColumns=!0,this._data=[],this._sort=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowClass=()=>null,this.subscriptions.add(E.changes.subscribe(({rtl:e})=>{this.rtl=e,this.direction=this.rtl?"rtl":"ltr"})),this.selectionService.init(this),this.subscriptions.add(this.selectionService.changes.subscribe(e=>{Gv(this.selectionChange)&&this.ngZone.run(()=>{e.sender=this,this.selectionChange.emit(e),this.selectionService.updateSelectedState(),this.changeDetectorRef.markForCheck()})})),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.subscriptions.add(this.columnInfoService.visibilityChange.subscribe(e=>{this.columnVisibilityChange.emit(new LG(e)),this.changeDetectorRef.markForCheck()})),this.subscriptions.add(this.columnInfoService.lockedChange.subscribe(e=>{this.columnLockedChange.emit(new VG(e)),this.changeDetectorRef.markForCheck()})),this.subscriptions.add(U(this.optionChanges.columns,this.optionChanges.options).subscribe(()=>{this.changeDetectorRef.markForCheck()})),this.subscriptions.add(this.filterService.changes.subscribe(e=>{this.filterChange.emit(e)})),this.subscriptions.add(this.sortService.changes.subscribe(e=>{this.sortChange.emit(e)})),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.subscriptions.add(this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this))),this.subscriptions.add(this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this))),this.subscriptions.add(this.excelService.loadingChange.subscribe(()=>{this.changeDetectorRef.detectChanges()})),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new _V(this.columns),this.subscriptions.add(this.columnReorderService.changes.subscribe(this.reorder.bind(this))),this.subscriptions.add(this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))),this.subscriptions.add(this.expandStateService.changes.subscribe(e=>{e.expand?this.expandEvent.emit(e):this.collapseEvent.emit(e),e.isDefaultPrevented()||(this.changeDetectorRef.markForCheck(),this.view.clear(),this.expandStateChange.emit(e))})),this.subscriptions.add(this.view.childrenLoaded.subscribe(()=>{this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.view.resetPage.subscribe(()=>{this.skip>0&&Gv(this.pageChange)&&(this.pageChangeTimeout=setTimeout(()=>{this.pageChange.emit({skip:0,take:this.pageSize})},0)),this.skip=0})),this.dataLoaded=this.dataLoaded.bind(this),this.editService.idGetter=this.idGetter}set data(e){this.view.reset(),this._data=e,this.loadedData=null,this.unsubscribeDataLoaded(),By(e)?this.dataLoadedSubscription=e.subscribe(this.dataLoaded):this.dataLoaded(e)}get data(){return this.loadedData}get skip(){return this._skip}set skip(e){e>=0&&(this._skip=e,this.view.clear())}set sort(e){(e=>Array.isArray(e))(e)&&(this._sort=e)}get sort(){return this._sort}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0}get showPager(){return!this.isVirtual&&!1!==this.pageable}get marqueeSelection(){return this.selectionService.enableMarquee}set navigatable(e){this.navigable=e}get navigatable(){return this.navigable}set rowClass(e){if("function"!=typeof e)throw new Error(`rowClass must be a function, but received ${JSON.stringify(e)}.`);this._rowClass=e}get rowClass(){return this._rowClass}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}set idField(e){this.idGetter="function"==typeof e?e:Bb(e),this.editService.idGetter=this.idGetter}set selectable(e){this.selectionService.settings=e}set isSelected(e){if("function"!=typeof e&&Gn())throw new Error(`isSelected must be a function, but received "${JSON.stringify(e)}".`);this.selectionService.isSelected=e,this.selectionService.settings=this.selectionService.settings}get dir(){return this.direction}get hostClasses(){return!0}get lockedClasses(){return this.lockedLeafColumns.length>0}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(e){this._customNoRecordsTemplate=e}get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(e){this._customPagerTemplate=e}get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(e){this._customToolbarTemplate=e}get scrollbarWidth(){return this.supportService.scrollbarWidth}get headerPadding(){if(hL())return"";const e=Math.max(0,this.scrollbarWidth-1)+"px";return`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}get showLoading(){return this.loading||By(this._data)&&!this.loadedData||this.excelService.loading}get showFooter(){return this.columnsContainer.hasFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.totalCount}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get ariaMultiselectable(){if(this.selectionService.enabled)return this.selectionService.enableMultiple}get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){return PL(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),0)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((e,t)=>e+(t.width||0),0):this.columnsContainer.unlockedWidth}get columnMenuTemplate(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get totalCount(){return this.view.totalRows}set fetchChildren(e){this._fetchChildren=e}get fetchChildren(){return this._fetchChildren}set hasChildren(e){this._hasChildren=e}get hasChildren(){return this._hasChildren}set isExpanded(e){this.expandStateService.isExpanded=e||mG,this.expandIcons=Boolean(e)}viewFieldAccessor(){return{fetchChildren:this.fetchChildren,hasChildren:this.hasChildren,idGetter:this.idGetter,skip:this.skip,pageSize:this.pageSize,pageable:this.pageable,isVirtual:this.isVirtual,data:this.loadedData,hasFooter:this.columnsContainer.hasFooter}}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),this.updateNavigationMetadata()}ngOnChanges(e){this.lockedLeafColumns.length&&Vv(["pageSize","skip","sort"],e)&&this.changeNotification.notify(),Vv(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),Lv("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),Lv("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",this.height+"px"),Lv("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(vp(1))),Vv(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),Lv("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(vp(1)).subscribe(()=>this.attachScrollSync())}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}ngAfterContentChecked(){this.dataChanged&&(this.dataChanged=!1,this.onDataChange()),this.columnsContainer.refresh(),this.verifySettings()}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new _V(this.columns),this.subscriptions.add(this.columns.changes.subscribe(()=>{this.verifySettings(),this.optionChanges.columnChanged()}))}ngOnInit(){this.navigable&&this.navigationService.init(this.navigationMetadata())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.unsubscribeDataLoaded(),this.ngZone=null,clearTimeout(this.pageChangeTimeout)}attachScrollSync(){hL()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&this.subscriptions.add(cL(this.footer).subscribe(e=>e.map(e=>e.nativeElement).filter(sL).forEach(e=>this.scrollSyncService.registerEmitter(e,"footer")))))}editRow(e,t,n){this.editService.editRow(e,t),this.view.updateEditedState(),this.changeDetectorRef.markForCheck(),n&&n.skipFocus||this.focusEditElement(()=>`tr[data-treelist-view-index="${this.view.itemIndex(e)}"]`)}closeRow(e,t){this.editService.close(e,t),this.changeDetectorRef.markForCheck(),t?this.view.clear():this.view.updateEditedState()}addRow(e,t){if(!(e instanceof _y)){const t=Object.keys(e).reduce((n=e,(e,t)=>(e[t]=new Ey(n[t]),e)),{});e=new _y(t)}var n;if(this.isVirtual&&!t&&this.skip){const e=this.navigationService.viewport.firstItemIndex;e!==this.skip&&(this.skip=e,this.pageChange.emit({skip:this.skip,take:this.pageSize}))}this.editService.addRow(t,e),this.changeDetectorRef.markForCheck(),this.view.clear(),this.focusEditElement(()=>t?`tr[data-treelist-view-index="${this.view.itemIndex(t)+1}"]`:".k-grid-add-row")}editCell(e,t,n){const i=this.columnInstance(t);this.editService.editCell(e,i,n),this.changeDetectorRef.markForCheck(),this.view.updateEditedState(),this.focusEditElement(()=>".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell(),this.view.updateEditedState()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditing()&&this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const e=(()=>{let e,t;const n=new Promise((i,o)=>{e=e=>(i(e),n),t=e=>(o(e),n)});return n.resolve=e,n.reject=t,n})();return this.pdfService.draw(this,e),e}saveAsExcel(){this.excelService.save(this)}autoFitColumn(e){this.columnResizingService.autoFit(e)}autoFitColumns(e=this.columns){let t;t=e instanceof tu?e.toArray():e,this.columnResizingService.autoFit(...t)}notifyPageChange(e,t){("list"!==e||this.isVirtual)&&(this.skip=t.skip,this.pageSize=t.take,this.closeCell(),this.cancelCell(),this.changeDetectorRef.markForCheck(),this.pageChange.emit(t))}notifyScrollBottom(){"none"!==this.scrollable&&Gv(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(e){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe(vp(1)).subscribe(()=>{const t=this.wrapper.nativeElement,n=e();!this.setEditFocus(t.querySelector(n))&&this.isLocked&&this.setEditFocus(t.querySelector(".k-grid-content "+n)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}focusNextCell(e=!0){return this.assertNavigable(),this.navigationService.focusNextCell(e)}focusPrevCell(e=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(e)}scrollTo(e){this.scrollRequestService.scrollTo(e)}reorderColumn(e,t,n={before:!1}){let i=this.columnsForLevel(e.level)[t];i&&(i.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(TL(i)&&!n.before&&(i=i.childColumns.last),this.reorder({before:n.before,source:e,target:i})))}reload(e,t){e&&(this.view.resetItem(e,t),this.changeDetectorRef.markForCheck())}updateView(){this.view.clear(),this.changeDetectorRef.markForCheck()}expand(e){this.expandStateService.expand(e),this.changeDetectorRef.markForCheck()}collapse(e){this.expandStateService.collapse(e),this.changeDetectorRef.markForCheck()}reorder({target:e,source:t,before:n,changeContainer:i}){this.ngZone.run(()=>{const o=this.columnsForLevel(t.level);let r=o.indexOf(e);e.parent&&e.parent.isSpanColumn&&(r=o.indexOf(e.parent),n&&(e=e.parent));let s=o.indexOf(t);i&&(n&&0<r&&s<r?r--:!n&&s>r&&r++);const a=new nG({column:t,oldIndex:s,newIndex:r});this.columnReorder.emit(a),a.isDefaultPrevented()||(i&&this.columnLockedChange.emit(new VG([t])),this.updateColumnIndices({source:t,target:e,before:n}),t.locked!==e.locked&&(t.locked=e.locked),this.columnOrderChange.emit(a),this.changeDetectorRef.markForCheck())})}updateColumnIndices({source:e,target:t,before:n}){const i=DL(this.columnsForLevel(e.level)),o=i.indexOf(e);let r=0,s=0,a=1;e.isSpanColumn&&(a+=e.childColumns.length);let l=0;for(;l<i.length;){let o=i[l];if(o===t)r=n?s:s+1,s=n?s+a:s,o.orderIndex=s,r===s+1&&(s+=a);else{if(o===e){l+=a;continue}o.orderIndex=s}s++,l++}for(l=o;l<o+a;l++)i[l].orderIndex=r++;this.updateIndicesForLevel(e.level+1)}updateIndicesForLevel(e){const t=this.columnsForLevel(e-1),n=[];LL(t).forEach(e=>{e.isColumnGroup&&n.push(...e.childrenArray.sort((e,t)=>e.orderIndex-t.orderIndex))}),DL(n).map((e,t)=>e.orderIndex=t),e<this.columnsContainer.totalLevels&&this.updateIndicesForLevel(e+1)}columnsForLevel(e){return this.columnsContainer.allColumns.filter(t=>t.level===e)}setEditFocus(e){if(e)return this.navigationService.tryFocus(e)}columnInstance(e){let t;if(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter(t=>t.field===e)[0]:e,!t&&Gn())throw new Error("Invalid column "+e);return t}verifySettings(){if(Gn()){const e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock;if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&PL(this.columnList.toArray()).filter(e=>!e.width&&!GL(e)).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(GL).filter(e=>!e.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(e=>e.locked&&e.parent&&!e.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if(this.rowHeight&&!this.isVirtual)throw new Error("Row height setting requires virtual scrolling mode to be enabled.");PL(this.columnList.toArray()).filter(OL).filter(({field:e})=>{return!(!uL(t=e)&&NL.test(t)&&"."!==t[0]&&"."!==t[t.length-1]);var t}).forEach(({field:e})=>console.warn(`\n                TreeList column field name '${e}' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            `))}}autoGenerateColumns(){if(this.shouldGenerateColumns&&!this.columns.length&&this.view.length){const e=Object.keys(this.view.at(0).data).map(e=>{let t=new xL;return t.field=e,t});e[0].expandable=!0,this.columns.reset(e)}}attachStateChangesEmitter(){this.subscriptions.add(U(this.sortChange.pipe(x(e=>({filter:this.filter,skip:this.skip,sort:e,take:this.pageSize}))),this.filterChange.pipe(x(e=>({filter:e,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(e=>{this.closeCell(),this.cancelCell(),this.dataStateChange.emit(e)}))}attachEditHandlers(){this.editService&&this.subscriptions.add(this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){let{action:t,formGroup:n,dataItem:i}=e;switch("add"===t||i||(i=n.value),this.view.clear(),this.changeDetectorRef.markForCheck(),this.closeCell(),Object.assign(e,{dataItem:i,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}attachDomEventHandlers(){this.subscriptions.add(this.domEvents.cellClick.subscribe(e=>{(Gv(this.cellClick)||this.selectionService.enabled)&&this.ngZone.run(()=>{this.cellClick.emit(Object.assign({sender:this},e)),this.selectionService.click(e)})}))}attachElementEventHandlers(){if(hL())return;const e=this.wrapper.nativeElement,t=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const n=this.resizeCheck.bind(this),i=this.renderer.listen("window","resize",n),o=this.renderer.listen("window","orientationchange",n),r=this.renderer.listen("document","click",e=>{const t=document.activeElement;!this.editService.shouldCloseCell()||FV(e.target,kV("k-animation-container k-treelist-ignore-click"))||t&&(FV(t,kV("k-animation-container"))||BG(t,this.wrapper.nativeElement))||this.editService.closeCell(e)}),s=this.renderer.listen("window","blur",e=>{const t=document.activeElement;!t||IV("input")(t)&&"file"===t.type&&BG(t,this.wrapper.nativeElement)||this.editService.closeCell(e),this.domEvents.windowBlur.emit(e)}),a=this.renderer.listen(e,"click",e=>{this.domEvents.click.emit(e)}),l=this.renderer.listen(e,"keydown",e=>{this.domEvents.keydown.emit(e)});let u=!1;const c=this.renderer.listen(t,"focusin",e=>{this.domEvents.focus.emit(e),u||(this.domEvents.focusIn.emit(e),u=!0)}),h=this.renderer.listen(t,"focusout",e=>{const n=e.relatedTarget||document.activeElement;!FV(n,e=>e===t)&&(this.domEvents.focusOut.emit(e),u=!1)});this.detachElementEventHandlers=()=>{i(),o(),r(),s(),a(),l(),c(),h()}})}matchesMedia(e){return this.responsiveService.matchesMedia(e.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let e=!1;this.columnList.filterHierarchy(t=>{const n=this.matchesMedia(t);return t.matchesMedia!==n&&(e=!0,t.matchesMedia=n),t.isVisible}),e&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const e=new mV;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(e){return e.pipe(tp(()=>sL(this.lockedHeader))).subscribe(()=>hV(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.subscriptions.add(this.syncHeaderHeight(this.columnsContainer.changes.pipe(tp(()=>this.lockedColumns.length>0),gp(()=>this.ngZone.onStable.asObservable().pipe(vp(1))))))}handleColumnResize(){const e=this.columnResizingService.changes;this.subscriptions.add(e.pipe(Ap(e=>{"start"===e.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===e.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),tp(e=>"start"===e.type),gp(()=>e.pipe(dv(e.pipe(tp(e=>"triggerAutoFit"===e.type))),tp(e=>"end"===e.type)))).subscribe(this.notifyResize.bind(this)))}notifyResize(e){const t=e.resizedColumns.filter(e=>lL(e.column.resizable)&&!e.column.isColumnGroup).map(e=>({column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}));Gv(this.columnResize)&&this.ngZone.run(()=>{this.columnResize.emit(t)})}assertNavigable(){if(Gn()&&!this.navigable)throw new Error('The TreeList should be configured as [navigable]="true" to control focus')}navigationMetadata(){const e=this.isVirtual,t=zV(this.filterable)?1:0;return new kG(this.view,this.totalColumnLevels+1+t,e,this.showPager,this.wrapper,this.virtualColumns,this.columnsContainer)}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}applyAutoSize(){const e=this.columns.filter(e=>this.autoSize?!1!==e.autoSize:e.autoSize);e.length>0&&this.ngZone.onStable.pipe(vp(1)).subscribe(t=>this.autoFitColumns(e))}onColumnRangeChange(e){const t=this.viewportColumns=[],n=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1);for(let i=0;i<n.length;i++){let e=n[i];for(;e.parent;)e=e.parent;const o=[e];for(;o.length;)e=o.shift(),t.push(e),e.isColumnGroup&&o.unshift.apply(o,e.childrenArray);const r=t[t.length-1];for(e=n[i];e!==r&&i<n.length;)i++,e=n[i]}if(e.start>0){const i=n[0];let o=e.offset,r=t[0],s=0;for(;r!==i;)o-=r.isColumnGroup?0:r.width,s++,r=t[s];if(o>0){const e=this.columnsContainer.totalLevels;let n;for(let i=0;i<=e;i++){const r=i<e?new HL(n):new oL(n);n=r,r.title="\xa0",r.width=o,t.unshift(r)}}}this.leafViewportColumns=t.filter(e=>!e.isColumnGroup)}dataLoaded(e){this.loadedData=e||[],this.view.reset(),this.dataChanged=!0,this.changeDetectorRef.markForCheck()}unsubscribeDataLoaded(){this.dataLoadedSubscription&&(this.dataLoadedSubscription.unsubscribe(),this.dataLoadedSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(Rs(UL),Rs(Wa),Rs(lV),Rs(sV),Rs(pV),Rs(gV),Rs(CV),Rs(ja),Rs(wV),Rs(zu),Rs(xV),Rs(HV),Rs(jV),Rs(cl),Rs(tG),Rs(NG),Rs(AG),Rs(MG),Rs(vG),Rs(yG),Rs(_L),Rs(SG),Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist"]],contentQueries:function(e,t,n){if(1&e&&(gu(n,oL,!1),gu(n,uV,!1),gu(n,dV,!1),gu(n,OV,!1),gu(n,nL,!1)),2&e){let e;hu(e=vu())&&(t.columns=e),hu(e=vu())&&(t.noRecordsTemplateChildren=e),hu(e=vu())&&(t.pagerTemplateChildren=e),hu(e=vu())&&(t.toolbarTemplateChildren=e),hu(e=vu())&&(t.columnMenuTemplates=e)}},viewQuery:function(e,t){if(1&e&&(du(pF,!0),du(dF,!0),du(fF,!0),du(gF,!0)),2&e){let e;hu(e=vu())&&(t.lockedHeader=e.first),hu(e=vu())&&(t.header=e.first),hu(e=vu())&&(t.ariaRoot=e.first),hu(e=vu())&&(t.footer=e)}},hostVars:13,hostBindings:function(e,t){2&e&&(Os("dir",t.dir),na("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-treelist",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{pageSize:"pageSize",scrollable:"scrollable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",data:"data",sort:"sort",navigatable:"navigatable",rowClass:"rowClass",idField:"idField",selectable:"selectable",isSelected:"isSelected",fetchChildren:"fetchChildren",hasChildren:"hasChildren",isExpanded:"isExpanded",ariaLabel:["aria-label","ariaLabel"],height:"height",rowHeight:"rowHeight",filter:"filter"},outputs:{selectionChange:"selectionChange",filterChange:"filterChange",pageChange:"pageChange",sortChange:"sortChange",dataStateChange:"dataStateChange",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll",expandEvent:"expand",collapseEvent:"collapse"},exportAs:["kendoTreeList"],features:[Fa([UL,Sw,NG,lV,sV,gV,yV,{provide:bw,useValue:"kendo.treelist"},pV,CV,fV,wV,xV,TV,HV,jV,KV,XV,JV,eG,tG,AG,iG,FG,vG,MG,yG,WG,_L,SG]),gi],decls:8,vars:9,consts:function(){let e,t,n,i,o,r,s,a,l,u,c,h,p,d,f,g,m,y,v,C,w,b,S,E,_,O,x,T,R,P,D,A,k,I,F,N,M,L,V,G,H,W,B,j,z,U,K,q,Y;return e=$localize`:kendo.treelist.noRecords|The label visible in the TreeList when there are no records␟a79c1279afcbf136c3ddefd1a201af99f4a3c7b5␟4488616105599925321:No records available.`,t=$localize`:kendo.treelist.pagerFirstPage|The label for the first page button in TreeList pager␟0b5adc1a84b662963928aa73f7941cf2a502ca9c␟4515787389193761237:Go to the first page`,n=$localize`:kendo.treelist.pagerPreviousPage|The label for the previous page button in TreeList pager␟09781b4cad65124a1087c4b05c4f9ec3ae88e165␟225278396462374957:Go to the previous page`,i=$localize`:kendo.treelist.pagerNextPage|The label for the next page button in TreeList pager␟1bda5b0e26236ea09a0fc371fcbdb7688d09a509␟362811891869346548:Go to the next page`,o=$localize`:kendo.treelist.pagerLastPage|The label for the last page button in TreeList pager␟cdf1ad243b2890940fe26b3e419ba71ddbd8aa5a␟4075698388586880260:Go to the last page`,r=$localize`:kendo.treelist.pagerPage|The label before the current page number in the TreeList pager␟287412bc1246aad2b6fd05d0853a2fe6877b801b␟8196982688037137027:Page`,s=$localize`:kendo.treelist.pagerOf|The label before the total pages number in the TreeList pager␟4cc4f3c66a1233dee14e6f8655494e08eb81e191␟1811180862331482009:of`,a=$localize`:kendo.treelist.pagerPageNumberInputTitle|The label for the pager input in the Treelist pager␟88fb15e4549b4adb3ed3ddb24c62e63abfb883f9␟6224954911111282995:Page Number`,l=$localize`:kendo.treelist.pagerItemsPerPage|The label for the page size chooser in the TreeList pager␟7a7b68e92a1ec505004d2bbeec0a8e0c4a47e227␟169404885310234585:items per page`,u=$localize`:kendo.treelist.pagerItemsTotal|The label after the total items count in the TreeList pager␟dcb6cf7542066728344725c1ae16bfd6b9b57ac1␟1753107422391150665:items total`,c=$localize`:kendo.treelist.filter|The label of the filter cell or icon␟3ab4d93d98979483ce91931db991a6bb104d11c9␟6743437097952949232:Filter`,h=$localize`:kendo.treelist.filterEqOperator|The text of the equal filter operator␟0cd1adb5c835c05e298bc5568c02b39baa74d4a9␟3309736504466492065:Is equal to`,p=$localize`:kendo.treelist.filterNotEqOperator|The text of the not equal filter operator␟4765862efa585fb5c4e1adf5db9b38eebabe051d␟1753256984779294984:Is not equal to`,d=$localize`:kendo.treelist.filterIsNullOperator|The text of the is null filter operator␟a00ed88d352ccdb637ce675dc521f5e4e5ab0c63␟1667207238130268361:Is null`,f=$localize`:kendo.treelist.filterIsNotNullOperator|The text of the is not null filter operator␟7a1a67a28283daea42755cba9a7cdefe16ecaf8b␟4060216360862930601:Is not null`,g=$localize`:kendo.treelist.filterIsEmptyOperator|The text of the is empty filter operator␟f97b8102d63bef513a269c6f237bb1ecd66b45d6␟1316606741979394259:Is empty`,m=$localize`:kendo.treelist.filterIsNotEmptyOperator|The text of the is not empty filter operator␟09b1b3a5f812dc75afb4d3d37bb368c522db362c␟3389119634823892087:Is not empty`,y=$localize`:kendo.treelist.filterStartsWithOperator|The text of the starts with filter operator␟2890d20b61276813d24bcac9decdab6e193c924c␟4099253670171117396:Starts with`,v=$localize`:kendo.treelist.filterContainsOperator|The text of the contains filter operator␟914e690a4cb74e8c65363b458a6c9b48dfea1da7␟4661302216992372675:Contains`,C=$localize`:kendo.treelist.filterNotContainsOperator|The text of the does not contain filter operator␟c70b6d3fc752b2c6b26dfce75bd19d8599b93033␟1855331005589896114:Does not contain`,w=$localize`:kendo.treelist.filterEndsWithOperator|The text of the ends with filter operator␟cd9a432b859c491a7723ef12fda786b62053cc1d␟3824801369984866617:Ends with`,b=$localize`:kendo.treelist.filterGteOperator|The text of the greater than or equal filter operator␟289e58555a6d803c3450dd399b9cf67a1a2e98c8␟5569366978126546291:Is greater than or equal to`,S=$localize`:kendo.treelist.filterGtOperator|The text of the greater than filter operator␟b9278f5f3160545b330f162aa7e82066dbed9607␟5307908556710927147:Is greater than`,E=$localize`:kendo.treelist.filterLteOperator|The text of the less than or equal filter operator␟6918259000dbe30cd78e8860b9fdaafbabcb9a25␟5402539774964195763:Is less than or equal to`,_=$localize`:kendo.treelist.filterLtOperator|The text of the less than filter operator␟ae4bbdfc3ee897f028841eca04a5d91ec2d4ee61␟2453651298993567099:Is less than`,O=$localize`:kendo.treelist.filterIsTrue|The text of the IsTrue boolean filter option␟16e9e2209633a80112df7c3b37bc56c938b27f8b␟3820735177054693083:Is True`,x=$localize`:kendo.treelist.filterIsFalse|The text of the IsFalse boolean filter option␟cdce58174b115a53dff112da82858d631f5a9be3␟5795301429975209443:Is False`,T=$localize`:kendo.treelist.filterBooleanAll|The text of the (All) boolean filter option␟ff1da0738702670621d008d4902f0ab704b4faa4␟3872856356698042967:(All)`,R=$localize`:kendo.treelist.filterAfterOrEqualOperator|The text of the after or equal date filter operator␟ddd875fe8ef7c06a5abb4de1e13dc7be0fb0419b␟3938654797495966170:Is after or equal to`,P=$localize`:kendo.treelist.filterAfterOperator|The text of the after date filter operator␟d8c6140d38d89b5ce364f175030a23939049d0f1␟908881762330632660:Is after`,D=$localize`:kendo.treelist.filterBeforeOperator|The text of the before date filter operator␟572298b8e8959a35e49a469aa0f9afba2cffe5b2␟7228583510261541252:Is before`,A=$localize`:kendo.treelist.filterBeforeOrEqualOperator|The text of the before or equal date filter operator␟45178126c830dd074321fa50cdb0d1c1a3a10fe7␟1212144889311868888:Is before or equal to`,k=$localize`:kendo.treelist.filterFilterButton|The text of the filter button␟e44cdcd935db42c36a8914bd77afd7ec86297630␟2985997669375940253:Filter`,I=$localize`:kendo.treelist.filterClearButton|The text of the clear filter button␟5c9958de639ddffc476be23653f805d868a4484f␟6485460801571243063:Clear`,F=$localize`:kendo.treelist.filterAndLogic|The text of the And filter logic␟9259e5d506e88328eb347535e1d224e931ed50d9␟6958472532316937971:And`,N=$localize`:kendo.treelist.filterOrLogic|The text of the Or filter logic␟30f792cf0c2dd03a72dcc124a681b3271a0b4b92␟5738400583273636043:Or`,M=$localize`:kendo.treelist.loading|The loading text␟77f5d6685cf38119ed85876d6d04a79a2b67cb86␟7305029005172604829:Loading`,L=$localize`:kendo.treelist.columnMenu|The title of the column menu icon␟b5b3d64e4b293fea9e936086a3d6c2d87b805442␟8752393834003132712:Column Menu`,V=$localize`:kendo.treelist.columns|The text shown in the column menu for the columns item␟652dc1976e2e0ae414f459df4f18f36774dd6128␟6876209255755903651:Columns`,G=$localize`:kendo.treelist.lock|The text shown in the column menu for the lock item␟e8924b69d5c28ae3a1f11f8b1f0a725788837e8d␟6358792984026695308:Lock`,H=$localize`:kendo.treelist.unlock|The text shown in the column menu for the unlock item␟bcc1c4161452d1e5d4ce53d6d059b5880a50d311␟6589642946890266776:Unlock`,W=$localize`:kendo.treelist.sortable|The label of the sort icon␟0c76fe494d951c73c1d993cc0c54c687a179d23b␟6592620729437850513:Sortable`,B=$localize`:kendo.treelist.sortAscending|The text shown in the column menu for the sort ascending item␟181d125337591b17ca3d8612e307b06e761ad467␟521638511049933359:Sort Ascending`,j=$localize`:kendo.treelist.sortDescending|The text shown in the column menu for the sort descending item␟e39fc1d5c36be50d813af6c976ea732e4487d157␟9197441556182563035:Sort Descending`,z=$localize`:kendo.treelist.sortedAscending|The status announcement when a column is sorted ascending␟ba92b061442dc5087e47b98a1df883bb6041e633␟6408293483009020153:Sorted Ascending`,U=$localize`:kendo.treelist.sortedDescending|The status announcement when a column is sorted descending␟537d1f5cfa893932e71b5a0bc7a0f642b1b7c44f␟3468262282152409183:Sorted Descending`,K=$localize`:kendo.treelist.sortedDefault|The status announcement when a column is no longer sorted␟8faff57f906be135c4f091be815d9b90ad5bfe5f␟3847969058314425851:Not Sorted`,q=$localize`:kendo.treelist.columnsApply|The text shown in the column menu or column chooser for the columns apply button␟ebf5078ae6c56ef46a575cad90e1055f6ee3da82␟1737998738259077132:Apply`,Y=$localize`:kendo.treelist.columnsReset|The text shown in the column menu or column chooser for the columns reset button␟e4172c14ea54835be3d301ac88a2c1a5d2a39a92␟2276845195425928676:Reset`,[["kendoTreeListLocalizedMessages","","noRecords",e,"pagerFirstPage",t,"pagerPreviousPage",n,"pagerNextPage",i,"pagerLastPage",o,"pagerPage",r,"pagerOf",s,"pagerPageNumberInputTitle",a,"pagerItemsPerPage",l,"pagerItemsTotal",u,"filter",c,"filterEqOperator",h,"filterNotEqOperator",p,"filterIsNullOperator",d,"filterIsNotNullOperator",f,"filterIsEmptyOperator",g,"filterIsNotEmptyOperator",m,"filterStartsWithOperator",y,"filterContainsOperator",v,"filterNotContainsOperator",C,"filterEndsWithOperator",w,"filterGteOperator",b,"filterGtOperator",S,"filterLteOperator",E,"filterLtOperator",_,"filterIsTrue",O,"filterIsFalse",x,"filterBooleanAll",T,"filterAfterOrEqualOperator",R,"filterAfterOperator",P,"filterBeforeOperator",D,"filterBeforeOrEqualOperator",A,"filterFilterButton",k,"filterClearButton",I,"filterAndLogic",F,"filterOrLogic",N,"loading",M,"columnMenu",L,"columns",V,"lock",G,"unlock",H,"sortable",W,"sortAscending",B,"sortDescending",j,"sortedAscending",z,"sortedDescending",U,"sortedDefault",K,"columnsApply",q,"columnsReset",Y],["position","top",4,"ngIf"],["role","treegrid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"template","pageSize","total","allCount","skip","options","pageChange",4,"ngIf"],["position","bottom",4,"ngIf"],["position","top"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDraggable","","kendoTreeListSelectionMarquee","",3,"view","loading","rowHeight","total","take","skip","trackBy","columns","filterable","noRecordsTemplate","rowClass","isVirtual","virtualColumns","expandIcons","enableDrag","pageChange","scrollBottom","contentScroll"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoTreeListResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoTreeListColGroup","","role","presentation",3,"columns"],["kendoTreeListHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","reorderable","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoTreeListHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount"],["role","presentation",1,"k-width-container"],["kendoTreeListColGroup","",3,"columns"],["kendoTreeListHeader","",3,"resizable","scrollable","columns","totalColumnLevels","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate",4,"ngIf"],["kendoTreeListTableBody","","kendoDraggable","","kendoTreeListSelectionMarquee","",3,"view","skip","columns","filterable","noRecordsTemplate","trackBy","rowClass","expandIcons","enableDrag"],["kendoTreeListLoading","",4,"ngIf"],["kendoTreeListHeader","",3,"resizable","scrollable","columns","totalColumnLevels","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate"],["kendoTreeListLoading",""],[3,"template","pageSize","total","allCount","skip","options","pageChange"],["position","bottom"]]},template:function(e,t){1&e&&(Ls(0,0),xs(1,mF,1,0,"kendo-treelist-toolbar",1),ks(2,"div",2,3),xs(4,wF,2,16,"ng-template",4),xs(5,EF,5,14,"ng-template",4),Is(),xs(6,_F,1,6,"kendo-treelist-pager",5),xs(7,OF,1,0,"kendo-treelist-toolbar",6)),2&e&&(Qo(1),Ds("ngIf",t.showTopToolbar),Qo(1),Os("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount)("aria-multiselectable",t.ariaMultiselectable)("aria-label",t.ariaLabel),Qo(2),Ds("ngIf",t.isScrollable),Qo(1),Ds("ngIf",!t.isScrollable),Qo(1),Ds("ngIf",t.showPager),Qo(1),Ds("ngIf",t.showBottomToolbar))},directives:function(){return[sH,qc,IB,iH,Wv,HB,UH,iW,jH,kW,SB,zH,pW]},encapsulation:2,changeDetection:0}),e})();class zG{constructor(e=0,t){this.total=e,this.rowHeight=t,this.rowHeight=t||0}index(e){if(!(e<0))return Math.min(Math.floor(e/this.rowHeight),this.total-1)}offset(e){if(0<=e&&e<this.total)return e*this.rowHeight}totalHeight(){return this.total*this.rowHeight}}class UG{constructor(e){this.offset=e}}class KG{constructor(e,t){this.skip=e,this.take=t}}class qG{}class YG{constructor(e){this.scrollObservable=e,this.firstLoaded=0}create(e,t,n,i){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScrollTop=0;const o=new Bh(new UG(this.rowHeightService.offset(t)));return this.subscription=v.create(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>o.next(e)),o}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:e,offsetHeight:t,scrollHeight:n,clientHeight:i},o){if(this.lastScrollTop===e)return;const r=this.lastScrollTop>=e;this.lastScrollTop=e;let s=this.rowHeightService.index(e),a=this.rowHeightService.offset(s);const l=this.rowHeightService.index(e+t);if(!r)if(l>=this.lastLoaded&&this.lastLoaded<this.total){const e=s+this.take-this.total;e>0&&(s-=e,a=this.rowHeightService.offset(s)),this.firstLoaded=s,o.next(new UG(a));let t=this.firstLoaded+this.take;this.lastLoaded=Math.min(t,this.total),t=t>this.total?this.total-this.firstLoaded:this.take,o.next(new KG(this.firstLoaded,this.take))}else n-i-e<1&&o.next(new qG);if(r&&s<this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=Math.max(s-e,0),o.next(new UG(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),o.next(new KG(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const $G="k-hierarchy-cell k-detail-cell k-group-cell",XG=(e,t,n)=>{for(let i=0,o=0;i<t.length;i++){const r=n(t[i]);if(o<=e&&e<=o+r-1)return t[i];o+=r}},QG=(e,t)=>XG(e,t,e=>e.hasAttribute("data-kendo-treelist-item-index")?1:0),ZG={},JG=new we("treelist-scroll-service-factory");function eH(e){return new YG(e)}const tH=e=>{const t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},nH=e=>e?e.nativeElement:null;let iH=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c,p,d,f,g,m){this.changeNotification=t,this.suspendService=n,this.ngZone=i,this.renderer=o,this.scrollSyncService=r,this.resizeService=s,this.editService=a,this.supportService=l,this.navigationService=u,this.localization=p,this.columnResizingService=d,this.changeDetector=f,this.pdfService=g,this.columnInfo=m,this.skip=0,this.columns=new aV(()=>[]),this.trackBy=GG,this.contentScroll=new Jl,this.pageChange=new Jl,this.scrollBottom=new Jl,this.columnsStartIdx=0,this.resizeSensors=new tu,this.subscriptions=new h,this.dispatcher=new E,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=e(this.dispatcher),this.subscriptions=c.requests.subscribe(e=>this.scrollTo(e))}get hostClass(){return!0}get hostRole(){return"presentation"}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){return PL(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),0)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return IL(PL(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0}ngOnInit(){this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(U(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnChanges(e){Lv("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Vv(["total","take"],e)&&this.init(),this.rebind=!1}ngDoCheck(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}ngAfterViewInit(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}syncRowsHeight(){this.lockedContainer&&hV(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new zG(this.total,this.rowHeight),this.totalHeight=this.rowHeightService.totalHeight(),hL()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}attachContainerScroll(){hL()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(Hy(this.container.nativeElement,"scroll").pipe(x(e=>e.target),tp(()=>!this.suspendService.scroll),Ap(e=>{this.onContainerScroll(e),this.resetNavigationViewport(),this.virtualColumns&&this.handleColumnScroll();const t=this.navigationService.viewport||ZG,n=this.navigationService.columnViewport||ZG;this.contentScroll.emit({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,startRow:t.firstItemIndex,endRow:t.lastItemIndex,startColumn:n.firstItemIndex,endColumn:n.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"),this.lockedContainer&&(this.ngZone.runOutsideAngular(()=>{var e;this.subscriptions.add(U(Hy(this.lockedContainer.nativeElement,"mousewheel"),Hy(this.lockedContainer.nativeElement,"DOMMouseScroll")).pipe(tp(e=>!e.ctrlKey),Ap((e=this.container.nativeElement,t=>{const n=tH(t),i=e.scrollTop;0===i&&0<n||e.scrollHeight<=e.offsetHeight+i&&n<0||t.preventDefault()})),x(tH)).subscribe(e=>this.container.nativeElement.scrollTop-=e)),this.subscriptions.add(Hy(this.lockedContainer.nativeElement,"scroll").pipe(tp(()=>!this.suspendService.scroll)).subscribe(()=>{const e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)})),this.subscriptions.add(Hy(this.lockedContainer.nativeElement,"keydown").pipe(tp(e=>e.keyCode===tC.PageDown||e.keyCode===tC.PageUp)).subscribe(e=>{const t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===tC.PageDown?1:-1)*.8,e.preventDefault()}))}),this.syncRowsHeight()))}createScroller(){this.cleanupScroller();const e=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=e.pipe(tp(e=>e instanceof KG),tp(()=>{const e=this.skipScroll;return this.skipScroll=!1,!e}),Ap(()=>this.rebind=!0)).subscribe(e=>this.ngZone.run(()=>this.pageChange.emit(e))),this.scrollerSubscription.add(e.pipe(tp(e=>e instanceof UG)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(e.pipe(tp(e=>e instanceof qG)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:e=0}){var t,n;this.isVirtual&&[nH(this.table),nH(this.lockedTable)].filter(sL).forEach((t=this.renderer,n=e,e=>t.setStyle(e,"transform",`translateY(${n}px)`))),this.resetNavigationViewport()}onContainerScroll({scrollTop:e}){this.containerScrollTop=e,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=e)}handleRowSync(){return U(this.changeNotification.changes,this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(tp(e=>"end"===e.type)),this.supportService.changes).pipe(Ap(()=>this.resetNavigationViewport()),tp(()=>sL(this.lockedContainer))).subscribe(()=>{const e=this.container.nativeElement.scrollTop,t=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=e,this.container.nativeElement.scrollLeft=t,this.resizeSensors.forEach(e=>e.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe(tp(()=>sL(this.lockedContainer)),vv(10)).subscribe(e=>{if(this.lockedLeafColumns.length<=e.prevColIndex&&e.colIndex<this.lockedLeafColumns.length){const t=this.navigationService.activeCell;t&&t.colIndex+t.colSpan<e.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(e){const t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}scrollTo({row:e,column:t}){if(dL(e))if(this.isVirtual)this.scrollToVirtualRow(e);else{const t=QG(e,this.table.nativeElement.rows);t&&(this.container.nativeElement.scrollTop=t.offsetTop)}if(dL(t))if(t-=this.lockedLeafColumns.length,this.virtualColumns){const e=this.columns.leafColumnsToRender;let n=0;for(let i=0;i<t;i++)n+=e[i].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(n)}else{const e=QG(0,this.table.nativeElement.rows);if(e){const n=XG(t,e.cells,e=>AV(e,$G)?0:parseInt(e.getAttribute("colSpan"),10)||1);n&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(n))}}}resetNavigationViewport(){if(!this.container||!this.navigationService.needsViewport()||0===this.view.length)return;const{scrollTop:e,offsetHeight:t}=this.container.nativeElement,n=e+t,i=this.rowHeightService.index(e);let o=this.rowHeightService.index(n);const r=this.rowHeightService.offset(o);o>0&&r+this.rowHeight>n&&o--,this.navigationService.setViewport(i,o)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect(U(...this.resizeSensors.map(e=>e.resize)))}syncContainerHeight(){var e;[nH(this.lockedContainer)].filter(sL).map(e=>{e.style.height="";let t=this.container.nativeElement.offsetHeight;return((e,t)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(t-=this.supportService.scrollbarWidth),{el:e,height:t}}).forEach((e=this.renderer,({el:t,height:n})=>e.setStyle(t,"height",n+"px")))}updateViewportColumns(e){const t=this.columns.nonLockedLeafColumns.toArray();let{startIdx:n,endIdx:i,offset:o}=e||this.calculateViewportColumns();const r=Math.max(0,n-1),s=Math.min(i+1,t.length-1);if(r<n)for(let l=n-1;l>=r;l--)o-=t[l].width;let a=t.slice(r,s+1);if(this.viewportColumnsWidth=a.reduce((e,t)=>e+t.width,0),r>0){const e=new oL;e.width=o,a.unshift(e)}this.viewportColumns=new tu,this.viewportColumns.reset(a),this.columnsStartIdx=r,this.columnsEndIdx=s,this.columnInfo.columnRangeChange.emit({start:r,end:s,offset:o}),e||this.updateColumnViewport(n,i)}handleColumnScroll(){const e=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==e){this.scrollLeft=e;const t=this.calculateViewportColumns();this.updateColumnViewport(t.startIdx,t.endIdx),(t.startIdx<this.columnsStartIdx||this.columnsEndIdx<t.endIdx)&&(wL(this.columnUpdateFrame),this.columnUpdateFrame=CL(()=>{this.ngZone.run(()=>{this.updateViewportColumns(t),this.changeDetector.markForCheck()})}))}}updateColumnViewport(e,t){const n=this.lockedLeafColumns.length,i=this.nonLockedLeafColumns.toArray(),o=n+e;let r=n+t;for(let s=0;s<i.length;s++){const e=i[s];e.isSpanColumn&&(r+=e.childColumns.length)}this.navigationService.setColumnViewport(o,r)}calculateViewportColumns(){const{scrollLeft:e,clientWidth:t}=this.container.nativeElement,n=this.columns.nonLockedLeafColumns.toArray(),i=this.normalizeScrollLeft(e),o=i+t;let r,s,a=0,l=0,u=0;for(s=0;s<n.length;s++){const e=n[s];if(l+=e.width||0,void 0===r&&l>i&&(r=s,u=l-(e.width||0)),l>=o){a=s;break}}return!a&&s>0&&(a=n.length-1),{startIdx:r,endIdx:a,offset:u}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((e,t)=>e+t.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(e){return this.rtl?function(e,t,n){let i=e;return n<0?i=-e:n>0&&(i=t.scrollWidth-t.offsetWidth-e),i}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}elementScrollLeft(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}}return e.\u0275fac=function(t){return new(t||e)(Rs(JG),Rs(lV),Rs(yV),Rs(zu),Rs(ja),Rs(xV),Rs(TV),Rs(sV),Rs(UL),Rs(AG),Rs(vG),Rs(Sw),Rs(jV),Rs(cl),Rs(gV),Rs(NG))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-list"]],viewQuery:function(e,t){if(1&e&&(pu(xF,!0),du(TF,!0),du(RF,!0),du(PF,!0),du(Zv,!0)),2&e){let e;hu(e=vu())&&(t.container=e.first),hu(e=vu())&&(t.lockedContainer=e.first),hu(e=vu())&&(t.lockedTable=e.first),hu(e=vu())&&(t.table=e.first),hu(e=vu())&&(t.resizeSensors=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(Os("role",t.hostRole),na("k-grid-container",t.hostClass))},inputs:{skip:"skip",columns:"columns",trackBy:"trackBy",view:"view",total:"total",rowHeight:"rowHeight",take:"take",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual",expandIcons:"expandIcons"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[Fa([{provide:JG,useValue:eH}]),gi],decls:14,vars:25,consts:[["class","k-grid-content-locked","role","presentation",3,"width",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoTreeListResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoTreeListColGroup","","role","presentation",3,"columns"],["kendoTreeListTableBody","","role","presentation",3,"view","columns","allColumns","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","trackBy","filterable","rowClass","virtualColumns","expandIcons"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoTreeListLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoTreeListTableBody","","role","presentation",3,"isLocked","view","noRecordsText","columns","totalColumnsCount","skip","trackBy","filterable","rowClass","expandIcons"],["role","presentation",1,"k-width-container"],["kendoTreeListLoading",""]],template:function(e,t){1&e&&(xs(0,DF,10,18,"div",0),ks(1,"div",1,2),ks(3,"div",3),ks(4,"table",4,5),Fs(6,"colgroup",6),Fs(7,"tbody",7),Is(),xs(8,AF,1,0,"kendo-resize-sensor",8),Is(),xs(9,kF,1,0,"kendo-resize-sensor",8),ks(10,"div",9),Fs(11,"div"),Is(),xs(12,IF,2,2,"div",10),Is(),xs(13,FF,1,0,"div",11)),2&e&&(Ds("ngIf",t.isLocked),Qo(1),Ds("kendoTreeListResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),Qo(3),ta("width",t.nonLockedWidth,"px"),Ds("virtualColumns",t.virtualColumns),Qo(2),Ds("columns",t.nonLockedColumnsToRender),Qo(1),Ds("view",t.view)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("virtualColumns",t.virtualColumns)("expandIcons",t.expandIcons),Qo(1),Ds("ngIf",t.isLocked),Qo(1),Ds("ngIf",t.isLocked||t.virtualColumns),Qo(2),ta("height",t.totalHeight,"px"),Qo(1),Ds("ngIf",t.virtualColumns),Qo(1),Ds("ngIf",t.loading))},directives:function(){return[qc,UH,iW,jH,SB,Zv,zH]},encapsulation:2}),e})(),oH=(()=>{class e extends Cw{}return e.\u0275fac=function(t){return rH(t||e)},e.\u0275dir=ot({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItemsTotal:"pagerItemsTotal",filter:"filter",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",columns:"columns",lock:"lock",unlock:"unlock",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset"},features:[us]}),e})();const rH=no(oH);let sH=(()=>{class e extends oH{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListLocalizedMessages",""]],features:[Fa([{provide:oH,useExisting:Pe(()=>e)}]),us]}),e})(),aH=(()=>{class e{constructor(e){this.localization=e,this.columns=[],this.filterRowClass=!0,this.filterLabel=this.localization.get("filter")}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",filter:"filter",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:NF,decls:1,vars:1,consts:[["kendoTreeListFilterCell","","kendoTreeListLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex","colIndex",4,"ngFor","ngForOf"],["kendoTreeListFilterCell","","kendoTreeListLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex","colIndex"]],template:function(e,t){1&e&&xs(0,MF,1,7,"td",0),2&e&&Ds("ngForOf",t.columns)},directives:function(){return[Uc,uH,YH]},encapsulation:2}),e})();const lH=e=>{if(e)return uC(e)?{filters:lH(e.filters),logic:e.logic}:Array.isArray(e)?e.map(lH):(e=>(e=>{const t={};if(Object.assign(t,e),e.constructor!==Object){const n=e.constructor.prototype;Object.getOwnPropertyNames(n).forEach(i=>{"constructor"!==i&&n.hasOwnProperty(i)&&(t[i]=e[i])})}return t})(e))(e)};let uH=(()=>{class e{constructor(e){this.focusGroup=e,this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=lH(e)}get templateContext(){return this._templateContext.$implicit=this.filter,this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.cellContext={focusGroup:this.focusGroup},this._templateContext}get hasTemplate(){return sL(this.column.filterCellTemplateRef)}get isFilterable(){return sL(this.column)&&!uL(this.column.field)&&this.column.filterable}}return e.\u0275fac=function(t){return new(t||e)(Rs(lG))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:LF,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&xs(0,BF,3,3,"ng-template",0),2&e&&Ds("ngIf",t.isFilterable)},directives:function(){return[qc,Qc,Zc,uW,th]},encapsulation:2}),e})();const cH=(hH={filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"},e=>Object.keys(hH).reduce((t,n)=>(t[hH[n]]=e.get(n),t),{}));var hH;const pH=e=>e.map(e=>e.toJSON());let dH=(()=>{class e{constructor(e,t){this.operator=e,this.localization=t,this.messages=cH(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=uL(e)?this.messages[this.operator]:e}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=cH(this.localization),e&&(this._text=this.messages[this.operator])}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,inputs:{text:"text"}}),e})();const fH=(e,t,n,i)=>sL(t)&&sL(t.filters)&&t.filters.length>e?t.filters[e]:((e,t,n)=>((t=t||{filters:[],logic:"and"}).filters[e]=n,n))(e,t,{field:n,operator:i}),gH=e=>[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}],mH=e=>sL(e.filters)?e.filters.reduce((e,t)=>e.concat(uC(t)?mH(t):[t]),[]):[],yH=(e,t)=>{sL(e)&&sL(e.filters)&&(e.filters=e.filters.filter(e=>uC(e)?(yH(e,t),e.filters.length):e.field!==t))},vH=(e,t)=>mH(e||{}).filter(e=>e.field===t),CH=(e,t)=>(yH(e,t),e),wH=e=>t=>Object.keys(e).map(n=>({text:t.get(n),value:e[n]}));let bH=(()=>{class e{constructor(e){this.filterService=e,this.operatorList=new tu}get hostClasses(){return!0}get operators(){return this._operators.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=cL(this.operatorList).pipe(x(e=>e.toArray()),x(pH)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((e,t)=>{let[n]=vH(e,t);return n})(this.filter,e)}filtersByField(e){return vH(this.filter,e)}removeFilter(e){return CH(this.filter,e)}updateFilter(e){const t=this.filter||{filters:[],logic:"and"};let[n]=mH(t).filter(t=>t.field===e.field);return sL(n)?Object.assign(n,e):t.filters.push(e),t}applyFilter(e){this.filterService.filter(e)}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,contentQueries:function(e,t,n){if(1&e&&gu(n,dH,!1),2&e){let e;hu(e=vu())&&(t.operatorList=e)}},hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell",t.hostClasses)}}),e})();const SH=wH({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let EH=(()=>{class e extends bH{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=SH(this.localization)}set format(e){this._format=e}get format(){return uL(this._format)?this.columnFormat:this._format}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!uL(this.column.format)?fL(this.column.format):"n2"}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=SH(this.localization),this.operatorList.length&&(this.operators=pH(this.operatorList.toArray()))}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[us]}),e})(),_H=(()=>{class e extends EH{constructor(e,t){super(e,t),this.localization=t,this.filterDelay=500,this.showOperators=!0}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV),Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[us],decls:2,vars:14,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoTreeListFocusable","","kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-wrapper-cell",0),Fs(1,"kendo-numerictextbox",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Qo(1),Ds("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:function(){return[DH,wR,uG,OH]},encapsulation:2}),e})(),OH=(()=>{class e{constructor(e,t,n,i){this.change=new Jl,this.composing=!1,this.filterDelay=500,this.changeRequests=new E,this.accessor=e[0],t.runOutsideAngular(()=>{const e=i.listen(n.nativeElement,"compositionstart",()=>this.composing=!0),t=i.listen(n.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{e(),t()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){Lv("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe(function(e,t=Zy){return n=>n.lift(new Sv(e,t))}(this.filterDelay),tp(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Rs(bm,2),Rs(zu),Rs(Wa),Rs(ja))},e.\u0275dir=ot({type:e,selectors:[["","kendoFilterInput",""]],inputs:{filterDelay:"filterDelay",value:"value"},features:[gi]}),e})();const xH=new Set(["isnull","isnotnull","isempty","isnotempty"]),TH=e=>xH.has(e);let RH=(()=>{class e extends bH{constructor(e){super(e),this.operators=[]}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const t=TH(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!aL(e)&&sL(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return uL(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){this.input&&(this.input.disabled=e)}ngAfterContentInit(){sL(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=TH(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){uL(e)&&!this.filterByField(this.column.field)||this.filterChange(uL(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=TH(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){Lv("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=TH(this.currentOperator))}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,contentQueries:function(e,t,n){if(1&e&&gu(n,OH,!0),2&e){let e;hu(e=vu())&&(t.input=e.first)}},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[us,gi]}),e})();const PH=["isnull","isnotnull","isempty","isnotempty"];let DH=(()=>{class e extends RH{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return sL(e)&&(!uL(e.value)||PH.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&na("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[us],ngContentSelectors:jF,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(Ks(),qs(0),ks(1,"kendo-treelist-filter-cell-operators",0),Ws("clear",function(){return t.onClear()})("valueChange",function(e){return t.currentOperator=e}),Is()),2&e&&(Qo(1),Ds("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[FH]},encapsulation:2}),e})();const AH=wH({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let kH=(()=>{class e extends bH{constructor(e,t){super(e),this.localization=t,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=AH(this.localization),this.operatorList.length&&(this.operators=pH(this.operatorList.toArray()))}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,inputs:{operator:"operator",column:"column",filter:"filter"},features:[us]}),e})(),IH=(()=>{class e extends kH{constructor(e,t){super(e,t),this.filterDelay=500,this.showOperators=!0}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV),Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[us],decls:2,vars:7,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoTreeListFocusable","","kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-wrapper-cell",0),Fs(1,"input",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Qo(1),Ds("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[DH,xm,uG,OH,Km,Ay],encapsulation:2}),e})(),FH=(()=>{class e{constructor(e){this.localization=e,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new Jl,this.clear=new Jl}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){e.keyCode!==tC.Enter&&e.keyCode!==tC.Space||this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode!==tC.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.localization.changes.subscribe(()=>this.clearText=this.localization.get("filterClearButton"))}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-cell-operators"]],viewQuery:function(e,t){if(1&e&&du(zF,!0),2&e){let e;hu(e=vu())&&(t.dropdown=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoTreeListFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoTreeListFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoTreeListFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(xs(0,KF,2,5,"kendo-dropdownlist",0),ks(1,"button",1),Ws("click",function(){return t.clearClick()})("keydown",function(e){return t.clearKeydown(e)}),Fs(2,"span",2),Is()),2&e&&(Ds("ngIf",t.showOperators),Qo(1),Ds("ngClass",Gl(3,qF,t.showButton))("title",t.clearText))},directives:[qc,uG,jc,T_],encapsulation:2}),e})();const NH=wH({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let MH=(()=>{class e extends bH{constructor(e,t,n){super(e),this.localization=n,this.showOperators=!0,this.defaultOperators=NH(this.localization),this.column=t}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV),Rs(xL),Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[us],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-wrapper-cell",0),Fs(1,"kendo-autocomplete",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),Qo(1),Ds("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[DH,b_,OH],encapsulation:2}),e})(),LH=(()=>{class e extends bH{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[us]}),e})(),VH=(()=>{class e extends LH{constructor(e,t,n){super(e,t),this.cd=n}localizationChange(){super.localizationChange(),this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV),Rs(Sw),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-boolean-filter-cell"]],features:[us],decls:2,vars:10,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","textField","text","valueField","value",3,"defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-wrapper-cell",0),Fs(1,"kendo-dropdownlist",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),Qo(1),Ds("defaultItem",t.defaultItem)("data",t.items)("popupSettings",Vl(9,UF))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[DH,T_,OH],encapsulation:2}),e})();const GH=wH({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let HH=(()=>{class e extends bH{constructor(e,t){super(e),this.localization=t,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=GH(this.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return uL(this._format)?this.columnFormat:this._format}get columnFormat(){return this.column&&!uL(this.column.format)?fL(this.column.format):"d"}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=GH(this.localization),this.operatorList.length&&(this.operators=pH(this.operatorList.toArray()))}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[us]}),e})(),WH=(()=>{class e extends HH{constructor(e,t){super(e,t),this.localization=t,this.showOperators=!0}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV),Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[us],decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","",3,"value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-wrapper-cell",0),Fs(1,"kendo-datepicker",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Qo(1),Ds("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber))},directives:[DH,fk,OH],encapsulation:2}),e})(),BH=(()=>{class e extends oL{constructor(e){super(e),this.parent=e,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}}return e.\u0275fac=function(t){return new(t||e)(Rs(oL,13))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-checkbox-column"]],contentQueries:function(e,t,n){if(1&e&&gu(n,ZM,!0),2&e){let e;hu(e=vu())&&(t.template=e.first)}},inputs:{showSelectAll:"showSelectAll",checkChildren:"checkChildren",expandable:"expandable"},features:[Fa([{provide:oL,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),jH=(()=>{class e{constructor(){this.columns=[]}get columnsToRender(){return AL(this.columns)}trackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListColGroup",""]],inputs:{columns:"columns"},attrs:YF,decls:1,vars:2,consts:[[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&xs(0,$F,1,2,"col",0),2&e&&Ds("ngForOf",t.columnsToRender)("ngForTrackBy",t.trackBy)},directives:[Uc],encapsulation:2}),e})(),zH=(()=>{class e{constructor(e){this.localization=e,this.hostClass=!0}get loadingText(){return this.localization.get("loading")}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-loading-mask",t.hostClass)},attrs:XF,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(ks(0,"span",0),fa(1),Is(),Fs(2,"div",1),Fs(3,"div",2)),2&e&&(Qo(1),ga(t.loadingText))},encapsulation:2}),e})(),UH=(()=>{class e{constructor(e,t,n,i){this.el=e,this.renderer=t,this.resizeService=n,this.treelist=i,this.enabled=!1}set lockedWidth(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}set kendoTreeListResizableContainer(e){const t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.treelist&&this.treelist.wrapper){const e=Math.max(this.treelist.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(ja),Rs(TV),Rs(jG,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoTreeListResizableContainer:"kendoTreeListResizableContainer"}}),e})(),KH=(()=>{class e{constructor(e){this.viewContainerRef=e}set templateContext(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}ngOnDestroy(){this.removeView()}removeView(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}}return e.\u0275fac=function(t){return new(t||e)(Rs(El))},e.\u0275dir=ot({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),qH=0,YH=(()=>{class e{constructor(e,t,n,i,o,r,s){this.focusGroup=e,this.element=t,this.columnInfoService=n,this.idService=i,this.navigationService=o,this.renderer=r,this.zone=s,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.expandable=!1,this.uid=qH++}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){this.navigationService.enabled&&-1!==this.logicalColIndex&&this.registerNoChanges()}ngOnChanges(e){if(!this.navigationService.enabled)return;if(-1===this.logicalColIndex)return;const t=e.logicalColIndex,n=e.logicalRowIndex,i=t&&!t.isFirstChange()?t.previousValue:this.logicalColIndex,o=n&&!n.isFirstChange()?n.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(i,o,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-state-focused")):this.renderer.removeClass(e,"k-state-focused")}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}}return e.\u0275fac=function(t){return new(t||e)(Rs(lG),Rs(Wa),Rs(NG),Rs(FG),Rs(AG),Rs(ja),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",expandable:"expandable",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",column:"column",colIndex:"colIndex",dataItem:"dataItem"},features:[Fa([{provide:lG,deps:[iG],useClass:lG}]),gi]}),e})(),$H=0,XH=(()=>{class e{constructor(e,t){this.idService=e,this.navigation=t,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.isNew=!1,this.uid=$H++}get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){if(this.navigation.enabled)return this.logicalRowIndex+1}get ariaOwns(){if(!this.navigation.enabled||this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount;for(let n=this.logicalCellsCount;n<t;n++)e.push(this.idService.cellId(this.logicalRowIndex,n));return e.join(" ")}ngOnChanges(e){if(!this.navigation.enabled||this.logicalSlaveRow)return;const t=e.logicalRowIndex;if(t||e.logicalSlaveRow||e.isNew){const e=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(e,this),this.navigation.registerRow(this)}else Vv(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}}return e.\u0275fac=function(t){return new(t||e)(Rs(FG),Rs(AG))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&Os("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",isNew:"isNew",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[gi]}),e})();const QH=/\{\d+:?/;let ZH=(()=>{class e{constructor(e){this.intlService=e}transform(e,t,n){if(!uL(t)){const i=Bb(t)(e);return uL(n)?i:this.formatValue(n,i)}return e}formatValue(e,t){const n=this.intlService;return pL(e)&&e.match(QH)?n.format(e,t):n.toString(t,e)}}return e.\u0275fac=function(t){return new(t||e)(Rs($T))},e.\u0275pipe=rt({name:"valueOf",type:e,pure:!1}),e})();const JH=({columns:e})=>Math.max(1,(e=>e.filter(e=>lL(e.resizable)&&e.isVisible))(e).length),eW=(e,t="td")=>n=>n.querySelectorAll(t+":not(.k-group-cell):not(.k-hierarchy-cell)")[e],tW=e=>e.offsetWidth,nW=(...e)=>t=>e.reduce((e,t)=>e?t(e):0,t);let iW=(()=>{class e{constructor(e,t,n,i,o){this.element=e,this.renderer=t,this.service=n,this.zone=i,this.cdr=o,this.locked=!1,this.firstResize=!1}get minWidth(){return this.firstResize?0:null}ngOnInit(){const e=this.service.changes.pipe(tp(e=>this.locked===e.locked));this.subscription=e.pipe(tp(e=>"start"===e.type),Ap(this.initState.bind(this)),x(JH),gp(t=>e.pipe(tp(e=>"resizeTable"===e.type),x(e=>e.delta),function(e,t=null){return function(n){return n.lift(new Ov(e,t))}}(t)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=tW(this.element.nativeElement))}resize(e){if(!this.virtualColumns||this.locked){const t=e.reduce((e,t)=>e+t,0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}autoFitObservable(e){return v.create(t=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const n=e.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),t.next(n)})})}measureColumn(e){const t=this.element.nativeElement,n=nW((i=e.level,e=>e.querySelectorAll("thead>tr")[i]),eW(e.headerIndex,"th"),tW)(t);var i;let o=0;return(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(o=nW(e=>e.querySelector("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),eW(e.index),tW)(t)),Math.max(n,o)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(ja),Rs(jV),Rs(zu),Rs(cl))},e.\u0275dir=ot({type:e,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&ta("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),e})(),oW=(()=>{class e{static exports(){return[xL,RL,BH,HL,uG]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah],Bv]}),e})();const rW=[FH,(()=>{class e extends dH{constructor(e){super("contains",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-contains-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("doesnotcontain",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-not-contains-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("endswith",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-endswith-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("eq",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-eq-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("isempty",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-isempty-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("isnotempty",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-isnotempty-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("isnotnull",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-isnotnull-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("isnull",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-isnull-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("neq",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-neq-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("startswith",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-startswith-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("gt",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-gt-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("gte",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-gte-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("lt",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-lt-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("lte",e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-lte-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("after",e)}toJSON(){return{text:this.text,value:"gt"}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-after-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("after-eq",e)}toJSON(){return{text:this.text,value:"gte"}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-after-eq-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("before-eq",e)}toJSON(){return{text:this.text,value:"lte"}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-before-eq-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{class e extends dH{constructor(e){super("before",e)}toJSON(){return{text:this.text,value:"lt"}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-before-operator"]],features:[Fa([{provide:dH,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()],sW=[ah,Gy,Vy,z_,B_,NR,zk,Ob,oW];let aW=(()=>{class e{static exports(){return[...rW]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[...sW],ah,Gy,Vy,z_,B_,NR,zk,Ob,oW]}),e})(),lW=(()=>{class e{constructor(e,t){this.host=e,this.resolver=t}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){Vv(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:t}){const n=this.component.instance;n.column=e,n.filter=t}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,inputs:{column:"column",filter:"filter"},features:[gi]}),e})(),uW=(()=>{class e extends lW{constructor(e,t){super(e,t)}componentType(){return uL(this.column.filter)?IH:{boolean:VH,date:WH,numeric:_H,text:IH}[this.column.filter]}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(La))},e.\u0275dir=ot({type:e,selectors:[["","kendoFilterCellHost",""]],features:[us]}),e})(),cW=(()=>{class e{static exports(){return[aH,uH,SL,FH,IH,_H,MH,VH,WH,aW.exports()]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[aW],aW]}),e})();const hW=e=>(({buttonCount:e=10,info:t=!0,type:n="numeric",pageSizes:i=!1,previousNext:o=!0})=>({buttonCount:e,info:t,pageSizes:!0===i?[5,10,20]:i,previousNext:o,type:n}))(!0===e?{}:e);let pW=(()=>{class e{constructor(e){this.pagerContext=e,this.allCount=0,this.total=0,this.skip=1,this.pageChange=new Jl,this.settings=hW({}),this._templateContext={}}set options(e){this.settings=hW(e)}get pagerWrapClass(){return!0}get treelistPagerClass(){return!0}get widgetClass(){return!0}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.allCount=this.allCount||this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.pageChangeSubscription=this.pagerContext.pageChange.subscribe(this.changePage.bind(this))}ngOnChanges(e){Vv(["pageSize","skip","total","allCount"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total,allCount:this.allCount||this.total})}ngOnDestroy(){this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe()}changePage(e){this.pageChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(fV))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager"]],hostVars:6,hostBindings:function(e,t){2&e&&na("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.treelistPagerClass)("k-widget",t.widgetClass)},inputs:{allCount:"allCount",total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[gi],decls:2,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"]],template:function(e,t){1&e&&(xs(0,QF,1,2,"ng-container",0),xs(1,oN,7,6,"ng-container",1)),2&e&&(Ds("ngIf",null==t.template?null:t.template.templateRef),Qo(1),Ds("ngIf",!(null!=t.template&&t.template.templateRef)))},directives:function(){return[qc,th,fW,mW,yW,gW,vW,CW]},encapsulation:2}),e})(),dW=(()=>{class e{constructor(e,t,n){this.localization=e,this.pagerContext=t,this.cd=n,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize,this.allCount=this.pagerContext.allCount}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e}),e})(),fW=(()=>{class e extends dW{constructor(e,t,n){super(e,t,n)}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(fV),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager-prev-buttons"]],features:[us],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(ks(0,"a",0),Ws("click",function(){return 1!==t.currentPage&&t.changePage(0)}),Fs(1,"span",1),Is(),ks(2,"a",0),Ws("click",function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)}),Fs(3,"span",1),Is()),2&e&&(Ds("title",t.textFor("pagerFirstPage"))("ngClass",Gl(8,rN,t.disabled)),Qo(1),Ds("ngClass",Vl(10,sN)),Os("aria-label",t.textFor("pagerFirstPage")),Qo(1),Ds("title",t.textFor("pagerPreviousPage"))("ngClass",Gl(11,aN,t.disabled)),Qo(1),Ds("ngClass",Vl(13,lN)),Os("aria-label",t.textFor("pagerPreviousPage")))},directives:[jc],encapsulation:2,changeDetection:0}),e})(),gW=(()=>{class e extends dW{constructor(e,t,n){super(e,t,n)}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(fV),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager-next-buttons"]],features:[us],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(ks(0,"a",0),Ws("click",function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)}),Fs(1,"span",1),Is(),ks(2,"a",0),Ws("click",function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)}),Fs(3,"span",1),Is()),2&e&&(Ds("title",t.textFor("pagerNextPage"))("ngClass",Gl(8,aN,t.disabled)),Qo(1),Ds("ngClass",Vl(10,uN)),Os("aria-label",t.textFor("pagerNextPage")),Qo(1),Ds("title",t.textFor("pagerLastPage"))("ngClass",Gl(11,cN,t.disabled)),Qo(1),Ds("ngClass",Vl(13,hN)),Os("aria-label",t.textFor("pagerLastPage")))},directives:[jc],encapsulation:2,changeDetection:0}),e})(),mW=(()=>{class e extends dW{constructor(e,t,n){super(e,n,t),this.pagerContext=n}get buttons(){let e=[];for(let t=this.start;t<=this.end;t++)e.push(t);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,t=this.buttonCount;if(e>t){const n=e%t;return 0===n?e-t+1:e-n+1}return 1}pageLabel(e){const t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(cl),Rs(fV))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager-numeric-buttons"]],inputs:{buttonCount:"buttonCount"},features:[us],decls:4,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["href","#","tabindex","-1",1,"k-link",3,"click"],["href","#","tabindex","-1",3,"ngClass","click"]],template:function(e,t){1&e&&(ks(0,"ul",0),xs(1,pN,3,1,"li",1),xs(2,fN,3,5,"li",2),xs(3,gN,3,1,"li",1),Is()),2&e&&(Ds("ngClass",Vl(4,mN)),Qo(1),Ds("ngIf",t.start>1),Qo(1),Ds("ngForOf",t.buttons),Qo(1),Ds("ngIf",t.end<t.totalPages))},directives:[jc,qc,Uc],encapsulation:2,changeDetection:0}),e})(),yW=(()=>{class e extends dW{constructor(e,t,n,i){super(e,t,i),this.pagerContext=t,this.zone=n,this.handleKeyDown=e=>{let t=this.numericInput.value||this.current;e.keyCode===tC.Enter&&(e.preventDefault(),t!==this.current&&this.zone.run(()=>{this.changePage(t-1)}))},this.handleBlur=()=>{const e=this.numericInput.value;e?e!==this.current&&this.zone.run(()=>{this.changePage(e-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(fV),Rs(zu),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager-input"]],viewQuery:function(e,t){if(1&e&&du(wR,!0),2&e){let e;hu(e=vu())&&(t.numericInput=e.first)}},features:[us],decls:4,vars:21,consts:[[3,"ngClass"],["format","n0",3,"spinners","decimals","disabled","value","min","max","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(ks(0,"span",0),fa(1),Fs(2,"kendo-numerictextbox",1),fa(3),Is()),2&e&&(Ds("ngClass",Vl(17,yN)),Qo(1),ma(" ",t.textFor("pagerPage")," "),Qo(1),ta("margin","0 1ex")("width","3em"),Ds("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("title",t.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",Hl(18,vN,t.handleKeyDown,t.handleBlur)),Qo(1),ya(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[jc,wR,jv],encapsulation:2}),e})(),vW=(()=>{class e extends dW{constructor(e,t,n){super(e,n,t),this.pagerContext=n}get currentPageText(){return this.total?this.currentPage:0}get maxPage(){return Math.ceil(this.total/this.pageSize)}get classes(){return!0}onChanges({allCount:e,total:t,skip:n,pageSize:i}){this.total=t,this.skip=n,this.pageSize=i,this.allCount=e,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(cl),Rs(fV))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&na("k-pager-info",t.classes)("k-label",t.classes)},features:[us],decls:1,vars:6,template:function(e,t){1&e&&fa(0),2&e&&va("",t.textFor("pagerPage")," ",t.currentPageText," ",t.textFor("pagerOf")," ",t.maxPage," (",t.allCount," ",t.textFor("pagerItemsTotal"),")")},encapsulation:2,changeDetection:0}),e})(),CW=(()=>{class e extends dW{constructor(e,t,n){super(e,n,t),this.pagerContext=n,this._pageSizes=[]}get pageSizes(){return this._pageSizes}set pageSizes(e){const t=[];e.forEach(e=>{t.push("number"==typeof e?{text:e.toString(),value:e}:e)}),this._pageSizes=t}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize=parseInt(e,10),this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}getSelectedState(e){return"number"==typeof e.value?e.value===this.pageSize||void 0:this.pageSize===this.total}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize="number"==typeof n?n:this.total,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(cl),Rs(fV))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&na("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[us],decls:5,vars:4,consts:[[3,"change"],["select",""],[3,"value",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"]],template:function(e,t){if(1&e){const e=Vs();ks(0,"select",0,1),Ws("change",function(){Zt(e);const n=Ts(1);return t.pageSizeChange(n.value)}),xs(2,CN,2,2,"option",2),xs(3,wN,2,3,"option",3),Is(),fa(4)}2&e&&(Os("aria-label",t.textFor("pagerItemsPerPage")),Qo(2),Ds("ngIf",t.showInitialPageSize),Qo(1),Ds("ngForOf",t.pageSizes),Qo(1),ma(" ",t.textFor("pagerItemsPerPage")," "))},directives:[qc,Uc],encapsulation:2,changeDetection:0}),e})();const wW=[ah,NR,oW,zv];let bW=(()=>{class e{static exports(){return[pW,fW,gW,mW,yW,vW,CW,dV]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[...wW]]}),e})();const SW={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},EW=(...e)=>Object.assign({},SW,...e);let _W=(()=>{class e{constructor(e,t){this.element=e,this.service=t,this.context={},this.enter=new Jl,this.leave=new Jl,this.drop=new Jl,this.subscriptions=new h}ngOnInit(){this.service.add(this);const e=this.service.changes.pipe(tp(({target:e})=>e===this));this.subscriptions.add(e.pipe(tp(({type:e})=>"leave"===e)).subscribe(e=>{this.leave.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(tp(({type:e})=>"enter"===e)).subscribe(e=>{this.enter.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(tp(({type:e})=>"drop"===e)).subscribe(e=>{this.drop.next(this.eventArgs(e))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(XV))},e.\u0275dir=ot({type:e,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),e})();const OW=(e,t)=>!1!==e.filter&&t.field&&t.filterable,xW=(e,t)=>!1!==e.sort&&t.field&&t.sortable,TW=(e,t)=>e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn),RW=e=>!1!==e.columnChooser,PW=(...e)=>Object.assign.apply(null,[{}].concat(e)),DW=(e,t)=>e.parent===t.parent||VL(t)&&DW(e,t.parent),AW=yL(({draggable:e})=>["column","columnGroup"].indexOf(e.context.type)>=0,({draggable:e})=>e.context.column.reorderable,({draggable:e})=>!VL(e.context.column),({draggable:e,target:t})=>e.element.nativeElement!==t.element.nativeElement,({draggable:e,target:t})=>DW(e.context.column,t.context.column),gL(({draggable:e})=>!lL(e.context.column.locked)&&(({parent:e})=>!lL(e))(e.context.column)&&e.context.lastColumn),({draggable:e,target:t})=>!1!==e.context.column.lockable||e.context.column.isLocked===t.context.column.isLocked);let kW=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.popupService=e,this.hint=t,this.cue=n,this.reorderService=i,this.sortService=o,this.selectionService=r,this.localization=s,this.cd=a,this.columns=[],this.sort=new Array,this.sortable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new tu,this.subscription=new h}get headerClass(){return!this.scrollable}get sortableLabel(){return this.localization.get("sortable")}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortColumn(e,t,n){const i=t?t.target:null;return e.headerTemplateRef&&i!==n&&Boolean(NV(i,LV,n))?"checkbox"===i.type:(this.sortService.sort(this.toggleSort(e)),!1)}onHeaderKeydown(e,t){this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===tC.Enter&&this.sortService.sort(this.toggleSort(e))}showSortNumbering(e){const{showIndexes:t}=EW(this.sortable);return t&&this.sort&&this.sort.filter(({dir:e})=>sL(e)).length>1&&this.sortOrder(e.field)>0}sortOrder(e){return this.sort.filter(({dir:e})=>sL(e)).findIndex(t=>t.field===e)+1}sortIcon(e){const t=this.sortDescriptor(e);return{"k-icon":sL(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}sortState(e){if(!this.isSortable(e))return;const t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}sortStatus(e){if(!this.sortedFields[e.field]||!this.isSortable(e))return;let t="sortedDefault";const n=this.sortDescriptor(e.field);return"asc"===n.dir?t="sortedAscending":"desc"===n.dir&&(t="sortedDescending"),this.localization.get(t)}toggleSort(e){const{allowUnsort:t,mode:n,initialDirection:i}=EW(this.sortable,e.sortable),o=this.toggleDirection(e.field,t,i);return"single"===n?[o]:[...this.sort.filter(t=>t.field!==e.field),o]}ngAfterViewInit(){this.subscription.add(cL(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=AL(this.columns||[]).filter(e=>!GL(e))}ngOnChanges(e){const t=e.sort;t&&!t.isFirstChange()&&t.currentValue.forEach(e=>{this.sortedFields[e.field]=!0})}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}isFirstOnRow(e,t){const n=e=>e&&(this.columnsForLevel(e.level).indexOf(e)>0||n(e.parent));return 0===t&&n(e.parent)}logicalColumnIndex(e){const t=e.leafIndex;return sL(t)?t:-1}get showFilterMenu(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}get showFilterRow(){return zV(this.filterable)}showColumnMenu(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||((e,t)=>RW(e)||TW(e,t)||xW(e,t)||OW(e,t))(this.columnMenu,e))}isFilterable(e){return!uL(e.field)&&!0===e.filterable}canDrop(e,t){return this.reorderable&&AW({draggable:e,target:t})}shouldActivate(e){return this.reorderable&&e.reorderable}isSortable(e){return!uL(e.field)&&lL(this.sortable)&&lL(e.sortable)}trackByIndex(e,t){return e}toggleDirection(e,t,n){const i=this.sortDescriptor(e),[o,r]=(e=>"asc"===e?["asc","desc"]:["desc","asc"])(n);let s=o;return i.dir===o?s=r:i.dir===r&&t&&(s=void 0),{dir:s,field:e}}columnsForLevel(e){const t=this.columns?this.columns.filter(t=>t.level===e):[];return LL(AL(t))}isColumnGroupComponent(e){return GL(e)}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}renderSelectAll(e){return e.isCheckboxColumn&&e.showSelectAll&&!e.headerTemplateRef&&this.selectionService.enableMultiple}selectAllClick(e){this.selectionService.toggleAll(e.target.checked)}sortDescriptor(e){return this.sort.find(t=>t.field===e)||{field:e}}get leafColumns(){return this._leafColumns}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new h;const e=U(...this.dropTargets.map(e=>e.enter)),t=U(...this.dropTargets.map(e=>e.leave)),n=U(...this.dropTargets.map(e=>e.drop));this.targetSubscription.add(e.pipe(Ap(({target:e,draggable:t})=>{const n=lL(e.context.column.isLocked),i=lL(t.context.column.isLocked);(this.lockedColumnsCount>0||n||i)&&this.hint.toggleLock(n)}),tp(({draggable:e,target:t})=>this.canDrop(e,t)),gp(this.trackMove.bind(this,t,n)),x(e=>PW(e,{before:this.calculateBefore(e),changeContainer:e.changeContainer})),x(this.normalizeTarget.bind(this)),Ap(this.enter.bind(this)),gp(e=>n.pipe(x(()=>e),dv(t.pipe(Ap(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(e){let t=e.target;const n=t.context.column.parent;if(n&&n.isSpanColumn){const i=this.dropTargets.toArray(),o=i.find(e=>e.context.column.parent===n),r=i.indexOf(o);t=i[r+(e.before?0:n.childColumns.length-1)]}return PW(e,{target:t})}trackMove(e,t,n){const i=n.target.context.column,o=this.columnsForLevel(i.level),r=o.indexOf(i),s=n.draggable.context.column.isLocked!==i.isLocked;return s&&(i.locked?r===o.length-1:0===r)?n.draggable.drag.pipe(dv(e),dv(t),x(({mouseEvent:e})=>PW({changeContainer:!0},n,{mouseEvent:e}))):Wh(PW({changeContainer:s},n))}calculateBefore({draggable:e,target:t,mouseEvent:n,changeContainer:i=!1}){const o=t.element.nativeElement;let r=!1;if(i){const{left:e}=YV(o);r=e+o.offsetWidth/2>n.pageX,this.localization.rtl&&(r=!r)}else r=((e,t)=>0!=(4&t.compareDocumentPosition(e)))(e.element.nativeElement,o);return r}enter({target:e,before:t}){this.hint.enable(),this.localization.rtl&&(t=!t),this.cue.position(((e,t)=>{const n=YV(e),{offsetWidth:i,offsetHeight:o}=e;return{left:n.left+(t?0:i),top:n.top,height:o}})(e.element.nativeElement,t))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:e,target:t,before:n,changeContainer:i}){this.reorderService.reorder({before:n,changeContainer:i,source:e.context.column,target:t.context.column})}}return e.\u0275fac=function(t){return new(t||e)(Rs(KV),Rs(JV),Rs(eG),Rs(tG),Rs(MG),Rs(SG),Rs(Sw),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListHeader",""]],viewQuery:function(e,t){if(1&e&&du(_W,!0),2&e){let e;hu(e=vu())&&(t.dropTargets=e)}},hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-header",t.headerClass)},inputs:{columns:"columns",sort:"sort",sortable:"sortable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[gi],attrs:bN,decls:2,vars:2,consts:[["kendoTreeListLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoTreeListFilterRow","","kendoTreeListLogicalRow","",3,"columns","filter","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoTreeListLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["ngFor","",3,"ngForOf","ngForTrackBy"],["kendoTreeListLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","ngClass","ngStyle","keydown",4,"ngIf"],["kendoTreeListLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","k-first","k-filterable","ngClass","ngStyle",4,"ngIf"],["kendoTreeListLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],[3,"column","filter",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable",4,"ngIf"],[3,"ngIf"],[4,"ngIf"],["kendoTreeListColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable"],[3,"templateContext"],["href","#","tabindex","-1",1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-sort-order"],["type","checkbox","kendoTreeListFocusable","",1,"k-checkbox",3,"click"],["kendoTreeListColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoTreeListLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoTreeListFilterRow","","kendoTreeListLogicalRow","",3,"columns","filter","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&(xs(0,jN,2,6,"tr",0),xs(1,zN,1,7,"tr",1)),2&e&&(Ds("ngForOf",t.columnLevels),Qo(1),Ds("ngIf",t.showFilterRow))},directives:function(){return[Uc,qc,XH,YH,_W,Wv,oB,jc,eh,VW,gB,KH,uG,LW,aH]},encapsulation:2}),e})();const IW=e=>e.nativeElement.parentElement.offsetWidth,FW=e=>PL(e).filter(e=>!e.isColumnGroup),NW=({originalEvent:e})=>{e.stopPropagation(),e.preventDefault()},MW=e=>!(!e.parent||!e.parent.isSpanColumn);let LW=(()=>{class e{constructor(e,t,n,i,o,r){this.draggable=e,this.element=t,this.service=n,this.zone=i,this.cdr=o,this.localization=r,this.columns=[],this.subscriptions=new h,this.rtl=!1}get visible(){return this.column.resizable?"block":"none"}get leftStyle(){return lL(this.rtl)?0:null}get rightStyle(){return lL(this.rtl)?null:0}autoFit(){const e=FW(this.columns),t=ML([this.column]).filter(e=>lL(e.resizable)),n=t.map(t=>{const n=MW(t),i=!!n&&t.parent.childColumns.last===t,o=((e,t)=>{let n=0,i=0,o=0;for(;n<t.length;){const r=t[n],s=MW(r);if(r===e)break;i--<=0&&s&&(i=r.parent.childColumns.length-1,o+=i),n++}return n-o})(t,e);return{column:t,headerIndex:this.columnsForLevel(t.level).indexOf(t),index:o,isLastInSpan:i,isParentSpan:n,level:t.level}});t.forEach(e=>e.width=0),this.service.measureColumns(n)}ngOnInit(){const e=this.service.changes.pipe(tp(()=>this.column.resizable),tp(e=>sL(e.columns.find(e=>e===this.column))));this.subscriptions.add(e.pipe(tp(e=>"start"===e.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(e.pipe(tp(e=>"resizeColumn"===e.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(tp(e=>"start"===e.type),tp(this.shouldUpdate.bind(this)),vp(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(Ap(NW),Ap(()=>this.service.start(this.column)),gp((e=this.draggable.kendoRelease,t=>Wh(t).pipe(vv(150),dv(e)))),gp(((e,t)=>n=>t.kendoDrag.pipe(dv(t.kendoRelease.pipe(Ap(()=>e.end()))),x(({pageX:e})=>({originalX:n.pageX,pageX:e}))))(this.service,this.draggable))).subscribe(({pageX:e,originalX:t})=>{this.service.resizeColumns((e-t)/(this.column.resizeStartWidth||this.column.width)*100)});var e})),this.subscriptions.add(e.pipe(tp(e=>"autoFitComplete"===e.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(e.pipe(tp(e=>"triggerAutoFit"===e.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!FW(this.columns).map(e=>e.width).some(aL)}initColumnWidth(){this.column.width=IW(this.element)}initState(){this.column.resizeStartWidth=IW(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:e}){let t=((e,t)=>{const n=t<0?-1:1;return Math.ceil(Math.abs(t)/100*e)*n})(this.column.resizeStartWidth,e);lL(this.rtl)&&(t*=-1);const n=Math.max(this.column.resizeStartWidth+t,this.column.minResizableWidth),i=n>this.column.minResizableWidth?t:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,n),this.service.resizeTable(this.column,i)}sizeToFit({columns:e,widths:t}){const n=e.indexOf(this.column),i=Math.max(...t.map(e=>e[n]))+1,o=i-this.column.resizeStartWidth;this.updateWidth(this.column,i),this.service.resizeTable(this.column,o)}updateWidth(e,t){e.width=t,this.cdr.markForCheck()}columnsForLevel(e){return AL(this.columns?this.columns.filter(t=>t.level===e):[])}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wv,1),Rs(Wa),Rs(jV),Rs(zu),Rs(cl),Rs(Sw))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&Ws("dblclick",function(){return t.autoFit()}),2&e&&ta("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),e})(),VW=(()=>{class e{constructor(e,t,n){this.filterService=e,this.popupService=t,this.localization=n,this.filterLabel=this.localization.get("filter")}get hasFilters(){return vH(this.filter,(this.column||{}).field).length>0}toggle(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),!1}close(){this.popupService.destroy()}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV),Rs(KV),Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-menu"]],inputs:{column:"column",filter:"filter"},decls:5,vars:4,consts:[["href","#",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close"]],template:function(e,t){if(1&e){const e=Vs();ks(0,"a",0,1),Ws("click",function(){Zt(e);const n=Ts(1),i=Ts(4);return t.toggle(n,i)}),Fs(2,"span",2),Is(),xs(3,UN,1,2,"ng-template",null,3,Su)}2&e&&(Ds("ngClass",Gl(2,KN,t.hasFilters)),Os("title",t.filterLabel))},directives:function(){return[jc,BW]},encapsulation:2}),e})();const GW=({value:e,operator:t})=>!uL(e)||(e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e)(t),HW=(e,t,n)=>e.reduce((e,i)=>e||(i.filters?HW(i.filters,t,i):i.field===t?n:e),void 0),WW=(e,t,n="and")=>{const i=HW((e||{}).filters||[],t);return sL(i)?i.logic:n};let BW=(()=>{class e{constructor(e,t,n,i){this.parentService=e,this.childService=t,this.localization=n,this.cd=i,this.close=new Jl,this.actionsClass="k-action-buttons k-button-group",this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=lH(e)}get childFilter(){return sL(this._childFilter)||(this._childFilter={filters:vH(this.filter,(this.column||{}).field),logic:WW(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get disabled(){return!this.childFilter.filters.some(GW)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return sL(this.column)&&sL(this.column.filterMenuTemplateRef)}submit(){const e=(e=>(e.filters=e.filters.filter(GW),e))(this.childFilter);if(e.filters.length){const t=this.filter||{filters:[],logic:"and"};CH(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};CH(e,this.column.field),this.parentService.filter(e),this.close.emit()}get clearText(){return this.localization.get("filterClearButton")}get filterText(){return this.localization.get("filterFilterButton")}}return e.\u0275fac=function(t){return new(t||e)(Rs(pV,4),Rs(pV),Rs(Sw),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-menu-container"]],inputs:{actionsClass:"actionsClass",filter:"filter",column:"column"},outputs:{close:"close"},features:[Fa([pV])],decls:10,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button"],["type","submit",1,"k-button","k-primary",3,"disabled"],["kendoFilterMenuHost","",3,"filterService","column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(ks(0,"form",0),Ws("submit",function(){return t.submit()})("reset",function(){return t.reset()}),ks(1,"div",1),Ns(2,2),xs(3,qN,2,3,"ng-container",3),xs(4,XN,2,1,"ng-container",3),Ms(),ks(5,"div",4),ks(6,"button",5),fa(7),Is(),ks(8,"button",6),fa(9),Is(),Is(),Is(),Is()),2&e&&(Qo(2),Ds("ngSwitch",t.hasTemplate),Qo(1),Ds("ngSwitchCase",!1),Qo(1),Ds("ngSwitchCase",!0),Qo(1),Ds("ngClass",t.actionsClass),Qo(2),ga(t.clearText),Qo(1),Ds("disabled",t.disabled),Qo(1),ga(t.filterText))},directives:function(){return[ky,qm,Ry,Qc,Zc,jc,XW,qc,th]},encapsulation:2}),e})(),jW=(()=>{class e extends RH{constructor(){super(null)}get hostClasses(){return!1}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-filter-menu-input-wrapper"]],inputs:{currentFilter:"currentFilter",filterService:"filterService"},features:[us],ngContentSelectors:jF,decls:2,vars:3,consts:[["textField","text","valueField","value",3,"data","value","valuePrimitive","valueChange"]],template:function(e,t){1&e&&(Ks(),ks(0,"kendo-dropdownlist",0),Ws("valueChange",function(e){return t.operatorChange(e)}),Is(),qs(1)),2&e&&Ds("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:[T_],encapsulation:2}),e})(),zW=(()=>{class e{constructor(){this.operators=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService"},decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-menu-input-wrapper",0),Fs(1,"input",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),Qo(1),Ds("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[jW,xm,OH,Km,Ay],encapsulation:2}),e})(),UW=(()=>{class e extends kH{constructor(e){super(null,e),this.logicOperators=gH(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return fH(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return fH(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}localizationChange(){this.logicOperators=gH(this.localization),super.localizationChange()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[us],decls:3,vars:7,consts:[[3,"currentFilter","operators","filterService","column","filter"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter"]],template:function(e,t){1&e&&(Fs(0,"kendo-treelist-string-filter-menu-input",0),xs(1,QN,1,3,"kendo-dropdownlist",1),xs(2,ZN,1,5,"kendo-treelist-string-filter-menu-input",2)),2&e&&(Ds("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter),Qo(1),Ds("ngIf",t.extra),Qo(1),Ds("ngIf",t.extra))},directives:[zW,qc,T_],encapsulation:2}),e})(),KW=(()=>{class e extends EH{constructor(e){super(null,e),this.logicOperators=gH(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return fH(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return fH(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}localizationChange(){this.logicOperators=gH(this.localization),super.localizationChange()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[us],decls:3,vars:13,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Fs(0,"kendo-treelist-numeric-filter-menu-input",0),xs(1,JN,1,3,"kendo-dropdownlist",1),xs(2,eM,1,11,"kendo-treelist-numeric-filter-menu-input",2)),2&e&&(Ds("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),Qo(1),Ds("ngIf",t.extra),Qo(1),Ds("ngIf",t.extra))},directives:function(){return[qW,qc,T_]},encapsulation:2}),e})(),qW=(()=>{class e{constructor(){this.operators=[],this.step=1,this.spinners=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-filter-menu-input-wrapper",0),Fs(1,"kendo-numerictextbox",1),Is()),2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),Qo(1),Ds("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:[jW,wR,OH],encapsulation:2}),e})(),YW=(()=>{class e extends HH{constructor(e){super(null,e),this.logicOperators=gH(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return fH(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return fH(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}localizationChange(){this.logicOperators=gH(this.localization),super.localizationChange()}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[us],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"]],template:function(e,t){1&e&&(Fs(0,"kendo-treelist-date-filter-menu-input",0),xs(1,tM,1,3,"kendo-dropdownlist",1),xs(2,nM,1,14,"kendo-treelist-date-filter-menu-input",2)),2&e&&(Ds("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),Qo(1),Ds("ngIf",t.extra),Qo(1),Ds("ngIf",t.extra))},directives:function(){return[QW,qc,T_]},encapsulation:2}),e})(),$W=(()=>{class e extends LH{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=Hv()}get hostClasses(){return!1}radioId(e){return`${this.idPrefix}_${e}`}onChange(e){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e}))}isSelected(e){return this.filtersByField(this.column.field).some(({value:t})=>t===e)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-boolean-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService"},features:[us],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio",1,"k-radio",3,"name","checked","change"],[1,"k-radio-label"]],template:function(e,t){1&e&&(ks(0,"ul",0),xs(1,iM,4,5,"li",1),Is()),2&e&&(Qo(1),Ds("ngForOf",t.items))},directives:[Uc],encapsulation:2}),e})(),XW=(()=>{class e extends lW{constructor(e,t){super(e,t)}componentType(){return sL(this.column)&&!uL(this.column.filter)?{boolean:$W,date:YW,numeric:KW,text:UW}[this.column.filter]:UW}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService}}return e.\u0275fac=function(t){return new(t||e)(Rs(El),Rs(La))},e.\u0275dir=ot({type:e,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService"},features:[us]}),e})(),QW=(()=>{class e{constructor(e){this.popupService=e,this.operators=[]}open(e){this.subscription=this.popupService.onClose.pipe(tp(()=>e.isActive)).subscribe(e=>e.preventDefault())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Rs(KV))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""]],template:function(e,t){if(1&e){const e=Vs();ks(0,"kendo-treelist-filter-menu-input-wrapper",0),ks(1,"kendo-datepicker",1,2),Ws("open",function(){Zt(e);const n=Ts(2);return t.open(n)}),Is(),Is()}2&e&&(Ds("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),Qo(1),Ds("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber))},directives:[jW,fk,OH],encapsulation:2}),e})(),ZW=(()=>{class e{static exports(){return[UW,EL,KW,YW,$W,aW.exports()]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[aW],aW]}),e})();const JW=e=>t=>new RegExp(`(^| )${e}( |$)`).test(t.className),eB=mL(JW("k-i-group-delete"),JW("k-button-icon")),tB=mL(JW("k-i-sort-asc-sm"),JW("k-i-sort-desc-sm")),nB=yL(gL(eB),gL(tB),gL(VV),gL(IV("label"))),iB=({clientX:e,clientY:t})=>document.elementFromPoint(e,t);let oB=(()=>{class e{constructor(e,t,n,i,o,r,s,a){this.draggable=e,this.element=t,this.zone=n,this.service=i,this.hint=o,this.cue=r,this.nav=s,this.renderer=a,this.context={},this.drag=new Jl,this.subscriptions=new h}set enableDrag(e){this.enabled=e,this.updateTouchAction()}get hostClass(){return this.enabled}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(tp(e=>this.enabled),tp(({originalEvent:{target:e}})=>e===this.element.nativeElement||nB(e)),Ap(e=>{const t=e.originalEvent;e.isTouch||t.preventDefault(),this.nav.navigateTo(t.target)}),gp((e=this.draggable.kendoRelease,t=>Wh(t).pipe(vv(150),dv(e)))),Ap(e=>{this.hint.create(e,this.element.nativeElement,this.context.hint),this.cue.create()}),gp(e=>this.draggable.kendoDrag.pipe(Ap(e=>{e.isTouch&&e.originalEvent.preventDefault()}),Ap(this.hint.attach()),Ap(this.cue.attach()),dv(this.draggable.kendoRelease),x(t=>({move:t,down:e})))),Ap(this.performDrag.bind(this)),mv(this.draggable.kendoRelease)).subscribe(this.drop.bind(this));var e}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}performDrag({move:e}){this.hint.move(e);const t=this.elementUnderCursor(e);t&&this.service.notifyDrag(this,t,e),this.drag.emit({draggable:this,mouseEvent:e})}elementUnderCursor(e){this.hint.hide();let t=iB(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=((e,t)=>{e.style.display="none";const n=t();return e.style.display="block",n})(t,iB.bind(this,e))),this.hint.show(),t}updateTouchAction(){this.element&&this.renderer.setStyle(this.element.nativeElement,"touch-action",this.enabled?"none":"")}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wv,1),Rs(Wa),Rs(zu),Rs(XV),Rs(JV),Rs(eG),Rs(AG),Rs(ja))},e.\u0275dir=ot({type:e,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),e})(),rB=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)}}),e})(),sB=(()=>{class e{constructor(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.reset=new Jl,this.apply=new Jl,this.columnChange=new Jl,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}get className(){return!0}set columns(e){this._columns=e.filter(e=>!1!==e.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(t=>t!==e&&!t.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions=this.renderer.listen(this.element.nativeElement,"click",e=>{if(AV(e.target,"k-checkbox"))if(this.autoSync){const t=parseInt(e.target.getAttribute("data-index"),10),n=this.columns[t],i=!e.target.checked;Boolean(n.hidden)!==i&&this.ngZone.run(()=>{n.hidden=i,this.columnChange.emit([n])})}else this.updateDisabled()})})}ngOnDestroy(){this.domSubscriptions&&this.domSubscriptions()}cancelChanges(){this.forEachCheckBox((e,t)=>{e.checked=!this.columns[t].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((t,n)=>{const i=this.columns[n],o=!t.checked;Boolean(i.hidden)!==o&&(i.hidden=o,e.push(i))}),this.updateDisabled(),this.apply.emit(e)}forEachCheckBox(e){const t=this.element.nativeElement.getElementsByClassName("k-checkbox"),n=t.length;for(let i=0;i<n;i++)e(t[i],i)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((t,n)=>{t.checked&&e.push({checkbox:t,index:n}),t.disabled=!1}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const t=this.columns,n=e.filter(e=>!t[e.index].locked);1===n.length&&(n[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}updateColumnState(){this.hasLocked=this.allColumns.filter(e=>e.locked&&(!e.hidden||!1!==e.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(e=>e.locked&&!e.hidden).length>0,this.unlockedCount=this.columns.filter(e=>!e.locked&&!e.hidden).length;const e=this.allColumns.filter(e=>!1===e.includeInChooser&&!e.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(e=>!e.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wa),Rs(zu),Rs(ja))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-columnlist"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"click"]],template:function(e,t){1&e&&(ks(0,"div",0),xs(1,oM,4,4,"label",1),Is(),xs(2,rM,5,3,"div",2)),2&e&&(Qo(1),Ds("ngForOf",t.columns),Qo(1),Ds("ngIf",!t.autoSync))},directives:[Uc,qc,jc],encapsulation:2}),e})(),aB=(()=>{class e{constructor(e,t,n,i,o,r){this.localization=e,this.columnInfoService=t,this.popupService=n,this.ngZone=i,this.renderer=o,this.changeDetector=r,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,t){if(this.popupRef)this.close();else{const n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:n},popupAlign:{vertical:"top",horizontal:n}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:t})=>{FV(t,t=>t===this.popupRef.popupElement||t===e)||this.close()}))}}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}close(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(NG),Rs(_b),Rs(zu),Rs(ja),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){const e=Vs();ks(0,"button",0,1),Ws("click",function(){Zt(e);const n=Ts(1),i=Ts(4);return t.toggle(n,i)}),Fs(2,"span",2),Is(),xs(3,sM,3,6,"ng-template",null,3,Su)}2&e&&Os("title",t.localization.get("columns"))},directives:[sB],encapsulation:2}),e})(),lB=(()=>{class e{constructor(){this.closeMenu=new Jl}close(){this.closeMenu.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),uB=(()=>{class e{constructor(){this.hostClass=!0}ngOnInit(){if(Gn()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}close(){this.service.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ot({type:e,hostVars:2,hostBindings:function(e,t){2&e&&na("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),e})(),cB=(()=>{class e extends uB{constructor(e,t,n){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=n,this.expand=new Jl,this.collapse=new Jl,this.expanded=!1,this.actionsClass="k-columnmenu-actions"}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(NG),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-columnmenu-chooser"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[us],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoTreeListColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","apply"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-columnmenu-item",0),Ws("collapse",function(){return t.collapse.emit()})("expand",function(){return t.expand.emit()}),xs(1,aM,1,6,"ng-template",1),Is()),2&e&&Ds("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[dB,pB,sB]},encapsulation:2}),e})(),hB=(()=>{class e extends uB{constructor(e){super(),this.localization=e,this.expand=new Jl,this.collapse=new Jl,this.expanded=!1,this.actionsClass="k-columnmenu-actions"}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-columnmenu-filter"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[us],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoTreeListColumnMenuItemContentTemplate",""],[3,"column","filter","actionsClass","close"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-columnmenu-item",0),Ws("collapse",function(){return t.collapse.emit()})("expand",function(){return t.expand.emit()}),xs(1,lM,1,3,"ng-template",1),Is()),2&e&&Ds("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[dB,pB,BW]},encapsulation:2}),e})(),pB=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Rs(ml,8))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListColumnMenuItemContentTemplate",""]]}),e})(),dB=(()=>{class e{constructor(){this.itemClick=new Jl,this.expand=new Jl,this.collapse=new Jl,this.contentState="collapsed"}get iconClass(){return"k-i-"+this.icon}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}}var t;return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-columnmenu-item"]],contentQueries:function(e,t,n){if(1&e&&gu(n,pB,!0),2&e){let e;hu(e=vu())&&(t.contentTemplate=e.first)}},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[gi],decls:4,vars:7,consts:[[1,"k-columnmenu-item",3,"click"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(ks(0,"div",0),Ws("click",function(e){return t.onClick(e)}),xs(1,uM,1,1,"span",1),fa(2),Is(),xs(3,cM,3,2,"div",2)),2&e&&(na("k-state-selected",t.selected)("k-state-disabled",t.disabled),Qo(1),Ds("ngIf",t.icon),Qo(1),ma(" ",t.text," "),Qo(1),Ds("ngIf",t.contentTemplate))},directives:[qc,jc,th],encapsulation:2,data:{animation:[(t=[qw("collapsed",Kw({display:"none"})),qw("expanded",Kw({display:"block"})),Yw("collapsed => expanded",[Kw({height:"0px",display:"block"}),zw("100ms ease-in",Kw({height:"*"}))]),Yw("expanded => collapsed",[Kw({height:"*"}),zw("100ms ease-in",Kw({height:"0px"}))])],{type:7,name:"state",definitions:t,options:{}})]}}),e})(),fB=(()=>{class e extends uB{constructor(e,t){super(),this.localization=e,this.sortService=t}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const t=this.service.column.field,{mode:n,allowUnsort:i}=EW(this.service.sortable),o=this.descriptor,r="multiple"===n?this.service.sort.filter(e=>e.field!==t):[];if(o&&o.dir===e){if(!i)return}else r.push({field:t,dir:e});this.sortService.sort(r),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(MG))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-columnmenu-sort"]],features:[us],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-columnmenu-item",0),Ws("itemClick",function(){return t.toggleSort("asc")}),Is(),ks(1,"kendo-treelist-columnmenu-item",1),Ws("itemClick",function(){return t.toggleSort("desc")}),Is()),2&e&&(Ds("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),Qo(1),Ds("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[dB],encapsulation:2}),e})(),gB=(()=>{class e{constructor(e,t,n){this.popupService=e,this.localization=t,this.service=n,this.standalone=!0,this.settings={},this.sortable=!0,this.expandedFilter=!1,this.expandedColumns=!1,this.closeSubscription=n.closeMenu.subscribe(this.close.bind(this))}get isActive(){return this.hasFilter&&vH(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return OW(this.settings,this.column)}get hasSort(){return xW(this.settings,this.column)}get hasColumnChooser(){return RW(this.settings)}get hasLock(){return TW(this.settings,this.column)}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,t,n){e.preventDefault(),this.expandedFilter=!this.hasColumnChooser,this.expandedColumns=!this.hasFilter,this.popupRef=this.popupService.open(t,n,this.popupRef,"k-grid-columnmenu-popup")}close(){this.popupService.destroy(),this.popupRef=null}onColumnsExpand(){this.expandedColumns=!0,this.expandedFilter=!1}onFilterExpand(){this.expandedFilter=!0,this.expandedColumns=!1}}return e.\u0275fac=function(t){return new(t||e)(Rs(KV),Rs(Sw),Rs(lB))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-column-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Fa([lB]),gi],decls:7,vars:4,consts:[["href","#","tabindex","-1",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"service",4,"ngIf"],[3,"service","expanded","expand",4,"ngIf"],[3,"service"],[3,"service","expanded","expand"]],template:function(e,t){if(1&e){const e=Vs();ks(0,"a",0,1),Ws("click",function(n){Zt(e);const i=Ts(1),o=Ts(4);return t.toggle(n,i,o)}),Fs(2,"span",2),Is(),xs(3,pM,1,5,"ng-template",null,3,Su),xs(5,yM,4,4,"ng-template",null,4,Su)}2&e&&(Ds("ngClass",Gl(2,vM,t.isActive)),Os("title",t.localization.get("columnMenu")))},directives:function(){return[jc,th,qc,fB,mB,cB,hB]},encapsulation:2}),e})(),mB=(()=>{class e extends uB{constructor(e,t,n){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=n}get text(){return this.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const n=[t],i=[];for(;n.length;){const t=n.shift();t.locked=e,i.push(t),t.hasChildren&&n.push(...t.childrenArray)}this.columnInfoService.changeLocked(i)}get locked(){return this.service.column.locked}}return e.\u0275fac=function(t){return new(t||e)(Rs(Sw),Rs(NG),Rs(cl))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-columnmenu-lock"]],features:[us],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(ks(0,"kendo-treelist-columnmenu-item",0),Ws("itemClick",function(){return t.toggleColumn()}),Is()),2&e&&Ds("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[dB],encapsulation:2}),e})(),yB=(()=>{class e{static exports(){return[aB,hB,dB,pB,fB,mB,cB,nL,gB]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,ZW]]}),e})();const vB=[ah,cW,ZW,oW,rB,yB];let CB=(()=>{class e{static exports(){return[eL]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[...vB]]}),e})(),wB=(()=>{class e extends oL{constructor(e,t){super(e,t),this.parent=e,this.isCommand=!0}get templateRef(){return this.template?this.template.templateRef:void 0}}return e.\u0275fac=function(t){return new(t||e)(Rs(oL,13),Rs(_L))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-command-column"]],contentQueries:function(e,t,n){if(1&e&&gu(n,ZM,!0),2&e){let e;hu(e=vu())&&(t.template=e.first)}},features:[Fa([{provide:oL,useExisting:Pe(()=>e)}]),us],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const bB=(e,t)=>{for(let n=0;n<t.length;n++)if(t[n]===e)return n};let SB=(()=>{class e{constructor(e,t,n,i,o,r,s,a,l,u,c){this.changeNotification=e,this.editService=t,this.localization=n,this.ngZone=i,this.renderer=o,this.element=r,this.domEvents=s,this.columnInfoService=a,this.navigationService=l,this.expandState=u,this.selection=c,this.columns=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=GG,this.rowClass=()=>null,this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(e=>this.cellKeydownHandler(e)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this),this.selection.registerTable(this)}get newDataItem(){return this.editService.newDataItem}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}isOdd(e){return e.index%2!=0}trackByWrapper(e,t){return"data"===t.type&&(t.isEditing=this.editService.isEdited(t.data)),this.trackBy(e,t)}trackByColumns(e,t){return this.virtualColumns?e:t}ngOnChanges(e){Lv("columns",e,!1)&&this.changeNotification.notify()}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1}logicalColIndex(e){return sL(e.leafIndex)?e.leafIndex:-1}ariaExpanded(e,t){if(t.expandable&&e.hasChildren)return Boolean(e.expanded)}ariaSelected(e,t,n){if(this.selection.enabled)return e.selected||this.isCellSelected(e.data,t,n)}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const e=this.clickHandler.bind(this),t=this.renderer.listen(this.element.nativeElement,"mousedown",e),n=this.renderer.listen(this.element.nativeElement,"click",e),i=this.renderer.listen(this.element.nativeElement,"contextmenu",e);this.clickSubscription=()=>{t(),n(),i()}});let e=this.localization.get("noRecords");this.localization.changes.subscribe(()=>{this.noRecordsText===e&&(this.noRecordsText=this.localization.get("noRecords"),e=this.noRecordsText)})}ngDoCheck(){this.headerOffset=this.columnInfoService.totalLevels+(zV(this.filterable)?1:0)}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.cellKeydownSubscription.unsubscribe(),this.selection.unregisterTable(this),clearTimeout(this.clickTimeout)}isEditingCell(e,t){return Boolean(e.editContext&&this.editService.isEditingColumn(t))}isEditingRow(e){return Boolean(e.editContext)||e.isNew}get columnsContainer(){return this.columnInfoService.columnsContainer}get hasFooter(){return this.columnsContainer.hasFooter}get columnsSpan(){return FL(this.columns)}get allColumnsSpan(){return FL(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan}get footerColumns(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}logicalRowIndex(e){return 1+e+this.headerOffset}isCellSelected(e,t,n){return this.selection.isCellSelected(e,t,n)}targetArgs(e,t){const{cell:n,row:i}=this.targetElements(e);if(n&&(!t||e===n||!VV(e,!1))){const e=bB(n,i.cells),t=this.columns.toArray()[e],o=this.lockedColumnsCount+e;return{item:this.rowItem(i),column:t,columnIndex:o}}}clickHandler(e){const t=e.target,{cell:n,row:i}=this.targetElements(t);if(n&&!AV(n,$G)&&!AV(i,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")){if(this.expandClick(e,i)||this.checkboxClick(n,i,e))return;if(this.editService.preventCellClose(),!(t!==n&&VV(t,!1)||IV("label")(t)||AV(t,"k-icon")||NV(t,kV("k-widget k-treelist-ignore-click"),n))){const t=this.cellClickArgs(n,i,e);if(!t)return;"mousedown"===e.type?this.domEvents.cellMousedown.emit(t):!t.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(t)},0):this.emitCellClick(t))}}}emitCellClick(e){this.domEvents.cellClick.emit(e)}cellKeydownHandler(e){e.keyCode===tC.Enter&&this.clickHandler(e)}cellClickArgs(e,t,n){const i=bB(e,t.cells),o=this.columns.toArray()[i],r=this.lockedColumnsCount+i,s=this.rowItem(t);if("data"!==s.type)return;const a="keydown"===n.type?"click":n.type;return{column:o,columnIndex:r,viewItem:s,dataItem:s.data,index:s.index,isEditedColumn:s.editContext&&this.editService.isEditingColumn(o),isEdited:s.isNew||s.editContext&&this.editService.isEditedColumn(o),originalEvent:n,type:a}}targetElements(e){const t=this.element.nativeElement;let n,i,o,r,s=e;do{n=FV(s,IV("td")),i=FV(n,IV("tr")),o=FV(i,IV("tbody")),s=o,r=NV(s,kV("k-treelist k-grid"),t)}while(o&&o!==t&&!r);return n&&o===t&&!r?{cell:n,row:i}:{}}expandClick(e,t){if("click"===e.type&&AV(e.target,"k-i-expand k-i-collapse")){e.preventDefault();const n=this.rowItem(t);if("data"===n.type)return this.ngZone.run(()=>{this.expandState.toggleState(n.data)}),!0}}checkboxClick(e,t,n){if("click"===n.type&&AV(e,"k-checkbox-cell")&&this.selection.enabled&&this.selection.rowSelection){const i=this.cellClickArgs(e,t,n);return this.selection.checkboxClick(i),n.target.checked!==this.selection.isRowSelected(i.dataItem)&&n.preventDefault(),!0}}rowItem(e){let t=e.getAttribute("data-treelist-view-index");return t=t?parseInt(t,10):-1,this.view.at(t)}}return e.\u0275fac=function(t){return new(t||e)(Rs(lV),Rs(sV),Rs(Sw),Rs(zu),Rs(ja),Rs(Wa),Rs(HV),Rs(NG),Rs(AG),Rs(yG),Rs(SG))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListTableBody",""]],inputs:{columns:"columns",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",noRecordsTemplate:"noRecordsTemplate",view:"view",filterable:"filterable",virtualColumns:"virtualColumns",expandIcons:"expandIcons"},features:[gi],attrs:CM,decls:2,vars:3,consts:[["class","k-grid-norecords",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-grid-norecords"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet"],["kendoTreeListLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","isNew","ngClass","k-alt","k-grid-edit-row","k-grid-add-row","k-state-selected",4,"ngIf"],["class","k-footer","kendoTreeListLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoTreeListLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","isNew","ngClass"],["kendoTreeListCell","","kendoTreeListLogicalCell","","role","gridcell",3,"columnIndex","column","viewItem","dataItem","level","hasChildren","isExpanded","loading","isNew","selected","expandIcons","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","expandable","ngClass","k-grid-edit-cell","k-state-selected","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["kendoTreeListCell","","kendoTreeListLogicalCell","","role","gridcell",3,"columnIndex","column","viewItem","dataItem","level","hasChildren","isExpanded","loading","isNew","selected","expandIcons","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","expandable","ngClass","ngStyle"],["kendoTreeListLogicalRow","",1,"k-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoTreeListLogicalCell","",3,"logicalRowIndex","logicalColIndex","column","colIndex","ngClass","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["kendoTreeListLogicalCell","",3,"logicalRowIndex","logicalColIndex","column","colIndex","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","k-icon k-i-none",4,"ngFor","ngForOf"],[1,"k-icon","k-i-none"]],template:function(e,t){1&e&&(xs(0,SM,4,3,"tr",0),xs(1,AM,3,2,"ng-container",1)),2&e&&(Ds("ngIf",!t.view||0===(null==t.view.data?null:t.view.data.length)||null==t.view.data),Qo(1),Ds("ngForOf",null==t.view?null:t.view.data)("ngForTrackBy",t.trackByWrapper))},directives:function(){return[qc,Uc,th,XH,jc,EB,YH,eh]},pipes:function(){return[DB]},encapsulation:2}),e})(),EB=(()=>{class e{constructor(e,t){this.editService=e,this.focusGroup=t,this.isNew=!1,this.level=0,this.cellContext={},this._templateContext={},this._editTemplateContext={},this.templateContext.cellContext=this.cellContext,this.cellContext.focusGroup=t}get commandCellClass(){return this.column.isCommand}get checkboxCellClass(){return this.column.isCheckboxColumn}get textNoWrapClass(){return this.column.expandable}set viewItem(e){this._viewItem=e,this.cellContext.viewItem=this.viewItem}get viewItem(){return this._viewItem}get formGroup(){return this.viewItem.isNew?this.editService.newItemGroup:this.viewItem.editContext?this.viewItem.editContext.group:null}get isEdited(){return Boolean(this.viewItem.isNew&&bL(this.column,this.editService.newItemGroup)||bL(this.column,this.formGroup)&&this.viewItem.editContext&&this.editService.isEditedColumn(this.column))}get templateContext(){return this._templateContext}get editTemplateContext(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.cellContext=this.cellContext,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext}get format(){if(OL(this.column)&&!uL(this.column.format))return fL(this.column.format)}get isBoundColumn(){return this.column.field&&!this.column.templateRef}get isSpanColumn(){return iL(this.column)&&!this.column.templateRef}get childColumns(){return AL([this.column])}ngDoCheck(){this.column.templateRef&&this.updateTemplateContext()}updateTemplateContext(){const e=this._templateContext;e.$implicit=this.dataItem,e.column=this.column,e.columnIndex=this.columnIndex,e.dataItem=this.dataItem,e.hasChildren=this.hasChildren,e.isExpanded=this.isExpanded,e.isNew=this.isNew,e.level=this.level,e.loading=this.loading,e.rowIndex=this.viewItem.rowIndex}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(lG))},e.\u0275cmp=Ze({type:e,selectors:[["","kendoTreeListCell",""]],hostVars:6,hostBindings:function(e,t){2&e&&na("k-command-cell",t.commandCellClass)("k-checkbox-cell",t.checkboxCellClass)("k-text-nowrap",t.textNoWrapClass)},inputs:{isNew:"isNew",level:"level",viewItem:"viewItem",column:"column",columnIndex:"columnIndex",hasChildren:"hasChildren",isExpanded:"isExpanded",loading:"loading",expandIcons:"expandIcons",selected:"selected",dataItem:"dataItem"},attrs:kM,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngIf"],["class","k-icon k-i-none",4,"ngFor","ngForOf"],["class","k-icon",3,"ngClass",4,"ngIf"],[1,"k-icon","k-i-none"],[1,"k-icon",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["type","checkbox","kendoTreeListFocusable","",1,"k-checkbox",3,"checked"],[3,"ngSwitch",4,"ngIf"],["kendoTreeListFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","kendoTreeListFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoTreeListFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoTreeListFocusable","",3,"format","formControl"],["type","checkbox","kendoTreeListFocusable","",3,"formControl"],["type","text","kendoTreeListFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(Ns(0,0),xs(1,BM,6,5,"ng-container",1),xs(2,$M,3,2,"ng-container",1),Ms()),2&e&&(Ds("ngSwitch",t.isEdited),Qo(1),Ds("ngSwitchCase",!1),Qo(1),Ds("ngSwitchCase",!0))},directives:function(){return[Qc,Zc,qc,Uc,jc,th,uG,Jc,wR,Km,Ny,fk,Em,xm]},pipes:function(){return[DB,ZH]},encapsulation:2}),e})(),_B=(()=>{class e extends Zk{constructor(e,t,n,i,o){super(t,n,null,i,o),this.editService=e}get visible(){if(this.cellContext)return this.isEdited!==this.readVisible?"":"none"}get isEdited(){return Boolean(this.cellContext&&this.editService.isEdited(this.dataItem)&&!this.editService.isEditingCell())}get dataItem(){if(this.cellContext)return this.cellContext.viewItem.data}clickHandler(e){e.preventDefault(),this.onClick()}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(Wa),Rs(ja),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListBaseCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ws("click",function(e){return t.clickHandler(e)}),2&e&&ta("display",t.visible)},features:[us]}),e})(),OB=(()=>{class e extends _B{constructor(e,t,n,i,o){super(e,t,n,i,o),this.commandClass=!0,this.readVisible=!0}onClick(){this.cellContext&&this.editService.beginEdit(this.dataItem)}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(Wa),Rs(ja),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListEditCommand",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-edit-command",t.commandClass)},inputs:{cellContext:["kendoTreeListEditCommand","cellContext"]},features:[us]}),e})(),xB=(()=>{class e extends _B{constructor(e,t,n,i,o){super(e,t,n,i,o),this.commandClass=!0,this.readVisible=!1}onClick(){if(this.cellContext){const e=this.cellContext.viewItem;this.editService.endEdit(e.data,e.isNew)}}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(Wa),Rs(ja),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListCancelCommand",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-cancel-command",t.commandClass)},inputs:{cellContext:["kendoTreeListCancelCommand","cellContext"]},features:[us]}),e})(),TB=(()=>{class e extends _B{constructor(e,t,n,i,o){super(e,t,n,i,o),this.commandClass=!0,this.readVisible=!1}onClick(){this.cellContext&&this.editService.save(this.dataItem,this.cellContext.viewItem.isNew)}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(Wa),Rs(ja),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListSaveCommand",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-save-command",t.commandClass)},inputs:{cellContext:["kendoTreeListSaveCommand","cellContext"]},features:[us]}),e})(),RB=(()=>{class e extends _B{constructor(e,t,n,i,o){super(e,t,n,i,o),this.commandClass=!0,this.readVisible=!0}onClick(){this.cellContext&&this.editService.remove(this.dataItem,(this.cellContext.viewItem.parent||{}).data)}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(Wa),Rs(ja),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListRemoveCommand",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-remove-command",t.commandClass)},inputs:{cellContext:["kendoTreeListRemoveCommand","cellContext"]},features:[us]}),e})(),PB=(()=>{class e extends _B{constructor(e,t,n,i,o){super(e,t,n,i,o),this.commandClass=!0,this.readVisible=!0}onClick(){this.editService.beginAdd(this.dataItem)}}return e.\u0275fac=function(t){return new(t||e)(Rs(sV),Rs(Wa),Rs(ja),Rs(Sw),Rs(zu))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListAddCommand",""]],hostVars:2,hostBindings:function(e,t){2&e&&na("k-grid-add-command",t.commandClass)},inputs:{cellContext:["kendoTreeListAddCommand","cellContext"]},features:[us]}),e})(),DB=(()=>{class e{transform(e,t){const n=[],i=e+1-(t?1:0);for(let o=0;o<i;o++)n.push(o);return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=rt({name:"levelItems",type:e,pure:!0}),e})();const AB=[ah,Gy,Vy,oW,RR,zk];let kB=(()=>{class e{static exports(){return[wB,ZM,uV,JM,OB,xB,TB,RB,PB,tL]}}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[...AB]]}),e})(),IB=(()=>{class e{constructor(e){this.treelist=e,this.context={}}get classNames(){return"k-header k-grid-toolbar"}set position(e){this.context.position=e}get toolbarTemplateRef(){return this.treelist.toolbarTemplate?this.treelist.toolbarTemplate.templateRef:void 0}}return e.\u0275fac=function(t){return new(t||e)(Rs(jG))},e.\u0275cmp=Ze({type:e,selectors:[["kendo-treelist-toolbar"]],hostVars:2,hostBindings:function(e,t){2&e&&ia(t.classNames)},inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&xs(0,QM,1,2,void 0,0),2&e&&Ds("ngIf",t.toolbarTemplateRef)},directives:[qc,th],encapsulation:2}),e})();let FB=(()=>{class e{constructor(e){this.treelist=e,this.state={},this.cache=new Map,this.originalData=[],this.subscriptions=new h,this.treelist.fetchChildren=this.fetchChildren.bind(this),this.treelist.hasChildren=this.hasChildren.bind(this)}set sort(e){this.treelist.sort=this.state.sort=e}set filter(e){this.treelist.filter=this.state.filter=e}set aggregate(e){this._aggregate=e}ngOnInit(){this.applyState(this.state),this.subscriptions.add(this.treelist.dataStateChange.subscribe(this.onStateChange.bind(this)))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}ngDoCheck(){this.dataChanged&&(this.dataChanged=!1,this.rebind())}ngOnChanges(e){Vv(["sort","filter","aggregate"],e)&&this.rebind()}onStateChange(e){this.applyState(e),this.rebind()}rebind(){this.cache.clear(),this.treelist.data=this.fetchChildren()}applyState({sort:e,filter:t}){this.sort=e,this.filter=t}fetchChildren(e){const t=this.itemKey(e);if(this.cache.has(t))return this.cache.get(t);const n=this.getChildren(e);let i,o=this.filterItems(n);o.length&&(this.state.sort&&(o=gw(o,{sort:this.state.sort}).data),this._aggregate&&(i=this.calculateAggregates(o)));const r={data:o,aggregates:i};return this.cache.set(t,r),r}hasChildren(e){const t=this.fetchChildren(e).data;return t&&t.length>0}filterItems(e){return this.state.filter?gw(e,{filter:{logic:"or",filters:[this.state.filter,{operator:e=>{const t=this.fetchChildren(e);return Boolean(t.data&&t.data.length)}}]}}).data:e}calculateAggregates(e){const t=[],n=e.slice(0);for(;n.length;){const e=n.shift();t.push(e),this.hasChildren(e)&&n.push.apply(n,this.fetchChildren(e).data)}return ow(t,this._aggregate)}}return e.\u0275fac=function(e){Ps()},e.\u0275dir=ot({type:e,inputs:{sort:"sort",filter:"filter",aggregate:"aggregate"},features:[gi]}),e})();class NB extends HG{constructor(e,t){super(),this.bindingDirective=e,this.localDataChanges=t}create(e,t,n){const{idGetter:i,idSetter:o,parentIdSetter:r,originalData:s,treelist:a}=this.bindingDirective;o(e,sL(n)?n:Hv()),t&&r(e,i(t)),((e,t,n,i)=>{let o=0;if(!i&&n.skip){let e=n.view.find(e=>"data"===e.type&&!e.isNew),i=e,r=0;if(e.level>0){for(;e.level>0;)e=e.parent;i=e,r=1}const s=t.indexOf(i.data);s>0&&(o=s+r)}t.splice(o,0,e)})(e,s,a,t),this.bindingDirective.rebind()}update(e){this.bindingDirective.rebind()}remove(e,t){const{idGetter:n,parentIdGetter:i,originalData:o}=this.bindingDirective,r=[e];for(;r.length;){const e=r.shift(),t=n(e);let s=-1;for(let a=0;a<o.length;a++){const e=o[a];-1===s&&n(e)===t&&(s=a),i(e)===t&&r.push(e)}s>=0&&(o.splice(s,1),this.notifyRemove(e))}this.bindingDirective.rebind()}notifyRemove(e){this.localDataChanges&&this.localDataChanges.changes.emit({action:"remove",item:e})}}let MB=(()=>{class e extends FB{constructor(e,t){super(e),this.treelist=e,this.idGetter=Bb("id"),this.idSetter=Ub("id"),this.parentIdGetter=Bb("parentId"),this.parentIdSetter=Ub("parentId"),e.localEditService=new NB(this,t)}set parentIdField(e){this.parentIdGetter=Bb(e),this.parentIdSetter=Ub(e)}set idField(e){this.idGetter=Bb(e),this.idSetter=Ub(e)}set data(e){this.originalData=e||[],this.dataChanged=!0}getChildren(e){const t=this.itemKey(e);return this.originalData.filter(null===t?e=>!sL(this.parentIdGetter(e)):e=>this.parentIdGetter(e)===t)}itemKey(e){return e?this.idGetter(e):null}}return e.\u0275fac=function(t){return new(t||e)(Rs(jG),Rs(WG))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListFlatBinding",""]],inputs:{parentIdField:"parentIdField",idField:"idField",data:["kendoTreeListFlatBinding","data"]},exportAs:["kendoTreeListFlatBinding"],features:[us]}),e})(),LB=(()=>{class e{constructor(e){this.treelist=e,this.expandedKeysChange=new Jl,this.initiallyExpanded=!1,this.state=new Set,this.treelist.isExpanded=this.isExpanded.bind(this),this.toggleState=this.toggleState.bind(this),this.subscriptions=this.treelist.expandStateChange.subscribe(this.toggleState)}set expandedKeys(e){e!==this._expandedKeys&&(this._expandedKeys=e,this.treelist.updateView())}get expandedKeys(){return Array.from(this.state.keys())}set expandBy(e){this._expandBy=pL(e)?Bb(e):e}get keyGetter(){return this._expandBy||this.treelist.idGetter}isExpanded(e){const t=this.keyGetter(e);return this.state.has(t)?!this.initiallyExpanded:this.initiallyExpanded}ngOnChanges(e){e.expandedKeys?this.state=new Set(this._expandedKeys):e.initiallyExpanded&&this.state.clear()}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleState(e){const t=this.keyGetter(e.dataItem);Boolean(this.initiallyExpanded)!==e.expand?this.state.add(t):this.state.delete(t),this.expandedKeysChange.emit(this.expandedKeys)}}return e.\u0275fac=function(t){return new(t||e)(Rs(jG))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListExpandable",""]],inputs:{initiallyExpanded:"initiallyExpanded",expandedKeys:"expandedKeys",expandBy:"expandBy"},outputs:{expandedKeysChange:"expandedKeysChange"},exportAs:["kendoTreeListExpandable"],features:[gi]}),e})();class VB{constructor(){this.keys=new Set}clear(){this.keys.clear()}has(e){return this.keys.has(e)}add(e){this.keys.add(e)}remove(e){this.keys.delete(e)}toArray(){const e=[];return this.keys.forEach(t=>{e.push({itemKey:t})}),e}fromArray(e){this.keys.clear(),e.forEach(e=>{this.add(e.itemKey)})}}class GB{constructor(){this.keys=new Map}clear(){this.keys.clear()}has(e,t){return this.keys.has(e)&&this.keys.get(e).has(t)}add(e,t){this.keys.has(e)||this.keys.set(e,new Set),this.keys.get(e).add(t)}remove(e,t){if(this.keys.has(e)){const n=this.keys.get(e);n.delete(t),n.size||this.keys.delete(e)}}toArray(){const e=[];return this.forEach((t,n)=>{e.push({itemKey:t,columnKey:n})}),e}fromArray(e){this.keys.clear(),e.forEach(e=>{this.add(e.itemKey,e.columnKey)})}updateColumKeys(e){let t=!1;return this.keys.forEach((n,i)=>{const o=[];n.forEach(n=>{e.has(n)?(o.push(e.get(n)),t=!0):o.push(n)}),this.keys.set(i,new Set(o))}),t}forEach(e){this.keys.forEach((t,n)=>{t.forEach(t=>{e(n,t)})})}}let HB=(()=>{class e{constructor(e,t,n){this.draggable=e,this.selection=t,this.changeDetector=n,this.cellSelected=this.cellSelected.bind(this),this.rowSelected=this.rowSelected.bind(this)}get userSelection(){return this.selection.enableMarquee?"none":null}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this))),this.subscriptions.add(this.draggable.kendoRelease.subscribe(this.endSelection.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}cellSelected(e,t){return this.state.has(e,t)}rowSelected(e){return this.state.has(e)}start(e){const t=this.targetArgs(e,!0);t&&(this.pressTarget=t,this.pressArgs=e)}moveMarquee(e){if(this.pressTarget&&!this.state&&this.initMarquee(),this.marqueeElement){const t=this.marqueeElement,n=this.pressArgs,i=Math.min(e.pageX,n.pageX),o=Math.min(e.pageY,n.pageY),r=Math.abs(e.pageX-n.pageX),s=Math.abs(e.pageY-n.pageY);t.style.left=i+"px",t.style.top=o+"px",t.style.width=r+"px",t.style.height=s+"px"}else if(this.state){const t=this.targetArgs(e);t&&(!this.currentTarget||this.currentTarget.item.data!==t.item.data||"cell"===this.selection.settings.mode&&this.currentTarget.column!==t.column)&&(this.currentTarget=t,this.state.fromArray(this.selection.rangeItems(this.pressTarget,t).map(e=>({itemKey:e.dataItem,columnKey:e.column}))),this.selection.updateSelectedState(),this.changeDetector.detectChanges())}}endSelection(e){if(this.state)if(this.pressArgs.pageX!==e.pageX||this.pressArgs.pageY!==e.pageY){const t=this.pressTarget,n=this.targetArgs(e);this.clean(),t&&n?this.selection.selectRange(t,n):this.changeDetector.detectChanges()}else this.clean(),this.changeDetector.detectChanges()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.selectionSelected&&("cell"===this.selection.settings.mode?this.selection.isCellSelected=this.selectionSelected:this.selection.isRowSelected=this.selectionSelected,this.selectionSelected=null),this.state&&(this.state.clear(),this.state=null),this.pressTarget=null,this.pressArgs=null}targetArgs(e,t){let n=e.originalEvent.target;return this.marqueeElement&&(this.marqueeElement.style.display="none",n=(({clientX:e,clientY:t})=>document.elementFromPoint(e,t))(e),this.marqueeElement.style.display="block"),this.selection.targetArgs(n,t)}initMarquee(){this.state="cell"===this.selection.settings.mode?new GB:new VB,"cell"===this.selection.settings.mode?(this.selectionSelected=this.selection.isCellSelected,this.selection.isCellSelected=this.cellSelected):(this.selectionSelected=this.selection.isRowSelected,this.selection.isRowSelected=this.rowSelected),this.changeDetector.detectChanges();const e=this.selection.settings.drag;e&&e.snap||(this.marqueeElement=(()=>{const e=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");return t.className="k-marquee-color",e.appendChild(t),e})(),document.body.appendChild(this.marqueeElement))}}return e.\u0275fac=function(t){return new(t||e)(Rs(Wv),Rs(SG),Rs(cl))},e.\u0275dir=ot({type:e,selectors:[["","kendoTreeListSelectionMarquee",""]],hostVars:2,hostBindings:function(e,t){2&e&&ta("user-select",t.userSelection)}}),e})();oW.exports(),kB.exports(),CB.exports(),bW.exports(),cW.exports(),ZW.exports(),yB.exports();let WB=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},imports:[[ah,oW,kB,CB,bW,cW,ZW,Jv,yB]]}),e})();IV("KENDO-TREELIST-LIST"),IV("TABLE");let BB=(()=>{class e{constructor(e){this.http=e,this.columnDefs=[{field:"make",rowGroup:!0},{field:"price"}],this.defaultColDef={sortable:!0,filter:!0},this.autoGroupColumnDef={headerName:"Model",field:"model",cellRenderer:"agGroupCellRenderer",cellRendererParams:{checkbox:!0}},this.data=Dg,this.sideBar="columns"}ngOnInit(){this.rowData=this.http.get("https://raw.githubusercontent.com/ag-grid/ag-grid/master/grid-packages/ag-grid-docs/src/sample-data/rowData.json")}onGridReady(e){this.gridApi=e.api,this.gridApi.sizeColumnsToFit()}}return e.\u0275fac=function(t){return new(t||e)(Rs(qg))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:7,vars:13,consts:[["rowSelection","multiple",1,"ag-theme-alpine",2,"width","100%","height","500px",3,"rowData","columnDefs","defaultColDef","autoGroupColumnDef","sideBar","gridReady"],["agGrid",""],["kendoTreeListExpandable","","idField","id","parentIdField","managerId",3,"kendoTreeListFlatBinding","height"],["field","name","title","Name",3,"expandable","width"],["field","title","title","Title",3,"width"],["field","phone","title","Phone",3,"width"]],template:function(e,t){1&e&&(ks(0,"ag-grid-angular",0,1),Ws("gridReady",function(e){return t.onGridReady(e)}),Yl(2,"async"),Is(),ks(3,"kendo-treelist",2),Fs(4,"kendo-treelist-column",3),Fs(5,"kendo-treelist-column",4),Fs(6,"kendo-treelist-column",5),Is()),2&e&&(Ds("rowData",$l(2,11,t.rowData))("columnDefs",t.columnDefs)("defaultColDef",t.defaultColDef)("autoGroupColumnDef",t.autoGroupColumnDef)("sideBar",t.sideBar),Qo(3),Ds("kendoTreeListFlatBinding",t.data)("height",410),Qo(1),Ds("expandable",!0)("width",250),Qo(1),Ds("width",180),Qo(1),Ds("width",180))},directives:[mm,jG,LB,MB,xL],pipes:[sh],styles:[""]}),e})();function jB(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zB(e){switch(e.length){case 0:return new Xw;case 1:return e[0];default:return new Qw(e)}}function UB(e,t,n,i,o={},r={}){const s=[],a=[];let l=-1,u=null;if(i.forEach(e=>{const n=e.offset,i=n==l,c=i&&u||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case"!":a=o[n];break;case jw:a=r[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}c[i]=a}),i||a.push(c),u=c,l=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function KB(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&qB(n,"start",e)));break;case"done":e.onDone(()=>i(n&&qB(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&qB(n,"destroy",e)))}}function qB(e,t,n){const i=n.totalTime,o=YB(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),r=e._data;return null!=r&&(o._data=r),o}function YB(e,t,n,i,o="",r=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function $B(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function XB(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}n("WZ4y");let QB=(e,t)=>!1,ZB=(e,t)=>!1,JB=(e,t,n)=>[];const ej=jB();(ej||"undefined"!=typeof Element)&&(QB=(e,t)=>e.contains(t),ZB=(()=>{if(ej||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):ZB}})(),JB=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let tj=null,nj=!1;function ij(e){tj||(tj=("undefined"!=typeof document?document.body:null)||{},nj=!!tj.style&&"WebkitAppearance"in tj.style);let t=!0;return tj.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in tj.style,!t&&nj)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in tj.style),t}const oj=ZB,rj=QB,sj=JB;function aj(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let lj=(()=>{class e{validateStyleProperty(e){return ij(e)}matchesElement(e,t){return oj(e,t)}containsElement(e,t){return rj(e,t)}query(e,t,n){return sj(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,o,r=[],s){return new Xw(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),uj=(()=>{class e{}return e.NOOP=new lj,e})();const cj="ng-enter",hj="ng-leave",pj="ng-trigger",dj=".ng-trigger",fj="ng-animating",gj=".ng-animating";function mj(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yj(parseFloat(t[1]),t[2])}function yj(e,t){switch(t){case"s":return 1e3*e;default:return e}}function vj(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,o=0,r="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=yj(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(o=yj(parseFloat(s),n[4]));const a=n[5];a&&(r=a)}else i=e;if(!n){let n=!1,r=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:o,easing:r}}(e,t,n)}function Cj(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function wj(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else Cj(e,n);return n}function bj(e,t,n){return n?t+":"+n+";":""}function Sj(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=bj(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=bj(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Ej(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const o=Aj(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[o]),e.style[o]=t[i]}),jB()&&Sj(e))}function _j(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Aj(t);e.style[n]=""}),jB()&&Sj(e))}function Oj(e){return Array.isArray(e)?1==e.length?e[0]:Uw(e):e}const xj=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tj(e){let t=[];if("string"==typeof e){let n;for(;n=xj.exec(e);)t.push(n[1]);xj.lastIndex=0}return t}function Rj(e,t,n){const i=e.toString(),o=i.replace(xj,(e,i)=>{let o=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),o=""),o.toString()});return o==i?e:o}function Pj(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Dj=/-+([a-z0-9])/g;function Aj(e){return e.replace(Dj,(...e)=>e[1].toUpperCase())}function kj(e,t){return 0===e||0===t}function Ij(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let r=t[0],s=[];if(i.forEach(e=>{r.hasOwnProperty(e)||s.push(e),r[e]=n[e]}),s.length)for(var o=1;o<t.length;o++){let n=t[o];s.forEach(function(t){n[t]=Nj(e,t)})}}return t}function Fj(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Nj(e,t){return window.getComputedStyle(e)[t]}const Mj="*";function Lj(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const o=i[1],r=i[2],s=i[3];t.push(Hj(o,s)),"<"!=r[0]||o==Mj&&s==Mj||t.push(Hj(s,o))}(e,n,t)):n.push(e),n}const Vj=new Set(["true","1"]),Gj=new Set(["false","0"]);function Hj(e,t){const n=Vj.has(e)||Gj.has(e),i=Vj.has(t)||Gj.has(t);return(o,r)=>{let s=e==Mj||e==o,a=t==Mj||t==r;return!s&&n&&"boolean"==typeof o&&(s=o?Vj.has(e):Gj.has(e)),!a&&i&&"boolean"==typeof r&&(a=r?Vj.has(t):Gj.has(t)),s&&a}}const Wj=new RegExp("s*:selfs*,?","g");function Bj(e,t,n){return new jj(e).build(t,n)}class jj{constructor(e){this._driver=e}build(e,t){const n=new zj(t);return this._resetContextStyleTimingState(n),Fj(this,Oj(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,o.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const o=this.visitTransition(e,t);n+=o.queryCount,i+=o.depCount,r.push(o)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:r,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,r=i||{};if(n.styles.forEach(e=>{if(Uj(e)){const t=e;Object.keys(t).forEach(e=>{Tj(t[e]).forEach(e=>{r.hasOwnProperty(e)||o.add(e)})})}}),o.size){const n=Pj(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Fj(this,Oj(e.animation),t);return{type:1,matchers:Lj(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Kj(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Fj(this,e,t)),options:Kj(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const o=e.steps.map(e=>{t.currentTime=n;const o=Fj(this,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:Kj(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return qj(vj(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=qj(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||vj(i,t),qj(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let o=e.styles?e.styles:Kw({});if(5==o.type)i=this.visitKeyframes(o,t);else{let o=e.styles,r=!1;if(!o){r=!0;const e={};n.easing&&(e.easing=n.easing),o=Kw(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(o,t);s.isEmptyStep=r,i=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==jw?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,o=null;return n.forEach(e=>{if(Uj(e)){const t=e,n=t.easing;if(n&&(o=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],s=r[n];let a=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${i}ms"`),a=!1),o=s.startTime),a&&(r[n]={startTime:o,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},o=Tj(e);o.length&&o.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const o=[];let r=!1,s=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Uj(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Uj(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),u=0;return null!=l&&(i++,u=n.offset=l),s=s||u<0||u>1,r=r||u<a,a=u,o.push(u),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let c=0;i>0&&i<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,p=t.currentTime,d=t.currentAnimateTimings,f=d.duration;return l.forEach((e,i)=>{const r=c>0?i==h?1:c*i:o[i],s=r*f;t.currentTime=p+d.delay+s,d.duration=s,this._validateStyleAst(e,t),e.offset=r,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Fj(this,Oj(e.animation),t),options:Kj(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Kj(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Kj(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Wj,"")),[e=e.replace(/@\*/g,dj).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,gj),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,$B(t.collectedStyles,t.currentQuerySelector,{});const s=Fj(this,Oj(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:s,originalSelector:e.selector,options:Kj(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:vj(e.timings,t.errors,!0);return{type:12,animation:Fj(this,Oj(e.animation),t),timings:n,options:null}}}class zj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Uj(e){return!Array.isArray(e)&&"object"==typeof e}function Kj(e){var t;return e?(e=Cj(e)).params&&(e.params=(t=e.params)?Cj(t):null):e={},e}function qj(e,t,n){return{duration:e,delay:t,easing:n}}function Yj(e,t,n,i,o,r,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}class $j{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Xj=new RegExp(":enter","g"),Qj=new RegExp(":leave","g");function Zj(e,t,n,i,o,r={},s={},a,l,u=[]){return(new Jj).buildKeyframes(e,t,n,i,o,r,s,a,l,u)}class Jj{buildKeyframes(e,t,n,i,o,r,s,a,l,u=[]){l=l||new $j;const c=new tz(e,t,l,i,o,u,[]);c.options=a,c.currentTimeline.setStyles([r],null,c.errors,a),Fj(this,n,c);const h=c.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(s).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,c.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Yj(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);o!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const o=null!=n.duration?mj(n.duration):null,r=null!=n.delay?mj(n.delay):null;return 0!==o&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,o,r);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Fj(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ez);const e=mj(o.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Fj(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?mj(e.options.delay):0;e.steps.forEach(r=>{const s=t.createSubContext(e.options);o&&s.delayNextStep(o),Fj(this,r,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return vj(t.params?Rj(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*o),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?mj(i.delay):0;o&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ez);let r=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{t.currentQueryIndex=i;const s=t.createSubContext(e.options,n);o&&s.delayNextStep(o),n===t.element&&(a=s.currentTimeline),Fj(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,o=e.timings,r=Math.abs(o.duration),s=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;Fj(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const ez={};class tz{constructor(e,t,n,i,o,r,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=r,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ez,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new nz(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=mj(n.duration)),null!=n.delay&&(i.delay=mj(n.delay));const o=n.params;if(o){let e=i.params;e||(e=this.options.params={}),Object.keys(o).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=Rj(o[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,o=new tz(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ez,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},o=new iz(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,r){let s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(Xj,"."+this._enterClassName)).replace(Qj,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return o||0!=s.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class nz{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nz(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||jw,this._currentKeyframe[e]=jw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const o=i&&i.params||{},r=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]=jw})):wj(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=Rj(r[e],o,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:jw),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((o,r)=>{const s=wj(o,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?e.add(n):i==jw&&t.add(n)}),n||(s.offset=r/this.duration),i.push(s)});const o=e.size?Pj(e.values()):[],r=t.size?Pj(t.values()):[];if(n){const e=i[0],t=Cj(e);e.offset=0,t.offset=1,i=[e,t]}return Yj(this.element,i,o,r,this.duration,this.startTime,this.easing,!1)}}class iz extends nz{constructor(e,t,n,i,o,r,s=!1){super(e,t,r.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],r=n+t,s=t/r,a=wj(e[0],!1);a.offset=0,o.push(a);const l=wj(e[0],!1);l.offset=oz(s),o.push(l);const u=e.length-1;for(let i=1;i<=u;i++){let s=wj(e[i],!1);s.offset=oz((t+s.offset*n)/r),o.push(s)}n=r,t=0,i="",e=o}return Yj(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function oz(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class rz{}class sz extends rz{normalizePropertyName(e,t){return Aj(e)}normalizeStyleValue(e,t,n,i){let o="";const r=n.toString().trim();if(az[t]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return r+o}}const az=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lz(e,t,n,i,o,r,s,a,l,u,c,h,p){return{type:0,element:e,triggerName:t,isRemovalTransition:o,fromState:n,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:p}}const uz={};class cz{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,o){return e.some(e=>e(t,n,i,o))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],o=this._stateStyles[e],r=i?i.buildStyles(t,n):{};return o?o.buildStyles(t,n):r}build(e,t,n,i,o,r,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||uz,p=this.buildStyles(n,s&&s.params||uz,c),d=a&&a.params||uz,f=this.buildStyles(i,d,c),g=new Set,m=new Map,y=new Map,v="void"===i,C={params:Object.assign(Object.assign({},h),d)},w=u?[]:Zj(e,t,this.ast.animation,o,r,p,f,C,l,c);let b=0;if(w.forEach(e=>{b=Math.max(e.duration+e.delay,b)}),c.length)return lz(t,this._triggerName,n,i,v,p,f,[],[],m,y,b,c);w.forEach(e=>{const n=e.element,i=$B(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const o=$B(y,n,{});e.postStyleProps.forEach(e=>o[e]=!0),n!==t&&g.add(n)});const S=Pj(g.values());return lz(t,this._triggerName,n,i,v,p,f,w,S,m,y,b)}}class hz{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=Cj(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const o=e;Object.keys(o).forEach(e=>{let r=o[e];r.length>1&&(r=Rj(r,i,t)),n[e]=r})}}),n}}class pz{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new hz(e.style,e.options&&e.options.params||{})}),dz(this.states,"true","1"),dz(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new cz(e,t,this.states))}),this.fallbackTransition=new cz(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(o=>o.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function dz(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const fz=new $j;class gz{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=Bj(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,o=UB(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],o=this._animations[e];let r;const s=new Map;if(o?(r=Zj(this._driver,t,o,cj,hj,{},{},n,fz,i),r.forEach(e=>{const t=$B(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,jw)})});const a=zB(r.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const o=YB(t,"","","");return KB(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const mz="ng-animate-queued",yz="ng-animate-disabled",vz=".ng-animate-disabled",Cz=[],wz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Sz{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=Cj(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Ez="void",_z=new Sz(Ez);class Oz{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kz(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(o=n)&&"done"!=o)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var o;const r=$B(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};r.push(s);const a=$B(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(kz(e,pj),kz(e,"ng-trigger-"+t),a[t]=_z),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const o=this._getTrigger(t),r=new Tz(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(kz(e,pj),kz(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const l=new Sz(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[t]=l,a||(a=_z),l.value!==Ez&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let o=0;o<n.length;o++){const i=n[o];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,l.params)){const t=[],n=o.matchStyles(a.value,a.params,t),i=o.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{_j(e,n),Ej(e,i)})}return}const u=$B(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=o.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!i)return;c=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:r,isFallbackTransition:h}),h||(kz(e,mz),r.onStart(()=>{Iz(e,mz)})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(r);e>=0&&n.splice(e,1)}}),this.players.push(r),u.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,dj,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const o=this._engine.statesByElement.get(e);if(o){const r=[];if(Object.keys(o).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,Ez,i);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&zB(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const o=this._triggers[i].fallbackTransition,r=this._engine.statesByElement.get(e)[i]||_z,s=new Sz(Ez),a=new Tz(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:o,fromState:r,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==wz||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){kz(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,r=this._elementListeners.get(o);r&&r.forEach(t=>{if(t.name==n.triggerName){const i=YB(o,n.triggerName,n.fromState.value,n.toState.value);i._data=e,KB(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class xz{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Oz(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const o=n[e[i]].namespaceId;if(o){const e=this._fetchNamespace(o);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Rz(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Rz(t))return;const o=t.__ng_removed;if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kz(e,yz)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Iz(e,yz))}removeNode(e,t,n,i){if(Rz(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,o){return Rz(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,dj,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gj,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zB(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=wz,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,vz)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vz,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)kz(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?zB(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new $j,i=[],o=new Map,r=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)u.add(t[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=Az(h,this.collectedEnterElements),d=new Map;let f=0;p.forEach((e,t)=>{const n=cj+f++;d.set(t,n),e.forEach(e=>kz(e,n))});const g=[],m=new Set,y=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const e=this.collectedLeaveElements[D],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,C=Az(h,Array.from(m));C.forEach((e,t)=>{const n=hj+f++;v.set(t,n),e.forEach(e=>kz(e,n))}),e.push(()=>{p.forEach((e,t)=>{const n=d.get(t);e.forEach(e=>Iz(e,n))}),C.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>Iz(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],b=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(e=>{const t=e.player,o=e.element;if(w.push(t),this.collectedEnterElements.length){const e=o.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const u=!c||!this.driver.containsElement(c,o),h=v.get(o),p=d.get(o),f=this._buildInstruction(e,n,p,h,u);if(f.errors&&f.errors.length)b.push(f);else{if(u)return t.onStart(()=>_j(o,f.fromStyles)),t.onDestroy(()=>Ej(o,f.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>_j(o,f.fromStyles)),t.onDestroy(()=>Ej(o,f.toStyles)),void i.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(o,f.timelines),r.push({instruction:f,player:t,element:o}),f.queriedElements.forEach(e=>$B(s,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=l.get(t);i||l.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(b.length){const e=[];b.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,E=new Map;r.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{$B(S,t,[]).push(e),e.destroy()})});const _=g.filter(e=>Mz(e,a,l)),O=new Map;Dz(O,this.driver,y,l,jw).forEach(e=>{Mz(e,a,l)&&_.push(e)});const x=new Map;p.forEach((e,t)=>{Dz(x,this.driver,new Set(e),a,"!")}),_.forEach(e=>{const t=O.get(e),n=x.get(e);O.set(e,Object.assign(Object.assign({},t),n))});const T=[],R=[],P={};r.forEach(e=>{const{element:t,player:r,instruction:s}=e;if(n.has(t)){if(u.has(t))return r.onDestroy(()=>Ej(t,s.toStyles)),r.disabled=!0,r.overrideTotalTime(s.totalTime),void i.push(r);let e=P;if(E.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>E.set(t,e))}const n=this._buildAnimation(r.namespaceId,s,S,o,x,O);if(r.setRealPlayer(n),e===P)T.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=zB(t)),i.push(r)}}else _j(t,s.fromStyles),r.onDestroy(()=>Ej(t,s.toStyles)),R.push(r),u.has(t)&&i.push(r)}),R.forEach(e=>{const t=o.get(e.element);if(t&&t.length){const n=zB(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let D=0;D<g.length;D++){const e=g[D],t=e.__ng_removed;if(Iz(e,hj),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,gj,!0);for(let e=0;e<i.length;e++){let t=s.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?Fz(this,e,i):this.processLeaveNode(e)}return g.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!o||o==Ez;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&r.push(t)})}}return(n||i)&&(r=r.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),r}_beforeAnimationBuild(e,t,n){const i=t.element,o=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==i,l=$B(n,e,[]);this._getPreviousPlayers(e,a,o,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}_j(i,t.fromStyles)}_buildAnimation(e,t,n,i,o,r){const s=t.triggerName,a=t.element,l=[],u=new Set,c=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const p=h.__ng_removed;if(p&&p.removedBeforeQueried)return new Xw(t.duration,t.delay);const d=h!==a,f=function(e){const t=[];return Nz(e,t),t}((n.get(h)||Cz).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=o.get(h),m=r.get(h),y=UB(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,f);if(t.subTimeline&&i&&c.add(h),d){const t=new Tz(e,s,h);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{$B(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>kz(e,fj));const p=zB(h);return p.onDestroy(()=>{u.forEach(e=>Iz(e,fj)),Ej(a,t.toStyles)}),c.forEach(e=>{$B(i,e,[]).push(p)}),p}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Xw(e.duration,e.delay)}}class Tz{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Xw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>KB(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$B(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Rz(e){return e&&1===e.nodeType}function Pz(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Dz(e,t,n,i,o){const r=[];n.forEach(e=>r.push(Pz(e)));const s=[];i.forEach((n,i)=>{const r={};n.forEach(e=>{const n=r[e]=t.computeStyle(i,e,o);n&&0!=n.length||(i.__ng_removed=bz,s.push(i))}),e.set(i,r)});let a=0;return n.forEach(e=>Pz(e,r[a++])),s}function Az(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),o=new Map;function r(e){if(!e)return 1;let t=o.get(e);if(t)return t;const s=e.parentNode;return t=n.has(s)?s:i.has(s)?1:r(s),o.set(e,t),t}return t.forEach(e=>{const t=r(e);1!==t&&n.get(t).push(e)}),n}function kz(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Iz(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Fz(e,t,n){zB(n).onDone(()=>e.processLeaveNode(t))}function Nz(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof Qw?Nz(i.players,t):t.push(i)}}function Mz(e,t,n){const i=n.get(e);if(!i)return!1;let o=t.get(e);return o?i.forEach(e=>o.add(e)):t.set(e,i),n.delete(e),!0}class Lz{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new xz(e,t,n),this._timelineEngine=new gz(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,o){const r=e+"-"+i;let s=this._triggerCache[r];if(!s){const e=[],t=Bj(this._driver,o,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new pz(e,t)}(i,t),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(t,i,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,o]=XB(n);this._timelineEngine.command(e,t,o,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if("@"==n.charAt(0)){const[e,i]=XB(n);return this._timelineEngine.listen(e,t,i,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Vz(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Hz(t[0]),t.length>1&&(i=Hz(t[t.length-1]))):t&&(n=Hz(t)),n||i?new Gz(e,n,i):null}let Gz=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ej(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ej(this._element,this._initialStyles),this._endStyles&&(Ej(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(_j(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_j(this._element,this._endStyles),this._endStyles=null),Ej(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Hz(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const o=n[i];Wz(o)&&(t=t||{},t[o]=e[o])}return t}function Wz(e){return"display"===e||"position"===e}const Bz="animation",jz="animationend";class zz{constructor(e,t,n,i,o,r,s){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=o,this._fillMode=r,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Xz(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),$z(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Yz(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Uz(this._element,this._name,"paused")}resume(){Uz(this._element,this._name,"running")}setPosition(e){const t=Kz(this._element,this._name);this._position=e*this._duration,$z(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Yz(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Xz(e,"").split(","),i=qz(n,t);i>=0&&(n.splice(i,1),$z(e,"",n.join(",")))}(this._element,this._name))}}function Uz(e,t,n){$z(e,"PlayState",n,Kz(e,t))}function Kz(e,t){const n=Xz(e,"");return n.indexOf(",")>0?qz(n.split(","),t):qz([n],t)}function qz(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Yz(e,t,n){n?e.removeEventListener(jz,t):e.addEventListener(jz,t)}function $z(e,t,n,i){const o=Bz+t;if(null!=i){const t=e.style[o];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[o]=n}function Xz(e,t){return e.style[Bz+t]}class Qz{constructor(e,t,n,i,o,r,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=i+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Nj(this.element,n))})}this.currentSnapshot=e}}class Zz extends Xw{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=aj(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Jz{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return ij(e)}matchesElement(e,t){return oj(e,t)}containsElement(e,t){return rj(e,t)}query(e,t,n){return sj(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>aj(e));let i=`@keyframes ${t} {\n`,o="";n.forEach(e=>{o=" ";const t=parseFloat(e.offset);i+=`${o}${100*t}% {\n`,o+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${o}animation-timing-function: ${n};\n`));default:return void(i+=`${o}${t}: ${n};\n`)}}),i+=o+"}\n"}),i+="}\n";const r=document.createElement("style");return r.textContent=i,r}animate(e,t,n,i,o,r=[],s){s&&this._notifyFaultyScrubber();const a=r.filter(e=>e instanceof Qz),l={};kj(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Ij(e,t,l));if(0==n)return new Zz(e,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);const p=Vz(e,t),d=new Qz(e,t,c,n,i,o,u,p);return d.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class eU{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Nj(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class tU{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nU().toString()),this._cssKeyframesDriver=new Jz}validateStyleProperty(e){return ij(e)}matchesElement(e,t){return oj(e,t)}containsElement(e,t){return rj(e,t)}query(e,t,n){return sj(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,o,r=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,o,r);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(a.easing=o);const l={},u=r.filter(e=>e instanceof eU);kj(n,i)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=Vz(e,t=Ij(e,t=t.map(e=>wj(e,!1)),l));return new eU(e,t,a,c)}}function nU(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let iU=(()=>{class e extends Bw{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:We.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Uw(e):e;return sU(this._renderer,null,t,"register",[n]),new oU(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(bt(Ba),bt(bc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class oU extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new rU(this._id,e,t||{},this._renderer)}}class rU{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function sU(e,t,n,i,o){return e.setProperty(t,`@@${n}:${i}`,o)}const aU="@",lU="@.disabled";let uU=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new cU("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(i,o,e,t.name,t)};return t.data.animation.forEach(r),new hU(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(bt(Ba),bt(Lz),bt(zu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class cU{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==aU&&t==lU?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hU extends cU{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==aU?"."==t.charAt(1)&&t==lU?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==aU){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let o=t.substr(1),r="";return o.charAt(0)!=aU&&([o,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let pU=(()=>{class e extends Lz{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(bt(bc),bt(uj),bt(rz))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const dU=[{provide:uj,useFactory:function(){return"function"==typeof nU()?new tU:new Jz}},{provide:new we("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Bw,useClass:iU},{provide:rz,useFactory:function(){return new sz}},{provide:Lz,useClass:pU},{provide:Ba,useFactory:function(e,t,n){return new uU(e,t,n)},deps:[xh,Lz,zu]}];let fU=(()=>{class e{}return e.\u0275mod=nt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:dU,imports:[Hh]}),e})(),gU=(()=>{class e{}return e.\u0275mod=nt({type:e,bootstrap:[BB]}),e.\u0275inj=pe({factory:function(t){return new(t||e)},providers:[],imports:[[Hh,Pg,lm,vm.withComponents([]),WB,fU]]}),e})();(function(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1})(),Vh().bootstrapModule(gU).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);